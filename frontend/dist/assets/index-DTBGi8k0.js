var cg=Object.defineProperty;var ug=(t,e,n)=>e in t?cg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $=(t,e,n)=>ug(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function dg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hh={exports:{}},Mo={},$h={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fi=Symbol.for("react.element"),hg=Symbol.for("react.portal"),fg=Symbol.for("react.fragment"),pg=Symbol.for("react.strict_mode"),mg=Symbol.for("react.profiler"),gg=Symbol.for("react.provider"),xg=Symbol.for("react.context"),yg=Symbol.for("react.forward_ref"),vg=Symbol.for("react.suspense"),wg=Symbol.for("react.memo"),bg=Symbol.for("react.lazy"),wu=Symbol.iterator;function kg(t){return t===null||typeof t!="object"?null:(t=wu&&t[wu]||t["@@iterator"],typeof t=="function"?t:null)}var Vh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uh=Object.assign,Yh={};function Ms(t,e,n){this.props=t,this.context=e,this.refs=Yh,this.updater=n||Vh}Ms.prototype.isReactComponent={};Ms.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ms.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Xh(){}Xh.prototype=Ms.prototype;function Hl(t,e,n){this.props=t,this.context=e,this.refs=Yh,this.updater=n||Vh}var $l=Hl.prototype=new Xh;$l.constructor=Hl;Uh($l,Ms.prototype);$l.isPureReactComponent=!0;var bu=Array.isArray,Kh=Object.prototype.hasOwnProperty,Vl={current:null},Qh={key:!0,ref:!0,__self:!0,__source:!0};function Gh(t,e,n){var s,i={},r=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)Kh.call(e,s)&&!Qh.hasOwnProperty(s)&&(i[s]=e[s]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return{$$typeof:Fi,type:t,key:r,ref:o,props:i,_owner:Vl.current}}function jg(t,e){return{$$typeof:Fi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ul(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fi}function _g(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ku=/\/+/g;function ta(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_g(""+t.key):e.toString(36)}function Lr(t,e,n,s,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fi:case hg:o=!0}}if(o)return o=t,i=i(o),t=s===""?"."+ta(o,0):s,bu(i)?(n="",t!=null&&(n=t.replace(ku,"$&/")+"/"),Lr(i,e,n,"",function(u){return u})):i!=null&&(Ul(i)&&(i=jg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ku,"$&/")+"/")+t)),e.push(i)),1;if(o=0,s=s===""?".":s+":",bu(t))for(var a=0;a<t.length;a++){r=t[a];var c=s+ta(r,a);o+=Lr(r,e,n,c,i)}else if(c=kg(t),typeof c=="function")for(t=c.call(t),a=0;!(r=t.next()).done;)r=r.value,c=s+ta(r,a++),o+=Lr(r,e,n,c,i);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qi(t,e,n){if(t==null)return t;var s=[],i=0;return Lr(t,s,"","",function(r){return e.call(n,r,i++)}),s}function Sg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ve={current:null},Er={transition:null},Ng={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:Er,ReactCurrentOwner:Vl};function Zh(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:qi,forEach:function(t,e,n){qi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qi(t,function(){e++}),e},toArray:function(t){return qi(t,function(e){return e})||[]},only:function(t){if(!Ul(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=Ms;Z.Fragment=fg;Z.Profiler=mg;Z.PureComponent=Hl;Z.StrictMode=pg;Z.Suspense=vg;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ng;Z.act=Zh;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Uh({},t.props),i=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=Vl.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Kh.call(e,c)&&!Qh.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:Fi,type:t.type,key:i,ref:r,props:s,_owner:o}};Z.createContext=function(t){return t={$$typeof:xg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gg,_context:t},t.Consumer=t};Z.createElement=Gh;Z.createFactory=function(t){var e=Gh.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:yg,render:t}};Z.isValidElement=Ul;Z.lazy=function(t){return{$$typeof:bg,_payload:{_status:-1,_result:t},_init:Sg}};Z.memo=function(t,e){return{$$typeof:wg,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=Er.transition;Er.transition={};try{t()}finally{Er.transition=e}};Z.unstable_act=Zh;Z.useCallback=function(t,e){return Ve.current.useCallback(t,e)};Z.useContext=function(t){return Ve.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return Ve.current.useDeferredValue(t)};Z.useEffect=function(t,e){return Ve.current.useEffect(t,e)};Z.useId=function(){return Ve.current.useId()};Z.useImperativeHandle=function(t,e,n){return Ve.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return Ve.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return Ve.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return Ve.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return Ve.current.useReducer(t,e,n)};Z.useRef=function(t){return Ve.current.useRef(t)};Z.useState=function(t){return Ve.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return Ve.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return Ve.current.useTransition()};Z.version="18.3.1";$h.exports=Z;var P=$h.exports;const Jh=dg(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg=P,Mg=Symbol.for("react.element"),Lg=Symbol.for("react.fragment"),Eg=Object.prototype.hasOwnProperty,Pg=Cg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dg={key:!0,ref:!0,__self:!0,__source:!0};function qh(t,e,n){var s,i={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)Eg.call(e,s)&&!Dg.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:Mg,type:t,key:r,ref:o,props:i,_owner:Pg.current}}Mo.Fragment=Lg;Mo.jsx=qh;Mo.jsxs=qh;Hh.exports=Mo;var l=Hh.exports,Ha={},ef={exports:{}},it={},tf={exports:{}},nf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,R){var W=T.length;T.push(R);e:for(;0<W;){var J=W-1>>>1,ie=T[J];if(0<i(ie,R))T[J]=R,T[W]=ie,W=J;else break e}}function n(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var R=T[0],W=T.pop();if(W!==R){T[0]=W;e:for(var J=0,ie=T.length,A=ie>>>1;J<A;){var V=2*(J+1)-1,q=T[V],G=V+1,be=T[G];if(0>i(q,W))G<ie&&0>i(be,q)?(T[J]=be,T[G]=W,J=G):(T[J]=q,T[V]=W,J=V);else if(G<ie&&0>i(be,W))T[J]=be,T[G]=W,J=G;else break e}}return R}function i(T,R){var W=T.sortIndex-R.sortIndex;return W!==0?W:T.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,f=3,g=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(T){for(var R=n(u);R!==null;){if(R.callback===null)s(u);else if(R.startTime<=T)s(u),R.sortIndex=R.expirationTime,e(c,R);else break;R=n(u)}}function b(T){if(y=!1,x(T),!v)if(n(c)!==null)v=!0,X(k);else{var R=n(u);R!==null&&Y(b,R.startTime-T)}}function k(T,R){v=!1,y&&(y=!1,p(_),_=-1),g=!0;var W=f;try{for(x(R),h=n(c);h!==null&&(!(h.expirationTime>R)||T&&!E());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var ie=J(h.expirationTime<=R);R=t.unstable_now(),typeof ie=="function"?h.callback=ie:h===n(c)&&s(c),x(R)}else s(c);h=n(c)}if(h!==null)var A=!0;else{var V=n(u);V!==null&&Y(b,V.startTime-R),A=!1}return A}finally{h=null,f=W,g=!1}}var N=!1,M=null,_=-1,S=5,L=-1;function E(){return!(t.unstable_now()-L<S)}function C(){if(M!==null){var T=t.unstable_now();L=T;var R=!0;try{R=M(!0,T)}finally{R?z():(N=!1,M=null)}}else N=!1}var z;if(typeof m=="function")z=function(){m(C)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,H=K.port2;K.port1.onmessage=C,z=function(){H.postMessage(null)}}else z=function(){w(C,0)};function X(T){M=T,N||(N=!0,z())}function Y(T,R){_=w(function(){T(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,X(k))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var W=f;f=R;try{return T()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,R){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var W=f;f=T;try{return R()}finally{f=W}},t.unstable_scheduleCallback=function(T,R,W){var J=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?J+W:J):W=J,T){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=W+ie,T={id:d++,callback:R,priorityLevel:T,startTime:W,expirationTime:ie,sortIndex:-1},W>J?(T.sortIndex=W,e(u,T),n(c)===null&&T===n(u)&&(y?(p(_),_=-1):y=!0,Y(b,W-J))):(T.sortIndex=ie,e(c,T),v||g||(v=!0,X(k))),T},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(T){var R=f;return function(){var W=f;f=R;try{return T.apply(this,arguments)}finally{f=W}}}})(nf);tf.exports=nf;var Tg=tf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag=P,st=Tg;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sf=new Set,mi={};function Xn(t,e){ws(t,e),ws(t+"Capture",e)}function ws(t,e){for(mi[t]=e,t=0;t<e.length;t++)sf.add(e[t])}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$a=Object.prototype.hasOwnProperty,Og=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ju={},_u={};function Rg(t){return $a.call(_u,t)?!0:$a.call(ju,t)?!1:Og.test(t)?_u[t]=!0:(ju[t]=!0,!1)}function Fg(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zg(t,e,n,s){if(e===null||typeof e>"u"||Fg(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ue(t,e,n,s,i,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Te[t]=new Ue(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Te[e]=new Ue(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Te[t]=new Ue(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Te[t]=new Ue(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Te[t]=new Ue(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Te[t]=new Ue(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Te[t]=new Ue(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Te[t]=new Ue(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Te[t]=new Ue(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yl=/[\-:]([a-z])/g;function Xl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yl,Xl);Te[e]=new Ue(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yl,Xl);Te[e]=new Ue(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yl,Xl);Te[e]=new Ue(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Te[t]=new Ue(t,1,!1,t.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Te[t]=new Ue(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kl(t,e,n,s){var i=Te.hasOwnProperty(e)?Te[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zg(e,n,i,s)&&(n=null),s||i===null?Rg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,s=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Qt=Ag.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,er=Symbol.for("react.element"),Jn=Symbol.for("react.portal"),qn=Symbol.for("react.fragment"),Ql=Symbol.for("react.strict_mode"),Va=Symbol.for("react.profiler"),rf=Symbol.for("react.provider"),of=Symbol.for("react.context"),Gl=Symbol.for("react.forward_ref"),Ua=Symbol.for("react.suspense"),Ya=Symbol.for("react.suspense_list"),Zl=Symbol.for("react.memo"),qt=Symbol.for("react.lazy"),af=Symbol.for("react.offscreen"),Su=Symbol.iterator;function Os(t){return t===null||typeof t!="object"?null:(t=Su&&t[Su]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,na;function Ks(t){if(na===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);na=e&&e[1]||""}return`
`+na+t}var sa=!1;function ia(t,e){if(!t||sa)return"";sa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),r=s.stack.split(`
`),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==r[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{sa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ks(t):""}function Ig(t){switch(t.tag){case 5:return Ks(t.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 2:case 15:return t=ia(t.type,!1),t;case 11:return t=ia(t.type.render,!1),t;case 1:return t=ia(t.type,!0),t;default:return""}}function Xa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qn:return"Fragment";case Jn:return"Portal";case Va:return"Profiler";case Ql:return"StrictMode";case Ua:return"Suspense";case Ya:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case of:return(t.displayName||"Context")+".Consumer";case rf:return(t._context.displayName||"Context")+".Provider";case Gl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zl:return e=t.displayName||null,e!==null?e:Xa(t.type)||"Memo";case qt:e=t._payload,t=t._init;try{return Xa(t(e))}catch{}}return null}function Bg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xa(e);case 8:return e===Ql?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wg(t){var e=lf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tr(t){t._valueTracker||(t._valueTracker=Wg(t))}function cf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=lf(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Ur(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ka(t,e){var n=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Nu(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=vn(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uf(t,e){e=e.checked,e!=null&&Kl(t,"checked",e,!1)}function Qa(t,e){uf(t,e);var n=vn(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ga(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ga(t,e.type,vn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Cu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ga(t,e,n){(e!=="number"||Ur(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qs=Array.isArray;function ds(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+vn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Za(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mu(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(Qs(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vn(n)}}function df(t,e){var n=vn(e.value),s=vn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Lu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ja(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nr,ff=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nr=nr||document.createElement("div"),nr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hg=["Webkit","ms","Moz","O"];Object.keys(ni).forEach(function(t){Hg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ni[e]=ni[t]})});function pf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ni.hasOwnProperty(t)&&ni[t]?(""+e).trim():e+"px"}function mf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=pf(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}var $g=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qa(t,e){if(e){if($g[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function el(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tl=null;function Jl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nl=null,hs=null,fs=null;function Eu(t){if(t=Bi(t)){if(typeof nl!="function")throw Error(D(280));var e=t.stateNode;e&&(e=To(e),nl(t.stateNode,t.type,e))}}function gf(t){hs?fs?fs.push(t):fs=[t]:hs=t}function xf(){if(hs){var t=hs,e=fs;if(fs=hs=null,Eu(t),e)for(t=0;t<e.length;t++)Eu(e[t])}}function yf(t,e){return t(e)}function vf(){}var ra=!1;function wf(t,e,n){if(ra)return t(e,n);ra=!0;try{return yf(t,e,n)}finally{ra=!1,(hs!==null||fs!==null)&&(vf(),xf())}}function xi(t,e){var n=t.stateNode;if(n===null)return null;var s=To(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var sl=!1;if(Vt)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){sl=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{sl=!1}function Vg(t,e,n,s,i,r,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var si=!1,Yr=null,Xr=!1,il=null,Ug={onError:function(t){si=!0,Yr=t}};function Yg(t,e,n,s,i,r,o,a,c){si=!1,Yr=null,Vg.apply(Ug,arguments)}function Xg(t,e,n,s,i,r,o,a,c){if(Yg.apply(this,arguments),si){if(si){var u=Yr;si=!1,Yr=null}else throw Error(D(198));Xr||(Xr=!0,il=u)}}function Kn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pu(t){if(Kn(t)!==t)throw Error(D(188))}function Kg(t){var e=t.alternate;if(!e){if(e=Kn(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return Pu(i),t;if(r===s)return Pu(i),e;r=r.sibling}throw Error(D(188))}if(n.return!==s.return)n=i,s=r;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==s)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function kf(t){return t=Kg(t),t!==null?jf(t):null}function jf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jf(t);if(e!==null)return e;t=t.sibling}return null}var _f=st.unstable_scheduleCallback,Du=st.unstable_cancelCallback,Qg=st.unstable_shouldYield,Gg=st.unstable_requestPaint,ve=st.unstable_now,Zg=st.unstable_getCurrentPriorityLevel,ql=st.unstable_ImmediatePriority,Sf=st.unstable_UserBlockingPriority,Kr=st.unstable_NormalPriority,Jg=st.unstable_LowPriority,Nf=st.unstable_IdlePriority,Lo=null,Dt=null;function qg(t){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Lo,t,void 0,(t.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:n0,e0=Math.log,t0=Math.LN2;function n0(t){return t>>>=0,t===0?32:31-(e0(t)/t0|0)|0}var sr=64,ir=4194304;function Gs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qr(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,i=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?s=Gs(a):(r&=o,r!==0&&(s=Gs(r)))}else o=n&~i,o!==0?s=Gs(o):r!==0&&(s=Gs(r));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-bt(e),i=1<<n,s|=t[n],e&=~i;return s}function s0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i0(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-bt(r),a=1<<o,c=i[o];c===-1?(!(a&n)||a&s)&&(i[o]=s0(a,e)):c<=e&&(t.expiredLanes|=a),r&=~a}}function rl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Cf(){var t=sr;return sr<<=1,!(sr&4194240)&&(sr=64),t}function oa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bt(e),t[e]=n}function r0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-bt(n),r=1<<i;e[i]=0,s[i]=-1,t[i]=-1,n&=~r}}function ec(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-bt(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}var oe=0;function Mf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Lf,tc,Ef,Pf,Df,ol=!1,rr=[],cn=null,un=null,dn=null,yi=new Map,vi=new Map,tn=[],o0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tu(t,e){switch(t){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":yi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vi.delete(e.pointerId)}}function Fs(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=Bi(e),e!==null&&tc(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function a0(t,e,n,s,i){switch(e){case"focusin":return cn=Fs(cn,t,e,n,s,i),!0;case"dragenter":return un=Fs(un,t,e,n,s,i),!0;case"mouseover":return dn=Fs(dn,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return yi.set(r,Fs(yi.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,vi.set(r,Fs(vi.get(r)||null,t,e,n,s,i)),!0}return!1}function Tf(t){var e=Tn(t.target);if(e!==null){var n=Kn(e);if(n!==null){if(e=n.tag,e===13){if(e=bf(n),e!==null){t.blockedOn=e,Df(t.priority,function(){Ef(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=al(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);tl=s,n.target.dispatchEvent(s),tl=null}else return e=Bi(n),e!==null&&tc(e),t.blockedOn=n,!1;e.shift()}return!0}function Au(t,e,n){Pr(t)&&n.delete(e)}function l0(){ol=!1,cn!==null&&Pr(cn)&&(cn=null),un!==null&&Pr(un)&&(un=null),dn!==null&&Pr(dn)&&(dn=null),yi.forEach(Au),vi.forEach(Au)}function zs(t,e){t.blockedOn===e&&(t.blockedOn=null,ol||(ol=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,l0)))}function wi(t){function e(i){return zs(i,t)}if(0<rr.length){zs(rr[0],t);for(var n=1;n<rr.length;n++){var s=rr[n];s.blockedOn===t&&(s.blockedOn=null)}}for(cn!==null&&zs(cn,t),un!==null&&zs(un,t),dn!==null&&zs(dn,t),yi.forEach(e),vi.forEach(e),n=0;n<tn.length;n++)s=tn[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<tn.length&&(n=tn[0],n.blockedOn===null);)Tf(n),n.blockedOn===null&&tn.shift()}var ps=Qt.ReactCurrentBatchConfig,Gr=!0;function c0(t,e,n,s){var i=oe,r=ps.transition;ps.transition=null;try{oe=1,nc(t,e,n,s)}finally{oe=i,ps.transition=r}}function u0(t,e,n,s){var i=oe,r=ps.transition;ps.transition=null;try{oe=4,nc(t,e,n,s)}finally{oe=i,ps.transition=r}}function nc(t,e,n,s){if(Gr){var i=al(t,e,n,s);if(i===null)ga(t,e,s,Zr,n),Tu(t,s);else if(a0(i,t,e,n,s))s.stopPropagation();else if(Tu(t,s),e&4&&-1<o0.indexOf(t)){for(;i!==null;){var r=Bi(i);if(r!==null&&Lf(r),r=al(t,e,n,s),r===null&&ga(t,e,s,Zr,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else ga(t,e,s,null,n)}}var Zr=null;function al(t,e,n,s){if(Zr=null,t=Jl(s),t=Tn(t),t!==null)if(e=Kn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zr=t,null}function Af(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zg()){case ql:return 1;case Sf:return 4;case Kr:case Jg:return 16;case Nf:return 536870912;default:return 16}default:return 16}}var sn=null,sc=null,Dr=null;function Of(){if(Dr)return Dr;var t,e=sc,n=e.length,s,i="value"in sn?sn.value:sn.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===i[r-s];s++);return Dr=i.slice(t,1<s?1-s:void 0)}function Tr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function or(){return!0}function Ou(){return!1}function rt(t){function e(n,s,i,r,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?or:Ou,this.isPropagationStopped=Ou,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),e}var Ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ic=rt(Ls),Ii=xe({},Ls,{view:0,detail:0}),d0=rt(Ii),aa,la,Is,Eo=xe({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Is&&(Is&&t.type==="mousemove"?(aa=t.screenX-Is.screenX,la=t.screenY-Is.screenY):la=aa=0,Is=t),aa)},movementY:function(t){return"movementY"in t?t.movementY:la}}),Ru=rt(Eo),h0=xe({},Eo,{dataTransfer:0}),f0=rt(h0),p0=xe({},Ii,{relatedTarget:0}),ca=rt(p0),m0=xe({},Ls,{animationName:0,elapsedTime:0,pseudoElement:0}),g0=rt(m0),x0=xe({},Ls,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),y0=rt(x0),v0=xe({},Ls,{data:0}),Fu=rt(v0),w0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=k0[t])?!!e[t]:!1}function rc(){return j0}var _0=xe({},Ii,{key:function(t){if(t.key){var e=w0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?b0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(t){return t.type==="keypress"?Tr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),S0=rt(_0),N0=xe({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zu=rt(N0),C0=xe({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),M0=rt(C0),L0=xe({},Ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),E0=rt(L0),P0=xe({},Eo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),D0=rt(P0),T0=[9,13,27,32],oc=Vt&&"CompositionEvent"in window,ii=null;Vt&&"documentMode"in document&&(ii=document.documentMode);var A0=Vt&&"TextEvent"in window&&!ii,Rf=Vt&&(!oc||ii&&8<ii&&11>=ii),Iu=" ",Bu=!1;function Ff(t,e){switch(t){case"keyup":return T0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var es=!1;function O0(t,e){switch(t){case"compositionend":return zf(e);case"keypress":return e.which!==32?null:(Bu=!0,Iu);case"textInput":return t=e.data,t===Iu&&Bu?null:t;default:return null}}function R0(t,e){if(es)return t==="compositionend"||!oc&&Ff(t,e)?(t=Of(),Dr=sc=sn=null,es=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rf&&e.locale!=="ko"?null:e.data;default:return null}}var F0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!F0[t.type]:e==="textarea"}function If(t,e,n,s){gf(s),e=Jr(e,"onChange"),0<e.length&&(n=new ic("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var ri=null,bi=null;function z0(t){Gf(t,0)}function Po(t){var e=ss(t);if(cf(e))return t}function I0(t,e){if(t==="change")return e}var Bf=!1;if(Vt){var ua;if(Vt){var da="oninput"in document;if(!da){var Hu=document.createElement("div");Hu.setAttribute("oninput","return;"),da=typeof Hu.oninput=="function"}ua=da}else ua=!1;Bf=ua&&(!document.documentMode||9<document.documentMode)}function $u(){ri&&(ri.detachEvent("onpropertychange",Wf),bi=ri=null)}function Wf(t){if(t.propertyName==="value"&&Po(bi)){var e=[];If(e,bi,t,Jl(t)),wf(z0,e)}}function B0(t,e,n){t==="focusin"?($u(),ri=e,bi=n,ri.attachEvent("onpropertychange",Wf)):t==="focusout"&&$u()}function W0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Po(bi)}function H0(t,e){if(t==="click")return Po(e)}function $0(t,e){if(t==="input"||t==="change")return Po(e)}function V0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jt=typeof Object.is=="function"?Object.is:V0;function ki(t,e){if(jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!$a.call(e,i)||!jt(t[i],e[i]))return!1}return!0}function Vu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Uu(t,e){var n=Vu(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vu(n)}}function Hf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Hf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $f(){for(var t=window,e=Ur();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ur(t.document)}return e}function ac(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function U0(t){var e=$f(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Hf(n.ownerDocument.documentElement,n)){if(s!==null&&ac(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!t.extend&&r>s&&(i=s,s=r,r=i),i=Uu(n,r);var o=Uu(n,s);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),r>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Y0=Vt&&"documentMode"in document&&11>=document.documentMode,ts=null,ll=null,oi=null,cl=!1;function Yu(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cl||ts==null||ts!==Ur(s)||(s=ts,"selectionStart"in s&&ac(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),oi&&ki(oi,s)||(oi=s,s=Jr(ll,"onSelect"),0<s.length&&(e=new ic("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ts)))}function ar(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ns={animationend:ar("Animation","AnimationEnd"),animationiteration:ar("Animation","AnimationIteration"),animationstart:ar("Animation","AnimationStart"),transitionend:ar("Transition","TransitionEnd")},ha={},Vf={};Vt&&(Vf=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function Do(t){if(ha[t])return ha[t];if(!ns[t])return t;var e=ns[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Vf)return ha[t]=e[n];return t}var Uf=Do("animationend"),Yf=Do("animationiteration"),Xf=Do("animationstart"),Kf=Do("transitionend"),Qf=new Map,Xu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(t,e){Qf.set(t,e),Xn(e,[t])}for(var fa=0;fa<Xu.length;fa++){var pa=Xu[fa],X0=pa.toLowerCase(),K0=pa[0].toUpperCase()+pa.slice(1);kn(X0,"on"+K0)}kn(Uf,"onAnimationEnd");kn(Yf,"onAnimationIteration");kn(Xf,"onAnimationStart");kn("dblclick","onDoubleClick");kn("focusin","onFocus");kn("focusout","onBlur");kn(Kf,"onTransitionEnd");ws("onMouseEnter",["mouseout","mouseover"]);ws("onMouseLeave",["mouseout","mouseover"]);ws("onPointerEnter",["pointerout","pointerover"]);ws("onPointerLeave",["pointerout","pointerover"]);Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zs));function Ku(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,Xg(s,e,void 0,t),t.currentTarget=null}function Gf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==r&&i.isPropagationStopped())break e;Ku(i,a,u),r=c}else for(o=0;o<s.length;o++){if(a=s[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==r&&i.isPropagationStopped())break e;Ku(i,a,u),r=c}}}if(Xr)throw t=il,Xr=!1,il=null,t}function de(t,e){var n=e[pl];n===void 0&&(n=e[pl]=new Set);var s=t+"__bubble";n.has(s)||(Zf(e,t,2,!1),n.add(s))}function ma(t,e,n){var s=0;e&&(s|=4),Zf(n,t,s,e)}var lr="_reactListening"+Math.random().toString(36).slice(2);function ji(t){if(!t[lr]){t[lr]=!0,sf.forEach(function(n){n!=="selectionchange"&&(Q0.has(n)||ma(n,!1,t),ma(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lr]||(e[lr]=!0,ma("selectionchange",!1,e))}}function Zf(t,e,n,s){switch(Af(e)){case 1:var i=c0;break;case 4:i=u0;break;default:i=nc}n=i.bind(null,e,n,t),i=void 0,!sl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ga(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Tn(a),o===null)return;if(c=o.tag,c===5||c===6){s=r=o;continue e}a=a.parentNode}}s=s.return}wf(function(){var u=r,d=Jl(n),h=[];e:{var f=Qf.get(t);if(f!==void 0){var g=ic,v=t;switch(t){case"keypress":if(Tr(n)===0)break e;case"keydown":case"keyup":g=S0;break;case"focusin":v="focus",g=ca;break;case"focusout":v="blur",g=ca;break;case"beforeblur":case"afterblur":g=ca;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=f0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=M0;break;case Uf:case Yf:case Xf:g=g0;break;case Kf:g=E0;break;case"scroll":g=d0;break;case"wheel":g=D0;break;case"copy":case"cut":case"paste":g=y0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=zu}var y=(e&4)!==0,w=!y&&t==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var m=u,x;m!==null;){x=m;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,p!==null&&(b=xi(m,p),b!=null&&y.push(_i(m,b,x)))),w)break;m=m.return}0<y.length&&(f=new g(f,v,null,n,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==tl&&(v=n.relatedTarget||n.fromElement)&&(Tn(v)||v[Ut]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Tn(v):null,v!==null&&(w=Kn(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=Ru,b="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=zu,b="onPointerLeave",p="onPointerEnter",m="pointer"),w=g==null?f:ss(g),x=v==null?f:ss(v),f=new y(b,m+"leave",g,n,d),f.target=w,f.relatedTarget=x,b=null,Tn(d)===u&&(y=new y(p,m+"enter",v,n,d),y.target=x,y.relatedTarget=w,b=y),w=b,g&&v)t:{for(y=g,p=v,m=0,x=y;x;x=Qn(x))m++;for(x=0,b=p;b;b=Qn(b))x++;for(;0<m-x;)y=Qn(y),m--;for(;0<x-m;)p=Qn(p),x--;for(;m--;){if(y===p||p!==null&&y===p.alternate)break t;y=Qn(y),p=Qn(p)}y=null}else y=null;g!==null&&Qu(h,f,g,y,!1),v!==null&&w!==null&&Qu(h,w,v,y,!0)}}e:{if(f=u?ss(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=I0;else if(Wu(f))if(Bf)k=$0;else{k=W0;var N=B0}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=H0);if(k&&(k=k(t,u))){If(h,k,n,d);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Ga(f,"number",f.value)}switch(N=u?ss(u):window,t){case"focusin":(Wu(N)||N.contentEditable==="true")&&(ts=N,ll=u,oi=null);break;case"focusout":oi=ll=ts=null;break;case"mousedown":cl=!0;break;case"contextmenu":case"mouseup":case"dragend":cl=!1,Yu(h,n,d);break;case"selectionchange":if(Y0)break;case"keydown":case"keyup":Yu(h,n,d)}var M;if(oc)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else es?Ff(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Rf&&n.locale!=="ko"&&(es||_!=="onCompositionStart"?_==="onCompositionEnd"&&es&&(M=Of()):(sn=d,sc="value"in sn?sn.value:sn.textContent,es=!0)),N=Jr(u,_),0<N.length&&(_=new Fu(_,t,null,n,d),h.push({event:_,listeners:N}),M?_.data=M:(M=zf(n),M!==null&&(_.data=M)))),(M=A0?O0(t,n):R0(t,n))&&(u=Jr(u,"onBeforeInput"),0<u.length&&(d=new Fu("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=M))}Gf(h,e)})}function _i(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jr(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=xi(t,n),r!=null&&s.unshift(_i(t,r,i)),r=xi(t,e),r!=null&&s.push(_i(t,r,i))),t=t.return}return s}function Qn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qu(t,e,n,s,i){for(var r=e._reactName,o=[];n!==null&&n!==s;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===s)break;a.tag===5&&u!==null&&(a=u,i?(c=xi(n,r),c!=null&&o.unshift(_i(n,c,a))):i||(c=xi(n,r),c!=null&&o.push(_i(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var G0=/\r\n?/g,Z0=/\u0000|\uFFFD/g;function Gu(t){return(typeof t=="string"?t:""+t).replace(G0,`
`).replace(Z0,"")}function cr(t,e,n){if(e=Gu(e),Gu(t)!==e&&n)throw Error(D(425))}function qr(){}var ul=null,dl=null;function hl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fl=typeof setTimeout=="function"?setTimeout:void 0,J0=typeof clearTimeout=="function"?clearTimeout:void 0,Zu=typeof Promise=="function"?Promise:void 0,q0=typeof queueMicrotask=="function"?queueMicrotask:typeof Zu<"u"?function(t){return Zu.resolve(null).then(t).catch(ex)}:fl;function ex(t){setTimeout(function(){throw t})}function xa(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){t.removeChild(i),wi(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);wi(e)}function hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ju(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Es=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Es,Si="__reactProps$"+Es,Ut="__reactContainer$"+Es,pl="__reactEvents$"+Es,tx="__reactListeners$"+Es,nx="__reactHandles$"+Es;function Tn(t){var e=t[Pt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ut]||n[Pt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ju(t);t!==null;){if(n=t[Pt])return n;t=Ju(t)}return e}t=n,n=t.parentNode}return null}function Bi(t){return t=t[Pt]||t[Ut],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ss(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function To(t){return t[Si]||null}var ml=[],is=-1;function jn(t){return{current:t}}function fe(t){0>is||(t.current=ml[is],ml[is]=null,is--)}function ce(t,e){is++,ml[is]=t.current,t.current=e}var wn={},We=jn(wn),Ze=jn(!1),Bn=wn;function bs(t,e){var n=t.type.contextTypes;if(!n)return wn;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=e[r];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Je(t){return t=t.childContextTypes,t!=null}function eo(){fe(Ze),fe(We)}function qu(t,e,n){if(We.current!==wn)throw Error(D(168));ce(We,e),ce(Ze,n)}function Jf(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(D(108,Bg(t)||"Unknown",i));return xe({},n,s)}function to(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wn,Bn=We.current,ce(We,t),ce(Ze,Ze.current),!0}function ed(t,e,n){var s=t.stateNode;if(!s)throw Error(D(169));n?(t=Jf(t,e,Bn),s.__reactInternalMemoizedMergedChildContext=t,fe(Ze),fe(We),ce(We,t)):fe(Ze),ce(Ze,n)}var zt=null,Ao=!1,ya=!1;function qf(t){zt===null?zt=[t]:zt.push(t)}function sx(t){Ao=!0,qf(t)}function _n(){if(!ya&&zt!==null){ya=!0;var t=0,e=oe;try{var n=zt;for(oe=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}zt=null,Ao=!1}catch(i){throw zt!==null&&(zt=zt.slice(t+1)),_f(ql,_n),i}finally{oe=e,ya=!1}}return null}var rs=[],os=0,no=null,so=0,lt=[],ct=0,Wn=null,Bt=1,Wt="";function En(t,e){rs[os++]=so,rs[os++]=no,no=t,so=e}function ep(t,e,n){lt[ct++]=Bt,lt[ct++]=Wt,lt[ct++]=Wn,Wn=t;var s=Bt;t=Wt;var i=32-bt(s)-1;s&=~(1<<i),n+=1;var r=32-bt(e)+i;if(30<r){var o=i-i%5;r=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Bt=1<<32-bt(e)+i|n<<i|s,Wt=r+t}else Bt=1<<r|n<<i|s,Wt=t}function lc(t){t.return!==null&&(En(t,1),ep(t,1,0))}function cc(t){for(;t===no;)no=rs[--os],rs[os]=null,so=rs[--os],rs[os]=null;for(;t===Wn;)Wn=lt[--ct],lt[ct]=null,Wt=lt[--ct],lt[ct]=null,Bt=lt[--ct],lt[ct]=null}var nt=null,tt=null,pe=!1,wt=null;function tp(t,e){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function td(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nt=t,tt=hn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nt=t,tt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wn!==null?{id:Bt,overflow:Wt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nt=t,tt=null,!0):!1;default:return!1}}function gl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xl(t){if(pe){var e=tt;if(e){var n=e;if(!td(t,e)){if(gl(t))throw Error(D(418));e=hn(n.nextSibling);var s=nt;e&&td(t,e)?tp(s,n):(t.flags=t.flags&-4097|2,pe=!1,nt=t)}}else{if(gl(t))throw Error(D(418));t.flags=t.flags&-4097|2,pe=!1,nt=t}}}function nd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nt=t}function ur(t){if(t!==nt)return!1;if(!pe)return nd(t),pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hl(t.type,t.memoizedProps)),e&&(e=tt)){if(gl(t))throw np(),Error(D(418));for(;e;)tp(t,e),e=hn(e.nextSibling)}if(nd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tt=hn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tt=null}}else tt=nt?hn(t.stateNode.nextSibling):null;return!0}function np(){for(var t=tt;t;)t=hn(t.nextSibling)}function ks(){tt=nt=null,pe=!1}function uc(t){wt===null?wt=[t]:wt.push(t)}var ix=Qt.ReactCurrentBatchConfig;function Bs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var s=n.stateNode}if(!s)throw Error(D(147,t));var i=s,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=i.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function dr(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sd(t){var e=t._init;return e(t._payload)}function sp(t){function e(p,m){if(t){var x=p.deletions;x===null?(p.deletions=[m],p.flags|=16):x.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function s(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=gn(p,m),p.index=0,p.sibling=null,p}function r(p,m,x){return p.index=x,t?(x=p.alternate,x!==null?(x=x.index,x<m?(p.flags|=2,m):x):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,m,x,b){return m===null||m.tag!==6?(m=Sa(x,p.mode,b),m.return=p,m):(m=i(m,x),m.return=p,m)}function c(p,m,x,b){var k=x.type;return k===qn?d(p,m,x.props.children,b,x.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===qt&&sd(k)===m.type)?(b=i(m,x.props),b.ref=Bs(p,m,x),b.return=p,b):(b=Br(x.type,x.key,x.props,null,p.mode,b),b.ref=Bs(p,m,x),b.return=p,b)}function u(p,m,x,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=Na(x,p.mode,b),m.return=p,m):(m=i(m,x.children||[]),m.return=p,m)}function d(p,m,x,b,k){return m===null||m.tag!==7?(m=zn(x,p.mode,b,k),m.return=p,m):(m=i(m,x),m.return=p,m)}function h(p,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Sa(""+m,p.mode,x),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case er:return x=Br(m.type,m.key,m.props,null,p.mode,x),x.ref=Bs(p,null,m),x.return=p,x;case Jn:return m=Na(m,p.mode,x),m.return=p,m;case qt:var b=m._init;return h(p,b(m._payload),x)}if(Qs(m)||Os(m))return m=zn(m,p.mode,x,null),m.return=p,m;dr(p,m)}return null}function f(p,m,x,b){var k=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:a(p,m,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case er:return x.key===k?c(p,m,x,b):null;case Jn:return x.key===k?u(p,m,x,b):null;case qt:return k=x._init,f(p,m,k(x._payload),b)}if(Qs(x)||Os(x))return k!==null?null:d(p,m,x,b,null);dr(p,x)}return null}function g(p,m,x,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(x)||null,a(m,p,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case er:return p=p.get(b.key===null?x:b.key)||null,c(m,p,b,k);case Jn:return p=p.get(b.key===null?x:b.key)||null,u(m,p,b,k);case qt:var N=b._init;return g(p,m,x,N(b._payload),k)}if(Qs(b)||Os(b))return p=p.get(x)||null,d(m,p,b,k,null);dr(m,b)}return null}function v(p,m,x,b){for(var k=null,N=null,M=m,_=m=0,S=null;M!==null&&_<x.length;_++){M.index>_?(S=M,M=null):S=M.sibling;var L=f(p,M,x[_],b);if(L===null){M===null&&(M=S);break}t&&M&&L.alternate===null&&e(p,M),m=r(L,m,_),N===null?k=L:N.sibling=L,N=L,M=S}if(_===x.length)return n(p,M),pe&&En(p,_),k;if(M===null){for(;_<x.length;_++)M=h(p,x[_],b),M!==null&&(m=r(M,m,_),N===null?k=M:N.sibling=M,N=M);return pe&&En(p,_),k}for(M=s(p,M);_<x.length;_++)S=g(M,p,_,x[_],b),S!==null&&(t&&S.alternate!==null&&M.delete(S.key===null?_:S.key),m=r(S,m,_),N===null?k=S:N.sibling=S,N=S);return t&&M.forEach(function(E){return e(p,E)}),pe&&En(p,_),k}function y(p,m,x,b){var k=Os(x);if(typeof k!="function")throw Error(D(150));if(x=k.call(x),x==null)throw Error(D(151));for(var N=k=null,M=m,_=m=0,S=null,L=x.next();M!==null&&!L.done;_++,L=x.next()){M.index>_?(S=M,M=null):S=M.sibling;var E=f(p,M,L.value,b);if(E===null){M===null&&(M=S);break}t&&M&&E.alternate===null&&e(p,M),m=r(E,m,_),N===null?k=E:N.sibling=E,N=E,M=S}if(L.done)return n(p,M),pe&&En(p,_),k;if(M===null){for(;!L.done;_++,L=x.next())L=h(p,L.value,b),L!==null&&(m=r(L,m,_),N===null?k=L:N.sibling=L,N=L);return pe&&En(p,_),k}for(M=s(p,M);!L.done;_++,L=x.next())L=g(M,p,_,L.value,b),L!==null&&(t&&L.alternate!==null&&M.delete(L.key===null?_:L.key),m=r(L,m,_),N===null?k=L:N.sibling=L,N=L);return t&&M.forEach(function(C){return e(p,C)}),pe&&En(p,_),k}function w(p,m,x,b){if(typeof x=="object"&&x!==null&&x.type===qn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case er:e:{for(var k=x.key,N=m;N!==null;){if(N.key===k){if(k=x.type,k===qn){if(N.tag===7){n(p,N.sibling),m=i(N,x.props.children),m.return=p,p=m;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===qt&&sd(k)===N.type){n(p,N.sibling),m=i(N,x.props),m.ref=Bs(p,N,x),m.return=p,p=m;break e}n(p,N);break}else e(p,N);N=N.sibling}x.type===qn?(m=zn(x.props.children,p.mode,b,x.key),m.return=p,p=m):(b=Br(x.type,x.key,x.props,null,p.mode,b),b.ref=Bs(p,m,x),b.return=p,p=b)}return o(p);case Jn:e:{for(N=x.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(p,m.sibling),m=i(m,x.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=Na(x,p.mode,b),m.return=p,p=m}return o(p);case qt:return N=x._init,w(p,m,N(x._payload),b)}if(Qs(x))return v(p,m,x,b);if(Os(x))return y(p,m,x,b);dr(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(p,m.sibling),m=i(m,x),m.return=p,p=m):(n(p,m),m=Sa(x,p.mode,b),m.return=p,p=m),o(p)):n(p,m)}return w}var js=sp(!0),ip=sp(!1),io=jn(null),ro=null,as=null,dc=null;function hc(){dc=as=ro=null}function fc(t){var e=io.current;fe(io),t._currentValue=e}function yl(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function ms(t,e){ro=t,dc=as=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qe=!0),t.firstContext=null)}function ft(t){var e=t._currentValue;if(dc!==t)if(t={context:t,memoizedValue:e,next:null},as===null){if(ro===null)throw Error(D(308));as=t,ro.dependencies={lanes:0,firstContext:t}}else as=as.next=t;return e}var An=null;function pc(t){An===null?An=[t]:An.push(t)}function rp(t,e,n,s){var i=e.interleaved;return i===null?(n.next=n,pc(e)):(n.next=i.next,i.next=n),e.interleaved=n,Yt(t,s)}function Yt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var en=!1;function mc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function op(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $t(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,te&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,Yt(t,n)}return i=s.interleaved,i===null?(e.next=e,pc(s)):(e.next=i.next,i.next=e),s.interleaved=e,Yt(t,n)}function Ar(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,ec(t,n)}}function id(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function oo(t,e,n,s){var i=t.updateQueue;en=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?r=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(r!==null){var h=i.baseState;o=0,d=u=c=null,a=r;do{var f=a.lane,g=a.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(f=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(g,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(g,h,f):v,f==null)break e;h=xe({},h,f);break e;case 2:en=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);$n|=o,t.lanes=o,t.memoizedState=h}}function rd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(D(191,i));i.call(s)}}}var Wi={},Tt=jn(Wi),Ni=jn(Wi),Ci=jn(Wi);function On(t){if(t===Wi)throw Error(D(174));return t}function gc(t,e){switch(ce(Ci,e),ce(Ni,t),ce(Tt,Wi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ja(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ja(e,t)}fe(Tt),ce(Tt,e)}function _s(){fe(Tt),fe(Ni),fe(Ci)}function ap(t){On(Ci.current);var e=On(Tt.current),n=Ja(e,t.type);e!==n&&(ce(Ni,t),ce(Tt,n))}function xc(t){Ni.current===t&&(fe(Tt),fe(Ni))}var me=jn(0);function ao(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var va=[];function yc(){for(var t=0;t<va.length;t++)va[t]._workInProgressVersionPrimary=null;va.length=0}var Or=Qt.ReactCurrentDispatcher,wa=Qt.ReactCurrentBatchConfig,Hn=0,ge=null,_e=null,Me=null,lo=!1,ai=!1,Mi=0,rx=0;function Oe(){throw Error(D(321))}function vc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jt(t[n],e[n]))return!1;return!0}function wc(t,e,n,s,i,r){if(Hn=r,ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Or.current=t===null||t.memoizedState===null?cx:ux,t=n(s,i),ai){r=0;do{if(ai=!1,Mi=0,25<=r)throw Error(D(301));r+=1,Me=_e=null,e.updateQueue=null,Or.current=dx,t=n(s,i)}while(ai)}if(Or.current=co,e=_e!==null&&_e.next!==null,Hn=0,Me=_e=ge=null,lo=!1,e)throw Error(D(300));return t}function bc(){var t=Mi!==0;return Mi=0,t}function Mt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?ge.memoizedState=Me=t:Me=Me.next=t,Me}function pt(){if(_e===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=_e.next;var e=Me===null?ge.memoizedState:Me.next;if(e!==null)Me=e,_e=t;else{if(t===null)throw Error(D(310));_e=t,t={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Me===null?ge.memoizedState=Me=t:Me=Me.next=t}return Me}function Li(t,e){return typeof e=="function"?e(t):e}function ba(t){var e=pt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var s=_e,i=s.baseQueue,r=n.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}s.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,s=s.baseState;var a=o=null,c=null,u=r;do{var d=u.lane;if((Hn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=s):c=c.next=h,ge.lanes|=d,$n|=d}u=u.next}while(u!==null&&u!==r);c===null?o=s:c.next=a,jt(s,e.memoizedState)||(Qe=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){i=t;do r=i.lane,ge.lanes|=r,$n|=r,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ka(t){var e=pt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do r=t(r,o.action),o=o.next;while(o!==i);jt(r,e.memoizedState)||(Qe=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function lp(){}function cp(t,e){var n=ge,s=pt(),i=e(),r=!jt(s.memoizedState,i);if(r&&(s.memoizedState=i,Qe=!0),s=s.queue,kc(hp.bind(null,n,s,t),[t]),s.getSnapshot!==e||r||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Ei(9,dp.bind(null,n,s,i,e),void 0,null),Le===null)throw Error(D(349));Hn&30||up(n,e,i)}return i}function up(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dp(t,e,n,s){e.value=n,e.getSnapshot=s,fp(e)&&pp(t)}function hp(t,e,n){return n(function(){fp(e)&&pp(t)})}function fp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jt(t,n)}catch{return!0}}function pp(t){var e=Yt(t,1);e!==null&&kt(e,t,1,-1)}function od(t){var e=Mt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:t},e.queue=t,t=t.dispatch=lx.bind(null,ge,t),[e.memoizedState,t]}function Ei(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function mp(){return pt().memoizedState}function Rr(t,e,n,s){var i=Mt();ge.flags|=t,i.memoizedState=Ei(1|e,n,void 0,s===void 0?null:s)}function Oo(t,e,n,s){var i=pt();s=s===void 0?null:s;var r=void 0;if(_e!==null){var o=_e.memoizedState;if(r=o.destroy,s!==null&&vc(s,o.deps)){i.memoizedState=Ei(e,n,r,s);return}}ge.flags|=t,i.memoizedState=Ei(1|e,n,r,s)}function ad(t,e){return Rr(8390656,8,t,e)}function kc(t,e){return Oo(2048,8,t,e)}function gp(t,e){return Oo(4,2,t,e)}function xp(t,e){return Oo(4,4,t,e)}function yp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vp(t,e,n){return n=n!=null?n.concat([t]):null,Oo(4,4,yp.bind(null,e,t),n)}function jc(){}function wp(t,e){var n=pt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&vc(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function bp(t,e){var n=pt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&vc(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function kp(t,e,n){return Hn&21?(jt(n,e)||(n=Cf(),ge.lanes|=n,$n|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qe=!0),t.memoizedState=n)}function ox(t,e){var n=oe;oe=n!==0&&4>n?n:4,t(!0);var s=wa.transition;wa.transition={};try{t(!1),e()}finally{oe=n,wa.transition=s}}function jp(){return pt().memoizedState}function ax(t,e,n){var s=mn(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},_p(t))Sp(e,n);else if(n=rp(t,e,n,s),n!==null){var i=$e();kt(n,t,s,i),Np(n,e,s)}}function lx(t,e,n){var s=mn(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(_p(t))Sp(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(i.hasEagerState=!0,i.eagerState=a,jt(a,o)){var c=e.interleaved;c===null?(i.next=i,pc(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=rp(t,e,i,s),n!==null&&(i=$e(),kt(n,t,s,i),Np(n,e,s))}}function _p(t){var e=t.alternate;return t===ge||e!==null&&e===ge}function Sp(t,e){ai=lo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Np(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,ec(t,n)}}var co={readContext:ft,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},cx={readContext:ft,useCallback:function(t,e){return Mt().memoizedState=[t,e===void 0?null:e],t},useContext:ft,useEffect:ad,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rr(4194308,4,yp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rr(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rr(4,2,t,e)},useMemo:function(t,e){var n=Mt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Mt();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=ax.bind(null,ge,t),[s.memoizedState,t]},useRef:function(t){var e=Mt();return t={current:t},e.memoizedState=t},useState:od,useDebugValue:jc,useDeferredValue:function(t){return Mt().memoizedState=t},useTransition:function(){var t=od(!1),e=t[0];return t=ox.bind(null,t[1]),Mt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=ge,i=Mt();if(pe){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),Le===null)throw Error(D(349));Hn&30||up(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,ad(hp.bind(null,s,r,t),[t]),s.flags|=2048,Ei(9,dp.bind(null,s,r,n,e),void 0,null),n},useId:function(){var t=Mt(),e=Le.identifierPrefix;if(pe){var n=Wt,s=Bt;n=(s&~(1<<32-bt(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ux={readContext:ft,useCallback:wp,useContext:ft,useEffect:kc,useImperativeHandle:vp,useInsertionEffect:gp,useLayoutEffect:xp,useMemo:bp,useReducer:ba,useRef:mp,useState:function(){return ba(Li)},useDebugValue:jc,useDeferredValue:function(t){var e=pt();return kp(e,_e.memoizedState,t)},useTransition:function(){var t=ba(Li)[0],e=pt().memoizedState;return[t,e]},useMutableSource:lp,useSyncExternalStore:cp,useId:jp,unstable_isNewReconciler:!1},dx={readContext:ft,useCallback:wp,useContext:ft,useEffect:kc,useImperativeHandle:vp,useInsertionEffect:gp,useLayoutEffect:xp,useMemo:bp,useReducer:ka,useRef:mp,useState:function(){return ka(Li)},useDebugValue:jc,useDeferredValue:function(t){var e=pt();return _e===null?e.memoizedState=t:kp(e,_e.memoizedState,t)},useTransition:function(){var t=ka(Li)[0],e=pt().memoizedState;return[t,e]},useMutableSource:lp,useSyncExternalStore:cp,useId:jp,unstable_isNewReconciler:!1};function yt(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vl(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ro={isMounted:function(t){return(t=t._reactInternals)?Kn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=$e(),i=mn(t),r=$t(s,i);r.payload=e,n!=null&&(r.callback=n),e=fn(t,r,i),e!==null&&(kt(e,t,i,s),Ar(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=$e(),i=mn(t),r=$t(s,i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=fn(t,r,i),e!==null&&(kt(e,t,i,s),Ar(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$e(),s=mn(t),i=$t(n,s);i.tag=2,e!=null&&(i.callback=e),e=fn(t,i,s),e!==null&&(kt(e,t,s,n),Ar(e,t,s))}};function ld(t,e,n,s,i,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,o):e.prototype&&e.prototype.isPureReactComponent?!ki(n,s)||!ki(i,r):!0}function Cp(t,e,n){var s=!1,i=wn,r=e.contextType;return typeof r=="object"&&r!==null?r=ft(r):(i=Je(e)?Bn:We.current,s=e.contextTypes,r=(s=s!=null)?bs(t,i):wn),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ro,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function cd(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Ro.enqueueReplaceState(e,e.state,null)}function wl(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},mc(t);var r=e.contextType;typeof r=="object"&&r!==null?i.context=ft(r):(r=Je(e)?Bn:We.current,i.context=bs(t,r)),i.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(vl(t,e,r,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ro.enqueueReplaceState(i,i.state,null),oo(t,n,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ss(t,e){try{var n="",s=e;do n+=Ig(s),s=s.return;while(s);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:i,digest:null}}function ja(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hx=typeof WeakMap=="function"?WeakMap:Map;function Mp(t,e,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){ho||(ho=!0,Pl=s),bl(t,e)},n}function Lp(t,e,n){n=$t(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;n.payload=function(){return s(i)},n.callback=function(){bl(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){bl(t,e),typeof s!="function"&&(pn===null?pn=new Set([this]):pn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ud(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new hx;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(i.add(n),t=Nx.bind(null,t,e,n),e.then(t,t))}function dd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hd(t,e,n,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$t(-1,1),e.tag=2,fn(n,e,1))),n.lanes|=1),t)}var fx=Qt.ReactCurrentOwner,Qe=!1;function He(t,e,n,s){e.child=t===null?ip(e,null,n,s):js(e,t.child,n,s)}function fd(t,e,n,s,i){n=n.render;var r=e.ref;return ms(e,i),s=wc(t,e,n,s,r,i),n=bc(),t!==null&&!Qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xt(t,e,i)):(pe&&n&&lc(e),e.flags|=1,He(t,e,s,i),e.child)}function pd(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!Pc(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,Ep(t,e,r,s,i)):(t=Br(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&i)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:ki,n(o,s)&&t.ref===e.ref)return Xt(t,e,i)}return e.flags|=1,t=gn(r,s),t.ref=e.ref,t.return=e,e.child=t}function Ep(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if(ki(r,s)&&t.ref===e.ref)if(Qe=!1,e.pendingProps=s=r,(t.lanes&i)!==0)t.flags&131072&&(Qe=!0);else return e.lanes=t.lanes,Xt(t,e,i)}return kl(t,e,n,s,i)}function Pp(t,e,n){var s=e.pendingProps,i=s.children,r=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(cs,et),et|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(cs,et),et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:n,ce(cs,et),et|=s}else r!==null?(s=r.baseLanes|n,e.memoizedState=null):s=n,ce(cs,et),et|=s;return He(t,e,i,n),e.child}function Dp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kl(t,e,n,s,i){var r=Je(n)?Bn:We.current;return r=bs(e,r),ms(e,i),n=wc(t,e,n,s,r,i),s=bc(),t!==null&&!Qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xt(t,e,i)):(pe&&s&&lc(e),e.flags|=1,He(t,e,n,i),e.child)}function md(t,e,n,s,i){if(Je(n)){var r=!0;to(e)}else r=!1;if(ms(e,i),e.stateNode===null)Fr(t,e),Cp(e,n,s),wl(e,n,s,i),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ft(u):(u=Je(n)?Bn:We.current,u=bs(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||c!==u)&&cd(e,o,s,u),en=!1;var f=e.memoizedState;o.state=f,oo(e,s,o,i),c=e.memoizedState,a!==s||f!==c||Ze.current||en?(typeof d=="function"&&(vl(e,n,d,s),c=e.memoizedState),(a=en||ld(e,n,a,s,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,op(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:yt(e.type,a),o.props=u,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ft(c):(c=Je(n)?Bn:We.current,c=bs(e,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&cd(e,o,s,c),en=!1,f=e.memoizedState,o.state=f,oo(e,s,o,i);var v=e.memoizedState;a!==h||f!==v||Ze.current||en?(typeof g=="function"&&(vl(e,n,g,s),v=e.memoizedState),(u=en||ld(e,n,u,s,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=v),o.props=s,o.state=v,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return jl(t,e,n,s,r,i)}function jl(t,e,n,s,i,r){Dp(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&ed(e,n,!1),Xt(t,e,r);s=e.stateNode,fx.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=js(e,t.child,null,r),e.child=js(e,null,a,r)):He(t,e,a,r),e.memoizedState=s.state,i&&ed(e,n,!0),e.child}function Tp(t){var e=t.stateNode;e.pendingContext?qu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qu(t,e.context,!1),gc(t,e.containerInfo)}function gd(t,e,n,s,i){return ks(),uc(i),e.flags|=256,He(t,e,n,s),e.child}var _l={dehydrated:null,treeContext:null,retryLane:0};function Sl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ap(t,e,n){var s=e.pendingProps,i=me.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ce(me,i&1),t===null)return xl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,r?(s=e.mode,r=e.child,o={mode:"hidden",children:o},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Io(o,s,0,null),t=zn(t,s,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Sl(n),e.memoizedState=_l,t):_c(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return px(t,e,o,s,a,i,n);if(r){r=s.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=gn(i,c),s.subtreeFlags=i.subtreeFlags&14680064),a!==null?r=gn(a,r):(r=zn(r,o,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,o=t.child.memoizedState,o=o===null?Sl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=_l,s}return r=t.child,t=r.sibling,s=gn(r,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function _c(t,e){return e=Io({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hr(t,e,n,s){return s!==null&&uc(s),js(e,t.child,null,n),t=_c(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function px(t,e,n,s,i,r,o){if(n)return e.flags&256?(e.flags&=-257,s=ja(Error(D(422))),hr(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=s.fallback,i=e.mode,s=Io({mode:"visible",children:s.children},i,0,null),r=zn(r,i,o,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,e.mode&1&&js(e,t.child,null,o),e.child.memoizedState=Sl(o),e.memoizedState=_l,r);if(!(e.mode&1))return hr(t,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var a=s.dgst;return s=a,r=Error(D(419)),s=ja(r,s,void 0),hr(t,e,o,s)}if(a=(o&t.childLanes)!==0,Qe||a){if(s=Le,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,Yt(t,i),kt(s,t,i,-1))}return Ec(),s=ja(Error(D(421))),hr(t,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Cx.bind(null,t),i._reactRetry=e,null):(t=r.treeContext,tt=hn(i.nextSibling),nt=e,pe=!0,wt=null,t!==null&&(lt[ct++]=Bt,lt[ct++]=Wt,lt[ct++]=Wn,Bt=t.id,Wt=t.overflow,Wn=e),e=_c(e,s.children),e.flags|=4096,e)}function xd(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),yl(t.return,e,n)}function _a(t,e,n,s,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=i)}function Op(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(He(t,e,s.children,n),s=me.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xd(t,n,e);else if(t.tag===19)xd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ce(me,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ao(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_a(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ao(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_a(e,!0,n,null,r);break;case"together":_a(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fr(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$n|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=gn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mx(t,e,n){switch(e.tag){case 3:Tp(e),ks();break;case 5:ap(e);break;case 1:Je(e.type)&&to(e);break;case 4:gc(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;ce(io,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(ce(me,me.current&1),e.flags|=128,null):n&e.child.childLanes?Ap(t,e,n):(ce(me,me.current&1),t=Xt(t,e,n),t!==null?t.sibling:null);ce(me,me.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return Op(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(me,me.current),s)break;return null;case 22:case 23:return e.lanes=0,Pp(t,e,n)}return Xt(t,e,n)}var Rp,Nl,Fp,zp;Rp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nl=function(){};Fp=function(t,e,n,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,On(Tt.current);var r=null;switch(n){case"input":i=Ka(t,i),s=Ka(t,s),r=[];break;case"select":i=xe({},i,{value:void 0}),s=xe({},s,{value:void 0}),r=[];break;case"textarea":i=Za(t,i),s=Za(t,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=qr)}qa(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mi.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in s){var c=s[u];if(a=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(r||(r=[]),r.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(r=r||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&de("scroll",t),r||a===c||(r=[])):(r=r||[]).push(u,c))}n&&(r=r||[]).push("style",n);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};zp=function(t,e,n,s){n!==s&&(e.flags|=4)};function Ws(t,e){if(!pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Re(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function gx(t,e,n){var s=e.pendingProps;switch(cc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(e),null;case 1:return Je(e.type)&&eo(),Re(e),null;case 3:return s=e.stateNode,_s(),fe(Ze),fe(We),yc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ur(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wt!==null&&(Al(wt),wt=null))),Nl(t,e),Re(e),null;case 5:xc(e);var i=On(Ci.current);if(n=e.type,t!==null&&e.stateNode!=null)Fp(t,e,n,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(D(166));return Re(e),null}if(t=On(Tt.current),ur(e)){s=e.stateNode,n=e.type;var r=e.memoizedProps;switch(s[Pt]=e,s[Si]=r,t=(e.mode&1)!==0,n){case"dialog":de("cancel",s),de("close",s);break;case"iframe":case"object":case"embed":de("load",s);break;case"video":case"audio":for(i=0;i<Zs.length;i++)de(Zs[i],s);break;case"source":de("error",s);break;case"img":case"image":case"link":de("error",s),de("load",s);break;case"details":de("toggle",s);break;case"input":Nu(s,r),de("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},de("invalid",s);break;case"textarea":Mu(s,r),de("invalid",s)}qa(n,r),i=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?s.textContent!==a&&(r.suppressHydrationWarning!==!0&&cr(s.textContent,a,t),i=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&cr(s.textContent,a,t),i=["children",""+a]):mi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&de("scroll",s)}switch(n){case"input":tr(s),Cu(s,r,!0);break;case"textarea":tr(s),Lu(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=qr)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[Pt]=e,t[Si]=s,Rp(t,e,!1,!1),e.stateNode=t;e:{switch(o=el(n,s),n){case"dialog":de("cancel",t),de("close",t),i=s;break;case"iframe":case"object":case"embed":de("load",t),i=s;break;case"video":case"audio":for(i=0;i<Zs.length;i++)de(Zs[i],t);i=s;break;case"source":de("error",t),i=s;break;case"img":case"image":case"link":de("error",t),de("load",t),i=s;break;case"details":de("toggle",t),i=s;break;case"input":Nu(t,s),i=Ka(t,s),de("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=xe({},s,{value:void 0}),de("invalid",t);break;case"textarea":Mu(t,s),i=Za(t,s),de("invalid",t);break;default:i=s}qa(n,i),a=i;for(r in a)if(a.hasOwnProperty(r)){var c=a[r];r==="style"?mf(t,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ff(t,c)):r==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&gi(t,c):typeof c=="number"&&gi(t,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(mi.hasOwnProperty(r)?c!=null&&r==="onScroll"&&de("scroll",t):c!=null&&Kl(t,r,c,o))}switch(n){case"input":tr(t),Cu(t,s,!1);break;case"textarea":tr(t),Lu(t);break;case"option":s.value!=null&&t.setAttribute("value",""+vn(s.value));break;case"select":t.multiple=!!s.multiple,r=s.value,r!=null?ds(t,!!s.multiple,r,!1):s.defaultValue!=null&&ds(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qr)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Re(e),null;case 6:if(t&&e.stateNode!=null)zp(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(D(166));if(n=On(Ci.current),On(Tt.current),ur(e)){if(s=e.stateNode,n=e.memoizedProps,s[Pt]=e,(r=s.nodeValue!==n)&&(t=nt,t!==null))switch(t.tag){case 3:cr(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cr(s.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Pt]=e,e.stateNode=s}return Re(e),null;case 13:if(fe(me),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pe&&tt!==null&&e.mode&1&&!(e.flags&128))np(),ks(),e.flags|=98560,r=!1;else if(r=ur(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(D(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(D(317));r[Pt]=e}else ks(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Re(e),r=!1}else wt!==null&&(Al(wt),wt=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||me.current&1?Ne===0&&(Ne=3):Ec())),e.updateQueue!==null&&(e.flags|=4),Re(e),null);case 4:return _s(),Nl(t,e),t===null&&ji(e.stateNode.containerInfo),Re(e),null;case 10:return fc(e.type._context),Re(e),null;case 17:return Je(e.type)&&eo(),Re(e),null;case 19:if(fe(me),r=e.memoizedState,r===null)return Re(e),null;if(s=(e.flags&128)!==0,o=r.rendering,o===null)if(s)Ws(r,!1);else{if(Ne!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ao(t),o!==null){for(e.flags|=128,Ws(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)r=n,t=s,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ce(me,me.current&1|2),e.child}t=t.sibling}r.tail!==null&&ve()>Ns&&(e.flags|=128,s=!0,Ws(r,!1),e.lanes=4194304)}else{if(!s)if(t=ao(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ws(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!pe)return Re(e),null}else 2*ve()-r.renderingStartTime>Ns&&n!==1073741824&&(e.flags|=128,s=!0,Ws(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ve(),e.sibling=null,n=me.current,ce(me,s?n&1|2:n&1),e):(Re(e),null);case 22:case 23:return Lc(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?et&1073741824&&(Re(e),e.subtreeFlags&6&&(e.flags|=8192)):Re(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function xx(t,e){switch(cc(e),e.tag){case 1:return Je(e.type)&&eo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _s(),fe(Ze),fe(We),yc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xc(e),null;case 13:if(fe(me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));ks()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fe(me),null;case 4:return _s(),null;case 10:return fc(e.type._context),null;case 22:case 23:return Lc(),null;case 24:return null;default:return null}}var fr=!1,Ie=!1,yx=typeof WeakSet=="function"?WeakSet:Set,F=null;function ls(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ye(t,e,s)}else n.current=null}function Cl(t,e,n){try{n()}catch(s){ye(t,e,s)}}var yd=!1;function vx(t,e){if(ul=Gr,t=$f(),ac(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==r||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===r&&++d===s&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(dl={focusedElem:t,selectionRange:n},Gr=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:yt(e.type,y),w);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(b){ye(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return v=yd,yd=!1,v}function li(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,r!==void 0&&Cl(e,n,r)}i=i.next}while(i!==s)}}function Fo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function Ml(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ip(t){var e=t.alternate;e!==null&&(t.alternate=null,Ip(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pt],delete e[Si],delete e[pl],delete e[tx],delete e[nx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Bp(t){return t.tag===5||t.tag===3||t.tag===4}function vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ll(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qr));else if(s!==4&&(t=t.child,t!==null))for(Ll(t,e,n),t=t.sibling;t!==null;)Ll(t,e,n),t=t.sibling}function El(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(El(t,e,n),t=t.sibling;t!==null;)El(t,e,n),t=t.sibling}var Pe=null,vt=!1;function Zt(t,e,n){for(n=n.child;n!==null;)Wp(t,e,n),n=n.sibling}function Wp(t,e,n){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Lo,n)}catch{}switch(n.tag){case 5:Ie||ls(n,e);case 6:var s=Pe,i=vt;Pe=null,Zt(t,e,n),Pe=s,vt=i,Pe!==null&&(vt?(t=Pe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(vt?(t=Pe,n=n.stateNode,t.nodeType===8?xa(t.parentNode,n):t.nodeType===1&&xa(t,n),wi(t)):xa(Pe,n.stateNode));break;case 4:s=Pe,i=vt,Pe=n.stateNode.containerInfo,vt=!0,Zt(t,e,n),Pe=s,vt=i;break;case 0:case 11:case 14:case 15:if(!Ie&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Cl(n,e,o),i=i.next}while(i!==s)}Zt(t,e,n);break;case 1:if(!Ie&&(ls(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){ye(n,e,a)}Zt(t,e,n);break;case 21:Zt(t,e,n);break;case 22:n.mode&1?(Ie=(s=Ie)||n.memoizedState!==null,Zt(t,e,n),Ie=s):Zt(t,e,n);break;default:Zt(t,e,n)}}function wd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yx),e.forEach(function(s){var i=Mx.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}}function xt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pe=a.stateNode,vt=!1;break e;case 3:Pe=a.stateNode.containerInfo,vt=!0;break e;case 4:Pe=a.stateNode.containerInfo,vt=!0;break e}a=a.return}if(Pe===null)throw Error(D(160));Wp(r,o,i),Pe=null,vt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ye(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hp(e,t),e=e.sibling}function Hp(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xt(e,t),St(t),s&4){try{li(3,t,t.return),Fo(3,t)}catch(y){ye(t,t.return,y)}try{li(5,t,t.return)}catch(y){ye(t,t.return,y)}}break;case 1:xt(e,t),St(t),s&512&&n!==null&&ls(n,n.return);break;case 5:if(xt(e,t),St(t),s&512&&n!==null&&ls(n,n.return),t.flags&32){var i=t.stateNode;try{gi(i,"")}catch(y){ye(t,t.return,y)}}if(s&4&&(i=t.stateNode,i!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&uf(i,r),el(a,o);var u=el(a,r);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?mf(i,h):d==="dangerouslySetInnerHTML"?ff(i,h):d==="children"?gi(i,h):Kl(i,d,h,u)}switch(a){case"input":Qa(i,r);break;case"textarea":df(i,r);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var g=r.value;g!=null?ds(i,!!r.multiple,g,!1):f!==!!r.multiple&&(r.defaultValue!=null?ds(i,!!r.multiple,r.defaultValue,!0):ds(i,!!r.multiple,r.multiple?[]:"",!1))}i[Si]=r}catch(y){ye(t,t.return,y)}}break;case 6:if(xt(e,t),St(t),s&4){if(t.stateNode===null)throw Error(D(162));i=t.stateNode,r=t.memoizedProps;try{i.nodeValue=r}catch(y){ye(t,t.return,y)}}break;case 3:if(xt(e,t),St(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{wi(e.containerInfo)}catch(y){ye(t,t.return,y)}break;case 4:xt(e,t),St(t);break;case 13:xt(e,t),St(t),i=t.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(Cc=ve())),s&4&&wd(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ie=(u=Ie)||d,xt(e,t),Ie=u):xt(e,t),St(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(F=t,d=t.child;d!==null;){for(h=F=d;F!==null;){switch(f=F,g=f.child,f.tag){case 0:case 11:case 14:case 15:li(4,f,f.return);break;case 1:ls(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){s=f,n=f.return;try{e=s,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){ye(s,n,y)}}break;case 5:ls(f,f.return);break;case 22:if(f.memoizedState!==null){kd(h);continue}}g!==null?(g.return=f,F=g):kd(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=pf("display",o))}catch(y){ye(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){ye(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xt(e,t),St(t),s&4&&wd(t);break;case 21:break;default:xt(e,t),St(t)}}function St(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Bp(n)){var s=n;break e}n=n.return}throw Error(D(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(gi(i,""),s.flags&=-33);var r=vd(t);El(t,r,i);break;case 3:case 4:var o=s.stateNode.containerInfo,a=vd(t);Ll(t,a,o);break;default:throw Error(D(161))}}catch(c){ye(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wx(t,e,n){F=t,$p(t)}function $p(t,e,n){for(var s=(t.mode&1)!==0;F!==null;){var i=F,r=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||fr;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Ie;a=fr;var u=Ie;if(fr=o,(Ie=c)&&!u)for(F=i;F!==null;)o=F,c=o.child,o.tag===22&&o.memoizedState!==null?jd(i):c!==null?(c.return=o,F=c):jd(i);for(;r!==null;)F=r,$p(r),r=r.sibling;F=i,fr=a,Ie=u}bd(t)}else i.subtreeFlags&8772&&r!==null?(r.return=i,F=r):bd(t)}}function bd(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ie||Fo(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Ie)if(n===null)s.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:yt(e.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&rd(e,r,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rd(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&wi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Ie||e.flags&512&&Ml(e)}catch(f){ye(e,e.return,f)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function kd(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function jd(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fo(4,e)}catch(c){ye(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(c){ye(e,i,c)}}var r=e.return;try{Ml(e)}catch(c){ye(e,r,c)}break;case 5:var o=e.return;try{Ml(e)}catch(c){ye(e,o,c)}}}catch(c){ye(e,e.return,c)}if(e===t){F=null;break}var a=e.sibling;if(a!==null){a.return=e.return,F=a;break}F=e.return}}var bx=Math.ceil,uo=Qt.ReactCurrentDispatcher,Sc=Qt.ReactCurrentOwner,ht=Qt.ReactCurrentBatchConfig,te=0,Le=null,ke=null,De=0,et=0,cs=jn(0),Ne=0,Pi=null,$n=0,zo=0,Nc=0,ci=null,Xe=null,Cc=0,Ns=1/0,Ft=null,ho=!1,Pl=null,pn=null,pr=!1,rn=null,fo=0,ui=0,Dl=null,zr=-1,Ir=0;function $e(){return te&6?ve():zr!==-1?zr:zr=ve()}function mn(t){return t.mode&1?te&2&&De!==0?De&-De:ix.transition!==null?(Ir===0&&(Ir=Cf()),Ir):(t=oe,t!==0||(t=window.event,t=t===void 0?16:Af(t.type)),t):1}function kt(t,e,n,s){if(50<ui)throw ui=0,Dl=null,Error(D(185));zi(t,n,s),(!(te&2)||t!==Le)&&(t===Le&&(!(te&2)&&(zo|=n),Ne===4&&nn(t,De)),qe(t,s),n===1&&te===0&&!(e.mode&1)&&(Ns=ve()+500,Ao&&_n()))}function qe(t,e){var n=t.callbackNode;i0(t,e);var s=Qr(t,t===Le?De:0);if(s===0)n!==null&&Du(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Du(n),e===1)t.tag===0?sx(_d.bind(null,t)):qf(_d.bind(null,t)),q0(function(){!(te&6)&&_n()}),n=null;else{switch(Mf(s)){case 1:n=ql;break;case 4:n=Sf;break;case 16:n=Kr;break;case 536870912:n=Nf;break;default:n=Kr}n=Zp(n,Vp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Vp(t,e){if(zr=-1,Ir=0,te&6)throw Error(D(327));var n=t.callbackNode;if(gs()&&t.callbackNode!==n)return null;var s=Qr(t,t===Le?De:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=po(t,s);else{e=s;var i=te;te|=2;var r=Yp();(Le!==t||De!==e)&&(Ft=null,Ns=ve()+500,Fn(t,e));do try{_x();break}catch(a){Up(t,a)}while(!0);hc(),uo.current=r,te=i,ke!==null?e=0:(Le=null,De=0,e=Ne)}if(e!==0){if(e===2&&(i=rl(t),i!==0&&(s=i,e=Tl(t,i))),e===1)throw n=Pi,Fn(t,0),nn(t,s),qe(t,ve()),n;if(e===6)nn(t,s);else{if(i=t.current.alternate,!(s&30)&&!kx(i)&&(e=po(t,s),e===2&&(r=rl(t),r!==0&&(s=r,e=Tl(t,r))),e===1))throw n=Pi,Fn(t,0),nn(t,s),qe(t,ve()),n;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(D(345));case 2:Pn(t,Xe,Ft);break;case 3:if(nn(t,s),(s&130023424)===s&&(e=Cc+500-ve(),10<e)){if(Qr(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){$e(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fl(Pn.bind(null,t,Xe,Ft),e);break}Pn(t,Xe,Ft);break;case 4:if(nn(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var o=31-bt(s);r=1<<o,o=e[o],o>i&&(i=o),s&=~r}if(s=i,s=ve()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*bx(s/1960))-s,10<s){t.timeoutHandle=fl(Pn.bind(null,t,Xe,Ft),s);break}Pn(t,Xe,Ft);break;case 5:Pn(t,Xe,Ft);break;default:throw Error(D(329))}}}return qe(t,ve()),t.callbackNode===n?Vp.bind(null,t):null}function Tl(t,e){var n=ci;return t.current.memoizedState.isDehydrated&&(Fn(t,e).flags|=256),t=po(t,e),t!==2&&(e=Xe,Xe=n,e!==null&&Al(e)),t}function Al(t){Xe===null?Xe=t:Xe.push.apply(Xe,t)}function kx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!jt(r(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function nn(t,e){for(e&=~Nc,e&=~zo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bt(e),s=1<<n;t[n]=-1,e&=~s}}function _d(t){if(te&6)throw Error(D(327));gs();var e=Qr(t,0);if(!(e&1))return qe(t,ve()),null;var n=po(t,e);if(t.tag!==0&&n===2){var s=rl(t);s!==0&&(e=s,n=Tl(t,s))}if(n===1)throw n=Pi,Fn(t,0),nn(t,e),qe(t,ve()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pn(t,Xe,Ft),qe(t,ve()),null}function Mc(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(Ns=ve()+500,Ao&&_n())}}function Vn(t){rn!==null&&rn.tag===0&&!(te&6)&&gs();var e=te;te|=1;var n=ht.transition,s=oe;try{if(ht.transition=null,oe=1,t)return t()}finally{oe=s,ht.transition=n,te=e,!(te&6)&&_n()}}function Lc(){et=cs.current,fe(cs)}function Fn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,J0(n)),ke!==null)for(n=ke.return;n!==null;){var s=n;switch(cc(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&eo();break;case 3:_s(),fe(Ze),fe(We),yc();break;case 5:xc(s);break;case 4:_s();break;case 13:fe(me);break;case 19:fe(me);break;case 10:fc(s.type._context);break;case 22:case 23:Lc()}n=n.return}if(Le=t,ke=t=gn(t.current,null),De=et=e,Ne=0,Pi=null,Nc=zo=$n=0,Xe=ci=null,An!==null){for(e=0;e<An.length;e++)if(n=An[e],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,r=n.pending;if(r!==null){var o=r.next;r.next=i,s.next=o}n.pending=s}An=null}return t}function Up(t,e){do{var n=ke;try{if(hc(),Or.current=co,lo){for(var s=ge.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}lo=!1}if(Hn=0,Me=_e=ge=null,ai=!1,Mi=0,Sc.current=null,n===null||n.return===null){Ne=1,Pi=e,ke=null;break}e:{var r=t,o=n.return,a=n,c=e;if(e=De,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=dd(o);if(g!==null){g.flags&=-257,hd(g,o,a,r,e),g.mode&1&&ud(r,u,e),e=g,c=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(c),e.updateQueue=y}else v.add(c);break e}else{if(!(e&1)){ud(r,u,e),Ec();break e}c=Error(D(426))}}else if(pe&&a.mode&1){var w=dd(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),hd(w,o,a,r,e),uc(Ss(c,a));break e}}r=c=Ss(c,a),Ne!==4&&(Ne=2),ci===null?ci=[r]:ci.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var p=Mp(r,c,e);id(r,p);break e;case 1:a=c;var m=r.type,x=r.stateNode;if(!(r.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(pn===null||!pn.has(x)))){r.flags|=65536,e&=-e,r.lanes|=e;var b=Lp(r,a,e);id(r,b);break e}}r=r.return}while(r!==null)}Kp(n)}catch(k){e=k,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(!0)}function Yp(){var t=uo.current;return uo.current=co,t===null?co:t}function Ec(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),Le===null||!($n&268435455)&&!(zo&268435455)||nn(Le,De)}function po(t,e){var n=te;te|=2;var s=Yp();(Le!==t||De!==e)&&(Ft=null,Fn(t,e));do try{jx();break}catch(i){Up(t,i)}while(!0);if(hc(),te=n,uo.current=s,ke!==null)throw Error(D(261));return Le=null,De=0,Ne}function jx(){for(;ke!==null;)Xp(ke)}function _x(){for(;ke!==null&&!Qg();)Xp(ke)}function Xp(t){var e=Gp(t.alternate,t,et);t.memoizedProps=t.pendingProps,e===null?Kp(t):ke=e,Sc.current=null}function Kp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xx(n,e),n!==null){n.flags&=32767,ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ne=6,ke=null;return}}else if(n=gx(n,e,et),n!==null){ke=n;return}if(e=e.sibling,e!==null){ke=e;return}ke=e=t}while(e!==null);Ne===0&&(Ne=5)}function Pn(t,e,n){var s=oe,i=ht.transition;try{ht.transition=null,oe=1,Sx(t,e,n,s)}finally{ht.transition=i,oe=s}return null}function Sx(t,e,n,s){do gs();while(rn!==null);if(te&6)throw Error(D(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(r0(t,r),t===Le&&(ke=Le=null,De=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pr||(pr=!0,Zp(Kr,function(){return gs(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=ht.transition,ht.transition=null;var o=oe;oe=1;var a=te;te|=4,Sc.current=null,vx(t,n),Hp(n,t),U0(dl),Gr=!!ul,dl=ul=null,t.current=n,wx(n),Gg(),te=a,oe=o,ht.transition=r}else t.current=n;if(pr&&(pr=!1,rn=t,fo=i),r=t.pendingLanes,r===0&&(pn=null),qg(n.stateNode),qe(t,ve()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(ho)throw ho=!1,t=Pl,Pl=null,t;return fo&1&&t.tag!==0&&gs(),r=t.pendingLanes,r&1?t===Dl?ui++:(ui=0,Dl=t):ui=0,_n(),null}function gs(){if(rn!==null){var t=Mf(fo),e=ht.transition,n=oe;try{if(ht.transition=null,oe=16>t?16:t,rn===null)var s=!1;else{if(t=rn,rn=null,fo=0,te&6)throw Error(D(331));var i=te;for(te|=4,F=t.current;F!==null;){var r=F,o=r.child;if(F.flags&16){var a=r.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(F=u;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:li(8,d,r)}var h=d.child;if(h!==null)h.return=d,F=h;else for(;F!==null;){d=F;var f=d.sibling,g=d.return;if(Ip(d),d===u){F=null;break}if(f!==null){f.return=g,F=f;break}F=g}}}var v=r.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}F=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,F=o;else e:for(;F!==null;){if(r=F,r.flags&2048)switch(r.tag){case 0:case 11:case 15:li(9,r,r.return)}var p=r.sibling;if(p!==null){p.return=r.return,F=p;break e}F=r.return}}var m=t.current;for(F=m;F!==null;){o=F;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,F=x;else e:for(o=m;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fo(9,a)}}catch(k){ye(a,a.return,k)}if(a===o){F=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,F=b;break e}F=a.return}}if(te=i,_n(),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Lo,t)}catch{}s=!0}return s}finally{oe=n,ht.transition=e}}return!1}function Sd(t,e,n){e=Ss(n,e),e=Mp(t,e,1),t=fn(t,e,1),e=$e(),t!==null&&(zi(t,1,e),qe(t,e))}function ye(t,e,n){if(t.tag===3)Sd(t,t,n);else for(;e!==null;){if(e.tag===3){Sd(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(pn===null||!pn.has(s))){t=Ss(n,t),t=Lp(e,t,1),e=fn(e,t,1),t=$e(),e!==null&&(zi(e,1,t),qe(e,t));break}}e=e.return}}function Nx(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=$e(),t.pingedLanes|=t.suspendedLanes&n,Le===t&&(De&n)===n&&(Ne===4||Ne===3&&(De&130023424)===De&&500>ve()-Cc?Fn(t,0):Nc|=n),qe(t,e)}function Qp(t,e){e===0&&(t.mode&1?(e=ir,ir<<=1,!(ir&130023424)&&(ir=4194304)):e=1);var n=$e();t=Yt(t,e),t!==null&&(zi(t,e,n),qe(t,n))}function Cx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Qp(t,n)}function Mx(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(D(314))}s!==null&&s.delete(e),Qp(t,n)}var Gp;Gp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ze.current)Qe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qe=!1,mx(t,e,n);Qe=!!(t.flags&131072)}else Qe=!1,pe&&e.flags&1048576&&ep(e,so,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Fr(t,e),t=e.pendingProps;var i=bs(e,We.current);ms(e,n),i=wc(null,e,s,t,i,n);var r=bc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Je(s)?(r=!0,to(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mc(e),i.updater=Ro,e.stateNode=i,i._reactInternals=e,wl(e,s,t,n),e=jl(null,e,s,!0,r,n)):(e.tag=0,pe&&r&&lc(e),He(null,e,i,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Fr(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=Ex(s),t=yt(s,t),i){case 0:e=kl(null,e,s,t,n);break e;case 1:e=md(null,e,s,t,n);break e;case 11:e=fd(null,e,s,t,n);break e;case 14:e=pd(null,e,s,yt(s.type,t),n);break e}throw Error(D(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:yt(s,i),kl(t,e,s,i,n);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:yt(s,i),md(t,e,s,i,n);case 3:e:{if(Tp(e),t===null)throw Error(D(387));s=e.pendingProps,r=e.memoizedState,i=r.element,op(t,e),oo(e,s,null,n);var o=e.memoizedState;if(s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=Ss(Error(D(423)),e),e=gd(t,e,s,n,i);break e}else if(s!==i){i=Ss(Error(D(424)),e),e=gd(t,e,s,n,i);break e}else for(tt=hn(e.stateNode.containerInfo.firstChild),nt=e,pe=!0,wt=null,n=ip(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ks(),s===i){e=Xt(t,e,n);break e}He(t,e,s,n)}e=e.child}return e;case 5:return ap(e),t===null&&xl(e),s=e.type,i=e.pendingProps,r=t!==null?t.memoizedProps:null,o=i.children,hl(s,i)?o=null:r!==null&&hl(s,r)&&(e.flags|=32),Dp(t,e),He(t,e,o,n),e.child;case 6:return t===null&&xl(e),null;case 13:return Ap(t,e,n);case 4:return gc(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=js(e,null,s,n):He(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:yt(s,i),fd(t,e,s,i,n);case 7:return He(t,e,e.pendingProps,n),e.child;case 8:return He(t,e,e.pendingProps.children,n),e.child;case 12:return He(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,r=e.memoizedProps,o=i.value,ce(io,s._currentValue),s._currentValue=o,r!==null)if(jt(r.value,o)){if(r.children===i.children&&!Ze.current){e=Xt(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var c=a.firstContext;c!==null;){if(c.context===s){if(r.tag===1){c=$t(-1,n&-n),c.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}r.lanes|=n,c=r.alternate,c!==null&&(c.lanes|=n),yl(r.return,n,e),a.lanes|=n;break}c=c.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yl(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}He(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,ms(e,n),i=ft(i),s=s(i),e.flags|=1,He(t,e,s,n),e.child;case 14:return s=e.type,i=yt(s,e.pendingProps),i=yt(s.type,i),pd(t,e,s,i,n);case 15:return Ep(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:yt(s,i),Fr(t,e),e.tag=1,Je(s)?(t=!0,to(e)):t=!1,ms(e,n),Cp(e,s,i),wl(e,s,i,n),jl(null,e,s,!0,t,n);case 19:return Op(t,e,n);case 22:return Pp(t,e,n)}throw Error(D(156,e.tag))};function Zp(t,e){return _f(t,e)}function Lx(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(t,e,n,s){return new Lx(t,e,n,s)}function Pc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ex(t){if(typeof t=="function")return Pc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gl)return 11;if(t===Zl)return 14}return 2}function gn(t,e){var n=t.alternate;return n===null?(n=ut(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Br(t,e,n,s,i,r){var o=2;if(s=t,typeof t=="function")Pc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qn:return zn(n.children,i,r,e);case Ql:o=8,i|=8;break;case Va:return t=ut(12,n,e,i|2),t.elementType=Va,t.lanes=r,t;case Ua:return t=ut(13,n,e,i),t.elementType=Ua,t.lanes=r,t;case Ya:return t=ut(19,n,e,i),t.elementType=Ya,t.lanes=r,t;case af:return Io(n,i,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rf:o=10;break e;case of:o=9;break e;case Gl:o=11;break e;case Zl:o=14;break e;case qt:o=16,s=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=ut(o,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function zn(t,e,n,s){return t=ut(7,t,s,e),t.lanes=n,t}function Io(t,e,n,s){return t=ut(22,t,s,e),t.elementType=af,t.lanes=n,t.stateNode={isHidden:!1},t}function Sa(t,e,n){return t=ut(6,t,null,e),t.lanes=n,t}function Na(t,e,n){return e=ut(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Px(t,e,n,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oa(0),this.expirationTimes=oa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oa(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dc(t,e,n,s,i,r,o,a,c){return t=new Px(t,e,n,a,c),e===1?(e=1,r===!0&&(e|=8)):e=0,r=ut(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mc(r),t}function Dx(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jn,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function Jp(t){if(!t)return wn;t=t._reactInternals;e:{if(Kn(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(Je(n))return Jf(t,n,e)}return e}function qp(t,e,n,s,i,r,o,a,c){return t=Dc(n,s,!0,t,i,r,o,a,c),t.context=Jp(null),n=t.current,s=$e(),i=mn(n),r=$t(s,i),r.callback=e??null,fn(n,r,i),t.current.lanes=i,zi(t,i,s),qe(t,s),t}function Bo(t,e,n,s){var i=e.current,r=$e(),o=mn(i);return n=Jp(n),e.context===null?e.context=n:e.pendingContext=n,e=$t(r,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=fn(i,e,o),t!==null&&(kt(t,i,o,r),Ar(t,i,o)),o}function mo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tc(t,e){Nd(t,e),(t=t.alternate)&&Nd(t,e)}function Tx(){return null}var em=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ac(t){this._internalRoot=t}Wo.prototype.render=Ac.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Bo(t,e,null,null)};Wo.prototype.unmount=Ac.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vn(function(){Bo(null,t,null,null)}),e[Ut]=null}};function Wo(t){this._internalRoot=t}Wo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<tn.length&&e!==0&&e<tn[n].priority;n++);tn.splice(n,0,t),n===0&&Tf(t)}};function Oc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ho(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cd(){}function Ax(t,e,n,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var u=mo(o);r.call(u)}}var o=qp(e,s,t,0,null,!1,!1,"",Cd);return t._reactRootContainer=o,t[Ut]=o.current,ji(t.nodeType===8?t.parentNode:t),Vn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var a=s;s=function(){var u=mo(c);a.call(u)}}var c=Dc(t,0,!1,null,null,!1,!1,"",Cd);return t._reactRootContainer=c,t[Ut]=c.current,ji(t.nodeType===8?t.parentNode:t),Vn(function(){Bo(e,c,n,s)}),c}function $o(t,e,n,s,i){var r=n._reactRootContainer;if(r){var o=r;if(typeof i=="function"){var a=i;i=function(){var c=mo(o);a.call(c)}}Bo(e,o,t,i)}else o=Ax(n,e,t,i,s);return mo(o)}Lf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Gs(e.pendingLanes);n!==0&&(ec(e,n|1),qe(e,ve()),!(te&6)&&(Ns=ve()+500,_n()))}break;case 13:Vn(function(){var s=Yt(t,1);if(s!==null){var i=$e();kt(s,t,1,i)}}),Tc(t,1)}};tc=function(t){if(t.tag===13){var e=Yt(t,134217728);if(e!==null){var n=$e();kt(e,t,134217728,n)}Tc(t,134217728)}};Ef=function(t){if(t.tag===13){var e=mn(t),n=Yt(t,e);if(n!==null){var s=$e();kt(n,t,e,s)}Tc(t,e)}};Pf=function(){return oe};Df=function(t,e){var n=oe;try{return oe=t,e()}finally{oe=n}};nl=function(t,e,n){switch(e){case"input":if(Qa(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=To(s);if(!i)throw Error(D(90));cf(s),Qa(s,i)}}}break;case"textarea":df(t,n);break;case"select":e=n.value,e!=null&&ds(t,!!n.multiple,e,!1)}};yf=Mc;vf=Vn;var Ox={usingClientEntryPoint:!1,Events:[Bi,ss,To,gf,xf,Mc]},Hs={findFiberByHostInstance:Tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rx={bundleType:Hs.bundleType,version:Hs.version,rendererPackageName:Hs.rendererPackageName,rendererConfig:Hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kf(t),t===null?null:t.stateNode},findFiberByHostInstance:Hs.findFiberByHostInstance||Tx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mr.isDisabled&&mr.supportsFiber)try{Lo=mr.inject(Rx),Dt=mr}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ox;it.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oc(e))throw Error(D(200));return Dx(t,e,null,n)};it.createRoot=function(t,e){if(!Oc(t))throw Error(D(299));var n=!1,s="",i=em;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Dc(t,1,!1,null,null,n,!1,s,i),t[Ut]=e.current,ji(t.nodeType===8?t.parentNode:t),new Ac(e)};it.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=kf(e),t=t===null?null:t.stateNode,t};it.flushSync=function(t){return Vn(t)};it.hydrate=function(t,e,n){if(!Ho(e))throw Error(D(200));return $o(null,t,e,!0,n)};it.hydrateRoot=function(t,e,n){if(!Oc(t))throw Error(D(405));var s=n!=null&&n.hydratedSources||null,i=!1,r="",o=em;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=qp(e,null,t,1,n??null,i,!1,r,o),t[Ut]=e.current,ji(t),s)for(t=0;t<s.length;t++)n=s[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Wo(e)};it.render=function(t,e,n){if(!Ho(e))throw Error(D(200));return $o(null,t,e,!1,n)};it.unmountComponentAtNode=function(t){if(!Ho(t))throw Error(D(40));return t._reactRootContainer?(Vn(function(){$o(null,null,t,!1,function(){t._reactRootContainer=null,t[Ut]=null})}),!0):!1};it.unstable_batchedUpdates=Mc;it.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Ho(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return $o(t,e,n,!1,s)};it.version="18.3.1-next-f1338f8080-20240426";function tm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tm)}catch(t){console.error(t)}}tm(),ef.exports=it;var Fx=ef.exports,Md=Fx;Ha.createRoot=Md.createRoot,Ha.hydrateRoot=Md.hydrateRoot;function zx({onLogin:t,error:e}){const[n,s]=P.useState(""),[i,r]=P.useState(""),[o,a]=P.useState(""),[c,u]=P.useState(!1),[d,h]=P.useState(null),[f,g]=P.useState(!1),v=async w=>{if(w.preventDefault(),h(null),u(!0),!n.trim()){h("Username is required"),u(!1);return}if(!i){h("Password is required"),u(!1);return}if(!o.trim()){h("Department ID is required"),u(!1);return}if(!/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(o.trim())){h("Invalid Department ID format. Please enter a valid GUID."),u(!1);return}const m=await t({username:n.trim(),password:i,departmentId:o.trim()});m.success||h(m.error),u(!1)},y=d||e;return l.jsx("div",{className:"login-bg min-h-screen flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md animate-fadeIn",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("img",{src:"/logo.png",alt:"JustInsurance",className:"h-20 mx-auto mb-4",onError:w=>{w.target.style.display="none"}}),l.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Progress Dashboard"}),l.jsx("p",{className:"text-ji-blue-light mt-2",children:"Track your students' pre-licensing progress"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[l.jsxs("form",{onSubmit:v,children:[y&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{className:"text-red-700 text-sm",children:y})]})}),l.jsxs("div",{className:"mb-5",children:[l.jsx("label",{className:"input-label",htmlFor:"username",children:"Absorb LMS Username"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),l.jsx("input",{type:"text",id:"username",className:"input pl-10",placeholder:"Enter your username or email",value:n,onChange:w=>s(w.target.value),disabled:c,autoComplete:"username"})]})]}),l.jsxs("div",{className:"mb-5",children:[l.jsx("label",{className:"input-label",htmlFor:"password",children:"Absorb LMS Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),l.jsx("input",{type:f?"text":"password",id:"password",className:"input pl-10 pr-10",placeholder:"Enter your password",value:i,onChange:w=>r(w.target.value),disabled:c,autoComplete:"current-password"}),l.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>g(!f),children:f?l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):l.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"input-label",htmlFor:"departmentId",children:"Agency Department ID"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),l.jsx("input",{type:"text",id:"departmentId",className:"input pl-10 font-mono text-sm",placeholder:"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",value:o,onChange:w=>a(w.target.value.toUpperCase()),disabled:c})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Contact your agency admin or JustInsurance for your Department ID"})]}),l.jsx("button",{type:"submit",className:"w-full btn btn-primary py-3 text-lg font-semibold",disabled:c,style:{backgroundColor:c?"#94a3b8":"#3182ce"},children:c?l.jsxs("span",{className:"flex items-center justify-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Authenticating..."]}):"Access Dashboard"})]}),l.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:l.jsxs("p",{className:"text-center text-sm text-gray-500",children:["Need help?"," ",l.jsx("a",{href:"mailto:support@justinsuranceco.com",className:"text-ji-blue-bright hover:underline",children:"Contact Support"})]})})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-ji-blue-light text-sm",children:[" ",new Date().getFullYear()," JustInsurance. All rights reserved."]})})]})})}function Ix({summary:t}){const e=[{title:"Complete",value:t.completeCount||0,subtitle:"Finished course",emoji:"",bgColor:"bg-blue-50",iconBg:"bg-blue-100",textColor:"text-blue-800",borderColor:"border-l-4 border-blue-500"},{title:"Active",value:t.activeCount,subtitle:"Last 24 hours",emoji:"",bgColor:"bg-green-50",iconBg:"bg-green-100",textColor:"text-green-800",borderColor:"border-l-4 border-green-500"},{title:"Warning",value:t.warningCount,subtitle:"24-72 hours ago",emoji:"",bgColor:"bg-orange-50",iconBg:"bg-orange-100",textColor:"text-orange-800",borderColor:"border-l-4 border-orange-500"},{title:"Re-engage",value:t.reengageCount,subtitle:"72+ hours ago",emoji:"",bgColor:"bg-red-50",iconBg:"bg-red-100",textColor:"text-red-800",borderColor:"border-l-4 border-red-500"},{title:"Total Students",value:t.totalStudents,subtitle:"In department",emoji:"",bgColor:"bg-gray-50",iconBg:"bg-gray-100",textColor:"text-gray-800",borderColor:"border-l-4 border-gray-500"},{title:"Avg Progress",value:`${t.averageProgress}%`,subtitle:"Course completion",emoji:"",bgColor:"bg-purple-50",iconBg:"bg-purple-100",textColor:"text-purple-800",borderColor:"border-l-4 border-purple-500"}];return l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:e.map((n,s)=>l.jsx("div",{className:`kpi-card ${n.bgColor} ${n.borderColor} animate-fadeIn`,style:{animationDelay:`${s*50}ms`},children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${n.textColor} mb-1`,children:n.title}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.value}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.subtitle})]}),l.jsx("div",{className:`kpi-icon ${n.iconBg} text-2xl`,children:n.emoji})]})},s))})}function Vo({status:t}){const e=()=>{switch(t.class){case"blue":return"badge-complete";case"green":return"badge-active";case"orange":return"badge-warning";case"red":return"badge-reengage";case"gray":return"badge-abandoned";case"expired":return"badge-expired";default:return"badge-reengage"}};return l.jsxs("span",{className:`badge ${e()}`,children:[l.jsx("span",{className:"mr-1",children:t.emoji}),t.status]})}function Hi({progress:t,showLabel:e=!0}){const n=()=>{switch(t.colorClass){case"high":return"progress-high";case"med":return"progress-med";case"low":return"progress-low";default:return"progress-low"}};return l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"flex-1 progress-bar",children:l.jsx("div",{className:`progress-fill ${n()}`,style:{width:`${t.value}%`}})}),e&&l.jsx("span",{className:"text-sm font-medium text-gray-700 w-12 text-right",children:t.display})]})}function Bx({students:t,onViewStudent:e,showDepartment:n=!1}){const[s,i]=P.useState("status"),[r,o]=P.useState("asc"),a=d=>{s===d?o(r==="asc"?"desc":"asc"):(i(d),o("asc"))},c=[...t].sort((d,h)=>{let f,g;switch(s){case"name":f=d.fullName.toLowerCase(),g=h.fullName.toLowerCase();break;case"status":f=d.status.priority,g=h.status.priority;break;case"lastLogin":f=d.lastLogin.raw?new Date(d.lastLogin.raw).getTime():0,g=h.lastLogin.raw?new Date(h.lastLogin.raw).getTime():0;break;case"progress":f=d.progress.value,g=h.progress.value;break;case"course":f=d.courseName.toLowerCase(),g=h.courseName.toLowerCase();break;case"department":f=(d.departmentName||"").toLowerCase(),g=(h.departmentName||"").toLowerCase();break;default:f=d.status.priority,g=h.status.priority}return f<g?r==="asc"?-1:1:f>g?r==="asc"?1:-1:0}),u=({field:d})=>s!==d?l.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}):r==="asc"?l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}):l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})});return t.length===0?l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No students found"}),l.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]}):l.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>a("name"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Student"}),l.jsx(u,{field:"name"})]})}),n&&l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 hidden lg:table-cell",onClick:()=>a("department"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Dept"}),l.jsx(u,{field:"department"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>a("status"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Status"}),l.jsx(u,{field:"status"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>a("lastLogin"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Last Login"}),l.jsx(u,{field:"lastLogin"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 hidden md:table-cell",onClick:()=>a("course"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Course"}),l.jsx(u,{field:"course"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>a("progress"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Progress"}),l.jsx(u,{field:"progress"})]})}),l.jsx("th",{className:"sticky right-0 bg-gray-50 min-w-[80px] whitespace-nowrap",children:"Action"})]})}),l.jsx("tbody",{children:c.map((d,h)=>{var f,g;return l.jsxs("tr",{className:"animate-fadeIn",style:{animationDelay:`${h*20}ms`},children:[l.jsx("td",{children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:d.fullName}),l.jsx("p",{className:"text-sm text-gray-500",children:d.email})]})}),n&&l.jsx("td",{className:"hidden lg:table-cell",children:l.jsx("p",{className:"text-gray-700 text-sm truncate max-w-[150px]",title:d.departmentName||"",children:d.departmentName||"-"})}),l.jsx("td",{children:l.jsx(Vo,{status:d.status})}),l.jsx("td",{children:l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-900",children:d.lastLogin.relative}),l.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:d.lastLogin.formatted})]})}),l.jsx("td",{className:"hidden md:table-cell",children:l.jsx("p",{className:"text-gray-900 truncate max-w-xs",title:d.courseName,children:d.courseName})}),l.jsx("td",{children:l.jsxs("div",{className:"w-32",children:[l.jsx(Hi,{progress:d.progress}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Course: ",((f=d.timeSpent)==null?void 0:f.formatted)||"0m"]}),((g=d.examPrepTime)==null?void 0:g.minutes)>0&&l.jsxs("p",{className:"text-xs text-purple-500",children:["Prep: ",d.examPrepTime.formatted]})]})}),l.jsx("td",{className:"sticky right-0 bg-white",children:l.jsx("button",{onClick:()=>e(d),className:"btn btn-secondary text-sm py-1 px-3 whitespace-nowrap",children:"View"})})]},d.id||`${d.email}-${h}`)})})]})})})}function Wx({students:t,onViewStudent:e,adminMode:n}){const[s,i]=P.useState("examDate"),[r,o]=P.useState("asc"),a=S=>{s===S?o(r==="asc"?"desc":"asc"):(i(S),o("asc"))},c=S=>{if(!S)return 0;const L=S.trim(),E=L.split("/");if(E.length===3){let K=parseInt(E[2],10);K<100&&(K+=2e3);const H=new Date(K,parseInt(E[0],10)-1,parseInt(E[1],10));if(!isNaN(H.getTime()))return H.getTime()}const C=L.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(C){const K=new Date(parseInt(C[1],10),parseInt(C[2],10)-1,parseInt(C[3],10));if(!isNaN(K.getTime()))return K.getTime()}const z=new Date(L);return isNaN(z.getTime())?0:new Date(z.getFullYear(),z.getMonth(),z.getDate()).getTime()},u=S=>{const L=c(S.examDateRaw||S.examDate);if(!L)return"upcoming";const E=new Date(L),C=new Date,z=E.getFullYear(),K=E.getMonth(),H=E.getDate(),X=C.getFullYear(),Y=C.getMonth(),T=C.getDate();return z===X&&K===Y&&H===T?"today":new Date(z,K,H)>new Date(X,Y,T)?"upcoming":"past"},d=S=>[...S].sort((L,E)=>{var K,H,X,Y;let C,z;switch(s){case"name":C=(L.fullName||"").toLowerCase(),z=(E.fullName||"").toLowerCase();break;case"status":C=((K=L.status)==null?void 0:K.priority)??99,z=((H=E.status)==null?void 0:H.priority)??99;break;case"examDate":C=c(L.examDateRaw||L.examDate),z=c(E.examDateRaw||E.examDate);break;case"department":C=(L.departmentName||"").toLowerCase(),z=(E.departmentName||"").toLowerCase();break;case"progress":C=((X=L.progress)==null?void 0:X.value)??0,z=((Y=E.progress)==null?void 0:Y.value)??0;break;case"result":C=(L.passFail||"").toUpperCase()==="PASS"?1:(L.passFail||"").toUpperCase()==="FAIL"?3:2,z=(E.passFail||"").toUpperCase()==="PASS"?1:(E.passFail||"").toUpperCase()==="FAIL"?3:2;break;case"state":C=(L.examState||"").toLowerCase(),z=(E.examState||"").toLowerCase();break;case"course":C=(L.courseName||"").toLowerCase(),z=(E.courseName||"").toLowerCase();break;default:C=c(L.examDateRaw||L.examDate),z=c(E.examDateRaw||E.examDate)}return C<z?r==="asc"?-1:1:C>z?r==="asc"?1:-1:0}),h=t.filter(S=>u(S)==="today"),f=t.filter(S=>u(S)==="upcoming"),g=t.filter(S=>u(S)==="past"),v=d(h),y=d(f),w=s==="examDate"?[...g].sort((S,L)=>{const E=c(S.examDateRaw||S.examDate),C=c(L.examDateRaw||L.examDate);return r==="asc"?C-E:E-C}):d(g),p=[];v.length>0&&p.push({label:"Today's Exams",color:"blue",icon:"calendar-today",students:v}),y.length>0&&p.push({label:"Upcoming Exams",color:"green",icon:"calendar-upcoming",students:y}),w.length>0&&p.push({label:"Past Exams",color:"gray",icon:"calendar-past",students:w});const m=9,x=({field:S})=>s!==S?l.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}):r==="asc"?l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}):l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),b=S=>{const L=c(S);if(!L)return!1;const E=new Date(L),C=new Date;return C.setHours(0,0,0,0),E<C},k=S=>{const L=(S.passFail||"").toUpperCase();return L==="PASS"?"green":L==="FAIL"?"red":"gray"};if(t.length===0)return l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No exam students found"}),l.jsx("p",{className:"text-gray-500",children:"No students with scheduled exams"})]});const N=(S,L,E)=>{var T,R,W,J;const C=b(S.examDateRaw||S.examDate),z=((T=S.passFail)==null?void 0:T.toUpperCase())==="PASS",K=((R=S.passFail)==null?void 0:R.toUpperCase())==="FAIL",H=k(S),X=H==="green"?"bg-green-500":H==="yellow"?"bg-yellow-400":H==="gray"?"bg-gray-400":"bg-red-500",Y=u(S)==="today";return l.jsxs("tr",{className:`animate-fadeIn ${Y?"bg-blue-50/40":""}`,style:{animationDelay:`${(E+L)*20}ms`},children:[l.jsx("td",{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-2.5 h-2.5 rounded-full flex-shrink-0 ${X}`,title:`Readiness: ${H}`}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:S.fullName}),l.jsx("p",{className:"text-sm text-gray-500",children:S.email})]})]})}),n&&l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",title:S.departmentName,children:S.departmentName||"Unknown"})}),l.jsx("td",{children:S.matched!==!1?l.jsx(Vo,{status:S.status}):l.jsx("span",{className:"badge bg-gray-100 text-gray-600",children:"N/A"})}),l.jsx("td",{children:l.jsxs("div",{children:[l.jsxs("p",{className:`font-medium ${C?"text-gray-400":Y?"text-blue-700 font-semibold":"text-gray-900"}`,children:[S.examDate||"TBD",Y&&l.jsx("span",{className:"ml-1.5 text-xs font-medium text-blue-500",children:"TODAY"})]}),S.examTime&&l.jsx("p",{className:"text-xs text-gray-500",children:S.examTime})]})}),l.jsx("td",{children:l.jsxs("div",{className:"min-w-[180px]",children:[l.jsx(Hi,{progress:S.progress}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Course: ",((W=S.timeSpent)==null?void 0:W.formatted)||"0m"]}),((J=S.examPrepTime)==null?void 0:J.minutes)>0&&l.jsxs("p",{className:"text-xs text-purple-500",children:["Prep: ",S.examPrepTime.formatted]})]})}),l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",title:S.courseName,children:S.courseName})}),l.jsx("td",{children:z?l.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-sm font-bold bg-green-100 text-green-800 border border-green-300",children:"PASS"}):K?l.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-sm font-bold bg-red-100 text-red-800 border border-red-300",children:"FAIL"}):l.jsx("span",{className:"text-gray-400 text-sm",children:""})}),!n&&l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",title:S.departmentName,children:S.departmentName||"Unknown"})}),l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",children:S.examState||""})}),l.jsx("td",{className:"sticky right-0 bg-white",children:l.jsx("button",{onClick:()=>e(S),className:"btn btn-secondary text-sm py-1 px-3 whitespace-nowrap",children:"View"})})]},`${S.email}-${S.examDateRaw||L}`)},M={blue:{bg:"bg-blue-600",text:"text-white",border:"border-blue-700"},green:{bg:"bg-emerald-50",text:"text-emerald-700",border:"border-emerald-200"},gray:{bg:"bg-gray-100",text:"text-gray-500",border:"border-gray-200"}};let _=0;return l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[l.jsxs("div",{className:"bg-blue-50 border-b border-blue-100 px-4 py-2 text-xs text-blue-700 flex items-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("span",{children:["Scroll horizontally to see all columns ","",' Click "View" to edit exam dates']})]}),l.jsx("div",{className:"table-scroll-wrapper",children:l.jsxs("table",{className:"data-table min-w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[200px]",onClick:()=>a("name"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Student"}),l.jsx(x,{field:"name"})]})}),n&&l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[130px]",onClick:()=>a("department"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Department"}),l.jsx(x,{field:"department"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[100px]",onClick:()=>a("status"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Status"}),l.jsx(x,{field:"status"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[120px]",onClick:()=>a("examDate"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Exam Date"}),l.jsx(x,{field:"examDate"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[200px]",onClick:()=>a("progress"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Progress"}),l.jsx(x,{field:"progress"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[180px]",onClick:()=>a("course"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Course"}),l.jsx(x,{field:"course"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[80px]",onClick:()=>a("result"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Result"}),l.jsx(x,{field:"result"})]})}),!n&&l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[130px]",onClick:()=>a("department"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Department"}),l.jsx(x,{field:"department"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[70px]",onClick:()=>a("state"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"State"}),l.jsx(x,{field:"state"})]})}),l.jsx("th",{className:"sticky right-0 bg-gray-50 min-w-[80px] whitespace-nowrap",children:"Action"})]})}),l.jsx("tbody",{children:p.map((S,L)=>{const E=M[S.color],C=_;return _+=S.students.length,l.jsxs(Jh.Fragment,{children:[l.jsx("tr",{children:l.jsx("td",{colSpan:m,className:`${E.bg} ${E.text} ${E.border} border-y px-4 py-2`,children:l.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[S.color==="blue"&&l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),S.color==="green"&&l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),S.color==="gray"&&l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{children:S.label}),l.jsxs("span",{className:`text-xs font-normal ${S.color==="blue"?"text-blue-200":"opacity-60"}`,children:["(",S.students.length," student",S.students.length!==1?"s":"",")"]})]})})}),S.students.map((z,K)=>N(z,K,C))]},S.label)})})]})})]})}const Ld="/api";function Ca(t){if(!t||t<=0)return"0m";const e=Math.round(t*60),n=Math.floor(e/60),s=e%60;return n===0?`${s}m`:s===0?`${n}h`:`${n}h ${s}m`}function Hx(t){const e=t.toLowerCase();return e.includes("pre-licens")||e.includes("prelicens")||e.includes("pre licens")}function $x(t){const e=t.toLowerCase();return e.includes("module")||e.includes("chapter")||e.includes("lesson")||e.includes("unit")}function Vx(t){const e=t.toLowerCase();return e.includes("practice")||e.includes("prep")||e.includes("study")}function Ux(t){const e=[],n=[],s=[];for(const i of t){const r=i.courseName||"";Hx(r)||$x(r)?e.push(i):Vx(r)?n.push(i):s.push(i)}return{preLicensing:e,examPrep:n,other:s}}function Ed({enrollment:t,isModule:e=!1}){var n,s;return l.jsxs("div",{className:`border border-gray-200 rounded-lg p-4 ${e?"ml-4 bg-gray-50":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("p",{className:`font-medium text-gray-900 ${e?"text-sm":""}`,children:[e&&l.jsx("span",{className:"text-gray-400 mr-2",children:"|--"}),t.courseName]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t.status===2?"bg-green-100 text-green-800":t.status===1?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:t.statusText})]}),l.jsx(Hi,{progress:t.progress}),l.jsxs("div",{className:"flex items-center justify-between mt-2 text-sm text-gray-500",children:[l.jsxs("span",{children:["Time: ",((n=t.timeSpent)==null?void 0:n.formatted)||"0m"]}),l.jsxs("span",{children:["Last accessed: ",((s=t.lastAccessed)==null?void 0:s.relative)||"Never"]})]})]})}function Ma({title:t,icon:e,color:n,enrollments:s,defaultExpanded:i=!0}){var d;const[r,o]=P.useState(i);if(!s.length)return null;const a=s.find(h=>{const f=(h.courseName||"").toLowerCase();return!f.includes("module")&&!f.includes("chapter")&&!f.includes("lesson")})||s[0],c=Math.round(((d=a.progress)==null?void 0:d.value)??a.progress??0),u=s.filter(h=>h.id!==a.id);return l.jsxs("div",{className:`border-2 rounded-xl overflow-hidden ${n}`,children:[l.jsxs("div",{className:"px-4 py-3 cursor-pointer flex items-center justify-between",onClick:()=>o(!r),children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:e}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-900",children:t}),l.jsxs("p",{className:"text-sm text-gray-600",children:[s.length," course",s.length>1?"s":""]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[c,"%"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Overall Progress"})]}),l.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]}),r&&l.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[l.jsx(Ed,{enrollment:a}),u.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide ml-4",children:["Modules (",u.length,")"]}),u.map(h=>l.jsx(Ed,{enrollment:h,isModule:!0},h.id))]})]})]})}function Yx({enrollments:t}){const{preLicensing:e,examPrep:n,other:s}=P.useMemo(()=>Ux(t),[t]);return l.jsxs("div",{className:"space-y-4",children:[l.jsx(Ma,{title:"Pre-Licensing Course",icon:"",color:"border-blue-200 bg-blue-50/50",enrollments:e,defaultExpanded:!0}),l.jsx(Ma,{title:"Exam Prep",icon:"",color:"border-purple-200 bg-purple-50/50",enrollments:n,defaultExpanded:!0}),s.length>0&&l.jsx(Ma,{title:"Other Courses",icon:"",color:"border-gray-200 bg-gray-50/50",enrollments:s,defaultExpanded:!1})]})}function gr(t){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t)}function Xx({studentId:t,examInfo:e,onClose:n,onSessionExpired:s,onUpdateResult:i,onUpdateExamDate:r,onUpdateStudentContact:o}){var Y,T,R,W,J,ie;const[a,c]=P.useState(null),[u,d]=P.useState(!0),[h,f]=P.useState(null),[g,v]=P.useState(!1),[y,w]=P.useState(""),[p,m]=P.useState(""),[x,b]=P.useState(!1),[k,N]=P.useState({firstName:"",lastName:"",emailAddress:"",phone:""}),[M,_]=P.useState(""),[S,L]=P.useState(!1),[E,C]=P.useState([]),[z,K]=P.useState(!1);P.useEffect(()=>{H()},[t]);const H=async()=>{var A;d(!0),f(null);try{const V=new URLSearchParams;e!=null&&e.examCourse&&V.set("courseType",e.examCourse);const q=V.toString()?`?${V.toString()}`:"",G=await fetch(`${Ld}/students/${t}${q}`,{credentials:"include"});if(!G.ok){if(G.status===401){s();return}throw new Error("Failed to fetch student details")}const be=await G.json();if(be.success)c(be.student),(A=be.student)!=null&&A.email&&fetch(`${Ld}/exam/snapshots/${encodeURIComponent(be.student.email)}`,{credentials:"include"}).then(se=>se.ok?se.json():null).then(se=>{se!=null&&se.success&&C(se.snapshots||[])}).catch(()=>{});else throw new Error(be.error||"Failed to load student")}catch(V){f(V.message)}finally{d(!1)}},X=async()=>{if(_(""),!k.firstName.trim()||!k.lastName.trim()){_("First and last name are required");return}if(!gr(k.emailAddress)){_("Please enter a valid email address");return}L(!0);try{const A=await o(t,{firstName:k.firstName.trim(),lastName:k.lastName.trim(),emailAddress:k.emailAddress.trim(),phone:k.phone.trim()});A.success?(c(V=>({...V,firstName:A.student.firstName,lastName:A.student.lastName,fullName:`${A.student.firstName} ${A.student.lastName}`.trim(),email:A.student.emailAddress,phone:A.student.phone})),b(!1)):_(A.error||"Update failed")}catch{_("Failed to save changes")}finally{L(!1)}};return P.useEffect(()=>{const A=V=>{V.key==="Escape"&&n()};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[n]),P.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),l.jsx("div",{className:"modal-overlay",onClick:n,children:l.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[l.jsx("div",{className:"header px-6 py-4 rounded-t-xl",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Student Details"}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:l.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"p-6",children:u?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"spinner mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Loading student details..."})]}):h?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("svg",{className:"w-12 h-12 mx-auto text-red-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("p",{className:"text-red-600",children:h}),l.jsx("button",{onClick:H,className:"mt-4 btn btn-secondary",children:"Try Again"})]}):a?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[x?l.jsxs("div",{className:"flex-1 mr-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"First Name"}),l.jsx("input",{type:"text",value:k.firstName,onChange:A=>N(V=>({...V,firstName:A.target.value})),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Last Name"}),l.jsx("input",{type:"text",value:k.lastName,onChange:A=>N(V=>({...V,lastName:A.target.value})),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Email"}),l.jsx("input",{type:"email",value:k.emailAddress,onChange:A=>N(V=>({...V,emailAddress:A.target.value})),className:`w-full px-3 py-1.5 border rounded-lg text-sm focus:outline-none focus:ring-2 ${k.emailAddress&&!gr(k.emailAddress)?"border-red-300 focus:ring-red-400":"border-gray-300 focus:ring-blue-500"}`}),k.emailAddress&&!gr(k.emailAddress)&&l.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Invalid email format"})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Phone"}),l.jsx("input",{type:"tel",value:k.phone,onChange:A=>N(V=>({...V,phone:A.target.value})),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional"})]}),M&&l.jsx("p",{className:"text-xs text-red-500 mb-2",children:M}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:X,disabled:S||k.emailAddress&&!gr(k.emailAddress),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg text-xs font-medium hover:bg-green-700 transition-colors disabled:opacity-50",children:S?"Saving...":"Save"}),l.jsx("button",{onClick:()=>{b(!1),_("")},className:"px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg text-xs hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:a.fullName}),l.jsx("p",{className:"text-gray-500",children:a.email}),a.phone&&l.jsx("p",{className:"text-gray-400 text-sm",children:a.phone})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[!x&&o&&l.jsxs("button",{onClick:()=>{b(!0),N({firstName:a.firstName||"",lastName:a.lastName||"",emailAddress:a.email||"",phone:a.phone||""}),_("")},className:"text-xs px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-1 shadow-sm",children:[l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),l.jsx(Vo,{status:a.status})]})]}),e&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2 text-sm",children:[l.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Exam Scheduling",r&&!g&&l.jsxs("button",{onClick:()=>{v(!0),w(e.examDateRaw||""),m(e.examTime||"")},className:"ml-auto text-xs px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-1 shadow-sm",children:[l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Date"]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[g&&r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Exam Date"}),l.jsx("input",{type:"date",value:y,onChange:A=>w(A.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Time"}),l.jsx("input",{type:"text",value:p,onChange:A=>m(A.target.value),placeholder:"e.g., 2:00 PM",className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"col-span-2 flex gap-2",children:[l.jsx("button",{onClick:()=>{y&&e.email&&(r(e.email,y,p),v(!1))},className:"px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 transition-colors",children:"Save"}),l.jsx("button",{onClick:()=>v(!1),className:"px-2 py-1 bg-gray-200 text-gray-700 rounded text-xs hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Exam Date"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.examDate||"TBD"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Time"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.examTime||"N/A"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"State"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.examState||"N/A"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Result"}),i&&e.email?l.jsxs("div",{className:"flex gap-1.5 mt-0.5",children:[l.jsx("button",{onClick:()=>i(e.email,(e.passFail||"").toUpperCase()==="PASS"?"":"PASS"),className:`px-2 py-0.5 rounded text-xs font-medium transition-colors ${(e.passFail||"").toUpperCase()==="PASS"?"bg-green-600 text-white shadow-sm":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200"}`,children:"PASS"}),l.jsx("button",{onClick:()=>i(e.email,(e.passFail||"").toUpperCase()==="FAIL"?"":"FAIL"),className:`px-2 py-0.5 rounded text-xs font-medium transition-colors ${(e.passFail||"").toUpperCase()==="FAIL"?"bg-red-600 text-white shadow-sm":"bg-red-50 text-red-700 hover:bg-red-100 border border-red-200"}`,children:"FAIL"})]}):l.jsxs("p",{className:"font-semibold text-sm",children:[(e.passFail||"").toUpperCase()==="PASS"&&l.jsx("span",{className:"text-green-700 bg-green-100 px-2 py-0.5 rounded text-xs",children:"PASS"}),(e.passFail||"").toUpperCase()==="FAIL"&&l.jsx("span",{className:"text-red-700 bg-red-100 px-2 py-0.5 rounded text-xs",children:"FAIL"}),!(e.passFail||"").trim()&&l.jsx("span",{className:"text-gray-500",children:"Pending"})]})]})]}),(e.departmentName||e.agencyOwner)&&l.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[e.departmentName&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Department"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.departmentName})]}),e.agencyOwner&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Agency Owner"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.agencyOwner})]})]}),e.sheetTracking&&(e.sheetTracking.studyHoursAtExam||e.sheetTracking.finalPractice)&&l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-3 pt-3 border-t border-blue-200",children:[e.sheetTracking.studyHoursAtExam&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-purple-700",children:e.sheetTracking.studyHoursAtExam}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Hours"})]}),e.sheetTracking.finalPractice&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-blue-700",children:e.sheetTracking.finalPractice}),l.jsx("p",{className:"text-xs text-gray-500",children:"Practice %"})]}),e.sheetTracking.chaptersComplete&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-green-700",children:e.sheetTracking.chaptersComplete}),l.jsx("p",{className:"text-xs text-gray-500",children:"Chapters"})]}),e.sheetTracking.studyConsistency&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-gray-700",children:e.sheetTracking.studyConsistency}),l.jsx("p",{className:"text-xs text-gray-500",children:"Consistency"})]})]})]}),a.readiness&&l.jsxs("div",{className:`border-2 rounded-xl p-4 ${a.readiness.status==="GREEN"?"border-green-300 bg-green-50":a.readiness.status==="YELLOW"?"border-yellow-300 bg-yellow-50":"border-red-300 bg-red-50"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2 text-sm",children:[l.jsx("span",{className:`w-3 h-3 rounded-full ${a.readiness.status==="GREEN"?"bg-green-500":a.readiness.status==="YELLOW"?"bg-yellow-400":"bg-red-500"}`}),"Exam Readiness"]}),l.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${a.readiness.status==="GREEN"?"bg-green-200 text-green-800":a.readiness.status==="YELLOW"?"bg-yellow-200 text-yellow-800":"bg-red-200 text-red-800"}`,children:[a.readiness.status," (",a.readiness.criteriaMet,"/",a.readiness.criteriaTotal,")"]})]}),l.jsxs("div",{className:"space-y-2",children:[a.readiness.criteria.practiceExams&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.practiceExams.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.practiceExams.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Practice Exams"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[a.readiness.criteria.practiceExams.consecutivePassing,"/3 consecutive passing","  ",a.readiness.criteria.practiceExams.totalExams," exam",a.readiness.criteria.practiceExams.totalExams!==1?"s":""," found","  ",Ca(a.readiness.criteria.practiceExams.hoursSpent)," total time"]})]})]}),((Y=a.readiness.criteria.practiceExams.details)==null?void 0:Y.length)>0&&l.jsx("div",{className:"mt-2 ml-7 space-y-1",children:a.readiness.criteria.practiceExams.details.map((A,V)=>l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx("span",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${A.score>=80?"bg-green-500":"bg-red-400"}`}),l.jsxs("span",{className:`font-medium ${A.score>=80?"text-green-700":"text-red-600"}`,children:[Math.round(A.score*10)/10,"%"]}),l.jsxs("span",{className:"text-gray-400",children:[A.minutes,"m"]}),l.jsx("span",{className:"text-gray-400 truncate",title:A.name,children:A.name})]},V))})]}),a.readiness.criteria.timeInCourse&&l.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg p-2.5",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.timeInCourse.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.timeInCourse.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Time in Course"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[Ca(a.readiness.criteria.timeInCourse.hoursLogged)," / ",a.readiness.criteria.timeInCourse.hoursRequired,"h required (",a.readiness.criteria.timeInCourse.courseType,")"]})]})]}),a.readiness.criteria.stateLaws&&l.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg p-2.5",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.stateLaws.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.stateLaws.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"State Laws"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[a.readiness.criteria.stateLaws.completions," completion",a.readiness.criteria.stateLaws.completions!==1?"s":"",", ",Ca(a.readiness.criteria.stateLaws.hoursSpent)," spent (need 1 completion + 1h 30m)"]})]})]}),a.readiness.criteria.videos&&l.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg p-2.5",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.videos.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.videos.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Videos"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[((T=a.readiness.criteria.videos.details)==null?void 0:T.life)&&l.jsxs("span",{children:["Life: ",a.readiness.criteria.videos.details.life.minutes,"m/30m",a.readiness.criteria.videos.details.life.met?" ":""," "]}),((R=a.readiness.criteria.videos.details)==null?void 0:R.health)&&l.jsxs("span",{children:["Health: ",a.readiness.criteria.videos.details.health.minutes,"m/30m",a.readiness.criteria.videos.details.health.met?" ":""]}),!((W=a.readiness.criteria.videos.details)!=null&&W.life)&&!((J=a.readiness.criteria.videos.details)!=null&&J.health)&&l.jsxs("span",{children:[a.readiness.criteria.videos.totalCourses," video course",a.readiness.criteria.videos.totalCourses!==1?"s":""]})]})]})]})]})]}),a.gapMetrics&&a.gapMetrics.study_gap_count>0&&l.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4",children:[l.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2 text-sm mb-3",children:[l.jsx("svg",{className:"w-4 h-4 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Study Consistency"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:`text-lg font-bold ${a.gapMetrics.study_gap_count>5?"text-red-600":a.gapMetrics.study_gap_count>2?"text-orange-600":"text-green-600"}`,children:a.gapMetrics.study_gap_count}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Gaps"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-gray-700",children:a.gapMetrics.total_gap_days}),l.jsx("p",{className:"text-xs text-gray-500",children:"Total Gap Days"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:`text-lg font-bold ${a.gapMetrics.largest_gap_days>7?"text-red-600":a.gapMetrics.largest_gap_days>3?"text-orange-600":"text-green-600"}`,children:a.gapMetrics.largest_gap_days}),l.jsx("p",{className:"text-xs text-gray-500",children:"Largest Gap (days)"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-sm font-bold text-gray-700",children:a.gapMetrics.last_gap_date||"N/A"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Last Gap Date"})]})]})]}),E.length>0&&l.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-xl p-4",children:[l.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2 text-sm mb-3 cursor-pointer",onClick:()=>K(!z),children:[l.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Study History",l.jsxs("span",{className:"text-xs font-normal text-gray-500 ml-1",children:["(",E.length," snapshot",E.length!==1?"s":"",")"]}),l.jsx("svg",{className:`w-4 h-4 ml-auto text-gray-400 transition-transform ${z?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),(()=>{const A=E[0],V=E[E.length-1],q=A.total_time_min-V.total_time_min,G=A.prelicense_progress-V.prelicense_progress,be=se=>se>=60?`${Math.floor(se/60)}h ${Math.round(se%60)}m`:`${Math.round(se)}m`;return l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-indigo-700",children:be(A.total_time_min)}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Time"}),E.length>1&&q>0&&l.jsxs("p",{className:"text-xs text-green-600",children:["+",be(q)]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsxs("p",{className:"text-lg font-bold text-indigo-700",children:[A.prelicense_progress,"%"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Pre-License"}),E.length>1&&G!==0&&l.jsxs("p",{className:`text-xs ${G>0?"text-green-600":"text-red-500"}`,children:[G>0?"+":"",G.toFixed(1),"%"]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-indigo-700",children:A.consecutive_passing}),l.jsx("p",{className:"text-xs text-gray-500",children:"Consec. Passing"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("span",{className:`inline-block w-3 h-3 rounded-full mr-1 ${A.readiness==="GREEN"?"bg-green-500":A.readiness==="YELLOW"?"bg-yellow-400":"bg-red-500"}`}),l.jsx("span",{className:"text-sm font-bold text-gray-700",children:A.criteria_met}),l.jsx("p",{className:"text-xs text-gray-500",children:"Readiness"})]})]})})(),E.length>1&&l.jsxs("div",{className:"bg-white rounded-lg p-3 mb-3",children:[l.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Study Time Progression"}),l.jsx("div",{className:"flex items-end gap-1",style:{height:"48px"},children:(()=>{const A=[...E].reverse(),V=Math.max(...A.map(q=>q.total_time_min),1);return A.map((q,G)=>{const be=Math.max(q.total_time_min/V*100,4),se=q.readiness==="GREEN"?"bg-green-400":q.readiness==="YELLOW"?"bg-yellow-400":"bg-red-400";return l.jsx("div",{className:`flex-1 rounded-t ${se} transition-all`,style:{height:`${be}%`,minWidth:"4px",maxWidth:"24px"},title:`${new Date(q.snapshot_time).toLocaleDateString()} - ${Math.round(q.total_time_min)}min (${q.readiness})`},q.id||G)})})()}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[l.jsx("span",{children:new Date(E[E.length-1].snapshot_time).toLocaleDateString()}),l.jsx("span",{children:new Date(E[0].snapshot_time).toLocaleDateString()})]})]}),z&&l.jsx("div",{className:"bg-white rounded-lg overflow-hidden",children:l.jsxs("table",{className:"w-full text-xs",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-indigo-100 text-gray-600",children:[l.jsx("th",{className:"px-2 py-1.5 text-left",children:"Date"}),l.jsx("th",{className:"px-2 py-1.5 text-right",children:"Time"}),l.jsx("th",{className:"px-2 py-1.5 text-right",children:"Progress"}),l.jsx("th",{className:"px-2 py-1.5 text-right",children:"Passing"}),l.jsx("th",{className:"px-2 py-1.5 text-center",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:E.map((A,V)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"px-2 py-1.5 text-gray-600",children:[new Date(A.snapshot_time).toLocaleDateString()," ",new Date(A.snapshot_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),l.jsx("td",{className:"px-2 py-1.5 text-right font-medium",children:A.total_time_min>=60?`${Math.floor(A.total_time_min/60)}h ${Math.round(A.total_time_min%60)}m`:`${Math.round(A.total_time_min)}m`}),l.jsxs("td",{className:"px-2 py-1.5 text-right",children:[A.prelicense_progress,"%"]}),l.jsxs("td",{className:"px-2 py-1.5 text-right",children:[A.consecutive_passing,"/3"]}),l.jsx("td",{className:"px-2 py-1.5 text-center",children:l.jsx("span",{className:`inline-block w-2.5 h-2.5 rounded-full ${A.readiness==="GREEN"?"bg-green-500":A.readiness==="YELLOW"?"bg-yellow-400":"bg-red-500"}`,title:`${A.readiness} (${A.criteria_met})`})})]},A.id||V))})]})})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Last Login"}),l.jsx("p",{className:"font-semibold text-gray-900",children:a.lastLogin.relative})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Course Time"}),l.jsx("p",{className:"font-semibold text-gray-900",children:a.timeSpent.formatted})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam Prep Time"}),l.jsx("p",{className:"font-semibold text-purple-700",children:((ie=a.examPrepTime)==null?void 0:ie.formatted)||"0m"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Total Study Time"}),l.jsx("p",{className:"font-semibold text-gray-900",children:(()=>{var G,be;const A=((G=a.timeSpent)==null?void 0:G.minutes)||0,V=((be=a.examPrepTime)==null?void 0:be.minutes)||0,q=A+V;return q>=60?`${Math.floor(q/60)}h ${q%60}m`:`${q}m`})()})]})]}),l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"font-medium text-gray-900",children:a.courseName}),l.jsx("span",{className:"text-sm text-gray-500",children:a.enrollmentStatusText})]}),l.jsx(Hi,{progress:a.progress})]}),a.enrollments&&a.enrollments.length>0&&l.jsx(Yx,{enrollments:a.enrollments})]}):null}),l.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:l.jsx("button",{onClick:n,className:"btn btn-secondary",children:"Close"})})]})})}function Kx({student:t,adminMode:e,onClose:n,onUpdateResult:s,onUpdateExamDate:i,onUpdateContact:r}){var L,E;const[o,a]=P.useState(!1),[c,u]=P.useState(""),[d,h]=P.useState(""),[f,g]=P.useState(!1),[v,y]=P.useState(""),[w,p]=P.useState(""),[m,x]=P.useState(""),[b,k]=P.useState(!1);P.useEffect(()=>{const C=z=>{z.key==="Escape"&&n()};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[n]),P.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const N=(t.passFail||"").toUpperCase()==="PASS",M=(t.passFail||"").toUpperCase()==="FAIL",_=t.sheetTracking||{},S=C=>{const z=(C||"").toUpperCase();return z==="GREEN"?"bg-green-100 text-green-700":z==="YELLOW"?"bg-yellow-100 text-yellow-700":z==="RED"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"};return l.jsx("div",{className:"modal-overlay",onClick:n,children:l.jsxs("div",{className:"modal-content",onClick:C=>C.stopPropagation(),children:[l.jsx("div",{className:`${e?"bg-gradient-to-r from-purple-700 to-purple-900":"header"} px-6 py-4 rounded-t-xl`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Student Details"}),e&&l.jsx("span",{className:"px-2 py-0.5 bg-white/20 rounded text-xs text-white font-medium",children:"Admin"})]}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:l.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"p-6 max-h-[80vh] overflow-y-auto",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("div",{children:f?l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"text",value:v,onChange:C=>y(C.target.value),placeholder:"Full Name",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("input",{type:"email",value:w,onChange:C=>p(C.target.value),placeholder:"Email",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("input",{type:"tel",value:m,onChange:C=>x(C.target.value),placeholder:"Phone",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{disabled:b,onClick:async()=>{k(!0),await r(t.email,v,w,m),k(!1),g(!1)},className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors disabled:opacity-50",children:b?"Saving...":"Save"}),l.jsx("button",{onClick:()=>g(!1),className:"px-3 py-1 bg-gray-200 text-gray-700 rounded text-sm hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:t.fullName}),l.jsx("p",{className:"text-gray-500",children:t.email}),(_.phone||t.phone)&&l.jsx("p",{className:"text-gray-500 text-sm",children:_.phone||t.phone})]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[e&&r&&!f&&l.jsx("button",{onClick:()=>{y(t.fullName||""),p(t.email||""),x(_.phone||t.phone||""),g(!0)},className:"text-xs px-2 py-1 text-purple-600 hover:bg-purple-50 rounded border border-purple-200 transition-colors",children:"Edit"}),t.matched!==!1?l.jsx(Vo,{status:t.status}):!e&&l.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-600",children:"Not in department"})]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-5",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Exam Information",i&&!o&&l.jsxs("button",{onClick:()=>{a(!0),u(t.examDateRaw||""),h(t.examTime||"")},className:"ml-auto text-xs px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-1 shadow-sm",children:[l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Date"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o&&i?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Exam Date"}),l.jsx("input",{type:"date",value:c,onChange:C=>u(C.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Exam Time"}),l.jsx("input",{type:"text",value:d,onChange:C=>h(C.target.value),placeholder:"e.g., 2:00 PM",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"col-span-2 flex gap-2 justify-end",children:[l.jsx("button",{onClick:()=>{c&&(i(t.email,c,d),a(!1))},className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors",children:"Save"}),l.jsx("button",{onClick:()=>a(!1),className:"px-3 py-1 bg-gray-200 text-gray-700 rounded text-sm hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam Date"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examDate||"TBD"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam Time"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examTime||"N/A"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"State"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examState||"N/A"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Result"}),s?l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsx("button",{onClick:()=>s(t.email,N?"":"PASS"),className:`px-3 py-1 rounded text-xs font-medium transition-colors ${N?"bg-green-600 text-white shadow-sm":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200"}`,children:"PASS"}),l.jsx("button",{onClick:()=>s(t.email,M?"":"FAIL"),className:`px-3 py-1 rounded text-xs font-medium transition-colors ${M?"bg-red-600 text-white shadow-sm":"bg-red-50 text-red-700 hover:bg-red-100 border border-red-200"}`,children:"FAIL"})]}):l.jsxs("p",{className:"font-semibold",children:[N&&l.jsx("span",{className:"text-green-700 bg-green-100 px-2 py-0.5 rounded",children:"PASS"}),M&&l.jsx("span",{className:"text-red-700 bg-red-100 px-2 py-0.5 rounded",children:"FAIL"}),!N&&!M&&l.jsx("span",{className:"text-gray-600",children:"Pending"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Course"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examCourse||t.courseName||"N/A"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Agency Owner"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.agencyOwner||"N/A"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Department"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.departmentName||"N/A"})]}),t.finalOutcome&&l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Final Outcome"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.finalOutcome})]})]}),e&&(_.studyHoursAtExam||_.finalPractice||_.chaptersComplete)&&l.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-5",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Study Stats at Exam"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[_.studyHoursAtExam&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-purple-700",children:_.studyHoursAtExam}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Hours"})]}),_.finalPractice&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-700",children:_.finalPractice}),l.jsx("p",{className:"text-xs text-gray-500",children:"Final Practice %"})]}),_.chaptersComplete&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:_.chaptersComplete}),l.jsx("p",{className:"text-xs text-gray-500",children:"Chapters Complete"})]}),_.videosWatched&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-indigo-700",children:_.videosWatched}),l.jsx("p",{className:"text-xs text-gray-500",children:"Videos Watched"})]}),_.stateLawsDone&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-amber-700",children:_.stateLawsDone}),l.jsx("p",{className:"text-xs text-gray-500",children:"State Laws Done"})]}),_.studyConsistency&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-gray-700",children:_.studyConsistency}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Consistency"})]})]})]}),e&&_.weeklyTracking&&_.weeklyTracking.length>0&&l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-5",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Weekly Tracking",_.t0Sent&&l.jsxs("span",{className:"text-xs font-normal text-gray-500 ml-2",children:["T-0 Sent: ",_.t0Sent]})]}),l.jsx("div",{className:"space-y-3",children:_.weeklyTracking.map(C=>l.jsxs("div",{className:"bg-white rounded-lg p-3 flex items-center gap-4",children:[l.jsx("div",{className:"w-12 text-center",children:l.jsx("span",{className:"font-bold text-gray-700 text-sm",children:C.week})}),l.jsxs("div",{className:"flex-1 flex items-center gap-3 flex-wrap",children:[C.status&&l.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${S(C.status)}`,children:C.status}),C.hours&&l.jsxs("span",{className:"text-sm text-gray-700",children:[l.jsx("span",{className:"text-gray-500",children:"Hours:"})," ",C.hours]}),C.practice&&l.jsxs("span",{className:"text-sm text-gray-700",children:[l.jsx("span",{className:"text-gray-500",children:"Practice:"})," ",C.practice]})]}),C.notes&&l.jsx("p",{className:"text-xs text-gray-500 italic max-w-[200px] truncate",title:C.notes,children:C.notes})]},C.week))})]}),t.matched!==!1&&l.jsx(l.Fragment,{children:l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx("p",{className:"font-medium text-gray-900",children:t.courseName})}),l.jsx(Hi,{progress:t.progress}),l.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[l.jsxs("span",{children:["Course: ",((L=t.timeSpent)==null?void 0:L.formatted)||"0m"]}),((E=t.examPrepTime)==null?void 0:E.minutes)>0&&l.jsxs("span",{className:"text-purple-600",children:["Prep: ",t.examPrepTime.formatted]})]})]})}),t.matched===!1&&!e&&l.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[l.jsx("svg",{className:"w-5 h-5 text-amber-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-amber-800",children:"Student not in your department"}),l.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Course progress and study time data from Absorb is only available for students in your department. Log in as their department admin to see full details."})]})]})]})}),l.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:l.jsx("button",{onClick:n,className:"btn btn-secondary",children:"Close"})})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function $i(t){return t+.5|0}const on=(t,e,n)=>Math.max(Math.min(t,n),e);function Js(t){return on($i(t*2.55),0,255)}function xn(t){return on($i(t*255),0,255)}function It(t){return on($i(t/2.55)/100,0,1)}function Pd(t){return on($i(t*100),0,100)}const at={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ol=[..."0123456789ABCDEF"],Qx=t=>Ol[t&15],Gx=t=>Ol[(t&240)>>4]+Ol[t&15],xr=t=>(t&240)>>4===(t&15),Zx=t=>xr(t.r)&&xr(t.g)&&xr(t.b)&&xr(t.a);function Jx(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&at[t[1]]*17,g:255&at[t[2]]*17,b:255&at[t[3]]*17,a:e===5?at[t[4]]*17:255}:(e===7||e===9)&&(n={r:at[t[1]]<<4|at[t[2]],g:at[t[3]]<<4|at[t[4]],b:at[t[5]]<<4|at[t[6]],a:e===9?at[t[7]]<<4|at[t[8]]:255})),n}const qx=(t,e)=>t<255?e(t):"";function ey(t){var e=Zx(t)?Qx:Gx;return t?"#"+e(t.r)+e(t.g)+e(t.b)+qx(t.a,e):void 0}const ty=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function nm(t,e,n){const s=e*Math.min(n,1-n),i=(r,o=(r+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function ny(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function sy(t,e,n){const s=nm(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function iy(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function Rc(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let c,u,d;return r!==o&&(d=r-o,u=a>.5?d/(2-r-o):d/(r+o),c=iy(n,s,i,d,r),c=c*60+.5),[c|0,u||0,a]}function Fc(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(xn)}function zc(t,e,n){return Fc(nm,t,e,n)}function ry(t,e,n){return Fc(sy,t,e,n)}function oy(t,e,n){return Fc(ny,t,e,n)}function sm(t){return(t%360+360)%360}function ay(t){const e=ty.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?Js(+e[5]):xn(+e[5]));const i=sm(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=ry(i,r,o):e[1]==="hsv"?s=oy(i,r,o):s=zc(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function ly(t,e){var n=Rc(t);n[0]=sm(n[0]+e),n=zc(n),t.r=n[0],t.g=n[1],t.b=n[2]}function cy(t){if(!t)return;const e=Rc(t),n=e[0],s=Pd(e[1]),i=Pd(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${It(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const Dd={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Td={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function uy(){const t={},e=Object.keys(Td),n=Object.keys(Dd);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,Dd[r]);r=parseInt(Td[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let yr;function dy(t){yr||(yr=uy(),yr.transparent=[0,0,0,0]);const e=yr[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const hy=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function fy(t){const e=hy.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?Js(o):on(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?Js(s):on(s,0,255)),i=255&(e[4]?Js(i):on(i,0,255)),r=255&(e[6]?Js(r):on(r,0,255)),{r:s,g:i,b:r,a:n}}}function py(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${It(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const La=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Gn=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function my(t,e,n){const s=Gn(It(t.r)),i=Gn(It(t.g)),r=Gn(It(t.b));return{r:xn(La(s+n*(Gn(It(e.r))-s))),g:xn(La(i+n*(Gn(It(e.g))-i))),b:xn(La(r+n*(Gn(It(e.b))-r))),a:t.a+n*(e.a-t.a)}}function vr(t,e,n){if(t){let s=Rc(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=zc(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function im(t,e){return t&&Object.assign(e||{},t)}function Ad(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=xn(t[3]))):(e=im(t,{r:0,g:0,b:0,a:1}),e.a=xn(e.a)),e}function gy(t){return t.charAt(0)==="r"?fy(t):ay(t)}class Di{constructor(e){if(e instanceof Di)return e;const n=typeof e;let s;n==="object"?s=Ad(e):n==="string"&&(s=Jx(e)||dy(e)||gy(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=im(this._rgb);return e&&(e.a=It(e.a)),e}set rgb(e){this._rgb=Ad(e)}rgbString(){return this._valid?py(this._rgb):void 0}hexString(){return this._valid?ey(this._rgb):void 0}hslString(){return this._valid?cy(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,c=s.a-i.a,u=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;r=1-u,s.r=255&u*s.r+r*i.r+.5,s.g=255&u*s.g+r*i.g+.5,s.b=255&u*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=my(this._rgb,e._rgb,n)),this}clone(){return new Di(this.rgb)}alpha(e){return this._rgb.a=xn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=$i(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return vr(this._rgb,2,e),this}darken(e){return vr(this._rgb,2,-e),this}saturate(e){return vr(this._rgb,1,e),this}desaturate(e){return vr(this._rgb,1,-e),this}rotate(e){return ly(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function At(){}const xy=(()=>{let t=0;return()=>t++})();function le(t){return t==null}function Se(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ne(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function mt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Nt(t,e){return mt(t)?t:e}function ee(t,e){return typeof t>"u"?e:t}const yy=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,rm=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function he(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function re(t,e,n,s){let i,r,o;if(Se(t))for(r=t.length,i=0;i<r;i++)e.call(n,t[i],i);else if(ne(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(n,t[o[i]],o[i])}function go(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function xo(t){if(Se(t))return t.map(xo);if(ne(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=xo(t[n[i]]);return e}return t}function om(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function vy(t,e,n,s){if(!om(t))return;const i=e[t],r=n[t];ne(i)&&ne(r)?Ti(i,r,s):e[t]=xo(r)}function Ti(t,e,n){const s=Se(e)?e:[e],i=s.length;if(!ne(t))return t;n=n||{};const r=n.merger||vy;let o;for(let a=0;a<i;++a){if(o=s[a],!ne(o))continue;const c=Object.keys(o);for(let u=0,d=c.length;u<d;++u)r(c[u],t,o,n)}return t}function di(t,e){return Ti(t,e,{merger:wy})}function wy(t,e,n){if(!om(t))return;const s=e[t],i=n[t];ne(s)&&ne(i)?di(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=xo(i))}const Od={"":t=>t,x:t=>t.x,y:t=>t.y};function by(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function ky(t){const e=by(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Un(t,e){return(Od[e]||(Od[e]=ky(e)))(t)}function Ic(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ai=t=>typeof t<"u",bn=t=>typeof t=="function",Rd=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function jy(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ae=Math.PI,je=2*ae,yo=Number.POSITIVE_INFINITY,_y=ae/180,Ce=ae/2,Cn=ae/4,Fd=ae*2/3,am=Math.log10,yn=Math.sign;function Wr(t,e,n){return Math.abs(t-e)<n}function zd(t){const e=Math.round(t);t=Wr(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(am(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function Sy(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function Ny(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function vo(t){return!Ny(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Cy(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function My(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Ht(t){return t*(ae/180)}function Ly(t){return t*(180/ae)}function Id(t){if(!mt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function lm(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*ae&&(r+=je),{angle:r,distance:i}}function Ey(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Et(t){return(t%je+je)%je}function wo(t,e,n,s){const i=Et(t),r=Et(e),o=Et(n),a=Et(r-i),c=Et(o-i),u=Et(i-r),d=Et(i-o);return i===r||i===o||s&&r===o||a>c&&u<d}function Ge(t,e,n){return Math.max(e,Math.min(n,t))}function Py(t){return Ge(t,-32768,32767)}function Rn(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function Bc(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const Rl=(t,e,n,s)=>Bc(t,n,s?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),Dy=(t,e,n)=>Bc(t,n,s=>t[s][e]>=n);function Ty(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const cm=["push","pop","shift","splice","unshift"];function Ay(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),cm.forEach(n=>{const s="_onData"+Ic(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function Bd(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(cm.forEach(r=>{delete t[r]}),delete t._chartjs)}function um(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const dm=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function hm(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,dm.call(window,()=>{s=!1,t.apply(e,n)}))}}function Oy(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const Wc=t=>t==="start"?"left":t==="end"?"right":"center",ze=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Ry=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e,wr=t=>t===0||t===1,Wd=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*je/n)),Hd=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*je/n)+1,hi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ce)+1,easeOutSine:t=>Math.sin(t*Ce),easeInOutSine:t=>-.5*(Math.cos(ae*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>wr(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>wr(t)?t:Wd(t,.075,.3),easeOutElastic:t=>wr(t)?t:Hd(t,.075,.3),easeInOutElastic(t){return wr(t)?t:t<.5?.5*Wd(t*2,.1125,.45):.5+.5*Hd(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-hi.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?hi.easeInBounce(t*2)*.5:hi.easeOutBounce(t*2-1)*.5+.5};function fm(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function $d(t){return fm(t)?t:new Di(t)}function Ea(t){return fm(t)?t:new Di(t).saturate(.5).darken(.1).hexString()}const Fy=["x","y","borderWidth","radius","tension"],zy=["color","borderColor","backgroundColor"];function Iy(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:zy},numbers:{type:"number",properties:Fy}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function By(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Vd=new Map;function Wy(t,e){e=e||{};const n=t+JSON.stringify(e);let s=Vd.get(n);return s||(s=new Intl.NumberFormat(t,e),Vd.set(n,s)),s}function Hc(t,e,n){return Wy(e,n).format(t)}const Hy={values(t){return Se(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),r=$y(t,n)}const o=am(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Hc(t,s,c)}};function $y(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var pm={formatters:Hy};function Vy(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Yn=Object.create(null),Fl=Object.create(null);function fi(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function Pa(t,e,n){return typeof e=="string"?Ti(fi(t,e),n):Ti(fi(t,""),e)}class Uy{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Ea(i.backgroundColor),this.hoverBorderColor=(s,i)=>Ea(i.borderColor),this.hoverColor=(s,i)=>Ea(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Pa(this,e,n)}get(e){return fi(this,e)}describe(e,n){return Pa(Fl,e,n)}override(e,n){return Pa(Yn,e,n)}route(e,n,s,i){const r=fi(this,e),o=fi(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[a],u=o[i];return ne(c)?Object.assign({},u,c):ee(c,u)},set(c){this[a]=c}}})}apply(e){e.forEach(n=>n(this))}}var we=new Uy({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Iy,By,Vy]);function Yy(t){return!t||le(t.size)||le(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ud(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function Mn(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function Yd(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Xd(t,e,n,s){mm(t,e,n,s,null)}function mm(t,e,n,s,i){let r,o,a,c,u,d,h,f;const g=e.pointStyle,v=e.rotation,y=e.radius;let w=(v||0)*_y;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(w),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),g){default:i?t.ellipse(n,s,i/2,y,0,0,je):t.arc(n,s,y,0,je),t.closePath();break;case"triangle":d=i?i/2:y,t.moveTo(n+Math.sin(w)*d,s-Math.cos(w)*y),w+=Fd,t.lineTo(n+Math.sin(w)*d,s-Math.cos(w)*y),w+=Fd,t.lineTo(n+Math.sin(w)*d,s-Math.cos(w)*y),t.closePath();break;case"rectRounded":u=y*.516,c=y-u,o=Math.cos(w+Cn)*c,h=Math.cos(w+Cn)*(i?i/2-u:c),a=Math.sin(w+Cn)*c,f=Math.sin(w+Cn)*(i?i/2-u:c),t.arc(n-h,s-a,u,w-ae,w-Ce),t.arc(n+f,s-o,u,w-Ce,w),t.arc(n+h,s+a,u,w,w+Ce),t.arc(n-f,s+o,u,w+Ce,w+ae),t.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*y,d=i?i/2:c,t.rect(n-d,s-c,2*d,2*c);break}w+=Cn;case"rectRot":h=Math.cos(w)*(i?i/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,f=Math.sin(w)*(i?i/2:y),t.moveTo(n-h,s-a),t.lineTo(n+f,s-o),t.lineTo(n+h,s+a),t.lineTo(n-f,s+o),t.closePath();break;case"crossRot":w+=Cn;case"cross":h=Math.cos(w)*(i?i/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,f=Math.sin(w)*(i?i/2:y),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"star":h=Math.cos(w)*(i?i/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,f=Math.sin(w)*(i?i/2:y),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o),w+=Cn,h=Math.cos(w)*(i?i/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,f=Math.sin(w)*(i?i/2:y),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"line":o=i?i/2:Math.cos(w)*y,a=Math.sin(w)*y,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(w)*(i?i/2:y),s+Math.sin(w)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function gm(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function $c(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Vc(t){t.restore()}function Xy(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),le(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Ky(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,c=n-r.actualBoundingBoxAscent,u=n+r.actualBoundingBoxDescent,d=i.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function Qy(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Oi(t,e,n,s,i,r={}){const o=Se(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let c,u;for(t.save(),t.font=i.string,Xy(t,r),c=0;c<o.length;++c)u=o[c],r.backdrop&&Qy(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),le(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(u,n,s,r.maxWidth)),t.fillText(u,n,s,r.maxWidth),Ky(t,n,s,u,r),s+=Number(i.lineHeight);t.restore()}function bo(t,e){const{x:n,y:s,w:i,h:r,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*ae,ae,!0),t.lineTo(n,s+r-o.bottomLeft),t.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,ae,Ce,!0),t.lineTo(n+i-o.bottomRight,s+r),t.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,Ce,0,!0),t.lineTo(n+i,s+o.topRight),t.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-Ce,!0),t.lineTo(n+o.topLeft,s)}const Gy=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Zy=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Jy(t,e){const n=(""+t).match(Gy);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const qy=t=>+t||0;function Uc(t,e){const n={},s=ne(e),i=s?Object.keys(e):e,r=ne(t)?s?o=>ee(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=qy(r(o));return n}function xm(t){return Uc(t,{top:"y",right:"x",bottom:"y",left:"x"})}function xs(t){return Uc(t,["topLeft","topRight","bottomLeft","bottomRight"])}function gt(t){const e=xm(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Be(t,e){t=t||{},e=e||we.font;let n=ee(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=ee(t.style,e.style);s&&!(""+s).match(Zy)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:ee(t.family,e.family),lineHeight:Jy(ee(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:ee(t.weight,e.weight),string:""};return i.string=Yy(i),i}function br(t,e,n,s){let i,r,o;for(i=0,r=t.length;i<r;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function ev(t,e,n){const{min:s,max:i}=t,r=rm(e,(i-s)/2),o=(a,c)=>n&&a===0?0:a+c;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function Ps(t,e){return Object.assign(Object.create(t),e)}function Yc(t,e=[""],n,s,i=()=>t[0]){const r=n||t;typeof s>"u"&&(s=bm("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>Yc([a,...t],e,r,s)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete t[0][c],!0},get(a,c){return vm(a,c,()=>lv(c,e,t,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,c){return Qd(a).includes(c)},ownKeys(a){return Qd(a)},set(a,c,u){const d=a._storage||(a._storage=i());return a[c]=d[c]=u,delete a._keys,!0}})}function Cs(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:ym(t,s),setContext:r=>Cs(t,r,n,s),override:r=>Cs(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return vm(r,o,()=>nv(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function ym(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:bn(n)?n:()=>n,isIndexable:bn(s)?s:()=>s}}const tv=(t,e)=>t?t+Ic(e):e,Xc=(t,e)=>ne(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function vm(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function nv(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=t;let a=s[e];return bn(a)&&o.isScriptable(e)&&(a=sv(e,a,t,n)),Se(a)&&a.length&&(a=iv(e,a,t,o.isIndexable)),Xc(e,a)&&(a=Cs(a,i,r&&r[e],o)),a}function sv(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let c=e(r,o||s);return a.delete(t),Xc(t,c)&&(c=Kc(i._scopes,i,t,c)),c}function iv(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(t))return e[r.index%e.length];if(ne(e[0])){const c=e,u=i._scopes.filter(d=>d!==c);e=[];for(const d of c){const h=Kc(u,i,t,d);e.push(Cs(h,r,o&&o[t],a))}}return e}function wm(t,e,n){return bn(t)?t(e,n):t}const rv=(t,e)=>t===!0?e:typeof t=="string"?Un(e,t):void 0;function ov(t,e,n,s,i){for(const r of e){const o=rv(n,r);if(o){t.add(o);const a=wm(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function Kc(t,e,n,s){const i=e._rootScopes,r=wm(e._fallback,n,s),o=[...t,...i],a=new Set;a.add(s);let c=Kd(a,o,n,r||n,s);return c===null||typeof r<"u"&&r!==n&&(c=Kd(a,o,r,c,s),c===null)?!1:Yc(Array.from(a),[""],i,r,()=>av(e,n,s))}function Kd(t,e,n,s,i){for(;n;)n=ov(t,e,n,s,i);return n}function av(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return Se(i)&&ne(n)?n:i||{}}function lv(t,e,n,s){let i;for(const r of e)if(i=bm(tv(r,t),n),typeof i<"u")return Xc(t,i)?Kc(n,s,t,i):i}function bm(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Qd(t){let e=t._keys;return e||(e=t._keys=cv(t._scopes)),e}function cv(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}function Qc(){return typeof window<"u"&&typeof document<"u"}function Gc(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ko(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const Uo=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function uv(t,e){return Uo(t).getPropertyValue(e)}const dv=["top","right","bottom","left"];function In(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=dv[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const hv=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function fv(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let o=!1,a,c;if(hv(i,r,t.target))a=i,c=r;else{const u=e.getBoundingClientRect();a=s.clientX-u.left,c=s.clientY-u.top,o=!0}return{x:a,y:c,box:o}}function Dn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=Uo(n),r=i.boxSizing==="border-box",o=In(i,"padding"),a=In(i,"border","width"),{x:c,y:u,box:d}=fv(t,n),h=o.left+(d&&a.left),f=o.top+(d&&a.top);let{width:g,height:v}=e;return r&&(g-=o.width+a.width,v-=o.height+a.height),{x:Math.round((c-h)/g*n.width/s),y:Math.round((u-f)/v*n.height/s)}}function pv(t,e,n){let s,i;if(e===void 0||n===void 0){const r=t&&Gc(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=Uo(r),c=In(a,"border","width"),u=In(a,"padding");e=o.width-u.width-c.width,n=o.height-u.height-c.height,s=ko(a.maxWidth,r,"clientWidth"),i=ko(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||yo,maxHeight:i||yo}}const an=t=>Math.round(t*10)/10;function mv(t,e,n,s){const i=Uo(t),r=In(i,"margin"),o=ko(i.maxWidth,t,"clientWidth")||yo,a=ko(i.maxHeight,t,"clientHeight")||yo,c=pv(t,e,n);let{width:u,height:d}=c;if(i.boxSizing==="content-box"){const f=In(i,"border","width"),g=In(i,"padding");u-=g.width+f.width,d-=g.height+f.height}return u=Math.max(0,u-r.width),d=Math.max(0,s?u/s:d-r.height),u=an(Math.min(u,o,c.maxWidth)),d=an(Math.min(d,a,c.maxHeight)),u&&!d&&(d=an(u/2)),(e!==void 0||n!==void 0)&&s&&c.height&&d>c.height&&(d=c.height,u=an(Math.floor(d*s))),{width:u,height:d}}function Gd(t,e,n){const s=e||1,i=an(t.height*s),r=an(t.width*s);t.height=an(t.height),t.width=an(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=s,o.height=i,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const gv=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Qc()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Zd(t,e){const n=uv(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const xv=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},yv=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ys(t,e,n){return t?xv(e,n):yv()}function km(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function jm(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function kr(t,e,n){return t.options.clip?t[n]:e[n]}function vv(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:kr(n,e,"left"),right:kr(n,e,"right"),top:kr(s,e,"top"),bottom:kr(s,e,"bottom")}:e}function wv(t,e){const n=e._clip;if(n.disabled)return!1;const s=vv(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class bv{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=dm.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,c;for(;o>=0;--o)c=r[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ot=new bv;const Jd="transparent",kv={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=$d(t||Jd),i=s.valid&&$d(e||Jd);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class jv{constructor(e,n,s,i){const r=n[s];i=br([e.to,i,r,e.from]);const o=br([e.from,r,i]);this._active=!0,this._fn=e.fn||kv[e.type||typeof o],this._easing=hi[e.easing]||hi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=br([e.to,n,i,e.from]),this._from=br([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let c;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}c=n/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(r,a,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class _m{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ne(e))return;const n=Object.keys(we.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!ne(r))return;const o={};for(const a of n)o[a]=r[a];(Se(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,i=Sv(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&_v(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let c;for(c=o.length-1;c>=0;--c){const u=o[c];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,n));continue}const d=n[u];let h=r[u];const f=s.get(u);if(h)if(f&&h.active()){h.update(f,d,a);continue}else h.cancel();if(!f||!f.duration){e[u]=d;continue}r[u]=h=new jv(f,e,u,d),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Ot.add(this._chart,s),!0}}function _v(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function Sv(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function qd(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function Nv(t,e,n){if(n===!1)return!1;const s=qd(t,n),i=qd(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function Cv(t){let e,n,s,i;return ne(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function Sm(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function eh(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let o,a,c,u;if(e===null)return;let d=!1;for(o=0,a=i.length;o<a;++o){if(c=+i[o],c===n){if(d=!0,s.all)continue;break}u=t.values[c],mt(u)&&(r||e===0||yn(e)===yn(u))&&(e+=u)}return!d&&!s.all?0:e}function Mv(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let c,u,d;for(c=0,u=o.length;c<u;++c)d=o[c],a[c]={[i]:d,[r]:t[d]};return a}function Da(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Lv(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Ev(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function Pv(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function th(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function nh(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,c=r.axis,u=o.axis,d=Lv(r,o,s),h=e.length;let f;for(let g=0;g<h;++g){const v=e[g],{[c]:y,[u]:w}=v,p=v._stacks||(v._stacks={});f=p[u]=Pv(i,d,y),f[a]=w,f._top=th(f,o,!0,s.type),f._bottom=th(f,o,!1,s.type);const m=f._visualValues||(f._visualValues={});m[a]=w}}function Ta(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function Dv(t,e){return Ps(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Tv(t,e,n){return Ps(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function $s(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const Aa=t=>t==="reset"||t==="none",sh=(t,e)=>e?t:Object.assign({},t),Av=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Sm(n,!0),values:null};class vs{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Da(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&$s(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(h,f,g,v)=>h==="x"?f:h==="r"?v:g,r=n.xAxisID=ee(s.xAxisID,Ta(e,"x")),o=n.yAxisID=ee(s.yAxisID,Ta(e,"y")),a=n.rAxisID=ee(s.rAxisID,Ta(e,"r")),c=n.indexAxis,u=n.iAxisID=i(c,r,o,a),d=n.vAxisID=i(c,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Bd(this._data,this),e._stacked&&$s(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(ne(n)){const i=this._cachedMeta;this._data=Mv(n,i)}else if(s!==n){if(s){Bd(s,this);const i=this._cachedMeta;$s(i),i._parsed=[]}n&&Object.isExtensible(n)&&Ay(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=Da(n.vScale,n),n.stack!==s.stack&&(i=!0,$s(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&(nh(this,n._parsed),n._stacked=Da(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let c=e===0&&n===i.length?!0:s._sorted,u=e>0&&s._parsed[e-1],d,h,f;if(this._parsing===!1)s._parsed=i,s._sorted=!0,f=i;else{Se(i[e])?f=this.parseArrayData(s,i,e,n):ne(i[e])?f=this.parseObjectData(s,i,e,n):f=this.parsePrimitiveData(s,i,e,n);const g=()=>h[a]===null||u&&h[a]<u[a];for(d=0;d<n;++d)s._parsed[d+e]=h=f[d],c&&(g()&&(c=!1),u=h);s._sorted=c}o&&nh(this,f)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:o}=e,a=r.axis,c=o.axis,u=r.getLabels(),d=r===o,h=new Array(i);let f,g,v;for(f=0,g=i;f<g;++f)v=f+s,h[f]={[a]:d||r.parse(u[v],v),[c]:o.parse(n[v],v)};return h}parseArrayData(e,n,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let c,u,d,h;for(c=0,u=i;c<u;++c)d=c+s,h=n[d],a[c]={x:r.parse(h[0],d),y:o.parse(h[1],d)};return a}parseObjectData(e,n,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,u=new Array(i);let d,h,f,g;for(d=0,h=i;d<h;++d)f=d+s,g=n[f],u[d]={x:r.parse(Un(g,a),f),y:o.parse(Un(g,c),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:Sm(i,!0),values:n._stacks[e.axis]._visualValues};return eh(a,o,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=eh(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),c=Av(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=Ev(a);let f,g;function v(){g=i[f];const y=g[a.axis];return!mt(g[e.axis])||d>y||h<y}for(f=0;f<o&&!(!v()&&(this.updateRangeFromParsed(u,e,g,c),r));++f);if(r){for(f=o-1;f>=0;--f)if(!v()){this.updateRangeFromParsed(u,e,g,c);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][e.axis],mt(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Cv(ee(this.options.clip,Nv(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,c=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(e,r,a,c),d=a;d<a+c;++d){const h=i[d];h.hidden||(h.active&&u?o.push(h):h.draw(e,r))}for(d=0;d<o.length;++d)o[d].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=Tv(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=Dv(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],c=this.enableOptionSharing&&Ai(s);if(a)return sh(a,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),d),g=Object.keys(we.elements[e]),v=()=>this.getContext(s,i,n),y=u.resolveNamedOptions(f,g,v,h);return y.$shared&&(y.$shared=c,r[o]=Object.freeze(sh(y,c))),y}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let c;if(i.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(e,s,n))}const u=new _m(i,c&&c.animations);return c&&c._cacheable&&(r[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Aa(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(e,n,s,i){Aa(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!Aa(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,c,u]of this._syncList)this[a](c,u);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,o=e+n;let a;const c=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(c(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&$s(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}$(vs,"defaults",{}),$(vs,"datasetElementType",null),$(vs,"dataElementType",null);function Ov(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=um(s.sort((i,r)=>i-r))}return t._cache.$bar}function Rv(t){const e=t.iScale,n=Ov(e,t.type);let s=e._length,i,r,o,a;const c=()=>{o===32767||o===-32768||(Ai(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=e.getPixelForValue(n[i]),c();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),c();return s}function Fv(t,e,n,s){const i=n.barThickness;let r,o;return le(i)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[t]-r/2}}function zv(t,e,n,s){const i=e.pixels,r=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const c=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const u=r-(r-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/s,ratio:n.barPercentage,start:u}}function Iv(t,e,n,s){const i=n.parse(t[0],s),r=n.parse(t[1],s),o=Math.min(i,r),a=Math.max(i,r);let c=o,u=a;Math.abs(o)>Math.abs(a)&&(c=a,u=o),e[n.axis]=u,e._custom={barStart:c,barEnd:u,start:i,end:r,min:o,max:a}}function Nm(t,e,n,s){return Se(t)?Iv(t,e,n,s):e[n.axis]=n.parse(t,s),e}function ih(t,e,n,s){const i=t.iScale,r=t.vScale,o=i.getLabels(),a=i===r,c=[];let u,d,h,f;for(u=n,d=n+s;u<d;++u)f=e[u],h={},h[i.axis]=a||i.parse(o[u],u),c.push(Nm(f,h,r,u));return c}function Oa(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Bv(t,e,n){return t!==0?yn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Wv(t){let e,n,s,i,r;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:e,top:i,bottom:r}}function Hv(t,e,n,s){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:c,top:u,bottom:d}=Wv(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=u:(n._bottom||0)===s?i=d:(r[rh(d,o,a,c)]=!0,i=u)),r[rh(i,o,a,c)]=!0,t.borderSkipped=r}function rh(t,e,n,s){return s?(t=$v(t,e,n),t=oh(t,n,e)):t=oh(t,e,n),t}function $v(t,e,n){return t===e?n:t===n?e:t}function oh(t,e,n){return t==="start"?e:t==="end"?n:t}function Vv(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Hr extends vs{parsePrimitiveData(e,n,s,i){return ih(e,n,s,i)}parseArrayData(e,n,s,i){return ih(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,u=r.axis==="x"?a:c,d=o.axis==="x"?a:c,h=[];let f,g,v,y;for(f=s,g=s+i;f<g;++f)y=n[f],v={},v[r.axis]=r.parse(Un(y,u),f),h.push(Nm(Un(y,d),v,o,f));return h}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(e),o=r._custom,a=Oa(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,c=a.getBasePixel(),u=a.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,i);for(let g=n;g<n+s;g++){const v=this.getParsed(g),y=r||le(v[a.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),w=this._calculateBarIndexPixels(g,d),p=(v._stacks||{})[a.axis],m={horizontal:u,base:y.base,enableBorderRadius:!p||Oa(v._custom)||o===p._top||o===p._bottom,x:u?y.head:w.center,y:u?w.center:y.head,height:u?w.size:Math.abs(y.size),width:u?Math.abs(y.size):w.size};f&&(m.options=h||this.resolveDataElementOptions(g,e[g].active?"active":i));const x=m.options||e[g].options;Hv(m,x,p,o),Vv(m,x,d.ratio),this.updateElement(e[g],g,m,i)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),c=a&&a[s.axis],u=d=>{const h=d._parsed.find(g=>g[s.axis]===c),f=h&&h[d.vScale.axis];if(le(f)||isNaN(f))return!0};for(const d of i)if(!(n!==void 0&&u(d))&&((r===!1||o.indexOf(d.stack)===-1||r===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[ee(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const i=this._getStacks(e,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=e.barThickness;return{min:a||Rv(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,c=this.getParsed(e),u=c._custom,d=Oa(u);let h=c[n.axis],f=0,g=s?this.applyStack(n,c,s):h,v,y;g!==h&&(f=g-h,g=h),d&&(h=u.barStart,g=u.barEnd-u.barStart,h!==0&&yn(h)!==yn(u.barEnd)&&(f=0),f+=h);const w=!le(r)&&!d?r:f;let p=n.getPixelForValue(w);if(this.chart.getDataVisibility(e)?v=n.getPixelForValue(f+g):v=p,y=v-p,Math.abs(y)<o){y=Bv(y,n,a)*o,h===a&&(p-=y/2);const m=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),b=Math.min(m,x),k=Math.max(m,x);p=Math.max(Math.min(p,k),b),v=p+y,s&&!d&&(c._stacks[n.axis]._visualValues[i]=n.getValueForPixel(v)-n.getValueForPixel(p))}if(p===n.getPixelForValue(a)){const m=yn(y)*n.getLineWidthForValue(a)/2;p+=m,y-=m}return{size:y,base:p,head:v,center:v+y/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,r=i.skipNull,o=ee(i.maxBarThickness,1/0);let a,c;const u=this._getAxisCount();if(n.grouped){const d=r?this._getStackCount(e):n.stackCount,h=i.barThickness==="flex"?zv(e,n,i,d*u):Fv(e,n,i,d*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(ee(f,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+g;a=h.start+h.chunk*v+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(o,n.min*n.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}$(Hr,"id","bar"),$(Hr,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),$(Hr,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Uv(t,e,n){let s=1,i=1,r=0,o=0;if(e<je){const a=t,c=a+e,u=Math.cos(a),d=Math.sin(a),h=Math.cos(c),f=Math.sin(c),g=(x,b,k)=>wo(x,a,c,!0)?1:Math.max(b,b*n,k,k*n),v=(x,b,k)=>wo(x,a,c,!0)?-1:Math.min(b,b*n,k,k*n),y=g(0,u,h),w=g(Ce,d,f),p=v(ae,u,h),m=v(ae+Ce,d,f);s=(y-p)/2,i=(w-m)/2,r=-(y+p)/2,o=-(w+m)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class qs extends vs{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=c=>+s[c];if(ne(s[e])){const{key:c="value"}=this._parsing;r=u=>+Un(s[u],c)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return Ht(this.options.rotation-90)}_getCircumference(){return Ht(this.options.circumference)}_getRotationExtents(){let e=je,n=-je;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),c=Math.min(yy(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:v,offsetY:y}=Uv(h,d,c),w=(s.width-o)/f,p=(s.height-o)/g,m=Math.max(Math.min(w,p)/2,0),x=rm(this.options.radius,m),b=Math.max(x*c,0),k=(x-b)/this._getVisibleDatasetWeightTotal();this.offsetX=v*x,this.offsetY=y*x,i.total=this.calculateTotal(),this.outerRadius=x-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/je)}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,d=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&u.animateScale,g=f?0:this.innerRadius,v=f?0:this.outerRadius,{sharedOptions:y,includeOptions:w}=this._getSharedOptions(n,i);let p=this._getRotation(),m;for(m=0;m<n;++m)p+=this._circumference(m,r);for(m=n;m<n+s;++m){const x=this._circumference(m,r),b=e[m],k={x:d+this.offsetX,y:h+this.offsetY,startAngle:p,endAngle:p+x,circumference:x,outerRadius:v,innerRadius:g};w&&(k.options=y||this.resolveDataElementOptions(m,b.active?"active":i)),p+=x,this.updateElement(b,m,k,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?je*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=Hc(n._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,r,o,a,c;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)c=a.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(ee(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}$(qs,"id","doughnut"),$(qs,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),$(qs,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),$(qs,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((c,u)=>{const h=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:h.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:s,borderRadius:o&&(a||h.borderRadius),index:u}}):[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});function Ln(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Zc{constructor(e){$(this,"options");this.options=e||{}}static override(e){Object.assign(Zc.prototype,e)}init(){}formats(){return Ln()}parse(){return Ln()}format(){return Ln()}add(){return Ln()}diff(){return Ln()}startOf(){return Ln()}endOf(){return Ln()}}var Yv={_date:Zc};function Xv(t,e,n,s){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const u=a._reversePixels?Dy:Rl;if(s){if(i._sharedOptions){const d=r[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const f=u(r,e,n-h),g=u(r,e,n+h);return{lo:f.lo,hi:g.hi}}}}else{const d=u(r,e,n);if(c){const{vScale:h}=i._cachedMeta,{_parsed:f}=t,g=f.slice(0,d.lo+1).reverse().findIndex(y=>!le(y[h.axis]));d.lo-=Math.max(0,g);const v=f.slice(d.hi).findIndex(y=>!le(y[h.axis]));d.hi+=Math.max(0,v)}return d}}return{lo:0,hi:r.length-1}}function Yo(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,c=r.length;a<c;++a){const{index:u,data:d}=r[a],{lo:h,hi:f}=Xv(r[a],e,o,i);for(let g=h;g<=f;++g){const v=d[g];v.skip||s(v,u,g)}}}function Kv(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Ra(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||Yo(t,n,e,function(a,c,u){!i&&!gm(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:c,index:u})},!0),r}function Qv(t,e,n,s){let i=[];function r(o,a,c){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],s),{angle:h}=lm(o,{x:e.x,y:e.y});wo(h,u,d)&&i.push({element:o,datasetIndex:a,index:c})}return Yo(t,n,e,r),i}function Gv(t,e,n,s,i,r){let o=[];const a=Kv(n);let c=Number.POSITIVE_INFINITY;function u(d,h,f){const g=d.inRange(e.x,e.y,i);if(s&&!g)return;const v=d.getCenterPoint(i);if(!(!!r||t.isPointInArea(v))&&!g)return;const w=a(e,v);w<c?(o=[{element:d,datasetIndex:h,index:f}],c=w):w===c&&o.push({element:d,datasetIndex:h,index:f})}return Yo(t,n,e,u),o}function Fa(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?Qv(t,e,n,i):Gv(t,e,n,s,i,r)}function ah(t,e,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Yo(t,n,e,(c,u,d)=>{c[o]&&c[o](e[n],i)&&(r.push({element:c,datasetIndex:u,index:d}),a=a||c.inRange(e.x,e.y,i))}),s&&!a?[]:r}var Zv={modes:{index(t,e,n,s){const i=Dn(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Ra(t,i,r,s,o):Fa(t,i,r,!1,s,o),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,h=u.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,n,s){const i=Dn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Ra(t,i,r,s,o):Fa(t,i,r,!1,s,o);if(a.length>0){const c=a[0].datasetIndex,u=t.getDatasetMeta(c).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:c,index:d})}return a},point(t,e,n,s){const i=Dn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Ra(t,i,r,s,o)},nearest(t,e,n,s){const i=Dn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Fa(t,i,r,n.intersect,s,o)},x(t,e,n,s){const i=Dn(e,t);return ah(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=Dn(e,t);return ah(t,i,"y",n.intersect,s)}}};const Cm=["left","top","right","bottom"];function Vs(t,e){return t.filter(n=>n.pos===e)}function lh(t,e){return t.filter(n=>Cm.indexOf(n.pos)===-1&&n.box.axis===e)}function Us(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function Jv(t){const e=[];let n,s,i,r,o,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function qv(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!Cm.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function e1(t,e){const n=qv(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:c}=a.box,u=n[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*s:c&&e.availableWidth,a.height=i):(a.width=s,a.height=d?d*i:c&&e.availableHeight)}return n}function t1(t){const e=Jv(t),n=Us(e.filter(u=>u.box.fullSize),!0),s=Us(Vs(e,"left"),!0),i=Us(Vs(e,"right")),r=Us(Vs(e,"top"),!0),o=Us(Vs(e,"bottom")),a=lh(e,"x"),c=lh(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(c).concat(o).concat(a),chartArea:Vs(e,"chartArea"),vertical:s.concat(i).concat(c),horizontal:r.concat(o).concat(a)}}function ch(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function Mm(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function n1(t,e,n,s){const{pos:i,box:r}=n,o=t.maxPadding;if(!ne(i)){n.size&&(t[i]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[i]+=n.size}r.getPadding&&Mm(o,r.getPadding());const a=Math.max(0,e.outerWidth-ch(o,t,"left","right")),c=Math.max(0,e.outerHeight-ch(o,t,"top","bottom")),u=a!==t.w,d=c!==t.h;return t.w=a,t.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function s1(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function i1(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return s(t?["left","right"]:["top","bottom"])}function ei(t,e,n,s){const i=[];let r,o,a,c,u,d;for(r=0,o=t.length,u=0;r<o;++r){a=t[r],c=a.box,c.update(a.width||e.w,a.height||e.h,i1(a.horizontal,e));const{same:h,other:f}=n1(e,n,a,s);u|=h&&i.length,d=d||f,c.fullSize||i.push(a)}return u&&ei(i,e,n,s)||d}function jr(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function uh(t,e,n,s){const i=n.padding;let{x:r,y:o}=e;for(const a of t){const c=a.box,u=s[a.stack]||{placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const h=e.w*d,f=u.size||c.height;Ai(u.start)&&(o=u.start),c.fullSize?jr(c,i.left,o,n.outerWidth-i.right-i.left,f):jr(c,e.left+u.placed,o,h,f),u.start=o,u.placed+=h,o=c.bottom}else{const h=e.h*d,f=u.size||c.width;Ai(u.start)&&(r=u.start),c.fullSize?jr(c,r,i.top,f,n.outerHeight-i.bottom-i.top):jr(c,r,e.top+u.placed,f,h),u.start=r,u.placed+=h,r=c.right}}e.x=r,e.y=o}var dt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=gt(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=t1(t.boxes),c=a.vertical,u=a.horizontal;re(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const d=c.reduce((y,w)=>w.box.options&&w.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},i);Mm(f,gt(s));const g=Object.assign({maxPadding:f,w:r,h:o,x:i.left,y:i.top},i),v=e1(c.concat(u),h);ei(a.fullSize,g,h,v),ei(c,g,h,v),ei(u,g,h,v)&&ei(c,g,h,v),s1(g),uh(a.leftAndTop,g,h,v),g.x+=g.w,g.y+=g.h,uh(a.rightAndBottom,g,h,v),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},re(a.chartArea,y=>{const w=y.box;Object.assign(w,t.chartArea),w.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class Lm{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class r1 extends Lm{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const $r="$chartjs",o1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},dh=t=>t===null||t==="";function a1(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[$r]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",dh(i)){const r=Zd(t,"width");r!==void 0&&(t.width=r)}if(dh(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=Zd(t,"height");r!==void 0&&(t.height=r)}return t}const Em=gv?{passive:!0}:!1;function l1(t,e,n){t&&t.addEventListener(e,n,Em)}function c1(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Em)}function u1(t,e){const n=o1[t.type]||t.type,{x:s,y:i}=Dn(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function jo(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function d1(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||jo(a.addedNodes,s),o=o&&!jo(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function h1(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||jo(a.removedNodes,s),o=o&&!jo(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Ri=new Map;let hh=0;function Pm(){const t=window.devicePixelRatio;t!==hh&&(hh=t,Ri.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function f1(t,e){Ri.size||window.addEventListener("resize",Pm),Ri.set(t,e)}function p1(t){Ri.delete(t),Ri.size||window.removeEventListener("resize",Pm)}function m1(t,e,n){const s=t.canvas,i=s&&Gc(s);if(!i)return;const r=hm((a,c)=>{const u=i.clientWidth;n(a,c),u<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const c=a[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||r(u,d)});return o.observe(i),f1(t,r),o}function za(t,e,n){n&&n.disconnect(),e==="resize"&&p1(t)}function g1(t,e,n){const s=t.canvas,i=hm(r=>{t.ctx!==null&&n(u1(r,t))},t);return l1(s,e,i),i}class x1 extends Lm{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(a1(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[$r])return!1;const s=n[$r].initial;["height","width"].forEach(r=>{const o=s[r];le(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[$r],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:d1,detach:h1,resize:m1}[n]||g1;i[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:za,detach:za,resize:za}[n]||c1)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return mv(e,n,s,i)}isAttached(e){const n=e&&Gc(e);return!!(n&&n.isConnected)}}function y1(t){return!Qc()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?r1:x1}class Kt{constructor(){$(this,"x");$(this,"y");$(this,"active",!1);$(this,"options");$(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return vo(this.x)&&vo(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}}$(Kt,"defaults",{}),$(Kt,"defaultRoutes");function v1(t,e){const n=t.options.ticks,s=w1(t),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?k1(e):[],o=r.length,a=r[0],c=r[o-1],u=[];if(o>i)return j1(e,u,r,o/i),u;const d=b1(r,e,i);if(o>0){let h,f;const g=o>1?Math.round((c-a)/(o-1)):null;for(_r(e,u,d,le(g)?0:a-g,a),h=0,f=o-1;h<f;h++)_r(e,u,d,r[h],r[h+1]);return _r(e,u,d,c,le(g)?e.length:c+g),u}return _r(e,u,d),u}function w1(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function b1(t,e,n){const s=_1(t),i=e.length/n;if(!s)return Math.max(i,1);const r=Sy(s);for(let o=0,a=r.length-1;o<a;o++){const c=r[o];if(c>i)return c}return Math.max(i,1)}function k1(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function j1(t,e,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=n[i*s])}function _r(t,e,n,s,i){const r=ee(s,0),o=Math.min(ee(i,t.length),t.length);let a=0,c,u,d;for(n=Math.ceil(n),i&&(c=i-s,n=c/Math.floor(c/n)),d=r;d<0;)a++,d=Math.round(r+a*n);for(u=Math.max(r,0);u<o;u++)u===d&&(e.push(t[u]),a++,d=Math.round(r+a*n))}function _1(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const S1=t=>t==="left"?"right":t==="right"?"left":t,fh=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,ph=(t,e)=>Math.min(e||t,t);function mh(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function N1(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let c=t.getPixelForTick(i),u;if(!(n&&(s===1?u=Math.max(c-r,o-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(i-1))/2,c+=i<e?u:-u,c<r-a||c>o+a)))return c}function C1(t,e){re(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function Ys(t){return t.drawTicks?t.tickLength:0}function gh(t,e){if(!t.display)return 0;const n=Be(t.font,e),s=gt(t.padding);return(Se(t.text)?t.text.length:1)*n.lineHeight+s.height}function M1(t,e){return Ps(t,{scale:e,type:"scale"})}function L1(t,e,n){return Ps(t,{tick:n,index:e,type:"tick"})}function E1(t,e,n){let s=Wc(t);return(n&&e!=="right"||!n&&e==="right")&&(s=S1(s)),s}function P1(t,e,n,s){const{top:i,left:r,bottom:o,right:a,chart:c}=t,{chartArea:u,scales:d}=c;let h=0,f,g,v;const y=o-i,w=a-r;if(t.isHorizontal()){if(g=ze(s,r,a),ne(n)){const p=Object.keys(n)[0],m=n[p];v=d[p].getPixelForValue(m)+y-e}else n==="center"?v=(u.bottom+u.top)/2+y-e:v=fh(t,n,e);f=a-r}else{if(ne(n)){const p=Object.keys(n)[0],m=n[p];g=d[p].getPixelForValue(m)-w+e}else n==="center"?g=(u.left+u.right)/2-w+e:g=fh(t,n,e);v=ze(s,o,i),h=n==="left"?-Ce:Ce}return{titleX:g,titleY:v,maxWidth:f,rotation:h}}class Ds extends Kt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=Nt(e,Number.POSITIVE_INFINITY),n=Nt(n,Number.NEGATIVE_INFINITY),s=Nt(s,Number.POSITIVE_INFINITY),i=Nt(i,Number.NEGATIVE_INFINITY),{min:Nt(e,s),max:Nt(n,i),minDefined:mt(e),maxDefined:mt(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let c=0,u=a.length;c<u;++c)o=a[c].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:Nt(n,Nt(s,n)),max:Nt(s,Nt(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){he(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ev(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?mh(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=v1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){he(this.options.afterUpdate,[this])}beforeSetDimensions(){he(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){he(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),he(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){he(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=he(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){he(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){he(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=ph(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,c,u;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,g=Ge(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/s:g/(s-1),h+6>a&&(a=g/(s-(e.offset?.5:1)),c=this.maxHeight-Ys(e.grid)-n.padding-gh(e.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),o=Ly(Math.min(Math.asin(Ge((d.highest.height+6)/a,-1,1)),Math.asin(Ge(c/u,-1,1))-Math.asin(Ge(f/u,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){he(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){he(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const c=gh(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Ys(r)+c):(e.height=this.maxHeight,e.width=Ys(r)+c),s.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),g=s.padding*2,v=Ht(this.labelRotation),y=Math.cos(v),w=Math.sin(v);if(a){const p=s.mirror?0:w*h.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+p+g)}else{const p=s.mirror?0:y*h.width+w*f.height;e.width=Math.min(this.maxWidth,e.width+p+g)}this._calculatePadding(u,d,w,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,c=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;c?u?(f=i*e.width,g=s*n.height):(f=s*e.height,g=i*n.width):r==="start"?g=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,g=n.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-h+o)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;r==="start"?(d=0,h=e.height):r==="end"&&(d=n.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){he(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)le(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=mh(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],c=Math.floor(n/ph(n,s));let u=0,d=0,h,f,g,v,y,w,p,m,x,b,k;for(h=0;h<n;h+=c){if(v=e[h].label,y=this._resolveTickFontOptions(h),i.font=w=y.string,p=r[w]=r[w]||{data:{},gc:[]},m=y.lineHeight,x=b=0,!le(v)&&!Se(v))x=Ud(i,p.data,p.gc,x,v),b=m;else if(Se(v))for(f=0,g=v.length;f<g;++f)k=v[f],!le(k)&&!Se(k)&&(x=Ud(i,p.data,p.gc,x,k),b+=m);o.push(x),a.push(b),u=Math.max(x,u),d=Math.max(b,d)}C1(r,n);const N=o.indexOf(u),M=a.indexOf(d),_=S=>({width:o[S]||0,height:a[S]||0});return{first:_(0),last:_(n-1),widest:_(N),highest:_(M),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Py(this._alignToPixels?Mn(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=L1(this.getContext(),e,s))}return this.$context||(this.$context=M1(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ht(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,c=r?r.highest.height+o:0;return this.isHorizontal()?c*s>a*i?a/s:c/i:c*i<a*s?c/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,c=r.offset,u=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=Ys(r),g=[],v=a.setContext(this.getContext()),y=v.display?v.width:0,w=y/2,p=function(X){return Mn(s,X,y)};let m,x,b,k,N,M,_,S,L,E,C,z;if(o==="top")m=p(this.bottom),M=this.bottom-f,S=m-w,E=p(e.top)+w,z=e.bottom;else if(o==="bottom")m=p(this.top),E=e.top,z=p(e.bottom)-w,M=m+w,S=this.top+f;else if(o==="left")m=p(this.right),N=this.right-f,_=m-w,L=p(e.left)+w,C=e.right;else if(o==="right")m=p(this.left),L=e.left,C=p(e.right)-w,N=m+w,_=this.left+f;else if(n==="x"){if(o==="center")m=p((e.top+e.bottom)/2+.5);else if(ne(o)){const X=Object.keys(o)[0],Y=o[X];m=p(this.chart.scales[X].getPixelForValue(Y))}E=e.top,z=e.bottom,M=m+w,S=M+f}else if(n==="y"){if(o==="center")m=p((e.left+e.right)/2);else if(ne(o)){const X=Object.keys(o)[0],Y=o[X];m=p(this.chart.scales[X].getPixelForValue(Y))}N=m-w,_=N-f,L=e.left,C=e.right}const K=ee(i.ticks.maxTicksLimit,h),H=Math.max(1,Math.ceil(h/K));for(x=0;x<h;x+=H){const X=this.getContext(x),Y=r.setContext(X),T=a.setContext(X),R=Y.lineWidth,W=Y.color,J=T.dash||[],ie=T.dashOffset,A=Y.tickWidth,V=Y.tickColor,q=Y.tickBorderDash||[],G=Y.tickBorderDashOffset;b=N1(this,x,c),b!==void 0&&(k=Mn(s,b,R),u?N=_=L=C=k:M=S=E=z=k,g.push({tx1:N,ty1:M,tx2:_,ty2:S,x1:L,y1:E,x2:C,y2:z,width:R,color:W,borderDash:J,borderDashOffset:ie,tickWidth:A,tickColor:V,tickBorderDash:q,tickBorderDashOffset:G}))}return this._ticksLength=h,this._borderValue=m,g}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:u,padding:d,mirror:h}=r,f=Ys(s.grid),g=f+d,v=h?-d:g,y=-Ht(this.labelRotation),w=[];let p,m,x,b,k,N,M,_,S,L,E,C,z="middle";if(i==="top")N=this.bottom-v,M=this._getXAxisLabelAlignment();else if(i==="bottom")N=this.top+v,M=this._getXAxisLabelAlignment();else if(i==="left"){const H=this._getYAxisLabelAlignment(f);M=H.textAlign,k=H.x}else if(i==="right"){const H=this._getYAxisLabelAlignment(f);M=H.textAlign,k=H.x}else if(n==="x"){if(i==="center")N=(e.top+e.bottom)/2+g;else if(ne(i)){const H=Object.keys(i)[0],X=i[H];N=this.chart.scales[H].getPixelForValue(X)+g}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")k=(e.left+e.right)/2-g;else if(ne(i)){const H=Object.keys(i)[0],X=i[H];k=this.chart.scales[H].getPixelForValue(X)}M=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?z="top":c==="end"&&(z="bottom"));const K=this._getLabelSizes();for(p=0,m=a.length;p<m;++p){x=a[p],b=x.label;const H=r.setContext(this.getContext(p));_=this.getPixelForTick(p)+r.labelOffset,S=this._resolveTickFontOptions(p),L=S.lineHeight,E=Se(b)?b.length:1;const X=E/2,Y=H.color,T=H.textStrokeColor,R=H.textStrokeWidth;let W=M;o?(k=_,M==="inner"&&(p===m-1?W=this.options.reverse?"left":"right":p===0?W=this.options.reverse?"right":"left":W="center"),i==="top"?u==="near"||y!==0?C=-E*L+L/2:u==="center"?C=-K.highest.height/2-X*L+L:C=-K.highest.height+L/2:u==="near"||y!==0?C=L/2:u==="center"?C=K.highest.height/2-X*L:C=K.highest.height-E*L,h&&(C*=-1),y!==0&&!H.showLabelBackdrop&&(k+=L/2*Math.sin(y))):(N=_,C=(1-E)*L/2);let J;if(H.showLabelBackdrop){const ie=gt(H.backdropPadding),A=K.heights[p],V=K.widths[p];let q=C-ie.top,G=0-ie.left;switch(z){case"middle":q-=A/2;break;case"bottom":q-=A;break}switch(M){case"center":G-=V/2;break;case"right":G-=V;break;case"inner":p===m-1?G-=V:p>0&&(G-=V/2);break}J={left:G,top:q,width:V+ie.width,height:A+ie.height,color:H.backdropColor}}w.push({label:b,font:S,textOffset:C,options:{rotation:y,color:Y,strokeColor:T,strokeWidth:R,textAlign:W,textBaseline:z,translation:[k,N],backdrop:J}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ht(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,c=o.widest.width;let u,d;return n==="left"?i?(d=this.right+r,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-a,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?i?(d=this.left+r,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+a,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(c,u,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const c=i[r];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,h,f;this.isHorizontal()?(u=Mn(e,this.left,o)-o/2,d=Mn(e,this.right,a)+a/2,h=f=c):(h=Mn(e,this.top,o)-o/2,f=Mn(e,this.bottom,a)+a/2,u=d=c),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(u,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&$c(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,c=o.font,u=o.label,d=o.textOffset;Oi(s,u,0,d,c,a)}i&&Vc(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=Be(s.font),o=gt(s.padding),a=s.align;let c=r.lineHeight/2;n==="bottom"||n==="center"||ne(n)?(c+=o.bottom,Se(s.text)&&(c+=r.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=P1(this,c,n,a);Oi(e,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:f,textAlign:E1(a,n,i),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=ee(e.grid&&e.grid.z,-1),i=ee(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ds.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Be(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Sr{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;A1(n)&&(s=this.register(n));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,D1(e,o,s),this.override&&we.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in we[i]&&(delete we[i][s],this.override&&delete Yn[s])}}function D1(t,e,n){const s=Ti(Object.create(null),[n?we.get(n):{},we.get(e),t.defaults]);we.set(e,s),t.defaultRoutes&&T1(e,t.defaultRoutes),t.descriptors&&we.describe(e,t.descriptors)}function T1(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),c=o.join(".");we.route(r,i,c,a)})}function A1(t){return"id"in t&&"defaults"in t}class O1{constructor(){this.controllers=new Sr(vs,"datasets",!0),this.elements=new Sr(Kt,"elements"),this.plugins=new Sr(Object,"plugins"),this.scales=new Sr(Ds,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):re(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const i=Ic(e);he(s["before"+i],[],s),n[e](s),he(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var Lt=new O1;class R1{constructor(){this._init=void 0}notify(e,n,s,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],c=[n,i,r.options];if(he(a,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){le(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=ee(s.options&&s.options.plugins,{}),r=F1(s);return i===!1&&!n?[]:I1(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function F1(t){const e={},n=[],s=Object.keys(Lt.plugins.items);for(let r=0;r<s.length;r++)n.push(Lt.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function z1(t,e){return!e&&t===!1?null:t===!0?{}:t}function I1(t,{plugins:e,localIds:n},s,i){const r=[],o=t.getContext();for(const a of e){const c=a.id,u=z1(s[c],i);u!==null&&r.push({plugin:a,options:B1(t.config,{plugin:a,local:n[c]},u,o)})}return r}function B1(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(s,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function zl(t,e){const n=we.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function W1(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function H1(t,e){return t===e?"_index_":"_value_"}function xh(t){if(t==="x"||t==="y"||t==="r")return t}function $1(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Il(t,...e){if(xh(t))return t;for(const n of e){const s=n.axis||$1(n.position)||t.length>1&&xh(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function yh(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function V1(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return yh(t,"x",n[0])||yh(t,"y",n[0])}return{}}function U1(t,e){const n=Yn[t.type]||{scales:{}},s=e.scales||{},i=zl(t.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!ne(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Il(o,a,V1(o,t),we.scales[a.type]),u=H1(c,i),d=n.scales||{};r[o]=di(Object.create(null),[{axis:c},a,d[c],d[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,c=o.indexAxis||zl(a,e),d=(Yn[a]||{}).scales||{};Object.keys(d).forEach(h=>{const f=W1(h,c),g=o[f+"AxisID"]||f;r[g]=r[g]||Object.create(null),di(r[g],[{axis:f},s[g],d[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];di(a,[we.scales[a.type],we.scale])}),r}function Dm(t){const e=t.options||(t.options={});e.plugins=ee(e.plugins,{}),e.scales=U1(t,e)}function Tm(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Y1(t){return t=t||{},t.data=Tm(t.data),Dm(t),t}const vh=new Map,Am=new Set;function Nr(t,e){let n=vh.get(t);return n||(n=e(),vh.set(t,n),Am.add(n)),n}const Xs=(t,e,n)=>{const s=Un(e,n);s!==void 0&&t.add(s)};class X1{constructor(e){this._config=Y1(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Tm(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Dm(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Nr(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Nr(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Nr(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Nr(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const c=new Set;n.forEach(d=>{e&&(c.add(e),d.forEach(h=>Xs(c,e,h))),d.forEach(h=>Xs(c,i,h)),d.forEach(h=>Xs(c,Yn[r]||{},h)),d.forEach(h=>Xs(c,we,h)),d.forEach(h=>Xs(c,Fl,h))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),Am.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Yn[n]||{},we.datasets[n]||{},{type:n},we,Fl]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=wh(this._resolverCache,e,i);let c=o;if(Q1(o,n)){r.$shared=!1,s=bn(s)?s():s;const u=this.createResolver(e,s,a);c=Cs(o,s,u)}for(const u of n)r[u]=c[u];return r}createResolver(e,n,s=[""],i){const{resolver:r}=wh(this._resolverCache,e,s);return ne(n)?Cs(r,n,void 0,i):r}}function wh(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:Yc(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const K1=t=>ne(t)&&Object.getOwnPropertyNames(t).some(e=>bn(t[e]));function Q1(t,e){const{isScriptable:n,isIndexable:s}=ym(t);for(const i of e){const r=n(i),o=s(i),a=(o||r)&&t[i];if(r&&(bn(a)||K1(a))||o&&Se(a))return!0}return!1}var G1="4.5.1";const Z1=["top","bottom","left","right","chartArea"];function bh(t,e){return t==="top"||t==="bottom"||Z1.indexOf(t)===-1&&e==="x"}function kh(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function jh(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),he(n&&n.onComplete,[t],e)}function J1(t){const e=t.chart,n=e.options.animation;he(n&&n.onProgress,[t],e)}function Om(t){return Qc()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Vr={},_h=t=>{const e=Om(t);return Object.values(Vr).filter(n=>n.canvas===e).pop()};function q1(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function e2(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var Jt;let Vi=(Jt=class{static register(...e){Lt.add(...e),Sh()}static unregister(...e){Lt.remove(...e),Sh()}constructor(e,n){const s=this.config=new X1(n),i=Om(e),r=_h(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||y1(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),c=a&&a.canvas,u=c&&c.height,d=c&&c.width;if(this.id=xy(),this.ctx=a,this.canvas=c,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new R1,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Oy(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Vr[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ot.listen(this,"complete",jh),Ot.listen(this,"progress",J1),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return le(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Lt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Gd(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Yd(this.canvas,this.ctx),this}stop(){return Ot.stop(this),this}resize(e,n){Ot.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Gd(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),he(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};re(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],c=Il(o,a),u=c==="r",d=c==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),re(r,o=>{const a=o.options,c=a.id,u=Il(c,a),d=ee(a.type,o.dtype);(a.position===void 0||bh(a.position,u)!==bh(o.dposition))&&(a.position=o.dposition),i[c]=!0;let h=null;if(c in s&&s[c].type===d)h=s[c];else{const f=Lt.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,e)}),re(i,(o,a)=>{o||delete s[a]}),re(s,o=>{dt.configure(this,o,o.options),dt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(kh("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||zl(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=Lt.getController(a),{datasetElementType:u,dataElementType:d}=we.datasets[a];Object.assign(c,{dataElementType:Lt.getElement(d),datasetElementType:u&&Lt.getElement(u)}),o.controller=new c(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){re(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||re(r,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(kh("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){re(this.scales,e=>{dt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Rd(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;q1(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!Rd(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;dt.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],re(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,bn(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ot.has(this)?this.attached&&!Ot.running(this)&&Ot.start(this):(this.draw(),jh({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=wv(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&$c(n,i),e.controller.draw(),i&&Vc(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return gm(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=Zv.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Ps(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);Ai(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ot.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Yd(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Vr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};re(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},i=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},r=(c,u)=>{this.canvas&&this.resize(c,u)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){re(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},re(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,o,a,c;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,c=e.length;a<c;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!go(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),o=r(n,e),a=s?e:r(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(e,i,s,o),c=jy(e),u=e2(e,this._lastEvent,s,c);s&&(this._lastEvent=null,he(r.onHover,[e,a,this],this),c&&he(r.onClick,[e,a,this],this));const d=!go(a,i);return(d||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,d}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},$(Jt,"defaults",we),$(Jt,"instances",Vr),$(Jt,"overrides",Yn),$(Jt,"registry",Lt),$(Jt,"version",G1),$(Jt,"getChart",_h),Jt);function Sh(){return re(Vi.instances,t=>t._plugins.invalidate())}function t2(t,e,n){const{startAngle:s,x:i,y:r,outerRadius:o,innerRadius:a,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,h=Math.min(u/o,Et(s-n));if(t.beginPath(),t.arc(i,r,o-u/2,s+h/2,n-h/2),a>0){const f=Math.min(u/a,Et(s-n));t.arc(i,r,a+u/2,n-f/2,s+f/2,!0)}else{const f=Math.min(u/2,o*Et(s-n));if(d==="round")t.arc(i,r,f,n-ae/2,s+ae/2,!0);else if(d==="bevel"){const g=2*f*f,v=-g*Math.cos(n+ae/2)+i,y=-g*Math.sin(n+ae/2)+r,w=g*Math.cos(s+ae/2)+i,p=g*Math.sin(s+ae/2)+r;t.lineTo(v,y),t.lineTo(w,p)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function n2(t,e,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:c}=e;let u=i/a;t.beginPath(),t.arc(r,o,a,s-u,n+u),c>i?(u=i/c,t.arc(r,o,c,n+u,s-u,!0)):t.arc(r,o,i,n+Ce,s-Ce),t.closePath(),t.clip()}function s2(t){return Uc(t,["outerStart","outerEnd","innerStart","innerEnd"])}function i2(t,e,n,s){const i=s2(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,s*e/2),a=c=>{const u=(n-Math.min(r,c))*s/2;return Ge(c,0,Math.min(r,u))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Ge(i.innerStart,0,o),innerEnd:Ge(i.innerEnd,0,o)}}function Zn(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function _o(t,e,n,s,i,r){const{x:o,y:a,startAngle:c,pixelMargin:u,innerRadius:d}=e,h=Math.max(e.outerRadius+s+n-u,0),f=d>0?d+s+n+u:0;let g=0;const v=i-c;if(s){const H=d>0?d-s:0,X=h>0?h-s:0,Y=(H+X)/2,T=Y!==0?v*Y/(Y+s):v;g=(v-T)/2}const y=Math.max(.001,v*h-n/ae)/h,w=(v-y)/2,p=c+w+g,m=i-w-g,{outerStart:x,outerEnd:b,innerStart:k,innerEnd:N}=i2(e,f,h,m-p),M=h-x,_=h-b,S=p+x/M,L=m-b/_,E=f+k,C=f+N,z=p+k/E,K=m-N/C;if(t.beginPath(),r){const H=(S+L)/2;if(t.arc(o,a,h,S,H),t.arc(o,a,h,H,L),b>0){const R=Zn(_,L,o,a);t.arc(R.x,R.y,b,L,m+Ce)}const X=Zn(C,m,o,a);if(t.lineTo(X.x,X.y),N>0){const R=Zn(C,K,o,a);t.arc(R.x,R.y,N,m+Ce,K+Math.PI)}const Y=(m-N/f+(p+k/f))/2;if(t.arc(o,a,f,m-N/f,Y,!0),t.arc(o,a,f,Y,p+k/f,!0),k>0){const R=Zn(E,z,o,a);t.arc(R.x,R.y,k,z+Math.PI,p-Ce)}const T=Zn(M,p,o,a);if(t.lineTo(T.x,T.y),x>0){const R=Zn(M,S,o,a);t.arc(R.x,R.y,x,p-Ce,S)}}else{t.moveTo(o,a);const H=Math.cos(S)*h+o,X=Math.sin(S)*h+a;t.lineTo(H,X);const Y=Math.cos(L)*h+o,T=Math.sin(L)*h+a;t.lineTo(Y,T)}t.closePath()}function r2(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let c=e.endAngle;if(r){_o(t,e,n,s,c,i);for(let u=0;u<r;++u)t.fill();isNaN(a)||(c=o+(a%je||je))}return _o(t,e,n,s,c,i),t.fill(),c}function o2(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:h,borderDashOffset:f,borderRadius:g}=c,v=c.borderAlign==="inner";if(!u)return;t.setLineDash(h||[]),t.lineDashOffset=f,v?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let y=e.endAngle;if(r){_o(t,e,n,s,y,i);for(let w=0;w<r;++w)t.stroke();isNaN(a)||(y=o+(a%je||je))}v&&n2(t,e,y),c.selfJoin&&y-o>=ae&&g===0&&d!=="miter"&&t2(t,e,y),r||(_o(t,e,n,s,y,i),t.stroke())}class us extends Kt{constructor(n){super();$(this,"circumference");$(this,"endAngle");$(this,"fullCircles");$(this,"innerRadius");$(this,"outerRadius");$(this,"pixelMargin");$(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.getProps(["x","y"],i),{angle:o,distance:a}=lm(r,{x:n,y:s}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,v=ee(f,u-c),y=wo(o,c,u)&&c!==u,w=v>=je||y,p=Rn(a,d+g,h+g);return w&&p}getCenterPoint(n){const{x:s,y:i,startAngle:r,endAngle:o,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,h=(r+o)/2,f=(a+c+d+u)/2;return{x:s+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:i}=this,r=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>je?Math.floor(i/je):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*r,Math.sin(c)*r);const u=1-Math.sin(Math.min(ae,i||0)),d=r*u;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,r2(n,this,d,o,a),o2(n,this,d,o,a),n.restore()}}$(us,"id","arc"),$(us,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),$(us,"defaultRoutes",{backgroundColor:"backgroundColor"}),$(us,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Rm(t,e){const{x:n,y:s,base:i,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,c,u,d,h;return t.horizontal?(h=o/2,a=Math.min(n,i),c=Math.max(n,i),u=s-h,d=s+h):(h=r/2,a=n-h,c=n+h,u=Math.min(s,i),d=Math.max(s,i)),{left:a,top:u,right:c,bottom:d}}function ln(t,e,n,s){return t?0:Ge(e,n,s)}function a2(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,r=xm(s);return{t:ln(i.top,r.top,0,n),r:ln(i.right,r.right,0,e),b:ln(i.bottom,r.bottom,0,n),l:ln(i.left,r.left,0,e)}}function l2(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=xs(i),o=Math.min(e,n),a=t.borderSkipped,c=s||ne(i);return{topLeft:ln(!c||a.top||a.left,r.topLeft,0,o),topRight:ln(!c||a.top||a.right,r.topRight,0,o),bottomLeft:ln(!c||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:ln(!c||a.bottom||a.right,r.bottomRight,0,o)}}function c2(t){const e=Rm(t),n=e.right-e.left,s=e.bottom-e.top,i=a2(t,n/2,s/2),r=l2(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function Ia(t,e,n,s){const i=e===null,r=n===null,a=t&&!(i&&r)&&Rm(t,s);return a&&(i||Rn(e,a.left,a.right))&&(r||Rn(n,a.top,a.bottom))}function u2(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function d2(t,e){t.rect(e.x,e.y,e.w,e.h)}function Ba(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+r,h:t.h+o,radius:t.radius}}class pi extends Kt{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=c2(this),a=u2(o.radius)?bo:d2;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,Ba(o,n,r)),e.clip(),a(e,Ba(r,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,Ba(r,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return Ia(this,e,n,s)}inXRange(e,n){return Ia(this,e,null,n)}inYRange(e,n){return Ia(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}$(pi,"id","bar"),$(pi,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),$(pi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Nh=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},h2=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Ch extends Kt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=he(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=Be(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=Nh(s,r);let u,d;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,r,a,c)+10):(d=this.maxHeight,u=this._fitCols(o,i,a,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=i+a;let h=e;r.textAlign="left",r.textBaseline="middle";let f=-1,g=-d;return this.legendItems.forEach((v,y)=>{const w=s+n/2+r.measureText(v.text).width;(y===0||u[u.length-1]+w+2*a>o)&&(h+=d,u[u.length-(y>0?0:1)]=0,g+=d,f++),c[y]={left:0,top:g,row:f,width:w,height:i},u[u.length-1]+=w+a}),h}_fitCols(e,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-e;let h=a,f=0,g=0,v=0,y=0;return this.legendItems.forEach((w,p)=>{const{itemWidth:m,itemHeight:x}=f2(s,n,r,w,i);p>0&&g+x+2*a>d&&(h+=f+a,u.push({width:f,height:g}),v+=f+a,y++,f=g=0),c[p]={left:v,top:g,col:y,width:m,height:x},f=Math.max(f,m),g+=x+a}),h+=f,u.push({width:f,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=ys(r,this.left,this.width);if(this.isHorizontal()){let a=0,c=ze(s,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,c=ze(s,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(c),u.width),c+=u.width+i}else{let a=0,c=ze(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,c=ze(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),u.top=c,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),c+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;$c(e,this),this._draw(),Vc(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=we.color,c=ys(e.rtl,this.left,this.width),u=Be(o.font),{padding:d}=o,h=u.size,f=h/2;let g;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:v,boxHeight:y,itemHeight:w}=Nh(o,h),p=function(N,M,_){if(isNaN(v)||v<=0||isNaN(y)||y<0)return;i.save();const S=ee(_.lineWidth,1);if(i.fillStyle=ee(_.fillStyle,a),i.lineCap=ee(_.lineCap,"butt"),i.lineDashOffset=ee(_.lineDashOffset,0),i.lineJoin=ee(_.lineJoin,"miter"),i.lineWidth=S,i.strokeStyle=ee(_.strokeStyle,a),i.setLineDash(ee(_.lineDash,[])),o.usePointStyle){const L={radius:y*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:S},E=c.xPlus(N,v/2),C=M+f;mm(i,L,E,C,o.pointStyleWidth&&v)}else{const L=M+Math.max((h-y)/2,0),E=c.leftForLtr(N,v),C=xs(_.borderRadius);i.beginPath(),Object.values(C).some(z=>z!==0)?bo(i,{x:E,y:L,w:v,h:y,radius:C}):i.rect(E,L,v,y),i.fill(),S!==0&&i.stroke()}i.restore()},m=function(N,M,_){Oi(i,_.text,N,M+w/2,u,{strikethrough:_.hidden,textAlign:c.textAlign(_.textAlign)})},x=this.isHorizontal(),b=this._computeTitleHeight();x?g={x:ze(r,this.left+d,this.right-s[0]),y:this.top+d+b,line:0}:g={x:this.left+d,y:ze(r,this.top+b+d,this.bottom-n[0].height),line:0},km(this.ctx,e.textDirection);const k=w+d;this.legendItems.forEach((N,M)=>{i.strokeStyle=N.fontColor,i.fillStyle=N.fontColor;const _=i.measureText(N.text).width,S=c.textAlign(N.textAlign||(N.textAlign=o.textAlign)),L=v+f+_;let E=g.x,C=g.y;c.setWidth(this.width),x?M>0&&E+L+d>this.right&&(C=g.y+=k,g.line++,E=g.x=ze(r,this.left+d,this.right-s[g.line])):M>0&&C+k>this.bottom&&(E=g.x=E+n[g.line].width+d,g.line++,C=g.y=ze(r,this.top+b+d,this.bottom-n[g.line].height));const z=c.x(E);if(p(z,C,N),E=Ry(S,E+v+f,x?E+L:this.right,e.rtl),m(c.x(E),C,N),x)g.x+=L+d;else if(typeof N.text!="string"){const K=u.lineHeight;g.y+=Fm(N,K)+d}else g.y+=k}),jm(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Be(n.font),i=gt(n.padding);if(!n.display)return;const r=ys(e.rtl,this.left,this.width),o=this.ctx,a=n.position,c=s.size/2,u=i.top+c;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=ze(e.align,h,this.right-f);else{const v=this.columnSizes.reduce((y,w)=>Math.max(y,w.height),0);d=u+ze(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const g=ze(a,h,h+f);o.textAlign=r.textAlign(Wc(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,Oi(o,n.text,g,d,s)}_computeTitleHeight(){const e=this.options.title,n=Be(e.font),s=gt(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if(Rn(e,this.left,this.right)&&Rn(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],Rn(e,i.left,i.left+i.width)&&Rn(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!g2(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=h2(i,s);i&&!r&&he(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&he(n.onHover,[e,s,this],this)}else s&&he(n.onClick,[e,s,this],this)}}function f2(t,e,n,s,i){const r=p2(s,t,e,n),o=m2(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function p2(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+s.measureText(i).width}function m2(t,e,n){let s=t;return typeof e.text!="string"&&(s=Fm(e,n)),s}function Fm(t,e){const n=t.text?t.text.length:0;return e*n}function g2(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var zm={id:"legend",_element:Ch,start(t,e,n){const s=t.legend=new Ch({ctx:t.ctx,options:n,chart:t});dt.configure(t,s,n),dt.addBox(t,s)},stop(t){dt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;dt.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=gt(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Im extends Kt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Se(s.text)?s.text.length:1;this._padding=gt(s.padding);const r=i*Be(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let c=0,u,d,h;return this.isHorizontal()?(d=ze(a,s,r),h=n+e,u=r-s):(o.position==="left"?(d=s+e,h=ze(a,i,n),c=ae*-.5):(d=r-e,h=ze(a,n,i),c=ae*.5),u=i-n),{titleX:d,titleY:h,maxWidth:u,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Be(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:u}=this._drawArgs(r);Oi(e,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:u,textAlign:Wc(n.align),textBaseline:"middle",translation:[o,a]})}}function x2(t,e){const n=new Im({ctx:t.ctx,options:e,chart:t});dt.configure(t,n,e),dt.addBox(t,n),t.titleBlock=n}var Bm={id:"title",_element:Im,start(t,e,n){x2(t,n)},stop(t){const e=t.titleBlock;dt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;dt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ti={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const c=a.tooltipPosition();s.add(c.x),i+=c.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,c)=>a+c)/s.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const c=t[r].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=Ey(e,u);d<i&&(i=d,a=c)}}if(a){const c=a.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function Ct(t,e){return e&&(Se(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Rt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function y2(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function Mh(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,c=Be(e.bodyFont),u=Be(e.titleFont),d=Be(e.footerFont),h=r.length,f=i.length,g=s.length,v=gt(e.padding);let y=v.height,w=0,p=s.reduce((b,k)=>b+k.before.length+k.lines.length+k.after.length,0);if(p+=t.beforeBody.length+t.afterBody.length,h&&(y+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),p){const b=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;y+=g*b+(p-g)*c.lineHeight+(p-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let m=0;const x=function(b){w=Math.max(w,n.measureText(b).width+m)};return n.save(),n.font=u.string,re(t.title,x),n.font=c.string,re(t.beforeBody.concat(t.afterBody),x),m=e.displayColors?o+2+e.boxPadding:0,re(s,b=>{re(b.before,x),re(b.lines,x),re(b.after,x)}),m=0,n.font=d.string,re(t.footer,x),n.restore(),w+=v.width,{width:w,height:y}}function v2(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function w2(t,e,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function b2(t,e,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:c}}=t;let u="center";return s==="center"?u=i<=(a+c)/2?"left":"right":i<=r/2?u="left":i>=o-r/2&&(u="right"),w2(u,t,e,n)&&(u="center"),u}function Lh(t,e,n){const s=n.yAlign||e.yAlign||v2(t,n);return{xAlign:n.xAlign||e.xAlign||b2(t,e,n,s),yAlign:s}}function k2(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function j2(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function Eh(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:c}=n,u=i+r,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:g}=xs(o);let v=k2(e,a);const y=j2(e,c,u);return c==="center"?a==="left"?v+=u:a==="right"&&(v-=u):a==="left"?v-=Math.max(d,f)+i:a==="right"&&(v+=Math.max(h,g)+i),{x:Ge(v,0,s.width-e.width),y:Ge(y,0,s.height-e.height)}}function Cr(t,e,n){const s=gt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function Ph(t){return Ct([],Rt(t))}function _2(t,e,n){return Ps(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Dh(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Wm={beforeTitle:At,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:At,beforeBody:At,beforeLabel:At,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return le(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:At,afterBody:At,beforeFooter:At,footer:At,afterFooter:At};function Ye(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?Wm[e].call(n,s):i}class Bl extends Kt{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new _m(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=_2(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=Ye(s,"beforeTitle",this,e),r=Ye(s,"title",this,e),o=Ye(s,"afterTitle",this,e);let a=[];return a=Ct(a,Rt(i)),a=Ct(a,Rt(r)),a=Ct(a,Rt(o)),a}getBeforeBody(e,n){return Ph(Ye(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return re(e,r=>{const o={before:[],lines:[],after:[]},a=Dh(s,r);Ct(o.before,Rt(Ye(a,"beforeLabel",this,r))),Ct(o.lines,Ye(a,"label",this,r)),Ct(o.after,Rt(Ye(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,n){return Ph(Ye(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=Ye(s,"beforeFooter",this,e),r=Ye(s,"footer",this,e),o=Ye(s,"afterFooter",this,e);let a=[];return a=Ct(a,Rt(i)),a=Ct(a,Rt(r)),a=Ct(a,Rt(o)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],c,u;for(c=0,u=n.length;c<u;++c)a.push(y2(this.chart,n[c]));return e.filter&&(a=a.filter((d,h,f)=>e.filter(d,h,f,s))),e.itemSort&&(a=a.sort((d,h)=>e.itemSort(d,h,s))),re(a,d=>{const h=Dh(e.callbacks,d);i.push(Ye(h,"labelColor",this,d)),r.push(Ye(h,"labelPointStyle",this,d)),o.push(Ye(h,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=ti[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=Mh(this,s),u=Object.assign({},a,c),d=Lh(this.chart,s,u),h=Eh(s,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,r={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=xs(a),{x:f,y:g}=e,{width:v,height:y}=n;let w,p,m,x,b,k;return r==="center"?(b=g+y/2,i==="left"?(w=f,p=w-o,x=b+o,k=b-o):(w=f+v,p=w+o,x=b-o,k=b+o),m=w):(i==="left"?p=f+Math.max(c,d)+o:i==="right"?p=f+v-Math.max(u,h)-o:p=this.caretX,r==="top"?(x=g,b=x-o,w=p-o,m=p+o):(x=g+y,b=x+o,w=p+o,m=p-o),k=x),{x1:w,x2:p,x3:m,y1:x,y2:b,y3:k}}drawTitle(e,n,s){const i=this.title,r=i.length;let o,a,c;if(r){const u=ys(s.rtl,this.x,this.width);for(e.x=Cr(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",o=Be(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,c=0;c<r;++c)n.fillText(i[c],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,c+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:c,boxWidth:u}=r,d=Be(r.bodyFont),h=Cr(this,"left",r),f=i.x(h),g=c<d.lineHeight?(d.lineHeight-c)/2:0,v=n.y+g;if(r.usePointStyle){const y={radius:Math.min(u,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},w=i.leftForLtr(f,u)+u/2,p=v+c/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Xd(e,y,w,p),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Xd(e,y,w,p)}else{e.lineWidth=ne(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=i.leftForLtr(f,u),w=i.leftForLtr(i.xPlus(f,1),u-2),p=xs(o.borderRadius);Object.values(p).some(m=>m!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,bo(e,{x:y,y:v,w:u,h:c,radius:p}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),bo(e,{x:w,y:v+1,w:u-2,h:c-2,radius:p}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(y,v,u,c),e.strokeRect(y,v,u,c),e.fillStyle=o.backgroundColor,e.fillRect(w,v+1,u-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:c,boxWidth:u,boxPadding:d}=s,h=Be(s.bodyFont);let f=h.lineHeight,g=0;const v=ys(s.rtl,this.x,this.width),y=function(_){n.fillText(_,v.x(e.x+g),e.y+f/2),e.y+=f+r},w=v.textAlign(o);let p,m,x,b,k,N,M;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Cr(this,w,s),n.fillStyle=s.bodyColor,re(this.beforeBody,y),g=a&&w!=="right"?o==="center"?u/2+d:u+2+d:0,b=0,N=i.length;b<N;++b){for(p=i[b],m=this.labelTextColors[b],n.fillStyle=m,re(p.before,y),x=p.lines,a&&x.length&&(this._drawColorBox(n,e,b,v,s),f=Math.max(h.lineHeight,c)),k=0,M=x.length;k<M;++k)y(x[k]),f=h.lineHeight;re(p.after,y)}g=0,f=h.lineHeight,re(this.afterBody,y),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let o,a;if(r){const c=ys(s.rtl,this.x,this.width);for(e.x=Cr(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",o=Be(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:c}=e,{width:u,height:d}=s,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:v}=xs(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,c),o==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+u-f,c),n.quadraticCurveTo(a+u,c,a+u,c+f),o==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+u,c+d-v),n.quadraticCurveTo(a+u,c+d,a+u-v,c+d),o==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+g,c+d),n.quadraticCurveTo(a,c+d,a,c+d-g),o==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,c+h),n.quadraticCurveTo(a,c,a+h,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=ti[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Mh(this,e),c=Object.assign({},o,this._size),u=Lh(n,e,c),d=Eh(e,c,u,n);(i._to!==d.x||r._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=gt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),km(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),jm(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:c})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[c],index:c}}),r=!go(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,s),a=this._positionChanged(o,e),c=n||!go(o,r)||a;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,o=ti[r.position].call(this,e,n);return o!==!1&&(s!==o.x||i!==o.y)}}$(Bl,"positioners",ti);var Hm={id:"tooltip",_element:Bl,positioners:ti,afterInit(t,e,n){n&&(t.tooltip=new Bl({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Wm},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const S2=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function N2(t,e,n,s){const i=t.indexOf(e);if(i===-1)return S2(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const C2=(t,e)=>t===null?null:Ge(Math.round(t),0,e);function Th(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class So extends Ds{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(le(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:N2(s,e,ee(n,e),this._addedLabels),C2(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return Th.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}$(So,"id","category"),$(So,"defaults",{ticks:{callback:Th}});function M2(t,e){const n=[],{bounds:i,step:r,min:o,max:a,precision:c,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=t,g=r||1,v=d-1,{min:y,max:w}=e,p=!le(o),m=!le(a),x=!le(u),b=(w-y)/(h+1);let k=zd((w-y)/v/g)*g,N,M,_,S;if(k<1e-14&&!p&&!m)return[{value:y},{value:w}];S=Math.ceil(w/k)-Math.floor(y/k),S>v&&(k=zd(S*k/v/g)*g),le(c)||(N=Math.pow(10,c),k=Math.ceil(k*N)/N),i==="ticks"?(M=Math.floor(y/k)*k,_=Math.ceil(w/k)*k):(M=y,_=w),p&&m&&r&&Cy((a-o)/r,k/1e3)?(S=Math.round(Math.min((a-o)/k,d)),k=(a-o)/S,M=o,_=a):x?(M=p?o:M,_=m?a:_,S=u-1,k=(_-M)/S):(S=(_-M)/k,Wr(S,Math.round(S),k/1e3)?S=Math.round(S):S=Math.ceil(S));const L=Math.max(Id(k),Id(M));N=Math.pow(10,le(c)?L:c),M=Math.round(M*N)/N,_=Math.round(_*N)/N;let E=0;for(p&&(f&&M!==o?(n.push({value:o}),M<o&&E++,Wr(Math.round((M+E*k)*N)/N,o,Ah(o,b,t))&&E++):M<o&&E++);E<S;++E){const C=Math.round((M+E*k)*N)/N;if(m&&C>a)break;n.push({value:C})}return m&&f&&_!==a?n.length&&Wr(n[n.length-1].value,a,Ah(a,b,t))?n[n.length-1].value=a:n.push({value:a}):(!m||_===a)&&n.push({value:_}),n}function Ah(t,e,{horizontal:n,minRotation:s}){const i=Ht(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class L2 extends Ds{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return le(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=c=>i=n?i:c,a=c=>r=s?r:c;if(e){const c=yn(i),u=yn(r);c<0&&u<0?a(0):c>0&&u>0&&o(0)}if(i===r){let c=r===0?1:Math.abs(r*.05);a(r+c),e||o(i-c)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=M2(i,r);return e.bounds==="ticks"&&My(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return Hc(e,this.chart.options.locale,this.options.ticks.format)}}class No extends L2{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=mt(e)?e:0,this.max=mt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Ht(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}$(No,"id","linear"),$(No,"defaults",{ticks:{callback:pm.formatters.numeric}});const Xo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ke=Object.keys(Xo);function Oh(t,e){return t-e}function Rh(t,e){if(le(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),mt(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(vo(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function Fh(t,e,n,s){const i=Ke.length;for(let r=Ke.indexOf(t);r<i-1;++r){const o=Xo[Ke[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return Ke[r]}return Ke[i-1]}function E2(t,e,n,s,i){for(let r=Ke.length-1;r>=Ke.indexOf(n);r--){const o=Ke[r];if(Xo[o].common&&t._adapter.diff(i,s,o)>=e-1)return o}return Ke[n?Ke.indexOf(n):0]}function P2(t){for(let e=Ke.indexOf(t)+1,n=Ke.length;e<n;++e)if(Xo[Ke[e]].common)return Ke[e]}function zh(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=Bc(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function D2(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,c;for(a=r;a<=o;a=+i.add(a,1,s))c=n[a],c>=0&&(e[c].major=!0);return e}function Ih(t,e,n){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:D2(t,s,i,n)}class Co extends Ds{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new Yv._date(e.adapters.date);i.init(n),di(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Rh(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function c(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(r=Math.max(r,u.max))}(!o||!a)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=mt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=mt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=Ty(i,r,o);return this._unit=n.unit||(s.autoSkip?Fh(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):E2(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:P2(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),Ih(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Ge(n,0,o),s=Ge(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||Fh(r.minUnit,n,s,this._getLabelCapacity(n)),a=ee(i.ticks.stepSize,1),c=o==="week"?r.isoWeekday:!1,u=vo(c)||c===!0,d={};let h=n,f,g;if(u&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,u?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const v=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,g=0;f<s;f=+e.add(f,a,o),g++)zh(d,f,v);return(f===s||i.bounds==="ticks"||g===1)&&zh(d,f,v),Object.keys(d).sort(Oh).map(y=>+y)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return he(o,[e,n,s],this);const a=r.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&a[c],h=u&&a[u],f=s[n],g=u&&h&&f&&f.major;return this._adapter.format(e,i||(g?h:d))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=Ht(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,Ih(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(Rh(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return um(e.sort(Oh))}}$(Co,"id","time"),$(Co,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Mr(t,e,n){let s=0,i=t.length-1,r,o,a,c;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=Rl(t,"pos",e)),{pos:r,time:a}=t[s],{pos:o,time:c}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=Rl(t,"time",e)),{time:r,pos:a}=t[s],{time:o,pos:c}=t[i]);const u=o-r;return u?a+(c-a)*(e-r)/u:a}class Bh extends Co{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Mr(n,this.min),this._tableRange=Mr(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let o,a,c,u,d;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=s&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)d=i[o+1],c=i[o-1],u=i[o],Math.round((d+c)/2)!==u&&r.push({time:u,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Mr(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Mr(this._table,s*this._tableRange+this._minPos,!0)}}$(Bh,"id","timeseries"),$(Bh,"defaults",Co.defaults);const $m="label";function Wh(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function T2(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Vm(t,e){t.labels=e}function Um(t,e,n=$m){const s=[];t.datasets=e.map(i=>{const r=t.datasets.find(o=>o[n]===i[n]);return!r||!i.data||s.includes(r)?{...i}:(s.push(r),Object.assign(r,i),r)})}function A2(t,e=$m){const n={labels:[],datasets:[]};return Vm(n,t.labels),Um(n,t.datasets,e),n}function O2(t,e){const{height:n=150,width:s=300,redraw:i=!1,datasetIdKey:r,type:o,data:a,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...f}=t,g=P.useRef(null),v=P.useRef(null),y=()=>{g.current&&(v.current=new Vi(g.current,{type:o,data:A2(a,r),options:c&&{...c},plugins:u}),Wh(e,v.current))},w=()=>{Wh(e,null),v.current&&(v.current.destroy(),v.current=null)};return P.useEffect(()=>{!i&&v.current&&c&&T2(v.current,c)},[i,c]),P.useEffect(()=>{!i&&v.current&&Vm(v.current.config.data,a.labels)},[i,a.labels]),P.useEffect(()=>{!i&&v.current&&a.datasets&&Um(v.current.config.data,a.datasets,r)},[i,a.datasets]),P.useEffect(()=>{v.current&&(i?(w(),setTimeout(y)):v.current.update(h))},[i,c,a.labels,a.datasets,h]),P.useEffect(()=>{v.current&&(w(),setTimeout(y))},[o]),P.useEffect(()=>(y(),()=>w()),[]),l.jsx("canvas",{ref:g,role:"img",height:n,width:s,...f,children:d})}const R2=P.forwardRef(O2);function Ym(t,e){return Vi.register(e),P.forwardRef((n,s)=>l.jsx(R2,{...n,ref:s,type:t}))}const Wl=Ym("bar",Hr),Xm=Ym("doughnut",qs);Vi.register(us,So,No,pi,Bm,Hm,zm);function F2({summary:t,students:e}){const n={labels:["Complete","Active","Warning","Re-engage"],datasets:[{data:[t.completeCount||0,t.activeCount,t.warningCount,t.reengageCount],backgroundColor:["#3b82f6","#22c55e","#f97316","#ef4444"],borderColor:["#ffffff","#ffffff","#ffffff","#ffffff"],borderWidth:2}]},s={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,font:{size:12}}},tooltip:{callbacks:{label:d=>{const h=d.dataset.data.reduce((g,v)=>g+v,0),f=(d.raw/h*100).toFixed(1);return`${d.label}: ${d.raw} (${f}%)`}}}}},i=[{label:"0-25%",min:0,max:25,count:0,color:"#ef4444"},{label:"26-50%",min:26,max:50,count:0,color:"#f97316"},{label:"51-75%",min:51,max:75,count:0,color:"#3b82f6"},{label:"76-100%",min:76,max:100,count:0,color:"#22c55e"}];e.forEach(d=>{const h=d.progress.value;for(const f of i)if(h>=f.min&&h<=f.max){f.count++;break}});const r={labels:i.map(d=>d.label),datasets:[{label:"Students",data:i.map(d=>d.count),backgroundColor:i.map(d=>d.color),borderRadius:6}]},o={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:d=>`${d.raw} students`}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}},a=e.filter(d=>d.progress.value>=100).length,c=e.filter(d=>d.progress.value>0&&d.progress.value<100).length,u=e.filter(d=>d.progress.value===0).length;return l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Student Status"}),l.jsx("div",{className:"h-64",children:l.jsx(Xm,{data:n,options:s})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Progress Distribution"}),l.jsx("div",{className:"h-64",children:l.jsx(Wl,{data:r,options:o})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Course Status"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Completed"})]}),l.jsx("span",{className:"text-2xl font-bold text-green-600",children:a})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"In Progress"})]}),l.jsx("span",{className:"text-2xl font-bold text-blue-600",children:c})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Not Started"})]}),l.jsx("span",{className:"text-2xl font-bold text-gray-600",children:u})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm text-gray-500",children:"Average Progress"}),l.jsxs("span",{className:"font-bold text-gray-900",children:[t.averageProgress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:"h-3 rounded-full transition-all duration-500",style:{width:`${t.averageProgress}%`,backgroundColor:t.averageProgress>=75?"#22c55e":t.averageProgress>=40?"#3b82f6":"#f97316"}})})]})]})]})]})}Vi.register(us,So,No,pi,Bm,Hm,zm);function z2({examSummary:t,students:e}){const n={labels:["Passed","Failed","Upcoming","Pending"],datasets:[{data:[t.passed,t.failed,t.upcoming,t.noResult],backgroundColor:["#22c55e","#ef4444","#3b82f6","#f97316"],borderColor:["#ffffff","#ffffff","#ffffff","#ffffff"],borderWidth:2}]},s={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,usePointStyle:!0,font:{size:12}}},tooltip:{callbacks:{label:p=>{const m=p.dataset.data.reduce((b,k)=>b+k,0),x=m>0?(p.raw/m*100).toFixed(1):0;return`${p.label}: ${p.raw} (${x}%)`}}}}},i=t.courseTypes||{},r=Object.keys(i).filter(p=>p!=="Unknown"&&p),o=r.map(p=>{const m=i[p],x=m.passed+m.failed;return x>0?Math.round(m.passed/x*100):0}),a=r.map(p=>{const m=i[p];return m.passed+m.failed}),c={labels:r,datasets:[{label:"Pass Rate %",data:o,backgroundColor:o.map(p=>p>=70?"#22c55e":p>=50?"#f97316":"#ef4444"),borderRadius:6}]},u={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:p=>{const m=p.dataIndex;return`Pass rate: ${p.raw}% (${a[m]} taken)`}}}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:p=>p+"%"}},x:{ticks:{font:{size:11}}}}},d={labels:["Passed","Failed","All Students"],datasets:[{label:"Avg Study Time (minutes)",data:[t.avgStudyPassed||0,t.avgStudyFailed||0,t.avgStudyTime||0],backgroundColor:["#22c55e","#ef4444","#6366f1"],borderRadius:6}]},h=p=>p>=60?`${Math.floor(p/60)}h ${p%60}m`:`${p}m`,f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:p=>`Avg: ${h(p.raw)}`}}},scales:{y:{beginAtZero:!0,ticks:{callback:p=>h(p)}}}},g=e.filter(p=>p.matched!==!1),v=e.filter(p=>(p.passFail||"").toUpperCase()==="PASS"),y=e.filter(p=>(p.passFail||"").toUpperCase()==="FAIL"),w=[{label:"0-25%",min:0,max:25,count:0,color:"#ef4444"},{label:"26-50%",min:26,max:50,count:0,color:"#f97316"},{label:"51-75%",min:51,max:75,count:0,color:"#3b82f6"},{label:"76-100%",min:76,max:100,count:0,color:"#22c55e"}];return g.forEach(p=>{var x;const m=((x=p.progress)==null?void 0:x.value)||0;for(const b of w)if(m>=b.min&&m<=b.max){b.count++;break}}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Exam Results"}),l.jsx("div",{className:"h-64",children:l.jsx(Xm,{data:n,options:s})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pass Rate by Course"}),l.jsx("div",{className:"h-64",children:r.length>0?l.jsx(Wl,{data:c,options:u}):l.jsx("div",{className:"h-full flex items-center justify-center text-gray-400",children:"No exam results yet"})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Avg Study Time"}),t.avgStudyPassed>0||t.avgStudyFailed>0?l.jsx("div",{className:"h-64",children:l.jsx(Wl,{data:d,options:f})}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Passed"})]}),l.jsx("span",{className:"text-2xl font-bold text-green-600",children:v.length})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Failed"})]}),l.jsx("span",{className:"text-2xl font-bold text-red-600",children:y.length})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Tracked"})]}),l.jsx("span",{className:"text-2xl font-bold text-blue-600",children:g.length})]}),l.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Study time data available for students in your department"})]})]})]})}const Fe="/api";function I2({user:t,department:e,onLogout:n,initialData:s}){const[i,r]=P.useState((s==null?void 0:s.students)||[]),[o,a]=P.useState((s==null?void 0:s.summary)||null),[c,u]=P.useState(!s),[d,h]=P.useState(!1),[f,g]=P.useState((s==null?void 0:s.isQuick)||!1),[v,y]=P.useState(null),[w,p]=P.useState(s?new Date:null),[m,x]=P.useState(null),[b,k]=P.useState(!1),[N,M]=P.useState(!1),[_,S]=P.useState("students"),[L,E]=P.useState([]),[C,z]=P.useState(null),[K,H]=P.useState(!1),[X,Y]=P.useState(!1),[T,R]=P.useState(!1),[W,J]=P.useState(""),[ie,A]=P.useState(!1),[V,q]=P.useState(""),[G,be]=P.useState(null),[se,Jc]=P.useState(()=>{try{const j=localStorage.getItem("ji_extra_departments");return j?JSON.parse(j):[]}catch{return[]}}),[Ui,Km]=P.useState(!1),[qc,eu]=P.useState(""),[tu,Gt]=P.useState(""),[nu,Ko]=P.useState([]),[Qo,su]=P.useState("all"),[Sn,Go]=P.useState(""),[Zo,Qm]=P.useState("all"),[Yi,iu]=P.useState("no-result"),[Xi,ru]=P.useState("all"),[Ki,ou]=P.useState("all"),[Qi,au]=P.useState("all"),[Gi,lu]=P.useState("all"),[Jo,cu]=P.useState("all");P.useEffect(()=>{s?(console.log("[DASHBOARD] Using pre-fetched data"),s.isQuick&&(console.log("[DASHBOARD] Loading full data in background..."),Gm())):(console.log("[DASHBOARD] Component mounted, fetching data..."),hu())},[]),P.useEffect(()=>{localStorage.setItem("ji_extra_departments",JSON.stringify(se))},[se]),P.useEffect(()=>{se.length>0?Zm():(Ko([]),su("all"),hu())},[se.length]),P.useEffect(()=>{_==="exam"&&!X&&!K&&Ts()},[_]);const Ts=async j=>{H(!0);try{const O=j||W,B=O?`${Fe}/exam/students?adminKey=${encodeURIComponent(O)}`:`${Fe}/exam/students`,I=await fetch(B,{credentials:"include"});if(!I.ok){if(I.status===401){n();return}throw new Error("Failed to fetch exam data")}const Q=await I.json();Q.success&&(E(Q.students),z(Q.examSummary),Y(!0),O&&fetch(`${Fe}/exam/sync-scheduler/status`,{credentials:"include"}).then(U=>U.ok?U.json():null).then(U=>{U!=null&&U.success&&be(U.scheduler)}).catch(()=>{}))}catch(O){y("Failed to load exam data. Please try again."),console.error("[DASHBOARD] Exam data error:",O)}finally{H(!1)}},Gm=async()=>{try{const[j,O]=await Promise.all([fetch(`${Fe}/dashboard/summary`,{credentials:"include"}),fetch(`${Fe}/dashboard/students`,{credentials:"include"})]);if(j.ok&&O.ok){const[B,I]=await Promise.all([j.json(),O.json()]);B.success&&I.success&&(console.log("[DASHBOARD] Full data loaded, updating..."),a(B.summary),r(I.students),p(new Date))}}catch(j){console.error("[DASHBOARD] Background load failed:",j)}finally{g(!1)}},Zm=async()=>{u(!0),y(null);try{const j=se.join(","),O=await fetch(`${Fe}/dashboard/students/multi?departments=${encodeURIComponent(j)}`,{credentials:"include"});if(!O.ok){if(O.status===401){n();return}throw new Error("Failed to fetch multi-department data")}const B=await O.json();if(B.success){r(B.students),a(B.summary),Ko(B.departments||[]),p(new Date);const I=(B.departments||[]).filter(Q=>Q.status==="error");I.length>0&&Gt(`Could not load ${I.length} department(s): ${I.map(Q=>Q.error||Q.id).join(", ")}`)}}catch(j){y("Failed to load multi-department data. Please try again."),console.error("[DASHBOARD] Multi-dept error:",j)}finally{u(!1)}},uu=()=>{var B;const j=qc.trim();if(!/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(j)){Gt("Invalid Department ID format (must be a GUID like xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx)");return}if(j.toLowerCase()===((B=e==null?void 0:e.id)==null?void 0:B.toLowerCase())){Gt("This is already your primary department");return}if(se.some(I=>I.toLowerCase()===j.toLowerCase())){Gt("Department already added");return}if(se.length>=10){Gt("Maximum 10 additional departments");return}Gt(""),eu(""),Jc(I=>[...I,j])},du=j=>{Jc(O=>O.filter(B=>B!==j))},hu=P.useCallback(async()=>{u(!0),y(null);try{const[j,O]=await Promise.all([fetch(`${Fe}/dashboard/summary`,{credentials:"include"}),fetch(`${Fe}/dashboard/students`,{credentials:"include"})]);if(!j.ok||!O.ok){if(j.status===401||O.status===401){n();return}throw new Error("Failed to fetch data")}const B=await j.json(),I=await O.json();B.success&&a(B.summary),I.success&&r(I.students),p(new Date)}catch(j){y("Failed to load dashboard data. Please try again."),console.error("Dashboard error:",j)}finally{u(!1)}},[n]),Jm=async()=>{h(!0),y(null);try{const j=se.length>0?JSON.stringify({extraDepartments:se}):void 0,O=await fetch(`${Fe}/dashboard/sync`,{method:"POST",credentials:"include",headers:j?{"Content-Type":"application/json"}:{},body:j});if(!O.ok){if(O.status===401){n();return}throw new Error("Sync failed")}const B=await O.json();B.success&&(a(B.summary),r(B.students),B.departments&&Ko(B.departments),p(new Date),X&&(Y(!1),_==="exam"&&Ts()))}catch{y("Failed to sync data. Please try again.")}finally{h(!1)}},qm=async()=>{try{const j=se.length>0?`${Fe}/dashboard/export?departments=${encodeURIComponent(se.join(","))}`:`${Fe}/dashboard/export`,O=await fetch(j,{credentials:"include"});if(!O.ok)throw new Error("Export failed");const B=await O.blob(),I=window.URL.createObjectURL(B),Q=document.createElement("a");Q.href=I,Q.download=`students_export_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Q),Q.click(),window.URL.revokeObjectURL(I),Q.remove()}catch{y("Failed to export data. Please try again.")}},eg=async j=>{try{(await(await fetch(`${Fe}/exam/admin-verify`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({password:j})})).json()).success?(R(!0),J(j),A(!1),q(""),Y(!1),Ts(j)):q("Invalid password")}catch{q("Failed to verify")}},tg=()=>{R(!1),J(""),A(!1),q(""),Y(!1),Ts("")},fu=j=>{const O=j.length,B=j.filter(Ae=>(Ae.passFail||"").toUpperCase()==="PASS").length,I=j.filter(Ae=>(Ae.passFail||"").toUpperCase()==="FAIL").length,Q=Date.now();let U=0,ot=0;j.forEach(Ae=>{var As;const Nn=qo(Ae.examDateRaw),Ee=(Ae.passFail||"").trim()!=="";Nn>Q&&!Ee&&(U++,Ae.matched!==!1&&(((As=Ae.progress)==null?void 0:As.value)||0)<80&&ot++)});const ue=B+I,_t=ue>0?Math.round(B/ue*1e3)/10:0;return Ae=>({...Ae,total:O,passed:B,failed:I,upcoming:U,atRisk:ot,passRate:_t,noResult:O-B-I-U})},pu=async(j,O)=>{try{const I=await(await fetch(`${Fe}/exam/update-result`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:j,result:O,adminKey:W})})).json();if(I.success){const Q=L.map(U=>U.email===j?{...U,passFail:O}:U);E(Q),z(fu(Q)),x(U=>U&&U.email===j?{...U,passFail:O}:U),I.sheetSaved||alert("Warning: Result saved locally but failed to save to Google Sheet. It may be lost after server restart. Check GOOGLE_SHEETS_CREDENTIALS_JSON env var.")}else alert("Failed to save result: "+(I.error||"Unknown error"))}catch(B){console.error("Failed to update result:",B),alert("Failed to save result. Check console for details.")}},mu=async(j,O,B)=>{try{const Q=await(await fetch(`${Fe}/exam/update-date`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:j,date:O,time:B||"",adminKey:W})})).json();if(Q.success){const[U,ot,ue]=O.split("-").map(Number),Ae=new Date(U,ot-1,ue).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),Nn=L.map(Ee=>Ee.email===j?{...Ee,examDateRaw:O,examDate:Ae,examTime:B||Ee.examTime}:Ee);E(Nn),z(fu(Nn)),x(Ee=>Ee&&Ee.email===j?{...Ee,examDateRaw:O,examDate:Ae,examTime:B||Ee.examTime}:Ee),Q.sheetSaved||alert("Warning: Date saved locally but failed to save to Google Sheet. It may be lost after server restart.")}else alert("Failed to save date: "+(Q.error||"Unknown error"))}catch(I){console.error("Failed to update exam date:",I),alert("Failed to save date. Check console for details.")}},ng=async(j,O)=>{try{const I=await(await fetch(`${Fe}/students/${j}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(O)})).json();if(I.success){const Q=I.student;return r(U=>U.map(ot=>ot.id===j?{...ot,firstName:Q.firstName,lastName:Q.lastName,fullName:`${Q.firstName} ${Q.lastName}`.trim(),email:Q.emailAddress,phone:Q.phone}:ot)),{success:!0,student:Q}}else return{success:!1,error:I.error||"Update failed"}}catch(B){return console.error("Failed to update student contact:",B),{success:!1,error:"Network error"}}},sg=async(j,O,B,I)=>{try{const U=await(await fetch(`${Fe}/exam/update-contact`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:j,name:O,newEmail:B,phone:I,adminKey:W})})).json();if(U.success){const ot=L.map(ue=>{var _t;return ue.email===j?{...ue,fullName:O||ue.fullName,email:B||ue.email,phone:I||ue.phone,sheetTracking:{...ue.sheetTracking,phone:I||((_t=ue.sheetTracking)==null?void 0:_t.phone)}}:ue});E(ot),x(ue=>{var _t;return ue&&ue.email===j?{...ue,fullName:O||ue.fullName,email:B||ue.email,phone:I||ue.phone,sheetTracking:{...ue.sheetTracking,phone:I||((_t=ue.sheetTracking)==null?void 0:_t.phone)}}:ue}),U.sheetSaved||alert("Warning: Contact saved locally but failed to save to Google Sheet. Check GOOGLE_SHEETS_CREDENTIALS_JSON env var.")}else alert("Failed to save contact: "+(U.error||"Unknown error"))}catch(Q){console.error("Failed to update sheet contact:",Q),alert("Failed to save contact. Check console for details.")}},gu=[...new Set(i.map(j=>(j.departmentName||"").trim()).filter(Boolean))].sort(),xu=i.filter(j=>{const O=Sn.toLowerCase(),B=!Sn||j.fullName.toLowerCase().includes(O)||j.email.toLowerCase().includes(O)||(j.departmentName||"").toLowerCase().includes(O),I=Zo==="all"||j.status.status.toLowerCase()===Zo.toLowerCase(),Q=Qo==="all"||(j.departmentName||"").toLowerCase()===Qo.toLowerCase();return B&&I&&Q}),qo=j=>{if(!j)return 0;if(/^\d{4}-\d{2}-\d{2}$/.test(j))return new Date(j+"T00:00:00").getTime();const O=j.split("/");if(O.length===3)return new Date(O[2],O[0]-1,O[1]).getTime();const B=new Date(j);return isNaN(B.getTime())?0:B.getTime()},ig=(j,O)=>{if(O==="all")return!0;const B=qo(j.examDateRaw);if(!B)return O==="no-date";const I=new Date;I.setHours(0,0,0,0);const Q=I.getTime(),U=Math.ceil((B-Q)/864e5);switch(O){case"overdue":return U<0;case"today":return U===0;case"tomorrow":return U===1;case"2-days":return U>=0&&U<=2;case"3-days":return U>=0&&U<=3;case"this-week":return U>=0&&U<=7;case"next-week":return U>7&&U<=14;case"this-month":return U>=0&&U<=30;case"no-date":return!1;default:return!0}},yu=L.filter(j=>{var Ae,Nn;if(!T&&j.matched===!1)return!1;const O=Sn.toLowerCase(),B=!Sn||(j.fullName||"").toLowerCase().includes(O)||(j.email||"").toLowerCase().includes(O)||(j.departmentName||"").toLowerCase().includes(O)||(j.agencyOwner||"").toLowerCase().includes(O);let I=!0;if(Yi!=="all"){const Ee=(j.passFail||"").toUpperCase(),As=qo(j.examDateRaw),vu=new Date;vu.setHours(0,0,0,0);const ea=As&&As<vu.getTime(),Ji=Ee==="PASS"||Ee==="FAIL";switch(Yi){case"passed":I=Ee==="PASS";break;case"failed":I=Ee==="FAIL";break;case"no-result":I=!Ji;break;case"upcoming":I=!ea&&!Ji;break;case"pending":I=ea&&!Ji;break;case"at-risk":I=!ea&&!Ji&&j.matched!==!1&&(((Ae=j.progress)==null?void 0:Ae.value)||0)<80;break;default:I=!0}}const Q=Xi==="all"||(j.examCourse||"").toLowerCase()===Xi.toLowerCase(),U=Ki==="all"||(j.departmentName||"").toLowerCase()===Ki.toLowerCase(),ot=Qi==="all"||(j.examState||"").toLowerCase()===Qi.toLowerCase(),ue=Gi==="all"||(((Nn=j.readiness)==null?void 0:Nn.status)||"GRAY")===Gi,_t=ig(j,Jo);return B&&I&&Q&&U&&ot&&ue&&_t}),Zi=T?L:L.filter(j=>j.matched!==!1),rg=[...new Set(Zi.map(j=>(j.examCourse||"").trim()).filter(Boolean))].sort(),og=[...new Set(Zi.map(j=>(j.departmentName||"").trim()).filter(Boolean))].sort(),ag=[...new Set(Zi.map(j=>(j.examState||"").trim()).filter(Boolean))].sort(),lg=()=>{if(!w)return"Never";const O=Math.floor((new Date-w)/1e3);return O<60?"Just now":O<3600?`${Math.floor(O/60)} minutes ago`:O<86400?`${Math.floor(O/3600)} hours ago`:w.toLocaleDateString()};return c?l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx("header",{className:"header shadow-lg",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-10 w-32 bg-white/20 rounded animate-pulse"}),l.jsxs("div",{children:[l.jsx("div",{className:"h-5 w-40 bg-white/20 rounded animate-pulse mb-1"}),l.jsx("div",{className:"h-4 w-24 bg-white/10 rounded animate-pulse"})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-9 w-20 bg-white/10 rounded-lg animate-pulse"}),l.jsx("div",{className:"h-9 w-9 bg-white/10 rounded-lg animate-pulse"})]})]})})}),l.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"spinner mx-auto mb-2"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Loading student data..."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(j=>l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 animate-pulse",children:[l.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded mb-3"}),l.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded"})]},j))}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b",children:l.jsx("div",{className:"h-10 w-64 bg-gray-200 rounded animate-pulse"})}),l.jsx("div",{className:"divide-y",children:[1,2,3,4,5].map(j=>l.jsx("div",{className:"p-4 animate-pulse",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),l.jsxs("div",{children:[l.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded mb-2"}),l.jsx("div",{className:"h-3 w-48 bg-gray-100 rounded"})]})]}),l.jsx("div",{className:"h-6 w-20 bg-gray-200 rounded-full"})]})},j))})]})]})]}):l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx("header",{className:"header shadow-lg",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("img",{src:"/logo.png",alt:"JustInsurance",className:"h-20 w-auto",onError:j=>{j.target.style.display="none"}}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white",children:"Student Dashboard"}),l.jsx("p",{className:"text-sm text-ji-blue-light",children:e==null?void 0:e.name})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{onClick:Jm,disabled:d,className:"flex items-center space-x-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",children:[l.jsx("svg",{className:`w-5 h-5 ${d?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),l.jsx("span",{children:d?"Syncing...":"Sync"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"text-right hidden sm:block",children:[l.jsx("p",{className:"text-white font-medium",children:t==null?void 0:t.name}),l.jsx("p",{className:"text-xs text-ji-blue-light",children:t==null?void 0:t.email})]}),l.jsx("button",{onClick:n,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",title:"Logout",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})]})})}),l.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[v&&l.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{className:"text-red-700",children:v})]}),l.jsx("button",{onClick:()=>y(null),className:"text-red-500 hover:text-red-700",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"flex space-x-1 mb-6 bg-white rounded-lg shadow-md p-1 max-w-xs",children:[l.jsx("button",{className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${_==="students"?"bg-ji-blue-bright text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,onClick:()=>S("students"),children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),l.jsx("span",{children:"Students"})]})}),l.jsx("button",{className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${_==="exam"?"bg-ji-blue-bright text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,onClick:()=>S("exam"),children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("span",{children:"Exam"})]})})]}),_==="students"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("p",{className:"text-sm text-gray-500",children:["Last updated: ",lg()]}),f&&l.jsxs("span",{className:"text-xs text-ji-blue-bright flex items-center gap-1",children:[l.jsxs("svg",{className:"animate-spin h-3 w-3",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading progress data..."]})]}),l.jsxs("button",{onClick:()=>k(!b),className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center space-x-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),l.jsx("span",{children:b?"Hide Charts":"Show Charts"})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("svg",{className:"w-5 h-5 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Departments (",1+se.length,")"]}),l.jsx("span",{className:"px-2 py-0.5 bg-ji-blue-bright/10 text-ji-blue-bright text-xs rounded-full font-medium",children:(e==null?void 0:e.name)||"Primary"}),nu.filter(j=>j.status==="ok"&&j.id!==(e==null?void 0:e.id)).map(j=>l.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full flex items-center gap-1",children:[j.name," (",j.studentCount,")",l.jsx("button",{onClick:()=>du(j.id),className:"text-red-400 hover:text-red-600 ml-0.5",title:"Remove department",children:l.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},j.id)),se.filter(j=>!nu.some(O=>O.id===j&&O.status==="ok")).map(j=>l.jsxs("span",{className:"px-2 py-0.5 bg-yellow-50 text-yellow-700 text-xs rounded-full flex items-center gap-1",children:[j.substring(0,8),"...",l.jsx("button",{onClick:()=>du(j),className:"text-red-400 hover:text-red-600 ml-0.5",title:"Remove department",children:l.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},j))]}),l.jsxs("button",{onClick:()=>{Km(!Ui),Gt("")},className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:Ui?"M5 15l7-7 7 7":"M12 4v16m8-8H4"})}),l.jsx("span",{children:Ui?"Close":"Add Department"})]})]}),Ui&&l.jsxs("div",{className:"mt-3 flex gap-2 items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("input",{type:"text",placeholder:"Paste Department ID (e.g. a1b2c3d4-e5f6-7890-abcd-ef1234567890)",value:qc,onChange:j=>{eu(j.target.value),Gt("")},onKeyDown:j=>j.key==="Enter"&&uu(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-ji-blue-bright"}),tu&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:tu})]}),l.jsx("button",{onClick:uu,className:"btn btn-primary text-sm py-2 px-4 whitespace-nowrap",children:"Add"})]})]}),o&&l.jsx(Ix,{summary:o}),b&&o&&l.jsx("div",{className:"mb-8 animate-fadeIn",children:l.jsx(F2,{summary:o,students:i})}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),l.jsx("input",{type:"text",placeholder:"Search by name, email, or department...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright",value:Sn,onChange:j=>Go(j.target.value)})]}),l.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[se.length>0&&gu.length>1&&l.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright",value:Qo,onChange:j=>su(j.target.value),children:[l.jsx("option",{value:"all",children:"All Departments"}),gu.map(j=>l.jsx("option",{value:j,children:j},j))]}),l.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright",value:Zo,onChange:j=>Qm(j.target.value),children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"complete",children:"Complete"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"warning",children:"Warning"}),l.jsx("option",{value:"re-engage",children:"Re-engage"}),l.jsx("option",{value:"abandoned",children:"Abandoned"}),l.jsx("option",{value:"course expired",children:"Course Expired"})]}),l.jsxs("button",{onClick:qm,className:"btn btn-secondary flex items-center space-x-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),l.jsx("span",{children:"Export CSV"})]})]})]}),l.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:["Showing ",xu.length," of ",i.length," students",se.length>0&&` across ${1+se.length} departments`]})]}),l.jsx(Bx,{students:xu,onViewStudent:x,showDepartment:se.length>0})]}),_==="exam"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-6 flex items-center justify-between flex-wrap gap-3",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam scheduling, pass rates & study tracking"}),l.jsxs("button",{onClick:()=>Ts(),disabled:K,className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center space-x-1",children:[l.jsx("svg",{className:`w-4 h-4 ${K?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),l.jsx("span",{children:K?"Refreshing...":"Refresh"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[T?l.jsxs("div",{className:"flex items-center gap-2",children:[G&&l.jsx("span",{className:`text-xs px-2 py-1 rounded-lg border ${G.enabled?"text-green-600 border-green-200 bg-green-50":"text-gray-500 border-gray-200 bg-gray-50"}`,title:G.lastSync?`Last: ${new Date(G.lastSync).toLocaleString()}`:"No sync yet",children:G.enabled?`Auto-sync: every ${G.intervalHours}h${G.lastSync?` | Last: ${(()=>{const j=Math.round((Date.now()-new Date(G.lastSync).getTime())/6e4);return j<1?"just now":j<60?`${j}m ago`:`${Math.round(j/60)}h ago`})()}`:""}`:"Auto-sync: not configured"}),l.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700",children:[l.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Admin Mode"]}),l.jsx("button",{onClick:tg,className:"text-xs text-gray-500 hover:text-red-500",children:"Exit"})]}):l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>A(!ie),className:"text-sm text-purple-500 hover:text-purple-700 flex items-center space-x-1 px-2.5 py-1 rounded-lg border border-purple-200 hover:border-purple-400 hover:bg-purple-50 transition-colors",title:"Admin Override",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),l.jsx("span",{children:"Admin"})]}),ie&&l.jsxs("div",{className:"absolute right-0 top-8 bg-white rounded-lg shadow-lg border p-3 z-50 w-64",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter admin password to view all student data"}),l.jsxs("form",{onSubmit:j=>{j.preventDefault(),eg(j.target.password.value)},children:[l.jsx("input",{name:"password",type:"password",placeholder:"Admin password",className:"w-full px-3 py-1.5 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",autoFocus:!0}),V&&l.jsx("p",{className:"text-xs text-red-500 mt-1",children:V}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("button",{type:"submit",className:"flex-1 px-3 py-1.5 bg-purple-600 text-white rounded text-xs font-medium hover:bg-purple-700",children:"Unlock"}),l.jsx("button",{type:"button",onClick:()=>{A(!1),q("")},className:"px-3 py-1.5 bg-gray-100 rounded text-xs text-gray-600 hover:bg-gray-200",children:"Cancel"})]})]})]})]}),l.jsxs("button",{onClick:()=>M(!N),className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center space-x-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),l.jsx("span",{children:N?"Hide Charts":"Show Charts"})]})]})]}),N&&C&&l.jsx("div",{className:"mb-8 animate-fadeIn",children:l.jsx(z2,{examSummary:C,students:L})}),C&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 mb-4",children:[l.jsxs("div",{className:"kpi-card bg-gray-50 border-l-4 border-gray-500 animate-fadeIn",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),l.jsx("p",{className:"kpi-value text-gray-800",children:C.total}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exam scheduled"})]}),l.jsxs("div",{className:"kpi-card bg-blue-50 border-l-4 border-blue-500 animate-fadeIn",style:{animationDelay:"50ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Upcoming"}),l.jsx("p",{className:"kpi-value text-blue-800",children:C.upcoming}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exams scheduled"})]}),l.jsxs("div",{className:"kpi-card bg-green-50 border-l-4 border-green-500 animate-fadeIn",style:{animationDelay:"100ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pass Rate"}),l.jsxs("p",{className:"kpi-value text-green-800",children:[C.passRate,"%"]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[C.passed," passed / ",C.passed+C.failed," taken"]})]}),l.jsxs("div",{className:"kpi-card bg-red-50 border-l-4 border-red-500 animate-fadeIn",style:{animationDelay:"150ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed"}),l.jsx("p",{className:"kpi-value text-red-800",children:C.failed}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exam result"})]}),l.jsxs("div",{className:"kpi-card bg-amber-50 border-l-4 border-amber-500 animate-fadeIn",style:{animationDelay:"200ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"At Risk"}),l.jsx("p",{className:"kpi-value text-amber-800",children:C.atRisk}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upcoming + <80% progress"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[l.jsxs("div",{className:"kpi-card bg-purple-50 border-l-4 border-purple-500 animate-fadeIn",style:{animationDelay:"250ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Study Time"}),l.jsx("p",{className:"kpi-value text-purple-800",children:C.avgStudyTimeFormatted}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All tracked students"})]}),l.jsxs("div",{className:"kpi-card bg-green-50 border-l-4 border-green-400 animate-fadeIn",style:{animationDelay:"300ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Time (Passed)"}),l.jsx("p",{className:"kpi-value text-green-700",children:C.avgStudyPassedFormatted}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students who passed"})]}),l.jsxs("div",{className:"kpi-card bg-red-50 border-l-4 border-red-400 animate-fadeIn",style:{animationDelay:"350ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Time (Failed)"}),l.jsx("p",{className:"kpi-value text-red-700",children:C.avgStudyFailedFormatted}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students who failed"})]}),l.jsxs("div",{className:"kpi-card bg-indigo-50 border-l-4 border-indigo-500 animate-fadeIn",style:{animationDelay:"400ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Progress"}),l.jsxs("p",{className:"kpi-value text-indigo-800",children:[C.averageProgress,"%"]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Course completion"})]})]}),C.courseTypes&&Object.keys(C.courseTypes).length>0&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Pass Rate by Course Type"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:Object.entries(C.courseTypes).map(([j,O])=>{const B=O.passed+O.failed,I=B>0?Math.round(O.passed/B*100):null;return l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900 text-sm",children:j}),l.jsxs("p",{className:"text-xs text-gray-500",children:[O.total," students"]})]}),l.jsx("div",{className:"text-right",children:I!==null?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:`text-lg font-bold ${I>=70?"text-green-600":I>=50?"text-amber-600":"text-red-600"}`,children:[I,"%"]}),l.jsxs("p",{className:"text-xs text-gray-500",children:[O.passed,"P / ",O.failed,"F"]})]}):l.jsx("p",{className:"text-sm text-gray-400",children:"No results"})})]},j)})})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),l.jsx("input",{type:"text",placeholder:"Search by name or email...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:Sn,onChange:j=>Go(j.target.value)})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:Yi,onChange:j=>iu(j.target.value),children:[l.jsx("option",{value:"no-result",children:"No Result"}),l.jsx("option",{value:"all",children:"All Results"}),l.jsx("option",{value:"upcoming",children:"Upcoming"}),l.jsx("option",{value:"passed",children:"Passed"}),l.jsx("option",{value:"failed",children:"Failed"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"at-risk",children:"At Risk"})]})]}),l.jsxs("div",{className:"flex items-center gap-3 flex-wrap mt-3",children:[l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:Ki,onChange:j=>ou(j.target.value),children:[l.jsx("option",{value:"all",children:"All Departments"}),og.map(j=>l.jsx("option",{value:j,children:j},j))]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:Gi,onChange:j=>lu(j.target.value),children:[l.jsx("option",{value:"all",children:"All Readiness"}),l.jsx("option",{value:"GREEN",children:"Green - On Track"}),l.jsx("option",{value:"YELLOW",children:"Yellow - Needs Attention"}),l.jsx("option",{value:"RED",children:"Red - At Risk"})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:Jo,onChange:j=>cu(j.target.value),children:[l.jsx("option",{value:"all",children:"All Dates"}),l.jsx("option",{value:"overdue",children:"Overdue"}),l.jsx("option",{value:"today",children:"Today"}),l.jsx("option",{value:"tomorrow",children:"Tomorrow"}),l.jsx("option",{value:"2-days",children:"Within 2 Days"}),l.jsx("option",{value:"3-days",children:"Within 3 Days"}),l.jsx("option",{value:"this-week",children:"This Week"}),l.jsx("option",{value:"next-week",children:"Next 2 Weeks"}),l.jsx("option",{value:"this-month",children:"This Month"})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:Qi,onChange:j=>au(j.target.value),children:[l.jsx("option",{value:"all",children:"All States"}),ag.map(j=>l.jsx("option",{value:j,children:j},j))]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:Xi,onChange:j=>ru(j.target.value),children:[l.jsx("option",{value:"all",children:"All Courses"}),rg.map(j=>l.jsx("option",{value:j,children:j},j))]}),(Ki!=="all"||Gi!=="all"||Jo!=="all"||Qi!=="all"||Xi!=="all"||Yi!=="all"||Sn)&&l.jsx("button",{onClick:()=>{ou("all"),lu("all"),cu("all"),au("all"),ru("all"),iu("all"),Go("")},className:"px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors border border-red-200",children:"Clear All"})]}),l.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:["Showing ",yu.length," of ",Zi.length," exam students"]})]}),K&&!X?l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[l.jsx("div",{className:"spinner mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Loading exam schedule..."})]}):l.jsx(Wx,{students:yu,onViewStudent:x,adminMode:T})]})]}),m&&m.id&&l.jsx(Xx,{studentId:m.id,examInfo:m.examDate?{examDate:m.examDate,examDateRaw:m.examDateRaw,examTime:m.examTime,examState:m.examState,examCourse:m.examCourse,agencyOwner:m.agencyOwner,passFail:m.passFail,finalOutcome:m.finalOutcome,departmentName:m.departmentName,sheetTracking:m.sheetTracking,email:m.email}:null,onClose:()=>x(null),onSessionExpired:n,onUpdateResult:_==="exam"?pu:null,onUpdateExamDate:_==="exam"?mu:null,onUpdateStudentContact:ng}),m&&!m.id&&l.jsx(Kx,{student:m,adminMode:T,onClose:()=>x(null),onUpdateResult:pu,onUpdateExamDate:mu,onUpdateContact:sg})]})}const Wa="/api";function B2(){const[t,e]=P.useState(!1),[n,s]=P.useState(null),[i,r]=P.useState(null),[o,a]=P.useState(!0),[c,u]=P.useState(null),[d,h]=P.useState(!1),[f,g]=P.useState(null);P.useEffect(()=>{v()},[]);const v=async()=>{try{const p=await fetch(`${Wa}/auth/session`,{credentials:"include"});if(p.ok){const m=await p.json();m.success&&(s(m.user),r(m.department),e(!0))}}catch{console.log("No existing session")}finally{a(!1)}},y=async p=>{u(null);try{const m=await fetch(`${Wa}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(p)}),x=await m.json();if(m.ok&&x.success)return console.log("[APP] Login successful, pre-fetching dashboard data..."),s(x.user),r(x.department),h(!0),console.log("[APP] Skipping pre-fetch, Dashboard will load data"),h(!1),e(!0),{success:!0};{const b=x.error||"Login failed";return u(b),{success:!1,error:b}}}catch{const x="Unable to connect to server. Please try again.";return u(x),{success:!1,error:x}}},w=async()=>{try{await fetch(`${Wa}/auth/logout`,{method:"POST",credentials:"include"})}catch(p){console.error("Logout error:",p)}finally{s(null),r(null),e(!1)}};return o?l.jsx("div",{className:"min-h-screen flex items-center justify-center login-bg",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"spinner mx-auto mb-4",style:{borderTopColor:"#63b3ed"}}),l.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):d?l.jsx("div",{className:"min-h-screen flex items-center justify-center login-bg",children:l.jsxs("div",{className:"text-center max-w-md px-6",children:[l.jsx("div",{className:"spinner mx-auto mb-4",style:{borderTopColor:"#63b3ed"}}),l.jsxs("p",{className:"text-white text-xl font-semibold mb-2",children:["Welcome, ",n==null?void 0:n.name,"!"]}),l.jsx("p",{className:"text-ji-blue-light",children:"Loading your dashboard..."}),l.jsx("p",{className:"text-ji-blue-light text-sm mt-2 opacity-75",children:"Fetching student data from Absorb LMS"})]})}):t?l.jsx(I2,{user:n,department:i,onLogout:w,initialData:f}):l.jsx(zx,{onLogin:y,error:c})}Ha.createRoot(document.getElementById("root")).render(l.jsx(Jh.StrictMode,{children:l.jsx(B2,{})}));
//# sourceMappingURL=index-DTBGi8k0.js.map
