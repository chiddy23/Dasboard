var Eg=Object.defineProperty;var Pg=(t,e,n)=>e in t?Eg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var V=(t,e,n)=>Pg(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Dg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cf={exports:{}},Fo={},uf={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ui=Symbol.for("react.element"),Tg=Symbol.for("react.portal"),Ag=Symbol.for("react.fragment"),Og=Symbol.for("react.strict_mode"),Rg=Symbol.for("react.profiler"),Fg=Symbol.for("react.provider"),zg=Symbol.for("react.context"),Ig=Symbol.for("react.forward_ref"),Bg=Symbol.for("react.suspense"),Wg=Symbol.for("react.memo"),Hg=Symbol.for("react.lazy"),Bu=Symbol.iterator;function $g(t){return t===null||typeof t!="object"?null:(t=Bu&&t[Bu]||t["@@iterator"],typeof t=="function"?t:null)}var df={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hf=Object.assign,ff={};function Os(t,e,n){this.props=t,this.context=e,this.refs=ff,this.updater=n||df}Os.prototype.isReactComponent={};Os.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Os.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pf(){}pf.prototype=Os.prototype;function sc(t,e,n){this.props=t,this.context=e,this.refs=ff,this.updater=n||df}var ic=sc.prototype=new pf;ic.constructor=sc;hf(ic,Os.prototype);ic.isPureReactComponent=!0;var Wu=Array.isArray,mf=Object.prototype.hasOwnProperty,rc={current:null},gf={key:!0,ref:!0,__self:!0,__source:!0};function xf(t,e,n){var s,i={},r=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)mf.call(e,s)&&!gf.hasOwnProperty(s)&&(i[s]=e[s]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return{$$typeof:Ui,type:t,key:r,ref:o,props:i,_owner:rc.current}}function Vg(t,e){return{$$typeof:Ui,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ui}function Ug(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hu=/\/+/g;function ga(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ug(""+t.key):e.toString(36)}function zr(t,e,n,s,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ui:case Tg:o=!0}}if(o)return o=t,i=i(o),t=s===""?"."+ga(o,0):s,Wu(i)?(n="",t!=null&&(n=t.replace(Hu,"$&/")+"/"),zr(i,e,n,"",function(u){return u})):i!=null&&(oc(i)&&(i=Vg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Hu,"$&/")+"/")+t)),e.push(i)),1;if(o=0,s=s===""?".":s+":",Wu(t))for(var a=0;a<t.length;a++){r=t[a];var c=s+ga(r,a);o+=zr(r,e,n,c,i)}else if(c=$g(t),typeof c=="function")for(t=c.call(t),a=0;!(r=t.next()).done;)r=r.value,c=s+ga(r,a++),o+=zr(r,e,n,c,i);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function lr(t,e,n){if(t==null)return t;var s=[],i=0;return zr(t,s,"","",function(r){return e.call(n,r,i++)}),s}function Yg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ke={current:null},Ir={transition:null},Xg={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:Ir,ReactCurrentOwner:rc};function yf(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:lr,forEach:function(t,e,n){lr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lr(t,function(){e++}),e},toArray:function(t){return lr(t,function(e){return e})||[]},only:function(t){if(!oc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=Os;G.Fragment=Ag;G.Profiler=Rg;G.PureComponent=sc;G.StrictMode=Og;G.Suspense=Bg;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xg;G.act=yf;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=hf({},t.props),i=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=rc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)mf.call(e,c)&&!gf.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:Ui,type:t.type,key:i,ref:r,props:s,_owner:o}};G.createContext=function(t){return t={$$typeof:zg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Fg,_context:t},t.Consumer=t};G.createElement=xf;G.createFactory=function(t){var e=xf.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:Ig,render:t}};G.isValidElement=oc;G.lazy=function(t){return{$$typeof:Hg,_payload:{_status:-1,_result:t},_init:Yg}};G.memo=function(t,e){return{$$typeof:Wg,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=Ir.transition;Ir.transition={};try{t()}finally{Ir.transition=e}};G.unstable_act=yf;G.useCallback=function(t,e){return Ke.current.useCallback(t,e)};G.useContext=function(t){return Ke.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return Ke.current.useDeferredValue(t)};G.useEffect=function(t,e){return Ke.current.useEffect(t,e)};G.useId=function(){return Ke.current.useId()};G.useImperativeHandle=function(t,e,n){return Ke.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return Ke.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return Ke.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return Ke.current.useMemo(t,e)};G.useReducer=function(t,e,n){return Ke.current.useReducer(t,e,n)};G.useRef=function(t){return Ke.current.useRef(t)};G.useState=function(t){return Ke.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return Ke.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return Ke.current.useTransition()};G.version="18.3.1";uf.exports=G;var E=uf.exports;const vf=Dg(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg=E,Qg=Symbol.for("react.element"),Gg=Symbol.for("react.fragment"),Zg=Object.prototype.hasOwnProperty,Jg=Kg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qg={key:!0,ref:!0,__self:!0,__source:!0};function wf(t,e,n){var s,i={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)Zg.call(e,s)&&!qg.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:Qg,type:t,key:r,ref:o,props:i,_owner:Jg.current}}Fo.Fragment=Gg;Fo.jsx=wf;Fo.jsxs=wf;cf.exports=Fo;var l=cf.exports,sl={},bf={exports:{}},lt={},kf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,F){var W=A.length;A.push(F);e:for(;0<W;){var Z=W-1>>>1,ne=A[Z];if(0<i(ne,F))A[Z]=F,A[W]=ne,W=Z;else break e}}function n(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var F=A[0],W=A.pop();if(W!==F){A[0]=W;e:for(var Z=0,ne=A.length,Ee=ne>>>1;Z<Ee;){var ye=2*(Z+1)-1,O=A[ye],H=ye+1,se=A[H];if(0>i(O,W))H<ne&&0>i(se,O)?(A[Z]=se,A[H]=W,Z=H):(A[Z]=O,A[ye]=W,Z=ye);else if(H<ne&&0>i(se,W))A[Z]=se,A[H]=W,Z=H;else break e}}return F}function i(A,F){var W=A.sortIndex-F.sortIndex;return W!==0?W:A.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,f=3,g=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var F=n(u);F!==null;){if(F.callback===null)s(u);else if(F.startTime<=A)s(u),F.sortIndex=F.expirationTime,e(c,F);else break;F=n(u)}}function k(A){if(y=!1,x(A),!v)if(n(c)!==null)v=!0,X(j);else{var F=n(u);F!==null&&Y(k,F.startTime-A)}}function j(A,F){v=!1,y&&(y=!1,p(_),_=-1),g=!0;var W=f;try{for(x(F),h=n(c);h!==null&&(!(h.expirationTime>F)||A&&!P());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var ne=Z(h.expirationTime<=F);F=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(c)&&s(c),x(F)}else s(c);h=n(c)}if(h!==null)var Ee=!0;else{var ye=n(u);ye!==null&&Y(k,ye.startTime-F),Ee=!1}return Ee}finally{h=null,f=W,g=!1}}var S=!1,M=null,_=-1,N=5,L=-1;function P(){return!(t.unstable_now()-L<N)}function C(){if(M!==null){var A=t.unstable_now();L=A;var F=!0;try{F=M(!0,A)}finally{F?I():(S=!1,M=null)}}else S=!1}var I;if(typeof m=="function")I=function(){m(C)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,$=Q.port2;Q.port1.onmessage=C,I=function(){$.postMessage(null)}}else I=function(){w(C,0)};function X(A){M=A,S||(S=!0,I())}function Y(A,F){_=w(function(){A(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,X(j))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var W=f;f=F;try{return A()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,F){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=f;f=A;try{return F()}finally{f=W}},t.unstable_scheduleCallback=function(A,F,W){var Z=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Z+W:Z):W=Z,A){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=W+ne,A={id:d++,callback:F,priorityLevel:A,startTime:W,expirationTime:ne,sortIndex:-1},W>Z?(A.sortIndex=W,e(u,A),n(c)===null&&A===n(u)&&(y?(p(_),_=-1):y=!0,Y(k,W-Z))):(A.sortIndex=ne,e(c,A),v||g||(v=!0,X(j))),A},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(A){var F=f;return function(){var W=f;f=F;try{return A.apply(this,arguments)}finally{f=W}}}})(jf);kf.exports=jf;var e0=kf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0=E,at=e0;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _f=new Set,ji={};function es(t,e){Cs(t,e),Cs(t+"Capture",e)}function Cs(t,e){for(ji[t]=e,t=0;t<e.length;t++)_f.add(e[t])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),il=Object.prototype.hasOwnProperty,n0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$u={},Vu={};function s0(t){return il.call(Vu,t)?!0:il.call($u,t)?!1:n0.test(t)?Vu[t]=!0:($u[t]=!0,!1)}function i0(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function r0(t,e,n,s){if(e===null||typeof e>"u"||i0(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qe(t,e,n,s,i,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fe[t]=new Qe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fe[e]=new Qe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fe[t]=new Qe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fe[t]=new Qe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fe[t]=new Qe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fe[t]=new Qe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fe[t]=new Qe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fe[t]=new Qe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fe[t]=new Qe(t,5,!1,t.toLowerCase(),null,!1,!1)});var ac=/[\-:]([a-z])/g;function lc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ac,lc);Fe[e]=new Qe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ac,lc);Fe[e]=new Qe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ac,lc);Fe[e]=new Qe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fe[t]=new Qe(t,1,!1,t.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fe[t]=new Qe(t,1,!1,t.toLowerCase(),null,!0,!0)});function cc(t,e,n,s){var i=Fe.hasOwnProperty(e)?Fe[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(r0(e,n,i,s)&&(n=null),s||i===null?s0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,s=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var qt=t0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cr=Symbol.for("react.element"),rs=Symbol.for("react.portal"),os=Symbol.for("react.fragment"),uc=Symbol.for("react.strict_mode"),rl=Symbol.for("react.profiler"),Nf=Symbol.for("react.provider"),Sf=Symbol.for("react.context"),dc=Symbol.for("react.forward_ref"),ol=Symbol.for("react.suspense"),al=Symbol.for("react.suspense_list"),hc=Symbol.for("react.memo"),on=Symbol.for("react.lazy"),Cf=Symbol.for("react.offscreen"),Uu=Symbol.iterator;function $s(t){return t===null||typeof t!="object"?null:(t=Uu&&t[Uu]||t["@@iterator"],typeof t=="function"?t:null)}var me=Object.assign,xa;function ni(t){if(xa===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xa=e&&e[1]||""}return`
`+xa+t}var ya=!1;function va(t,e){if(!t||ya)return"";ya=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),r=s.stack.split(`
`),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==r[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{ya=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ni(t):""}function o0(t){switch(t.tag){case 5:return ni(t.type);case 16:return ni("Lazy");case 13:return ni("Suspense");case 19:return ni("SuspenseList");case 0:case 2:case 15:return t=va(t.type,!1),t;case 11:return t=va(t.type.render,!1),t;case 1:return t=va(t.type,!0),t;default:return""}}function ll(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case os:return"Fragment";case rs:return"Portal";case rl:return"Profiler";case uc:return"StrictMode";case ol:return"Suspense";case al:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sf:return(t.displayName||"Context")+".Consumer";case Nf:return(t._context.displayName||"Context")+".Provider";case dc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hc:return e=t.displayName||null,e!==null?e:ll(t.type)||"Memo";case on:e=t._payload,t=t._init;try{return ll(t(e))}catch{}}return null}function a0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ll(e);case 8:return e===uc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function l0(t){var e=Mf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ur(t){t._valueTracker||(t._valueTracker=l0(t))}function Lf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=Mf(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function eo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cl(t,e){var n=e.checked;return me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yu(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Nn(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ef(t,e){e=e.checked,e!=null&&cc(t,"checked",e,!1)}function ul(t,e){Ef(t,e);var n=Nn(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dl(t,e.type,n):e.hasOwnProperty("defaultValue")&&dl(t,e.type,Nn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dl(t,e,n){(e!=="number"||eo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var si=Array.isArray;function ys(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Nn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ku(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(si(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nn(n)}}function Pf(t,e){var n=Nn(e.value),s=Nn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Qu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Df(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Df(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dr,Tf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dr=dr||document.createElement("div"),dr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _i(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c0=["Webkit","ms","Moz","O"];Object.keys(ui).forEach(function(t){c0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ui[e]=ui[t]})});function Af(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ui.hasOwnProperty(t)&&ui[t]?(""+e).trim():e+"px"}function Of(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=Af(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}var u0=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pl(t,e){if(e){if(u0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function ml(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gl=null;function fc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xl=null,vs=null,ws=null;function Gu(t){if(t=Ki(t)){if(typeof xl!="function")throw Error(T(280));var e=t.stateNode;e&&(e=Ho(e),xl(t.stateNode,t.type,e))}}function Rf(t){vs?ws?ws.push(t):ws=[t]:vs=t}function Ff(){if(vs){var t=vs,e=ws;if(ws=vs=null,Gu(t),e)for(t=0;t<e.length;t++)Gu(e[t])}}function zf(t,e){return t(e)}function If(){}var wa=!1;function Bf(t,e,n){if(wa)return t(e,n);wa=!0;try{return zf(t,e,n)}finally{wa=!1,(vs!==null||ws!==null)&&(If(),Ff())}}function Ni(t,e){var n=t.stateNode;if(n===null)return null;var s=Ho(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var yl=!1;if(Kt)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){yl=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{yl=!1}function d0(t,e,n,s,i,r,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var di=!1,to=null,no=!1,vl=null,h0={onError:function(t){di=!0,to=t}};function f0(t,e,n,s,i,r,o,a,c){di=!1,to=null,d0.apply(h0,arguments)}function p0(t,e,n,s,i,r,o,a,c){if(f0.apply(this,arguments),di){if(di){var u=to;di=!1,to=null}else throw Error(T(198));no||(no=!0,vl=u)}}function ts(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Wf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zu(t){if(ts(t)!==t)throw Error(T(188))}function m0(t){var e=t.alternate;if(!e){if(e=ts(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return Zu(i),t;if(r===s)return Zu(i),e;r=r.sibling}throw Error(T(188))}if(n.return!==s.return)n=i,s=r;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==s)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function Hf(t){return t=m0(t),t!==null?$f(t):null}function $f(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$f(t);if(e!==null)return e;t=t.sibling}return null}var Vf=at.unstable_scheduleCallback,Ju=at.unstable_cancelCallback,g0=at.unstable_shouldYield,x0=at.unstable_requestPaint,ve=at.unstable_now,y0=at.unstable_getCurrentPriorityLevel,pc=at.unstable_ImmediatePriority,Uf=at.unstable_UserBlockingPriority,so=at.unstable_NormalPriority,v0=at.unstable_LowPriority,Yf=at.unstable_IdlePriority,zo=null,Ot=null;function w0(t){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(zo,t,void 0,(t.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:j0,b0=Math.log,k0=Math.LN2;function j0(t){return t>>>=0,t===0?32:31-(b0(t)/k0|0)|0}var hr=64,fr=4194304;function ii(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function io(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,i=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?s=ii(a):(r&=o,r!==0&&(s=ii(r)))}else o=n&~i,o!==0?s=ii(o):r!==0&&(s=ii(r));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-_t(e),i=1<<n,s|=t[n],e&=~i;return s}function _0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N0(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-_t(r),a=1<<o,c=i[o];c===-1?(!(a&n)||a&s)&&(i[o]=_0(a,e)):c<=e&&(t.expiredLanes|=a),r&=~a}}function wl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Xf(){var t=hr;return hr<<=1,!(hr&4194240)&&(hr=64),t}function ba(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_t(e),t[e]=n}function S0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_t(n),r=1<<i;e[i]=0,s[i]=-1,t[i]=-1,n&=~r}}function mc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-_t(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}var re=0;function Kf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qf,gc,Gf,Zf,Jf,bl=!1,pr=[],mn=null,gn=null,xn=null,Si=new Map,Ci=new Map,ln=[],C0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qu(t,e){switch(t){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Si.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ci.delete(e.pointerId)}}function Us(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=Ki(e),e!==null&&gc(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function M0(t,e,n,s,i){switch(e){case"focusin":return mn=Us(mn,t,e,n,s,i),!0;case"dragenter":return gn=Us(gn,t,e,n,s,i),!0;case"mouseover":return xn=Us(xn,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return Si.set(r,Us(Si.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Ci.set(r,Us(Ci.get(r)||null,t,e,n,s,i)),!0}return!1}function qf(t){var e=Bn(t.target);if(e!==null){var n=ts(e);if(n!==null){if(e=n.tag,e===13){if(e=Wf(n),e!==null){t.blockedOn=e,Jf(t.priority,function(){Gf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Br(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);gl=s,n.target.dispatchEvent(s),gl=null}else return e=Ki(n),e!==null&&gc(e),t.blockedOn=n,!1;e.shift()}return!0}function ed(t,e,n){Br(t)&&n.delete(e)}function L0(){bl=!1,mn!==null&&Br(mn)&&(mn=null),gn!==null&&Br(gn)&&(gn=null),xn!==null&&Br(xn)&&(xn=null),Si.forEach(ed),Ci.forEach(ed)}function Ys(t,e){t.blockedOn===e&&(t.blockedOn=null,bl||(bl=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,L0)))}function Mi(t){function e(i){return Ys(i,t)}if(0<pr.length){Ys(pr[0],t);for(var n=1;n<pr.length;n++){var s=pr[n];s.blockedOn===t&&(s.blockedOn=null)}}for(mn!==null&&Ys(mn,t),gn!==null&&Ys(gn,t),xn!==null&&Ys(xn,t),Si.forEach(e),Ci.forEach(e),n=0;n<ln.length;n++)s=ln[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<ln.length&&(n=ln[0],n.blockedOn===null);)qf(n),n.blockedOn===null&&ln.shift()}var bs=qt.ReactCurrentBatchConfig,ro=!0;function E0(t,e,n,s){var i=re,r=bs.transition;bs.transition=null;try{re=1,xc(t,e,n,s)}finally{re=i,bs.transition=r}}function P0(t,e,n,s){var i=re,r=bs.transition;bs.transition=null;try{re=4,xc(t,e,n,s)}finally{re=i,bs.transition=r}}function xc(t,e,n,s){if(ro){var i=kl(t,e,n,s);if(i===null)Pa(t,e,s,oo,n),qu(t,s);else if(M0(i,t,e,n,s))s.stopPropagation();else if(qu(t,s),e&4&&-1<C0.indexOf(t)){for(;i!==null;){var r=Ki(i);if(r!==null&&Qf(r),r=kl(t,e,n,s),r===null&&Pa(t,e,s,oo,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else Pa(t,e,s,null,n)}}var oo=null;function kl(t,e,n,s){if(oo=null,t=fc(s),t=Bn(t),t!==null)if(e=ts(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Wf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return oo=t,null}function ep(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y0()){case pc:return 1;case Uf:return 4;case so:case v0:return 16;case Yf:return 536870912;default:return 16}default:return 16}}var un=null,yc=null,Wr=null;function tp(){if(Wr)return Wr;var t,e=yc,n=e.length,s,i="value"in un?un.value:un.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===i[r-s];s++);return Wr=i.slice(t,1<s?1-s:void 0)}function Hr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mr(){return!0}function td(){return!1}function ct(t){function e(n,s,i,r,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?mr:td,this.isPropagationStopped=td,this}return me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),e}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vc=ct(Rs),Xi=me({},Rs,{view:0,detail:0}),D0=ct(Xi),ka,ja,Xs,Io=me({},Xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xs&&(Xs&&t.type==="mousemove"?(ka=t.screenX-Xs.screenX,ja=t.screenY-Xs.screenY):ja=ka=0,Xs=t),ka)},movementY:function(t){return"movementY"in t?t.movementY:ja}}),nd=ct(Io),T0=me({},Io,{dataTransfer:0}),A0=ct(T0),O0=me({},Xi,{relatedTarget:0}),_a=ct(O0),R0=me({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),F0=ct(R0),z0=me({},Rs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),I0=ct(z0),B0=me({},Rs,{data:0}),sd=ct(B0),W0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$0[t])?!!e[t]:!1}function wc(){return V0}var U0=me({},Xi,{key:function(t){if(t.key){var e=W0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?H0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wc,charCode:function(t){return t.type==="keypress"?Hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y0=ct(U0),X0=me({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),id=ct(X0),K0=me({},Xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wc}),Q0=ct(K0),G0=me({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z0=ct(G0),J0=me({},Io,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q0=ct(J0),ex=[9,13,27,32],bc=Kt&&"CompositionEvent"in window,hi=null;Kt&&"documentMode"in document&&(hi=document.documentMode);var tx=Kt&&"TextEvent"in window&&!hi,np=Kt&&(!bc||hi&&8<hi&&11>=hi),rd=" ",od=!1;function sp(t,e){switch(t){case"keyup":return ex.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ip(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var as=!1;function nx(t,e){switch(t){case"compositionend":return ip(e);case"keypress":return e.which!==32?null:(od=!0,rd);case"textInput":return t=e.data,t===rd&&od?null:t;default:return null}}function sx(t,e){if(as)return t==="compositionend"||!bc&&sp(t,e)?(t=tp(),Wr=yc=un=null,as=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return np&&e.locale!=="ko"?null:e.data;default:return null}}var ix={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ad(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ix[t.type]:e==="textarea"}function rp(t,e,n,s){Rf(s),e=ao(e,"onChange"),0<e.length&&(n=new vc("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var fi=null,Li=null;function rx(t){gp(t,0)}function Bo(t){var e=us(t);if(Lf(e))return t}function ox(t,e){if(t==="change")return e}var op=!1;if(Kt){var Na;if(Kt){var Sa="oninput"in document;if(!Sa){var ld=document.createElement("div");ld.setAttribute("oninput","return;"),Sa=typeof ld.oninput=="function"}Na=Sa}else Na=!1;op=Na&&(!document.documentMode||9<document.documentMode)}function cd(){fi&&(fi.detachEvent("onpropertychange",ap),Li=fi=null)}function ap(t){if(t.propertyName==="value"&&Bo(Li)){var e=[];rp(e,Li,t,fc(t)),Bf(rx,e)}}function ax(t,e,n){t==="focusin"?(cd(),fi=e,Li=n,fi.attachEvent("onpropertychange",ap)):t==="focusout"&&cd()}function lx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bo(Li)}function cx(t,e){if(t==="click")return Bo(e)}function ux(t,e){if(t==="input"||t==="change")return Bo(e)}function dx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var St=typeof Object.is=="function"?Object.is:dx;function Ei(t,e){if(St(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!il.call(e,i)||!St(t[i],e[i]))return!1}return!0}function ud(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dd(t,e){var n=ud(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ud(n)}}function lp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cp(){for(var t=window,e=eo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=eo(t.document)}return e}function kc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hx(t){var e=cp(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lp(n.ownerDocument.documentElement,n)){if(s!==null&&kc(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!t.extend&&r>s&&(i=s,s=r,r=i),i=dd(n,r);var o=dd(n,s);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),r>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fx=Kt&&"documentMode"in document&&11>=document.documentMode,ls=null,jl=null,pi=null,_l=!1;function hd(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_l||ls==null||ls!==eo(s)||(s=ls,"selectionStart"in s&&kc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),pi&&Ei(pi,s)||(pi=s,s=ao(jl,"onSelect"),0<s.length&&(e=new vc("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ls)))}function gr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var cs={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionend:gr("Transition","TransitionEnd")},Ca={},up={};Kt&&(up=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function Wo(t){if(Ca[t])return Ca[t];if(!cs[t])return t;var e=cs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in up)return Ca[t]=e[n];return t}var dp=Wo("animationend"),hp=Wo("animationiteration"),fp=Wo("animationstart"),pp=Wo("transitionend"),mp=new Map,fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(t,e){mp.set(t,e),es(e,[t])}for(var Ma=0;Ma<fd.length;Ma++){var La=fd[Ma],px=La.toLowerCase(),mx=La[0].toUpperCase()+La.slice(1);Mn(px,"on"+mx)}Mn(dp,"onAnimationEnd");Mn(hp,"onAnimationIteration");Mn(fp,"onAnimationStart");Mn("dblclick","onDoubleClick");Mn("focusin","onFocus");Mn("focusout","onBlur");Mn(pp,"onTransitionEnd");Cs("onMouseEnter",["mouseout","mouseover"]);Cs("onMouseLeave",["mouseout","mouseover"]);Cs("onPointerEnter",["pointerout","pointerover"]);Cs("onPointerLeave",["pointerout","pointerover"]);es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));es("onBeforeInput",["compositionend","keypress","textInput","paste"]);es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ri));function pd(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,p0(s,e,void 0,t),t.currentTarget=null}function gp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==r&&i.isPropagationStopped())break e;pd(i,a,u),r=c}else for(o=0;o<s.length;o++){if(a=s[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==r&&i.isPropagationStopped())break e;pd(i,a,u),r=c}}}if(no)throw t=vl,no=!1,vl=null,t}function ce(t,e){var n=e[Ll];n===void 0&&(n=e[Ll]=new Set);var s=t+"__bubble";n.has(s)||(xp(e,t,2,!1),n.add(s))}function Ea(t,e,n){var s=0;e&&(s|=4),xp(n,t,s,e)}var xr="_reactListening"+Math.random().toString(36).slice(2);function Pi(t){if(!t[xr]){t[xr]=!0,_f.forEach(function(n){n!=="selectionchange"&&(gx.has(n)||Ea(n,!1,t),Ea(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xr]||(e[xr]=!0,Ea("selectionchange",!1,e))}}function xp(t,e,n,s){switch(ep(e)){case 1:var i=E0;break;case 4:i=P0;break;default:i=xc}n=i.bind(null,e,n,t),i=void 0,!yl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pa(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Bn(a),o===null)return;if(c=o.tag,c===5||c===6){s=r=o;continue e}a=a.parentNode}}s=s.return}Bf(function(){var u=r,d=fc(n),h=[];e:{var f=mp.get(t);if(f!==void 0){var g=vc,v=t;switch(t){case"keypress":if(Hr(n)===0)break e;case"keydown":case"keyup":g=Y0;break;case"focusin":v="focus",g=_a;break;case"focusout":v="blur",g=_a;break;case"beforeblur":case"afterblur":g=_a;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=A0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Q0;break;case dp:case hp:case fp:g=F0;break;case pp:g=Z0;break;case"scroll":g=D0;break;case"wheel":g=q0;break;case"copy":case"cut":case"paste":g=I0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=id}var y=(e&4)!==0,w=!y&&t==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var m=u,x;m!==null;){x=m;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,p!==null&&(k=Ni(m,p),k!=null&&y.push(Di(m,k,x)))),w)break;m=m.return}0<y.length&&(f=new g(f,v,null,n,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==gl&&(v=n.relatedTarget||n.fromElement)&&(Bn(v)||v[Qt]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Bn(v):null,v!==null&&(w=ts(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=nd,k="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=id,k="onPointerLeave",p="onPointerEnter",m="pointer"),w=g==null?f:us(g),x=v==null?f:us(v),f=new y(k,m+"leave",g,n,d),f.target=w,f.relatedTarget=x,k=null,Bn(d)===u&&(y=new y(p,m+"enter",v,n,d),y.target=x,y.relatedTarget=w,k=y),w=k,g&&v)t:{for(y=g,p=v,m=0,x=y;x;x=ns(x))m++;for(x=0,k=p;k;k=ns(k))x++;for(;0<m-x;)y=ns(y),m--;for(;0<x-m;)p=ns(p),x--;for(;m--;){if(y===p||p!==null&&y===p.alternate)break t;y=ns(y),p=ns(p)}y=null}else y=null;g!==null&&md(h,f,g,y,!1),v!==null&&w!==null&&md(h,w,v,y,!0)}}e:{if(f=u?us(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var j=ox;else if(ad(f))if(op)j=ux;else{j=lx;var S=ax}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=cx);if(j&&(j=j(t,u))){rp(h,j,n,d);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&dl(f,"number",f.value)}switch(S=u?us(u):window,t){case"focusin":(ad(S)||S.contentEditable==="true")&&(ls=S,jl=u,pi=null);break;case"focusout":pi=jl=ls=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,hd(h,n,d);break;case"selectionchange":if(fx)break;case"keydown":case"keyup":hd(h,n,d)}var M;if(bc)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else as?sp(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(np&&n.locale!=="ko"&&(as||_!=="onCompositionStart"?_==="onCompositionEnd"&&as&&(M=tp()):(un=d,yc="value"in un?un.value:un.textContent,as=!0)),S=ao(u,_),0<S.length&&(_=new sd(_,t,null,n,d),h.push({event:_,listeners:S}),M?_.data=M:(M=ip(n),M!==null&&(_.data=M)))),(M=tx?nx(t,n):sx(t,n))&&(u=ao(u,"onBeforeInput"),0<u.length&&(d=new sd("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=M))}gp(h,e)})}function Di(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ao(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=Ni(t,n),r!=null&&s.unshift(Di(t,r,i)),r=Ni(t,e),r!=null&&s.push(Di(t,r,i))),t=t.return}return s}function ns(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function md(t,e,n,s,i){for(var r=e._reactName,o=[];n!==null&&n!==s;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===s)break;a.tag===5&&u!==null&&(a=u,i?(c=Ni(n,r),c!=null&&o.unshift(Di(n,c,a))):i||(c=Ni(n,r),c!=null&&o.push(Di(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var xx=/\r\n?/g,yx=/\u0000|\uFFFD/g;function gd(t){return(typeof t=="string"?t:""+t).replace(xx,`
`).replace(yx,"")}function yr(t,e,n){if(e=gd(e),gd(t)!==e&&n)throw Error(T(425))}function lo(){}var Nl=null,Sl=null;function Cl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ml=typeof setTimeout=="function"?setTimeout:void 0,vx=typeof clearTimeout=="function"?clearTimeout:void 0,xd=typeof Promise=="function"?Promise:void 0,wx=typeof queueMicrotask=="function"?queueMicrotask:typeof xd<"u"?function(t){return xd.resolve(null).then(t).catch(bx)}:Ml;function bx(t){setTimeout(function(){throw t})}function Da(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){t.removeChild(i),Mi(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Mi(e)}function yn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fs=Math.random().toString(36).slice(2),At="__reactFiber$"+Fs,Ti="__reactProps$"+Fs,Qt="__reactContainer$"+Fs,Ll="__reactEvents$"+Fs,kx="__reactListeners$"+Fs,jx="__reactHandles$"+Fs;function Bn(t){var e=t[At];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qt]||n[At]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yd(t);t!==null;){if(n=t[At])return n;t=yd(t)}return e}t=n,n=t.parentNode}return null}function Ki(t){return t=t[At]||t[Qt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function us(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function Ho(t){return t[Ti]||null}var El=[],ds=-1;function Ln(t){return{current:t}}function de(t){0>ds||(t.current=El[ds],El[ds]=null,ds--)}function le(t,e){ds++,El[ds]=t.current,t.current=e}var Sn={},Ue=Ln(Sn),tt=Ln(!1),Xn=Sn;function Ms(t,e){var n=t.type.contextTypes;if(!n)return Sn;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=e[r];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function nt(t){return t=t.childContextTypes,t!=null}function co(){de(tt),de(Ue)}function vd(t,e,n){if(Ue.current!==Sn)throw Error(T(168));le(Ue,e),le(tt,n)}function yp(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(T(108,a0(t)||"Unknown",i));return me({},n,s)}function uo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sn,Xn=Ue.current,le(Ue,t),le(tt,tt.current),!0}function wd(t,e,n){var s=t.stateNode;if(!s)throw Error(T(169));n?(t=yp(t,e,Xn),s.__reactInternalMemoizedMergedChildContext=t,de(tt),de(Ue),le(Ue,t)):de(tt),le(tt,n)}var Ht=null,$o=!1,Ta=!1;function vp(t){Ht===null?Ht=[t]:Ht.push(t)}function _x(t){$o=!0,vp(t)}function En(){if(!Ta&&Ht!==null){Ta=!0;var t=0,e=re;try{var n=Ht;for(re=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Ht=null,$o=!1}catch(i){throw Ht!==null&&(Ht=Ht.slice(t+1)),Vf(pc,En),i}finally{re=e,Ta=!1}}return null}var hs=[],fs=0,ho=null,fo=0,dt=[],ht=0,Kn=null,Vt=1,Ut="";function Fn(t,e){hs[fs++]=fo,hs[fs++]=ho,ho=t,fo=e}function wp(t,e,n){dt[ht++]=Vt,dt[ht++]=Ut,dt[ht++]=Kn,Kn=t;var s=Vt;t=Ut;var i=32-_t(s)-1;s&=~(1<<i),n+=1;var r=32-_t(e)+i;if(30<r){var o=i-i%5;r=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Vt=1<<32-_t(e)+i|n<<i|s,Ut=r+t}else Vt=1<<r|n<<i|s,Ut=t}function jc(t){t.return!==null&&(Fn(t,1),wp(t,1,0))}function _c(t){for(;t===ho;)ho=hs[--fs],hs[fs]=null,fo=hs[--fs],hs[fs]=null;for(;t===Kn;)Kn=dt[--ht],dt[ht]=null,Ut=dt[--ht],dt[ht]=null,Vt=dt[--ht],dt[ht]=null}var ot=null,rt=null,he=!1,jt=null;function bp(t,e){var n=ft(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ot=t,rt=yn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ot=t,rt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Kn!==null?{id:Vt,overflow:Ut}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ft(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ot=t,rt=null,!0):!1;default:return!1}}function Pl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dl(t){if(he){var e=rt;if(e){var n=e;if(!bd(t,e)){if(Pl(t))throw Error(T(418));e=yn(n.nextSibling);var s=ot;e&&bd(t,e)?bp(s,n):(t.flags=t.flags&-4097|2,he=!1,ot=t)}}else{if(Pl(t))throw Error(T(418));t.flags=t.flags&-4097|2,he=!1,ot=t}}}function kd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ot=t}function vr(t){if(t!==ot)return!1;if(!he)return kd(t),he=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cl(t.type,t.memoizedProps)),e&&(e=rt)){if(Pl(t))throw kp(),Error(T(418));for(;e;)bp(t,e),e=yn(e.nextSibling)}if(kd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rt=yn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rt=null}}else rt=ot?yn(t.stateNode.nextSibling):null;return!0}function kp(){for(var t=rt;t;)t=yn(t.nextSibling)}function Ls(){rt=ot=null,he=!1}function Nc(t){jt===null?jt=[t]:jt.push(t)}var Nx=qt.ReactCurrentBatchConfig;function Ks(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var s=n.stateNode}if(!s)throw Error(T(147,t));var i=s,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=i.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function wr(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jd(t){var e=t._init;return e(t._payload)}function jp(t){function e(p,m){if(t){var x=p.deletions;x===null?(p.deletions=[m],p.flags|=16):x.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function s(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=kn(p,m),p.index=0,p.sibling=null,p}function r(p,m,x){return p.index=x,t?(x=p.alternate,x!==null?(x=x.index,x<m?(p.flags|=2,m):x):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,m,x,k){return m===null||m.tag!==6?(m=Ba(x,p.mode,k),m.return=p,m):(m=i(m,x),m.return=p,m)}function c(p,m,x,k){var j=x.type;return j===os?d(p,m,x.props.children,k,x.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===on&&jd(j)===m.type)?(k=i(m,x.props),k.ref=Ks(p,m,x),k.return=p,k):(k=Qr(x.type,x.key,x.props,null,p.mode,k),k.ref=Ks(p,m,x),k.return=p,k)}function u(p,m,x,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=Wa(x,p.mode,k),m.return=p,m):(m=i(m,x.children||[]),m.return=p,m)}function d(p,m,x,k,j){return m===null||m.tag!==7?(m=Un(x,p.mode,k,j),m.return=p,m):(m=i(m,x),m.return=p,m)}function h(p,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ba(""+m,p.mode,x),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case cr:return x=Qr(m.type,m.key,m.props,null,p.mode,x),x.ref=Ks(p,null,m),x.return=p,x;case rs:return m=Wa(m,p.mode,x),m.return=p,m;case on:var k=m._init;return h(p,k(m._payload),x)}if(si(m)||$s(m))return m=Un(m,p.mode,x,null),m.return=p,m;wr(p,m)}return null}function f(p,m,x,k){var j=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:a(p,m,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case cr:return x.key===j?c(p,m,x,k):null;case rs:return x.key===j?u(p,m,x,k):null;case on:return j=x._init,f(p,m,j(x._payload),k)}if(si(x)||$s(x))return j!==null?null:d(p,m,x,k,null);wr(p,x)}return null}function g(p,m,x,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(x)||null,a(m,p,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case cr:return p=p.get(k.key===null?x:k.key)||null,c(m,p,k,j);case rs:return p=p.get(k.key===null?x:k.key)||null,u(m,p,k,j);case on:var S=k._init;return g(p,m,x,S(k._payload),j)}if(si(k)||$s(k))return p=p.get(x)||null,d(m,p,k,j,null);wr(m,k)}return null}function v(p,m,x,k){for(var j=null,S=null,M=m,_=m=0,N=null;M!==null&&_<x.length;_++){M.index>_?(N=M,M=null):N=M.sibling;var L=f(p,M,x[_],k);if(L===null){M===null&&(M=N);break}t&&M&&L.alternate===null&&e(p,M),m=r(L,m,_),S===null?j=L:S.sibling=L,S=L,M=N}if(_===x.length)return n(p,M),he&&Fn(p,_),j;if(M===null){for(;_<x.length;_++)M=h(p,x[_],k),M!==null&&(m=r(M,m,_),S===null?j=M:S.sibling=M,S=M);return he&&Fn(p,_),j}for(M=s(p,M);_<x.length;_++)N=g(M,p,_,x[_],k),N!==null&&(t&&N.alternate!==null&&M.delete(N.key===null?_:N.key),m=r(N,m,_),S===null?j=N:S.sibling=N,S=N);return t&&M.forEach(function(P){return e(p,P)}),he&&Fn(p,_),j}function y(p,m,x,k){var j=$s(x);if(typeof j!="function")throw Error(T(150));if(x=j.call(x),x==null)throw Error(T(151));for(var S=j=null,M=m,_=m=0,N=null,L=x.next();M!==null&&!L.done;_++,L=x.next()){M.index>_?(N=M,M=null):N=M.sibling;var P=f(p,M,L.value,k);if(P===null){M===null&&(M=N);break}t&&M&&P.alternate===null&&e(p,M),m=r(P,m,_),S===null?j=P:S.sibling=P,S=P,M=N}if(L.done)return n(p,M),he&&Fn(p,_),j;if(M===null){for(;!L.done;_++,L=x.next())L=h(p,L.value,k),L!==null&&(m=r(L,m,_),S===null?j=L:S.sibling=L,S=L);return he&&Fn(p,_),j}for(M=s(p,M);!L.done;_++,L=x.next())L=g(M,p,_,L.value,k),L!==null&&(t&&L.alternate!==null&&M.delete(L.key===null?_:L.key),m=r(L,m,_),S===null?j=L:S.sibling=L,S=L);return t&&M.forEach(function(C){return e(p,C)}),he&&Fn(p,_),j}function w(p,m,x,k){if(typeof x=="object"&&x!==null&&x.type===os&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case cr:e:{for(var j=x.key,S=m;S!==null;){if(S.key===j){if(j=x.type,j===os){if(S.tag===7){n(p,S.sibling),m=i(S,x.props.children),m.return=p,p=m;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===on&&jd(j)===S.type){n(p,S.sibling),m=i(S,x.props),m.ref=Ks(p,S,x),m.return=p,p=m;break e}n(p,S);break}else e(p,S);S=S.sibling}x.type===os?(m=Un(x.props.children,p.mode,k,x.key),m.return=p,p=m):(k=Qr(x.type,x.key,x.props,null,p.mode,k),k.ref=Ks(p,m,x),k.return=p,p=k)}return o(p);case rs:e:{for(S=x.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(p,m.sibling),m=i(m,x.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=Wa(x,p.mode,k),m.return=p,p=m}return o(p);case on:return S=x._init,w(p,m,S(x._payload),k)}if(si(x))return v(p,m,x,k);if($s(x))return y(p,m,x,k);wr(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(p,m.sibling),m=i(m,x),m.return=p,p=m):(n(p,m),m=Ba(x,p.mode,k),m.return=p,p=m),o(p)):n(p,m)}return w}var Es=jp(!0),_p=jp(!1),po=Ln(null),mo=null,ps=null,Sc=null;function Cc(){Sc=ps=mo=null}function Mc(t){var e=po.current;de(po),t._currentValue=e}function Tl(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function ks(t,e){mo=t,Sc=ps=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qe=!0),t.firstContext=null)}function gt(t){var e=t._currentValue;if(Sc!==t)if(t={context:t,memoizedValue:e,next:null},ps===null){if(mo===null)throw Error(T(308));ps=t,mo.dependencies={lanes:0,firstContext:t}}else ps=ps.next=t;return e}var Wn=null;function Lc(t){Wn===null?Wn=[t]:Wn.push(t)}function Np(t,e,n,s){var i=e.interleaved;return i===null?(n.next=n,Lc(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gt(t,s)}function Gt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var an=!1;function Ec(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,ee&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,Gt(t,n)}return i=s.interleaved,i===null?(e.next=e,Lc(s)):(e.next=i.next,i.next=e),s.interleaved=e,Gt(t,n)}function $r(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,mc(t,n)}}function _d(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function go(t,e,n,s){var i=t.updateQueue;an=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?r=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(r!==null){var h=i.baseState;o=0,d=u=c=null,a=r;do{var f=a.lane,g=a.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(f=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(g,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(g,h,f):v,f==null)break e;h=me({},h,f);break e;case 2:an=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);Gn|=o,t.lanes=o,t.memoizedState=h}}function Nd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(T(191,i));i.call(s)}}}var Qi={},Rt=Ln(Qi),Ai=Ln(Qi),Oi=Ln(Qi);function Hn(t){if(t===Qi)throw Error(T(174));return t}function Pc(t,e){switch(le(Oi,e),le(Ai,t),le(Rt,Qi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fl(e,t)}de(Rt),le(Rt,e)}function Ps(){de(Rt),de(Ai),de(Oi)}function Cp(t){Hn(Oi.current);var e=Hn(Rt.current),n=fl(e,t.type);e!==n&&(le(Ai,t),le(Rt,n))}function Dc(t){Ai.current===t&&(de(Rt),de(Ai))}var fe=Ln(0);function xo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Aa=[];function Tc(){for(var t=0;t<Aa.length;t++)Aa[t]._workInProgressVersionPrimary=null;Aa.length=0}var Vr=qt.ReactCurrentDispatcher,Oa=qt.ReactCurrentBatchConfig,Qn=0,pe=null,Se=null,De=null,yo=!1,mi=!1,Ri=0,Sx=0;function Be(){throw Error(T(321))}function Ac(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!St(t[n],e[n]))return!1;return!0}function Oc(t,e,n,s,i,r){if(Qn=r,pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vr.current=t===null||t.memoizedState===null?Ex:Px,t=n(s,i),mi){r=0;do{if(mi=!1,Ri=0,25<=r)throw Error(T(301));r+=1,De=Se=null,e.updateQueue=null,Vr.current=Dx,t=n(s,i)}while(mi)}if(Vr.current=vo,e=Se!==null&&Se.next!==null,Qn=0,De=Se=pe=null,yo=!1,e)throw Error(T(300));return t}function Rc(){var t=Ri!==0;return Ri=0,t}function Pt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?pe.memoizedState=De=t:De=De.next=t,De}function xt(){if(Se===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var e=De===null?pe.memoizedState:De.next;if(e!==null)De=e,Se=t;else{if(t===null)throw Error(T(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},De===null?pe.memoizedState=De=t:De=De.next=t}return De}function Fi(t,e){return typeof e=="function"?e(t):e}function Ra(t){var e=xt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var s=Se,i=s.baseQueue,r=n.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}s.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,s=s.baseState;var a=o=null,c=null,u=r;do{var d=u.lane;if((Qn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=s):c=c.next=h,pe.lanes|=d,Gn|=d}u=u.next}while(u!==null&&u!==r);c===null?o=s:c.next=a,St(s,e.memoizedState)||(qe=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){i=t;do r=i.lane,pe.lanes|=r,Gn|=r,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fa(t){var e=xt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do r=t(r,o.action),o=o.next;while(o!==i);St(r,e.memoizedState)||(qe=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function Mp(){}function Lp(t,e){var n=pe,s=xt(),i=e(),r=!St(s.memoizedState,i);if(r&&(s.memoizedState=i,qe=!0),s=s.queue,Fc(Dp.bind(null,n,s,t),[t]),s.getSnapshot!==e||r||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,zi(9,Pp.bind(null,n,s,i,e),void 0,null),Te===null)throw Error(T(349));Qn&30||Ep(n,e,i)}return i}function Ep(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Pp(t,e,n,s){e.value=n,e.getSnapshot=s,Tp(e)&&Ap(t)}function Dp(t,e,n){return n(function(){Tp(e)&&Ap(t)})}function Tp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!St(t,n)}catch{return!0}}function Ap(t){var e=Gt(t,1);e!==null&&Nt(e,t,1,-1)}function Sd(t){var e=Pt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},e.queue=t,t=t.dispatch=Lx.bind(null,pe,t),[e.memoizedState,t]}function zi(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function Op(){return xt().memoizedState}function Ur(t,e,n,s){var i=Pt();pe.flags|=t,i.memoizedState=zi(1|e,n,void 0,s===void 0?null:s)}function Vo(t,e,n,s){var i=xt();s=s===void 0?null:s;var r=void 0;if(Se!==null){var o=Se.memoizedState;if(r=o.destroy,s!==null&&Ac(s,o.deps)){i.memoizedState=zi(e,n,r,s);return}}pe.flags|=t,i.memoizedState=zi(1|e,n,r,s)}function Cd(t,e){return Ur(8390656,8,t,e)}function Fc(t,e){return Vo(2048,8,t,e)}function Rp(t,e){return Vo(4,2,t,e)}function Fp(t,e){return Vo(4,4,t,e)}function zp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ip(t,e,n){return n=n!=null?n.concat([t]):null,Vo(4,4,zp.bind(null,e,t),n)}function zc(){}function Bp(t,e){var n=xt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Ac(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function Wp(t,e){var n=xt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Ac(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Hp(t,e,n){return Qn&21?(St(n,e)||(n=Xf(),pe.lanes|=n,Gn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qe=!0),t.memoizedState=n)}function Cx(t,e){var n=re;re=n!==0&&4>n?n:4,t(!0);var s=Oa.transition;Oa.transition={};try{t(!1),e()}finally{re=n,Oa.transition=s}}function $p(){return xt().memoizedState}function Mx(t,e,n){var s=bn(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Vp(t))Up(e,n);else if(n=Np(t,e,n,s),n!==null){var i=Xe();Nt(n,t,s,i),Yp(n,e,s)}}function Lx(t,e,n){var s=bn(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vp(t))Up(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(i.hasEagerState=!0,i.eagerState=a,St(a,o)){var c=e.interleaved;c===null?(i.next=i,Lc(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Np(t,e,i,s),n!==null&&(i=Xe(),Nt(n,t,s,i),Yp(n,e,s))}}function Vp(t){var e=t.alternate;return t===pe||e!==null&&e===pe}function Up(t,e){mi=yo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Yp(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,mc(t,n)}}var vo={readContext:gt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},Ex={readContext:gt,useCallback:function(t,e){return Pt().memoizedState=[t,e===void 0?null:e],t},useContext:gt,useEffect:Cd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ur(4194308,4,zp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ur(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ur(4,2,t,e)},useMemo:function(t,e){var n=Pt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Pt();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=Mx.bind(null,pe,t),[s.memoizedState,t]},useRef:function(t){var e=Pt();return t={current:t},e.memoizedState=t},useState:Sd,useDebugValue:zc,useDeferredValue:function(t){return Pt().memoizedState=t},useTransition:function(){var t=Sd(!1),e=t[0];return t=Cx.bind(null,t[1]),Pt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=pe,i=Pt();if(he){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),Te===null)throw Error(T(349));Qn&30||Ep(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,Cd(Dp.bind(null,s,r,t),[t]),s.flags|=2048,zi(9,Pp.bind(null,s,r,n,e),void 0,null),n},useId:function(){var t=Pt(),e=Te.identifierPrefix;if(he){var n=Ut,s=Vt;n=(s&~(1<<32-_t(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ri++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Sx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Px={readContext:gt,useCallback:Bp,useContext:gt,useEffect:Fc,useImperativeHandle:Ip,useInsertionEffect:Rp,useLayoutEffect:Fp,useMemo:Wp,useReducer:Ra,useRef:Op,useState:function(){return Ra(Fi)},useDebugValue:zc,useDeferredValue:function(t){var e=xt();return Hp(e,Se.memoizedState,t)},useTransition:function(){var t=Ra(Fi)[0],e=xt().memoizedState;return[t,e]},useMutableSource:Mp,useSyncExternalStore:Lp,useId:$p,unstable_isNewReconciler:!1},Dx={readContext:gt,useCallback:Bp,useContext:gt,useEffect:Fc,useImperativeHandle:Ip,useInsertionEffect:Rp,useLayoutEffect:Fp,useMemo:Wp,useReducer:Fa,useRef:Op,useState:function(){return Fa(Fi)},useDebugValue:zc,useDeferredValue:function(t){var e=xt();return Se===null?e.memoizedState=t:Hp(e,Se.memoizedState,t)},useTransition:function(){var t=Fa(Fi)[0],e=xt().memoizedState;return[t,e]},useMutableSource:Mp,useSyncExternalStore:Lp,useId:$p,unstable_isNewReconciler:!1};function bt(t,e){if(t&&t.defaultProps){e=me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Al(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Uo={isMounted:function(t){return(t=t._reactInternals)?ts(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Xe(),i=bn(t),r=Xt(s,i);r.payload=e,n!=null&&(r.callback=n),e=vn(t,r,i),e!==null&&(Nt(e,t,i,s),$r(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Xe(),i=bn(t),r=Xt(s,i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=vn(t,r,i),e!==null&&(Nt(e,t,i,s),$r(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xe(),s=bn(t),i=Xt(n,s);i.tag=2,e!=null&&(i.callback=e),e=vn(t,i,s),e!==null&&(Nt(e,t,s,n),$r(e,t,s))}};function Md(t,e,n,s,i,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,o):e.prototype&&e.prototype.isPureReactComponent?!Ei(n,s)||!Ei(i,r):!0}function Xp(t,e,n){var s=!1,i=Sn,r=e.contextType;return typeof r=="object"&&r!==null?r=gt(r):(i=nt(e)?Xn:Ue.current,s=e.contextTypes,r=(s=s!=null)?Ms(t,i):Sn),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uo,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function Ld(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Uo.enqueueReplaceState(e,e.state,null)}function Ol(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ec(t);var r=e.contextType;typeof r=="object"&&r!==null?i.context=gt(r):(r=nt(e)?Xn:Ue.current,i.context=Ms(t,r)),i.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Al(t,e,r,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Uo.enqueueReplaceState(i,i.state,null),go(t,n,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ds(t,e){try{var n="",s=e;do n+=o0(s),s=s.return;while(s);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:i,digest:null}}function za(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Tx=typeof WeakMap=="function"?WeakMap:Map;function Kp(t,e,n){n=Xt(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){bo||(bo=!0,Yl=s),Rl(t,e)},n}function Qp(t,e,n){n=Xt(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;n.payload=function(){return s(i)},n.callback=function(){Rl(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Rl(t,e),typeof s!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ed(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new Tx;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(i.add(n),t=Xx.bind(null,t,e,n),e.then(t,t))}function Pd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dd(t,e,n,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xt(-1,1),e.tag=2,vn(n,e,1))),n.lanes|=1),t)}var Ax=qt.ReactCurrentOwner,qe=!1;function Ye(t,e,n,s){e.child=t===null?_p(e,null,n,s):Es(e,t.child,n,s)}function Td(t,e,n,s,i){n=n.render;var r=e.ref;return ks(e,i),s=Oc(t,e,n,s,r,i),n=Rc(),t!==null&&!qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zt(t,e,i)):(he&&n&&jc(e),e.flags|=1,Ye(t,e,s,i),e.child)}function Ad(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!Yc(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,Gp(t,e,r,s,i)):(t=Qr(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&i)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:Ei,n(o,s)&&t.ref===e.ref)return Zt(t,e,i)}return e.flags|=1,t=kn(r,s),t.ref=e.ref,t.return=e,e.child=t}function Gp(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if(Ei(r,s)&&t.ref===e.ref)if(qe=!1,e.pendingProps=s=r,(t.lanes&i)!==0)t.flags&131072&&(qe=!0);else return e.lanes=t.lanes,Zt(t,e,i)}return Fl(t,e,n,s,i)}function Zp(t,e,n){var s=e.pendingProps,i=s.children,r=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(gs,it),it|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,le(gs,it),it|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:n,le(gs,it),it|=s}else r!==null?(s=r.baseLanes|n,e.memoizedState=null):s=n,le(gs,it),it|=s;return Ye(t,e,i,n),e.child}function Jp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fl(t,e,n,s,i){var r=nt(n)?Xn:Ue.current;return r=Ms(e,r),ks(e,i),n=Oc(t,e,n,s,r,i),s=Rc(),t!==null&&!qe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zt(t,e,i)):(he&&s&&jc(e),e.flags|=1,Ye(t,e,n,i),e.child)}function Od(t,e,n,s,i){if(nt(n)){var r=!0;uo(e)}else r=!1;if(ks(e,i),e.stateNode===null)Yr(t,e),Xp(e,n,s),Ol(e,n,s,i),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=gt(u):(u=nt(n)?Xn:Ue.current,u=Ms(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||c!==u)&&Ld(e,o,s,u),an=!1;var f=e.memoizedState;o.state=f,go(e,s,o,i),c=e.memoizedState,a!==s||f!==c||tt.current||an?(typeof d=="function"&&(Al(e,n,d,s),c=e.memoizedState),(a=an||Md(e,n,a,s,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,Sp(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:bt(e.type,a),o.props=u,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=gt(c):(c=nt(n)?Xn:Ue.current,c=Ms(e,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&Ld(e,o,s,c),an=!1,f=e.memoizedState,o.state=f,go(e,s,o,i);var v=e.memoizedState;a!==h||f!==v||tt.current||an?(typeof g=="function"&&(Al(e,n,g,s),v=e.memoizedState),(u=an||Md(e,n,u,s,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=v),o.props=s,o.state=v,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return zl(t,e,n,s,r,i)}function zl(t,e,n,s,i,r){Jp(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&wd(e,n,!1),Zt(t,e,r);s=e.stateNode,Ax.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=Es(e,t.child,null,r),e.child=Es(e,null,a,r)):Ye(t,e,a,r),e.memoizedState=s.state,i&&wd(e,n,!0),e.child}function qp(t){var e=t.stateNode;e.pendingContext?vd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vd(t,e.context,!1),Pc(t,e.containerInfo)}function Rd(t,e,n,s,i){return Ls(),Nc(i),e.flags|=256,Ye(t,e,n,s),e.child}var Il={dehydrated:null,treeContext:null,retryLane:0};function Bl(t){return{baseLanes:t,cachePool:null,transitions:null}}function em(t,e,n){var s=e.pendingProps,i=fe.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),le(fe,i&1),t===null)return Dl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,r?(s=e.mode,r=e.child,o={mode:"hidden",children:o},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Ko(o,s,0,null),t=Un(t,s,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Bl(n),e.memoizedState=Il,t):Ic(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Ox(t,e,o,s,a,i,n);if(r){r=s.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=kn(i,c),s.subtreeFlags=i.subtreeFlags&14680064),a!==null?r=kn(a,r):(r=Un(r,o,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,o=t.child.memoizedState,o=o===null?Bl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=Il,s}return r=t.child,t=r.sibling,s=kn(r,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Ic(t,e){return e=Ko({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function br(t,e,n,s){return s!==null&&Nc(s),Es(e,t.child,null,n),t=Ic(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ox(t,e,n,s,i,r,o){if(n)return e.flags&256?(e.flags&=-257,s=za(Error(T(422))),br(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=s.fallback,i=e.mode,s=Ko({mode:"visible",children:s.children},i,0,null),r=Un(r,i,o,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,e.mode&1&&Es(e,t.child,null,o),e.child.memoizedState=Bl(o),e.memoizedState=Il,r);if(!(e.mode&1))return br(t,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var a=s.dgst;return s=a,r=Error(T(419)),s=za(r,s,void 0),br(t,e,o,s)}if(a=(o&t.childLanes)!==0,qe||a){if(s=Te,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,Gt(t,i),Nt(s,t,i,-1))}return Uc(),s=za(Error(T(421))),br(t,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Kx.bind(null,t),i._reactRetry=e,null):(t=r.treeContext,rt=yn(i.nextSibling),ot=e,he=!0,jt=null,t!==null&&(dt[ht++]=Vt,dt[ht++]=Ut,dt[ht++]=Kn,Vt=t.id,Ut=t.overflow,Kn=e),e=Ic(e,s.children),e.flags|=4096,e)}function Fd(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Tl(t.return,e,n)}function Ia(t,e,n,s,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=i)}function tm(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(Ye(t,e,s.children,n),s=fe.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fd(t,n,e);else if(t.tag===19)Fd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(le(fe,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xo(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ia(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xo(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ia(e,!0,n,null,r);break;case"together":Ia(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yr(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=kn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=kn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Rx(t,e,n){switch(e.tag){case 3:qp(e),Ls();break;case 5:Cp(e);break;case 1:nt(e.type)&&uo(e);break;case 4:Pc(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;le(po,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(le(fe,fe.current&1),e.flags|=128,null):n&e.child.childLanes?em(t,e,n):(le(fe,fe.current&1),t=Zt(t,e,n),t!==null?t.sibling:null);le(fe,fe.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return tm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),le(fe,fe.current),s)break;return null;case 22:case 23:return e.lanes=0,Zp(t,e,n)}return Zt(t,e,n)}var nm,Wl,sm,im;nm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wl=function(){};sm=function(t,e,n,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,Hn(Rt.current);var r=null;switch(n){case"input":i=cl(t,i),s=cl(t,s),r=[];break;case"select":i=me({},i,{value:void 0}),s=me({},s,{value:void 0}),r=[];break;case"textarea":i=hl(t,i),s=hl(t,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=lo)}pl(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ji.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in s){var c=s[u];if(a=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(r||(r=[]),r.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(r=r||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ji.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ce("scroll",t),r||a===c||(r=[])):(r=r||[]).push(u,c))}n&&(r=r||[]).push("style",n);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};im=function(t,e,n,s){n!==s&&(e.flags|=4)};function Qs(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function We(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function Fx(t,e,n){var s=e.pendingProps;switch(_c(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(e),null;case 1:return nt(e.type)&&co(),We(e),null;case 3:return s=e.stateNode,Ps(),de(tt),de(Ue),Tc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(vr(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jt!==null&&(Ql(jt),jt=null))),Wl(t,e),We(e),null;case 5:Dc(e);var i=Hn(Oi.current);if(n=e.type,t!==null&&e.stateNode!=null)sm(t,e,n,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(T(166));return We(e),null}if(t=Hn(Rt.current),vr(e)){s=e.stateNode,n=e.type;var r=e.memoizedProps;switch(s[At]=e,s[Ti]=r,t=(e.mode&1)!==0,n){case"dialog":ce("cancel",s),ce("close",s);break;case"iframe":case"object":case"embed":ce("load",s);break;case"video":case"audio":for(i=0;i<ri.length;i++)ce(ri[i],s);break;case"source":ce("error",s);break;case"img":case"image":case"link":ce("error",s),ce("load",s);break;case"details":ce("toggle",s);break;case"input":Yu(s,r),ce("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},ce("invalid",s);break;case"textarea":Ku(s,r),ce("invalid",s)}pl(n,r),i=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?s.textContent!==a&&(r.suppressHydrationWarning!==!0&&yr(s.textContent,a,t),i=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&yr(s.textContent,a,t),i=["children",""+a]):ji.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ce("scroll",s)}switch(n){case"input":ur(s),Xu(s,r,!0);break;case"textarea":ur(s),Qu(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=lo)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Df(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[At]=e,t[Ti]=s,nm(t,e,!1,!1),e.stateNode=t;e:{switch(o=ml(n,s),n){case"dialog":ce("cancel",t),ce("close",t),i=s;break;case"iframe":case"object":case"embed":ce("load",t),i=s;break;case"video":case"audio":for(i=0;i<ri.length;i++)ce(ri[i],t);i=s;break;case"source":ce("error",t),i=s;break;case"img":case"image":case"link":ce("error",t),ce("load",t),i=s;break;case"details":ce("toggle",t),i=s;break;case"input":Yu(t,s),i=cl(t,s),ce("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=me({},s,{value:void 0}),ce("invalid",t);break;case"textarea":Ku(t,s),i=hl(t,s),ce("invalid",t);break;default:i=s}pl(n,i),a=i;for(r in a)if(a.hasOwnProperty(r)){var c=a[r];r==="style"?Of(t,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Tf(t,c)):r==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&_i(t,c):typeof c=="number"&&_i(t,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(ji.hasOwnProperty(r)?c!=null&&r==="onScroll"&&ce("scroll",t):c!=null&&cc(t,r,c,o))}switch(n){case"input":ur(t),Xu(t,s,!1);break;case"textarea":ur(t),Qu(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Nn(s.value));break;case"select":t.multiple=!!s.multiple,r=s.value,r!=null?ys(t,!!s.multiple,r,!1):s.defaultValue!=null&&ys(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=lo)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return We(e),null;case 6:if(t&&e.stateNode!=null)im(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(T(166));if(n=Hn(Oi.current),Hn(Rt.current),vr(e)){if(s=e.stateNode,n=e.memoizedProps,s[At]=e,(r=s.nodeValue!==n)&&(t=ot,t!==null))switch(t.tag){case 3:yr(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yr(s.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[At]=e,e.stateNode=s}return We(e),null;case 13:if(de(fe),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(he&&rt!==null&&e.mode&1&&!(e.flags&128))kp(),Ls(),e.flags|=98560,r=!1;else if(r=vr(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(T(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(T(317));r[At]=e}else Ls(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;We(e),r=!1}else jt!==null&&(Ql(jt),jt=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?Me===0&&(Me=3):Uc())),e.updateQueue!==null&&(e.flags|=4),We(e),null);case 4:return Ps(),Wl(t,e),t===null&&Pi(e.stateNode.containerInfo),We(e),null;case 10:return Mc(e.type._context),We(e),null;case 17:return nt(e.type)&&co(),We(e),null;case 19:if(de(fe),r=e.memoizedState,r===null)return We(e),null;if(s=(e.flags&128)!==0,o=r.rendering,o===null)if(s)Qs(r,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xo(t),o!==null){for(e.flags|=128,Qs(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)r=n,t=s,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return le(fe,fe.current&1|2),e.child}t=t.sibling}r.tail!==null&&ve()>Ts&&(e.flags|=128,s=!0,Qs(r,!1),e.lanes=4194304)}else{if(!s)if(t=xo(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qs(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!he)return We(e),null}else 2*ve()-r.renderingStartTime>Ts&&n!==1073741824&&(e.flags|=128,s=!0,Qs(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ve(),e.sibling=null,n=fe.current,le(fe,s?n&1|2:n&1),e):(We(e),null);case 22:case 23:return Vc(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?it&1073741824&&(We(e),e.subtreeFlags&6&&(e.flags|=8192)):We(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function zx(t,e){switch(_c(e),e.tag){case 1:return nt(e.type)&&co(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ps(),de(tt),de(Ue),Tc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dc(e),null;case 13:if(de(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Ls()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return de(fe),null;case 4:return Ps(),null;case 10:return Mc(e.type._context),null;case 22:case 23:return Vc(),null;case 24:return null;default:return null}}var kr=!1,$e=!1,Ix=typeof WeakSet=="function"?WeakSet:Set,z=null;function ms(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){xe(t,e,s)}else n.current=null}function Hl(t,e,n){try{n()}catch(s){xe(t,e,s)}}var zd=!1;function Bx(t,e){if(Nl=ro,t=cp(),kc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==r||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===r&&++d===s&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sl={focusedElem:t,selectionRange:n},ro=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:bt(e.type,y),w);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(k){xe(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return v=zd,zd=!1,v}function gi(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,r!==void 0&&Hl(e,n,r)}i=i.next}while(i!==s)}}function Yo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function $l(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rm(t){var e=t.alternate;e!==null&&(t.alternate=null,rm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[At],delete e[Ti],delete e[Ll],delete e[kx],delete e[jx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function om(t){return t.tag===5||t.tag===3||t.tag===4}function Id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||om(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vl(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lo));else if(s!==4&&(t=t.child,t!==null))for(Vl(t,e,n),t=t.sibling;t!==null;)Vl(t,e,n),t=t.sibling}function Ul(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(Ul(t,e,n),t=t.sibling;t!==null;)Ul(t,e,n),t=t.sibling}var Oe=null,kt=!1;function sn(t,e,n){for(n=n.child;n!==null;)am(t,e,n),n=n.sibling}function am(t,e,n){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(zo,n)}catch{}switch(n.tag){case 5:$e||ms(n,e);case 6:var s=Oe,i=kt;Oe=null,sn(t,e,n),Oe=s,kt=i,Oe!==null&&(kt?(t=Oe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Oe.removeChild(n.stateNode));break;case 18:Oe!==null&&(kt?(t=Oe,n=n.stateNode,t.nodeType===8?Da(t.parentNode,n):t.nodeType===1&&Da(t,n),Mi(t)):Da(Oe,n.stateNode));break;case 4:s=Oe,i=kt,Oe=n.stateNode.containerInfo,kt=!0,sn(t,e,n),Oe=s,kt=i;break;case 0:case 11:case 14:case 15:if(!$e&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Hl(n,e,o),i=i.next}while(i!==s)}sn(t,e,n);break;case 1:if(!$e&&(ms(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){xe(n,e,a)}sn(t,e,n);break;case 21:sn(t,e,n);break;case 22:n.mode&1?($e=(s=$e)||n.memoizedState!==null,sn(t,e,n),$e=s):sn(t,e,n);break;default:sn(t,e,n)}}function Bd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ix),e.forEach(function(s){var i=Qx.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}}function wt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Oe=a.stateNode,kt=!1;break e;case 3:Oe=a.stateNode.containerInfo,kt=!0;break e;case 4:Oe=a.stateNode.containerInfo,kt=!0;break e}a=a.return}if(Oe===null)throw Error(T(160));am(r,o,i),Oe=null,kt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){xe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lm(e,t),e=e.sibling}function lm(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wt(e,t),Mt(t),s&4){try{gi(3,t,t.return),Yo(3,t)}catch(y){xe(t,t.return,y)}try{gi(5,t,t.return)}catch(y){xe(t,t.return,y)}}break;case 1:wt(e,t),Mt(t),s&512&&n!==null&&ms(n,n.return);break;case 5:if(wt(e,t),Mt(t),s&512&&n!==null&&ms(n,n.return),t.flags&32){var i=t.stateNode;try{_i(i,"")}catch(y){xe(t,t.return,y)}}if(s&4&&(i=t.stateNode,i!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&Ef(i,r),ml(a,o);var u=ml(a,r);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Of(i,h):d==="dangerouslySetInnerHTML"?Tf(i,h):d==="children"?_i(i,h):cc(i,d,h,u)}switch(a){case"input":ul(i,r);break;case"textarea":Pf(i,r);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var g=r.value;g!=null?ys(i,!!r.multiple,g,!1):f!==!!r.multiple&&(r.defaultValue!=null?ys(i,!!r.multiple,r.defaultValue,!0):ys(i,!!r.multiple,r.multiple?[]:"",!1))}i[Ti]=r}catch(y){xe(t,t.return,y)}}break;case 6:if(wt(e,t),Mt(t),s&4){if(t.stateNode===null)throw Error(T(162));i=t.stateNode,r=t.memoizedProps;try{i.nodeValue=r}catch(y){xe(t,t.return,y)}}break;case 3:if(wt(e,t),Mt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Mi(e.containerInfo)}catch(y){xe(t,t.return,y)}break;case 4:wt(e,t),Mt(t);break;case 13:wt(e,t),Mt(t),i=t.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(Hc=ve())),s&4&&Bd(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?($e=(u=$e)||d,wt(e,t),$e=u):wt(e,t),Mt(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(z=t,d=t.child;d!==null;){for(h=z=d;z!==null;){switch(f=z,g=f.child,f.tag){case 0:case 11:case 14:case 15:gi(4,f,f.return);break;case 1:ms(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){s=f,n=f.return;try{e=s,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){xe(s,n,y)}}break;case 5:ms(f,f.return);break;case 22:if(f.memoizedState!==null){Hd(h);continue}}g!==null?(g.return=f,z=g):Hd(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Af("display",o))}catch(y){xe(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){xe(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wt(e,t),Mt(t),s&4&&Bd(t);break;case 21:break;default:wt(e,t),Mt(t)}}function Mt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(om(n)){var s=n;break e}n=n.return}throw Error(T(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(_i(i,""),s.flags&=-33);var r=Id(t);Ul(t,r,i);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Id(t);Vl(t,a,o);break;default:throw Error(T(161))}}catch(c){xe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Wx(t,e,n){z=t,cm(t)}function cm(t,e,n){for(var s=(t.mode&1)!==0;z!==null;){var i=z,r=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||kr;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||$e;a=kr;var u=$e;if(kr=o,($e=c)&&!u)for(z=i;z!==null;)o=z,c=o.child,o.tag===22&&o.memoizedState!==null?$d(i):c!==null?(c.return=o,z=c):$d(i);for(;r!==null;)z=r,cm(r),r=r.sibling;z=i,kr=a,$e=u}Wd(t)}else i.subtreeFlags&8772&&r!==null?(r.return=i,z=r):Wd(t)}}function Wd(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$e||Yo(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!$e)if(n===null)s.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:bt(e.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Nd(e,r,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nd(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Mi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}$e||e.flags&512&&$l(e)}catch(f){xe(e,e.return,f)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function Hd(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function $d(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yo(4,e)}catch(c){xe(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(c){xe(e,i,c)}}var r=e.return;try{$l(e)}catch(c){xe(e,r,c)}break;case 5:var o=e.return;try{$l(e)}catch(c){xe(e,o,c)}}}catch(c){xe(e,e.return,c)}if(e===t){z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,z=a;break}z=e.return}}var Hx=Math.ceil,wo=qt.ReactCurrentDispatcher,Bc=qt.ReactCurrentOwner,mt=qt.ReactCurrentBatchConfig,ee=0,Te=null,je=null,Re=0,it=0,gs=Ln(0),Me=0,Ii=null,Gn=0,Xo=0,Wc=0,xi=null,Ze=null,Hc=0,Ts=1/0,Wt=null,bo=!1,Yl=null,wn=null,jr=!1,dn=null,ko=0,yi=0,Xl=null,Xr=-1,Kr=0;function Xe(){return ee&6?ve():Xr!==-1?Xr:Xr=ve()}function bn(t){return t.mode&1?ee&2&&Re!==0?Re&-Re:Nx.transition!==null?(Kr===0&&(Kr=Xf()),Kr):(t=re,t!==0||(t=window.event,t=t===void 0?16:ep(t.type)),t):1}function Nt(t,e,n,s){if(50<yi)throw yi=0,Xl=null,Error(T(185));Yi(t,n,s),(!(ee&2)||t!==Te)&&(t===Te&&(!(ee&2)&&(Xo|=n),Me===4&&cn(t,Re)),st(t,s),n===1&&ee===0&&!(e.mode&1)&&(Ts=ve()+500,$o&&En()))}function st(t,e){var n=t.callbackNode;N0(t,e);var s=io(t,t===Te?Re:0);if(s===0)n!==null&&Ju(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Ju(n),e===1)t.tag===0?_x(Vd.bind(null,t)):vp(Vd.bind(null,t)),wx(function(){!(ee&6)&&En()}),n=null;else{switch(Kf(s)){case 1:n=pc;break;case 4:n=Uf;break;case 16:n=so;break;case 536870912:n=Yf;break;default:n=so}n=xm(n,um.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function um(t,e){if(Xr=-1,Kr=0,ee&6)throw Error(T(327));var n=t.callbackNode;if(js()&&t.callbackNode!==n)return null;var s=io(t,t===Te?Re:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=jo(t,s);else{e=s;var i=ee;ee|=2;var r=hm();(Te!==t||Re!==e)&&(Wt=null,Ts=ve()+500,Vn(t,e));do try{Ux();break}catch(a){dm(t,a)}while(!0);Cc(),wo.current=r,ee=i,je!==null?e=0:(Te=null,Re=0,e=Me)}if(e!==0){if(e===2&&(i=wl(t),i!==0&&(s=i,e=Kl(t,i))),e===1)throw n=Ii,Vn(t,0),cn(t,s),st(t,ve()),n;if(e===6)cn(t,s);else{if(i=t.current.alternate,!(s&30)&&!$x(i)&&(e=jo(t,s),e===2&&(r=wl(t),r!==0&&(s=r,e=Kl(t,r))),e===1))throw n=Ii,Vn(t,0),cn(t,s),st(t,ve()),n;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(T(345));case 2:zn(t,Ze,Wt);break;case 3:if(cn(t,s),(s&130023424)===s&&(e=Hc+500-ve(),10<e)){if(io(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){Xe(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ml(zn.bind(null,t,Ze,Wt),e);break}zn(t,Ze,Wt);break;case 4:if(cn(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var o=31-_t(s);r=1<<o,o=e[o],o>i&&(i=o),s&=~r}if(s=i,s=ve()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Hx(s/1960))-s,10<s){t.timeoutHandle=Ml(zn.bind(null,t,Ze,Wt),s);break}zn(t,Ze,Wt);break;case 5:zn(t,Ze,Wt);break;default:throw Error(T(329))}}}return st(t,ve()),t.callbackNode===n?um.bind(null,t):null}function Kl(t,e){var n=xi;return t.current.memoizedState.isDehydrated&&(Vn(t,e).flags|=256),t=jo(t,e),t!==2&&(e=Ze,Ze=n,e!==null&&Ql(e)),t}function Ql(t){Ze===null?Ze=t:Ze.push.apply(Ze,t)}function $x(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!St(r(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cn(t,e){for(e&=~Wc,e&=~Xo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_t(e),s=1<<n;t[n]=-1,e&=~s}}function Vd(t){if(ee&6)throw Error(T(327));js();var e=io(t,0);if(!(e&1))return st(t,ve()),null;var n=jo(t,e);if(t.tag!==0&&n===2){var s=wl(t);s!==0&&(e=s,n=Kl(t,s))}if(n===1)throw n=Ii,Vn(t,0),cn(t,e),st(t,ve()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zn(t,Ze,Wt),st(t,ve()),null}function $c(t,e){var n=ee;ee|=1;try{return t(e)}finally{ee=n,ee===0&&(Ts=ve()+500,$o&&En())}}function Zn(t){dn!==null&&dn.tag===0&&!(ee&6)&&js();var e=ee;ee|=1;var n=mt.transition,s=re;try{if(mt.transition=null,re=1,t)return t()}finally{re=s,mt.transition=n,ee=e,!(ee&6)&&En()}}function Vc(){it=gs.current,de(gs)}function Vn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vx(n)),je!==null)for(n=je.return;n!==null;){var s=n;switch(_c(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&co();break;case 3:Ps(),de(tt),de(Ue),Tc();break;case 5:Dc(s);break;case 4:Ps();break;case 13:de(fe);break;case 19:de(fe);break;case 10:Mc(s.type._context);break;case 22:case 23:Vc()}n=n.return}if(Te=t,je=t=kn(t.current,null),Re=it=e,Me=0,Ii=null,Wc=Xo=Gn=0,Ze=xi=null,Wn!==null){for(e=0;e<Wn.length;e++)if(n=Wn[e],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,r=n.pending;if(r!==null){var o=r.next;r.next=i,s.next=o}n.pending=s}Wn=null}return t}function dm(t,e){do{var n=je;try{if(Cc(),Vr.current=vo,yo){for(var s=pe.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}yo=!1}if(Qn=0,De=Se=pe=null,mi=!1,Ri=0,Bc.current=null,n===null||n.return===null){Me=1,Ii=e,je=null;break}e:{var r=t,o=n.return,a=n,c=e;if(e=Re,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Pd(o);if(g!==null){g.flags&=-257,Dd(g,o,a,r,e),g.mode&1&&Ed(r,u,e),e=g,c=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(c),e.updateQueue=y}else v.add(c);break e}else{if(!(e&1)){Ed(r,u,e),Uc();break e}c=Error(T(426))}}else if(he&&a.mode&1){var w=Pd(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Dd(w,o,a,r,e),Nc(Ds(c,a));break e}}r=c=Ds(c,a),Me!==4&&(Me=2),xi===null?xi=[r]:xi.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var p=Kp(r,c,e);_d(r,p);break e;case 1:a=c;var m=r.type,x=r.stateNode;if(!(r.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(wn===null||!wn.has(x)))){r.flags|=65536,e&=-e,r.lanes|=e;var k=Qp(r,a,e);_d(r,k);break e}}r=r.return}while(r!==null)}pm(n)}catch(j){e=j,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function hm(){var t=wo.current;return wo.current=vo,t===null?vo:t}function Uc(){(Me===0||Me===3||Me===2)&&(Me=4),Te===null||!(Gn&268435455)&&!(Xo&268435455)||cn(Te,Re)}function jo(t,e){var n=ee;ee|=2;var s=hm();(Te!==t||Re!==e)&&(Wt=null,Vn(t,e));do try{Vx();break}catch(i){dm(t,i)}while(!0);if(Cc(),ee=n,wo.current=s,je!==null)throw Error(T(261));return Te=null,Re=0,Me}function Vx(){for(;je!==null;)fm(je)}function Ux(){for(;je!==null&&!g0();)fm(je)}function fm(t){var e=gm(t.alternate,t,it);t.memoizedProps=t.pendingProps,e===null?pm(t):je=e,Bc.current=null}function pm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zx(n,e),n!==null){n.flags&=32767,je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Me=6,je=null;return}}else if(n=Fx(n,e,it),n!==null){je=n;return}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);Me===0&&(Me=5)}function zn(t,e,n){var s=re,i=mt.transition;try{mt.transition=null,re=1,Yx(t,e,n,s)}finally{mt.transition=i,re=s}return null}function Yx(t,e,n,s){do js();while(dn!==null);if(ee&6)throw Error(T(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(S0(t,r),t===Te&&(je=Te=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jr||(jr=!0,xm(so,function(){return js(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=mt.transition,mt.transition=null;var o=re;re=1;var a=ee;ee|=4,Bc.current=null,Bx(t,n),lm(n,t),hx(Sl),ro=!!Nl,Sl=Nl=null,t.current=n,Wx(n),x0(),ee=a,re=o,mt.transition=r}else t.current=n;if(jr&&(jr=!1,dn=t,ko=i),r=t.pendingLanes,r===0&&(wn=null),w0(n.stateNode),st(t,ve()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(bo)throw bo=!1,t=Yl,Yl=null,t;return ko&1&&t.tag!==0&&js(),r=t.pendingLanes,r&1?t===Xl?yi++:(yi=0,Xl=t):yi=0,En(),null}function js(){if(dn!==null){var t=Kf(ko),e=mt.transition,n=re;try{if(mt.transition=null,re=16>t?16:t,dn===null)var s=!1;else{if(t=dn,dn=null,ko=0,ee&6)throw Error(T(331));var i=ee;for(ee|=4,z=t.current;z!==null;){var r=z,o=r.child;if(z.flags&16){var a=r.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(z=u;z!==null;){var d=z;switch(d.tag){case 0:case 11:case 15:gi(8,d,r)}var h=d.child;if(h!==null)h.return=d,z=h;else for(;z!==null;){d=z;var f=d.sibling,g=d.return;if(rm(d),d===u){z=null;break}if(f!==null){f.return=g,z=f;break}z=g}}}var v=r.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}z=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,z=o;else e:for(;z!==null;){if(r=z,r.flags&2048)switch(r.tag){case 0:case 11:case 15:gi(9,r,r.return)}var p=r.sibling;if(p!==null){p.return=r.return,z=p;break e}z=r.return}}var m=t.current;for(z=m;z!==null;){o=z;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,z=x;else e:for(o=m;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yo(9,a)}}catch(j){xe(a,a.return,j)}if(a===o){z=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,z=k;break e}z=a.return}}if(ee=i,En(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(zo,t)}catch{}s=!0}return s}finally{re=n,mt.transition=e}}return!1}function Ud(t,e,n){e=Ds(n,e),e=Kp(t,e,1),t=vn(t,e,1),e=Xe(),t!==null&&(Yi(t,1,e),st(t,e))}function xe(t,e,n){if(t.tag===3)Ud(t,t,n);else for(;e!==null;){if(e.tag===3){Ud(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(wn===null||!wn.has(s))){t=Ds(n,t),t=Qp(e,t,1),e=vn(e,t,1),t=Xe(),e!==null&&(Yi(e,1,t),st(e,t));break}}e=e.return}}function Xx(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Xe(),t.pingedLanes|=t.suspendedLanes&n,Te===t&&(Re&n)===n&&(Me===4||Me===3&&(Re&130023424)===Re&&500>ve()-Hc?Vn(t,0):Wc|=n),st(t,e)}function mm(t,e){e===0&&(t.mode&1?(e=fr,fr<<=1,!(fr&130023424)&&(fr=4194304)):e=1);var n=Xe();t=Gt(t,e),t!==null&&(Yi(t,e,n),st(t,n))}function Kx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mm(t,n)}function Qx(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(T(314))}s!==null&&s.delete(e),mm(t,n)}var gm;gm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tt.current)qe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qe=!1,Rx(t,e,n);qe=!!(t.flags&131072)}else qe=!1,he&&e.flags&1048576&&wp(e,fo,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Yr(t,e),t=e.pendingProps;var i=Ms(e,Ue.current);ks(e,n),i=Oc(null,e,s,t,i,n);var r=Rc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nt(s)?(r=!0,uo(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ec(e),i.updater=Uo,e.stateNode=i,i._reactInternals=e,Ol(e,s,t,n),e=zl(null,e,s,!0,r,n)):(e.tag=0,he&&r&&jc(e),Ye(null,e,i,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Yr(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=Zx(s),t=bt(s,t),i){case 0:e=Fl(null,e,s,t,n);break e;case 1:e=Od(null,e,s,t,n);break e;case 11:e=Td(null,e,s,t,n);break e;case 14:e=Ad(null,e,s,bt(s.type,t),n);break e}throw Error(T(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:bt(s,i),Fl(t,e,s,i,n);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:bt(s,i),Od(t,e,s,i,n);case 3:e:{if(qp(e),t===null)throw Error(T(387));s=e.pendingProps,r=e.memoizedState,i=r.element,Sp(t,e),go(e,s,null,n);var o=e.memoizedState;if(s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=Ds(Error(T(423)),e),e=Rd(t,e,s,n,i);break e}else if(s!==i){i=Ds(Error(T(424)),e),e=Rd(t,e,s,n,i);break e}else for(rt=yn(e.stateNode.containerInfo.firstChild),ot=e,he=!0,jt=null,n=_p(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ls(),s===i){e=Zt(t,e,n);break e}Ye(t,e,s,n)}e=e.child}return e;case 5:return Cp(e),t===null&&Dl(e),s=e.type,i=e.pendingProps,r=t!==null?t.memoizedProps:null,o=i.children,Cl(s,i)?o=null:r!==null&&Cl(s,r)&&(e.flags|=32),Jp(t,e),Ye(t,e,o,n),e.child;case 6:return t===null&&Dl(e),null;case 13:return em(t,e,n);case 4:return Pc(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Es(e,null,s,n):Ye(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:bt(s,i),Td(t,e,s,i,n);case 7:return Ye(t,e,e.pendingProps,n),e.child;case 8:return Ye(t,e,e.pendingProps.children,n),e.child;case 12:return Ye(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,r=e.memoizedProps,o=i.value,le(po,s._currentValue),s._currentValue=o,r!==null)if(St(r.value,o)){if(r.children===i.children&&!tt.current){e=Zt(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var c=a.firstContext;c!==null;){if(c.context===s){if(r.tag===1){c=Xt(-1,n&-n),c.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}r.lanes|=n,c=r.alternate,c!==null&&(c.lanes|=n),Tl(r.return,n,e),a.lanes|=n;break}c=c.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tl(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Ye(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,ks(e,n),i=gt(i),s=s(i),e.flags|=1,Ye(t,e,s,n),e.child;case 14:return s=e.type,i=bt(s,e.pendingProps),i=bt(s.type,i),Ad(t,e,s,i,n);case 15:return Gp(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:bt(s,i),Yr(t,e),e.tag=1,nt(s)?(t=!0,uo(e)):t=!1,ks(e,n),Xp(e,s,i),Ol(e,s,i,n),zl(null,e,s,!0,t,n);case 19:return tm(t,e,n);case 22:return Zp(t,e,n)}throw Error(T(156,e.tag))};function xm(t,e){return Vf(t,e)}function Gx(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(t,e,n,s){return new Gx(t,e,n,s)}function Yc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zx(t){if(typeof t=="function")return Yc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dc)return 11;if(t===hc)return 14}return 2}function kn(t,e){var n=t.alternate;return n===null?(n=ft(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qr(t,e,n,s,i,r){var o=2;if(s=t,typeof t=="function")Yc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case os:return Un(n.children,i,r,e);case uc:o=8,i|=8;break;case rl:return t=ft(12,n,e,i|2),t.elementType=rl,t.lanes=r,t;case ol:return t=ft(13,n,e,i),t.elementType=ol,t.lanes=r,t;case al:return t=ft(19,n,e,i),t.elementType=al,t.lanes=r,t;case Cf:return Ko(n,i,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Nf:o=10;break e;case Sf:o=9;break e;case dc:o=11;break e;case hc:o=14;break e;case on:o=16,s=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=ft(o,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function Un(t,e,n,s){return t=ft(7,t,s,e),t.lanes=n,t}function Ko(t,e,n,s){return t=ft(22,t,s,e),t.elementType=Cf,t.lanes=n,t.stateNode={isHidden:!1},t}function Ba(t,e,n){return t=ft(6,t,null,e),t.lanes=n,t}function Wa(t,e,n){return e=ft(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jx(t,e,n,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ba(0),this.expirationTimes=ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xc(t,e,n,s,i,r,o,a,c){return t=new Jx(t,e,n,a,c),e===1?(e=1,r===!0&&(e|=8)):e=0,r=ft(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ec(r),t}function qx(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function ym(t){if(!t)return Sn;t=t._reactInternals;e:{if(ts(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(nt(n))return yp(t,n,e)}return e}function vm(t,e,n,s,i,r,o,a,c){return t=Xc(n,s,!0,t,i,r,o,a,c),t.context=ym(null),n=t.current,s=Xe(),i=bn(n),r=Xt(s,i),r.callback=e??null,vn(n,r,i),t.current.lanes=i,Yi(t,i,s),st(t,s),t}function Qo(t,e,n,s){var i=e.current,r=Xe(),o=bn(i);return n=ym(n),e.context===null?e.context=n:e.pendingContext=n,e=Xt(r,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=vn(i,e,o),t!==null&&(Nt(t,i,o,r),$r(t,i,o)),o}function _o(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Kc(t,e){Yd(t,e),(t=t.alternate)&&Yd(t,e)}function ey(){return null}var wm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qc(t){this._internalRoot=t}Go.prototype.render=Qc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));Qo(t,e,null,null)};Go.prototype.unmount=Qc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zn(function(){Qo(null,t,null,null)}),e[Qt]=null}};function Go(t){this._internalRoot=t}Go.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ln.length&&e!==0&&e<ln[n].priority;n++);ln.splice(n,0,t),n===0&&qf(t)}};function Gc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xd(){}function ty(t,e,n,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var u=_o(o);r.call(u)}}var o=vm(e,s,t,0,null,!1,!1,"",Xd);return t._reactRootContainer=o,t[Qt]=o.current,Pi(t.nodeType===8?t.parentNode:t),Zn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var a=s;s=function(){var u=_o(c);a.call(u)}}var c=Xc(t,0,!1,null,null,!1,!1,"",Xd);return t._reactRootContainer=c,t[Qt]=c.current,Pi(t.nodeType===8?t.parentNode:t),Zn(function(){Qo(e,c,n,s)}),c}function Jo(t,e,n,s,i){var r=n._reactRootContainer;if(r){var o=r;if(typeof i=="function"){var a=i;i=function(){var c=_o(o);a.call(c)}}Qo(e,o,t,i)}else o=ty(n,e,t,i,s);return _o(o)}Qf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ii(e.pendingLanes);n!==0&&(mc(e,n|1),st(e,ve()),!(ee&6)&&(Ts=ve()+500,En()))}break;case 13:Zn(function(){var s=Gt(t,1);if(s!==null){var i=Xe();Nt(s,t,1,i)}}),Kc(t,1)}};gc=function(t){if(t.tag===13){var e=Gt(t,134217728);if(e!==null){var n=Xe();Nt(e,t,134217728,n)}Kc(t,134217728)}};Gf=function(t){if(t.tag===13){var e=bn(t),n=Gt(t,e);if(n!==null){var s=Xe();Nt(n,t,e,s)}Kc(t,e)}};Zf=function(){return re};Jf=function(t,e){var n=re;try{return re=t,e()}finally{re=n}};xl=function(t,e,n){switch(e){case"input":if(ul(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=Ho(s);if(!i)throw Error(T(90));Lf(s),ul(s,i)}}}break;case"textarea":Pf(t,n);break;case"select":e=n.value,e!=null&&ys(t,!!n.multiple,e,!1)}};zf=$c;If=Zn;var ny={usingClientEntryPoint:!1,Events:[Ki,us,Ho,Rf,Ff,$c]},Gs={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sy={bundleType:Gs.bundleType,version:Gs.version,rendererPackageName:Gs.rendererPackageName,rendererConfig:Gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hf(t),t===null?null:t.stateNode},findFiberByHostInstance:Gs.findFiberByHostInstance||ey,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _r=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_r.isDisabled&&_r.supportsFiber)try{zo=_r.inject(sy),Ot=_r}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ny;lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gc(e))throw Error(T(200));return qx(t,e,null,n)};lt.createRoot=function(t,e){if(!Gc(t))throw Error(T(299));var n=!1,s="",i=wm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xc(t,1,!1,null,null,n,!1,s,i),t[Qt]=e.current,Pi(t.nodeType===8?t.parentNode:t),new Qc(e)};lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=Hf(e),t=t===null?null:t.stateNode,t};lt.flushSync=function(t){return Zn(t)};lt.hydrate=function(t,e,n){if(!Zo(e))throw Error(T(200));return Jo(null,t,e,!0,n)};lt.hydrateRoot=function(t,e,n){if(!Gc(t))throw Error(T(405));var s=n!=null&&n.hydratedSources||null,i=!1,r="",o=wm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vm(e,null,t,1,n??null,i,!1,r,o),t[Qt]=e.current,Pi(t),s)for(t=0;t<s.length;t++)n=s[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Go(e)};lt.render=function(t,e,n){if(!Zo(e))throw Error(T(200));return Jo(null,t,e,!1,n)};lt.unmountComponentAtNode=function(t){if(!Zo(t))throw Error(T(40));return t._reactRootContainer?(Zn(function(){Jo(null,null,t,!1,function(){t._reactRootContainer=null,t[Qt]=null})}),!0):!1};lt.unstable_batchedUpdates=$c;lt.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Zo(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return Jo(t,e,n,!1,s)};lt.version="18.3.1-next-f1338f8080-20240426";function bm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bm)}catch(t){console.error(t)}}bm(),bf.exports=lt;var iy=bf.exports,Kd=iy;sl.createRoot=Kd.createRoot,sl.hydrateRoot=Kd.hydrateRoot;function ry({onLogin:t,error:e}){const[n,s]=E.useState(""),[i,r]=E.useState(""),[o,a]=E.useState(""),[c,u]=E.useState(!1),[d,h]=E.useState(null),[f,g]=E.useState(!1),v=async w=>{if(w.preventDefault(),h(null),u(!0),!n.trim()){h("Username is required"),u(!1);return}if(!i){h("Password is required"),u(!1);return}if(!o.trim()){h("Department ID is required"),u(!1);return}if(!/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(o.trim())){h("Invalid Department ID format. Please enter a valid GUID."),u(!1);return}const m=await t({username:n.trim(),password:i,departmentId:o.trim()});m.success||h(m.error),u(!1)},y=d||e;return l.jsx("div",{className:"login-bg min-h-screen flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md animate-fadeIn",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("img",{src:"/logo.png",alt:"JustInsurance",className:"h-20 mx-auto mb-4",onError:w=>{w.target.style.display="none"}}),l.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Progress Dashboard"}),l.jsx("p",{className:"text-ji-blue-light mt-2",children:"Track your students' pre-licensing progress"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[l.jsxs("form",{onSubmit:v,children:[y&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{className:"text-red-700 text-sm",children:y})]})}),l.jsxs("div",{className:"mb-5",children:[l.jsx("label",{className:"input-label",htmlFor:"username",children:"Absorb LMS Username"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),l.jsx("input",{type:"text",id:"username",className:"input pl-10",placeholder:"Enter your username or email",value:n,onChange:w=>s(w.target.value),disabled:c,autoComplete:"username"})]})]}),l.jsxs("div",{className:"mb-5",children:[l.jsx("label",{className:"input-label",htmlFor:"password",children:"Absorb LMS Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),l.jsx("input",{type:f?"text":"password",id:"password",className:"input pl-10 pr-10",placeholder:"Enter your password",value:i,onChange:w=>r(w.target.value),disabled:c,autoComplete:"current-password"}),l.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>g(!f),children:f?l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):l.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"input-label",htmlFor:"departmentId",children:"Agency Department ID"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),l.jsx("input",{type:"text",id:"departmentId",className:"input pl-10 font-mono text-sm",placeholder:"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",value:o,onChange:w=>a(w.target.value.toUpperCase()),disabled:c})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Contact your agency admin or JustInsurance for your Department ID"})]}),l.jsx("button",{type:"submit",className:"w-full btn btn-primary py-3 text-lg font-semibold",disabled:c,style:{backgroundColor:c?"#94a3b8":"#3182ce"},children:c?l.jsxs("span",{className:"flex items-center justify-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Authenticating..."]}):"Access Dashboard"})]}),l.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:l.jsxs("p",{className:"text-center text-sm text-gray-500",children:["Need help?"," ",l.jsx("a",{href:"mailto:support@justinsuranceco.com",className:"text-ji-blue-bright hover:underline",children:"Contact Support"})]})})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-ji-blue-light text-sm",children:[" ",new Date().getFullYear()," JustInsurance. All rights reserved."]})})]})})}function oy({summary:t}){const e=[{title:"Complete",value:t.completeCount||0,subtitle:"Finished course",emoji:"",bgColor:"bg-blue-50",iconBg:"bg-blue-100",textColor:"text-blue-800",borderColor:"border-l-4 border-blue-500"},{title:"Active",value:t.activeCount,subtitle:"Last 24 hours",emoji:"",bgColor:"bg-green-50",iconBg:"bg-green-100",textColor:"text-green-800",borderColor:"border-l-4 border-green-500"},{title:"Warning",value:t.warningCount,subtitle:"24-72 hours ago",emoji:"",bgColor:"bg-orange-50",iconBg:"bg-orange-100",textColor:"text-orange-800",borderColor:"border-l-4 border-orange-500"},{title:"Re-engage",value:t.reengageCount,subtitle:"72+ hours ago",emoji:"",bgColor:"bg-red-50",iconBg:"bg-red-100",textColor:"text-red-800",borderColor:"border-l-4 border-red-500"},{title:"Total Students",value:t.totalStudents,subtitle:"In department",emoji:"",bgColor:"bg-gray-50",iconBg:"bg-gray-100",textColor:"text-gray-800",borderColor:"border-l-4 border-gray-500"},{title:"Avg Progress",value:`${t.averageProgress}%`,subtitle:"Course completion",emoji:"",bgColor:"bg-purple-50",iconBg:"bg-purple-100",textColor:"text-purple-800",borderColor:"border-l-4 border-purple-500"}];return l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:e.map((n,s)=>l.jsx("div",{className:`kpi-card ${n.bgColor} ${n.borderColor} animate-fadeIn`,style:{animationDelay:`${s*50}ms`},children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${n.textColor} mb-1`,children:n.title}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.value}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.subtitle})]}),l.jsx("div",{className:`kpi-icon ${n.iconBg} text-2xl`,children:n.emoji})]})},s))})}function qo({status:t}){const e=()=>{switch(t.class){case"blue":return"badge-complete";case"green":return"badge-active";case"orange":return"badge-warning";case"red":return"badge-reengage";case"gray":return"badge-abandoned";case"expired":return"badge-expired";default:return"badge-reengage"}};return l.jsxs("span",{className:`badge ${e()}`,children:[l.jsx("span",{className:"mr-1",children:t.emoji}),t.status]})}function Gi({progress:t,showLabel:e=!0}){const n=()=>{switch(t.colorClass){case"high":return"progress-high";case"med":return"progress-med";case"low":return"progress-low";default:return"progress-low"}};return l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"flex-1 progress-bar",children:l.jsx("div",{className:`progress-fill ${n()}`,style:{width:`${t.value}%`}})}),e&&l.jsx("span",{className:"text-sm font-medium text-gray-700 w-12 text-right",children:t.display})]})}function ay({students:t,onViewStudent:e,showDepartment:n=!1}){const[s,i]=E.useState("status"),[r,o]=E.useState("asc"),a=d=>{s===d?o(r==="asc"?"desc":"asc"):(i(d),o("asc"))},c=[...t].sort((d,h)=>{let f,g;switch(s){case"name":f=d.fullName.toLowerCase(),g=h.fullName.toLowerCase();break;case"status":f=d.status.priority,g=h.status.priority;break;case"lastLogin":f=d.lastLogin.raw?new Date(d.lastLogin.raw).getTime():0,g=h.lastLogin.raw?new Date(h.lastLogin.raw).getTime():0;break;case"progress":f=d.progress.value,g=h.progress.value;break;case"course":f=d.courseName.toLowerCase(),g=h.courseName.toLowerCase();break;case"department":f=(d.departmentName||"").toLowerCase(),g=(h.departmentName||"").toLowerCase();break;default:f=d.status.priority,g=h.status.priority}return f<g?r==="asc"?-1:1:f>g?r==="asc"?1:-1:0}),u=({field:d})=>s!==d?l.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}):r==="asc"?l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}):l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})});return t.length===0?l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No students found"}),l.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]}):l.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>a("name"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Student"}),l.jsx(u,{field:"name"})]})}),n&&l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 hidden lg:table-cell",onClick:()=>a("department"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Dept"}),l.jsx(u,{field:"department"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>a("status"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Status"}),l.jsx(u,{field:"status"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>a("lastLogin"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Last Login"}),l.jsx(u,{field:"lastLogin"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 hidden md:table-cell",onClick:()=>a("course"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Course"}),l.jsx(u,{field:"course"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>a("progress"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Progress"}),l.jsx(u,{field:"progress"})]})}),l.jsx("th",{className:"sticky right-0 bg-gray-50 min-w-[80px] whitespace-nowrap",children:"Action"})]})}),l.jsx("tbody",{children:c.map((d,h)=>{var f,g;return l.jsxs("tr",{className:"animate-fadeIn",style:{animationDelay:`${h*20}ms`},children:[l.jsx("td",{children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:d.fullName}),l.jsx("p",{className:"text-sm text-gray-500",children:d.email})]})}),n&&l.jsx("td",{className:"hidden lg:table-cell",children:l.jsx("p",{className:"text-gray-700 text-sm truncate max-w-[220px]",title:d.departmentName||"",children:d.departmentName||"-"})}),l.jsx("td",{children:l.jsx(qo,{status:d.status})}),l.jsx("td",{children:l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-900",children:d.lastLogin.relative}),l.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:d.lastLogin.formatted})]})}),l.jsx("td",{className:"hidden md:table-cell",children:l.jsx("p",{className:"text-gray-900 truncate max-w-sm",title:d.courseName,children:d.courseName})}),l.jsx("td",{children:l.jsxs("div",{className:"w-36",children:[l.jsx(Gi,{progress:d.progress}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Course: ",((f=d.timeSpent)==null?void 0:f.formatted)||"0m"]}),((g=d.examPrepTime)==null?void 0:g.minutes)>0&&l.jsxs("p",{className:"text-xs text-purple-500",children:["Prep: ",d.examPrepTime.formatted]})]})}),l.jsx("td",{className:"sticky right-0 bg-white",children:l.jsx("button",{onClick:()=>e(d),className:"btn btn-secondary text-sm py-1 px-3 whitespace-nowrap",children:"View"})})]},d.id||`${d.email}-${h}`)})})]})})})}function ly({students:t,onViewStudent:e,adminMode:n}){const[s,i]=E.useState("examDate"),[r,o]=E.useState("asc"),a=N=>{s===N?o(r==="asc"?"desc":"asc"):(i(N),o("asc"))},c=N=>{if(!N)return 0;const L=N.trim(),P=L.split("/");if(P.length===3){let Q=parseInt(P[2],10);Q<100&&(Q+=2e3);const $=new Date(Q,parseInt(P[0],10)-1,parseInt(P[1],10));if(!isNaN($.getTime()))return $.getTime()}const C=L.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(C){const Q=new Date(parseInt(C[1],10),parseInt(C[2],10)-1,parseInt(C[3],10));if(!isNaN(Q.getTime()))return Q.getTime()}const I=new Date(L);return isNaN(I.getTime())?0:new Date(I.getFullYear(),I.getMonth(),I.getDate()).getTime()},u=N=>{const L=c(N.examDateRaw||N.examDate);if(!L)return"upcoming";const P=new Date(L),C=new Date,I=P.getFullYear(),Q=P.getMonth(),$=P.getDate(),X=C.getFullYear(),Y=C.getMonth(),A=C.getDate();return I===X&&Q===Y&&$===A?"today":new Date(I,Q,$)>new Date(X,Y,A)?"upcoming":"past"},d=N=>[...N].sort((L,P)=>{var Q,$,X,Y;let C,I;switch(s){case"name":C=(L.fullName||"").toLowerCase(),I=(P.fullName||"").toLowerCase();break;case"status":C=((Q=L.status)==null?void 0:Q.priority)??99,I=(($=P.status)==null?void 0:$.priority)??99;break;case"examDate":C=c(L.examDateRaw||L.examDate),I=c(P.examDateRaw||P.examDate);break;case"department":C=(L.departmentName||"").toLowerCase(),I=(P.departmentName||"").toLowerCase();break;case"progress":C=((X=L.progress)==null?void 0:X.value)??0,I=((Y=P.progress)==null?void 0:Y.value)??0;break;case"result":C=(L.passFail||"").toUpperCase()==="PASS"?1:(L.passFail||"").toUpperCase()==="FAIL"?3:2,I=(P.passFail||"").toUpperCase()==="PASS"?1:(P.passFail||"").toUpperCase()==="FAIL"?3:2;break;case"state":C=(L.examState||"").toLowerCase(),I=(P.examState||"").toLowerCase();break;case"course":C=(L.courseName||"").toLowerCase(),I=(P.courseName||"").toLowerCase();break;default:C=c(L.examDateRaw||L.examDate),I=c(P.examDateRaw||P.examDate)}return C<I?r==="asc"?-1:1:C>I?r==="asc"?1:-1:0}),h=t.filter(N=>u(N)==="today"),f=t.filter(N=>u(N)==="upcoming"),g=t.filter(N=>u(N)==="past"),v=d(h),y=d(f),w=s==="examDate"?[...g].sort((N,L)=>{const P=c(N.examDateRaw||N.examDate),C=c(L.examDateRaw||L.examDate);return r==="asc"?C-P:P-C}):d(g),p=[];v.length>0&&p.push({label:"Today's Exams",color:"blue",icon:"calendar-today",students:v}),y.length>0&&p.push({label:"Upcoming Exams",color:"green",icon:"calendar-upcoming",students:y}),w.length>0&&p.push({label:"Past Exams",color:"gray",icon:"calendar-past",students:w});const m=9,x=({field:N})=>s!==N?l.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}):r==="asc"?l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}):l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),k=N=>{const L=c(N);if(!L)return!1;const P=new Date(L),C=new Date;return C.setHours(0,0,0,0),P<C},j=N=>{const L=(N.passFail||"").toUpperCase();return L==="PASS"?"green":L==="FAIL"?"red":"gray"};if(t.length===0)return l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No exam students found"}),l.jsx("p",{className:"text-gray-500",children:"No students with scheduled exams"})]});const S=(N,L,P)=>{var A,F,W,Z;const C=k(N.examDateRaw||N.examDate),I=((A=N.passFail)==null?void 0:A.toUpperCase())==="PASS",Q=((F=N.passFail)==null?void 0:F.toUpperCase())==="FAIL",$=j(N),X=$==="green"?"bg-green-500":$==="yellow"?"bg-yellow-400":$==="gray"?"bg-gray-400":"bg-red-500",Y=u(N)==="today";return l.jsxs("tr",{className:`animate-fadeIn ${Y?"bg-blue-50/40":""}`,style:{animationDelay:`${(P+L)*20}ms`},children:[l.jsx("td",{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-2.5 h-2.5 rounded-full flex-shrink-0 ${X}`,title:`Readiness: ${$}`}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:N.fullName}),l.jsx("p",{className:"text-sm text-gray-500",children:N.email})]})]})}),n&&l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",title:N.departmentName,children:N.departmentName||"Unknown"})}),l.jsx("td",{children:N.matched!==!1?l.jsx(qo,{status:N.status}):l.jsx("span",{className:"badge bg-gray-100 text-gray-600",children:"N/A"})}),l.jsx("td",{children:l.jsxs("div",{children:[l.jsxs("p",{className:`font-medium ${C?"text-gray-400":Y?"text-blue-700 font-semibold":"text-gray-900"}`,children:[N.examDate||"TBD",Y&&l.jsx("span",{className:"ml-1.5 text-xs font-medium text-blue-500",children:"TODAY"})]}),N.examTime&&l.jsx("p",{className:"text-xs text-gray-500",children:N.examTime})]})}),l.jsx("td",{children:l.jsxs("div",{className:"min-w-[180px]",children:[l.jsx(Gi,{progress:N.progress}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Course: ",((W=N.timeSpent)==null?void 0:W.formatted)||"0m"]}),((Z=N.examPrepTime)==null?void 0:Z.minutes)>0&&l.jsxs("p",{className:"text-xs text-purple-500",children:["Prep: ",N.examPrepTime.formatted]})]})}),l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",title:N.courseName,children:N.courseName})}),l.jsx("td",{children:I?l.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-sm font-bold bg-green-100 text-green-800 border border-green-300",children:"PASS"}):Q?l.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-sm font-bold bg-red-100 text-red-800 border border-red-300",children:"FAIL"}):l.jsx("span",{className:"text-gray-400 text-sm",children:""})}),!n&&l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",title:N.departmentName,children:N.departmentName||"Unknown"})}),l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",children:N.examState||""})}),l.jsx("td",{className:"sticky right-0 bg-white",children:l.jsx("button",{onClick:()=>e(N),className:"btn btn-secondary text-sm py-1 px-3 whitespace-nowrap",children:"View"})})]},`${N.email}-${N.examDateRaw||L}`)},M={blue:{bg:"bg-blue-600",text:"text-white",border:"border-blue-700"},green:{bg:"bg-emerald-50",text:"text-emerald-700",border:"border-emerald-200"},gray:{bg:"bg-gray-100",text:"text-gray-500",border:"border-gray-200"}};let _=0;return l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[l.jsxs("div",{className:"bg-blue-50 border-b border-blue-100 px-4 py-2 text-xs text-blue-700 flex items-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("span",{children:["Scroll horizontally to see all columns ","",' Click "View" to edit exam dates']})]}),l.jsx("div",{className:"table-scroll-wrapper",children:l.jsxs("table",{className:"data-table min-w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[200px]",onClick:()=>a("name"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Student"}),l.jsx(x,{field:"name"})]})}),n&&l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[130px]",onClick:()=>a("department"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Department"}),l.jsx(x,{field:"department"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[100px]",onClick:()=>a("status"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Status"}),l.jsx(x,{field:"status"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[120px]",onClick:()=>a("examDate"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Exam Date"}),l.jsx(x,{field:"examDate"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[200px]",onClick:()=>a("progress"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Progress"}),l.jsx(x,{field:"progress"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[180px]",onClick:()=>a("course"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Course"}),l.jsx(x,{field:"course"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[80px]",onClick:()=>a("result"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Result"}),l.jsx(x,{field:"result"})]})}),!n&&l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[130px]",onClick:()=>a("department"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Department"}),l.jsx(x,{field:"department"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[70px]",onClick:()=>a("state"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"State"}),l.jsx(x,{field:"state"})]})}),l.jsx("th",{className:"sticky right-0 bg-gray-50 min-w-[80px] whitespace-nowrap",children:"Action"})]})}),l.jsx("tbody",{children:p.map((N,L)=>{const P=M[N.color],C=_;return _+=N.students.length,l.jsxs(vf.Fragment,{children:[l.jsx("tr",{children:l.jsx("td",{colSpan:m,className:`${P.bg} ${P.text} ${P.border} border-y px-4 py-2`,children:l.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[N.color==="blue"&&l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),N.color==="green"&&l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),N.color==="gray"&&l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{children:N.label}),l.jsxs("span",{className:`text-xs font-normal ${N.color==="blue"?"text-blue-200":"opacity-60"}`,children:["(",N.students.length," student",N.students.length!==1?"s":"",")"]})]})})}),N.students.map((I,Q)=>S(I,Q,C))]},N.label)})})]})})]})}const Qd="/api";function Ha(t){if(!t||t<=0)return"0m";const e=Math.round(t*60),n=Math.floor(e/60),s=e%60;return n===0?`${s}m`:s===0?`${n}h`:`${n}h ${s}m`}function cy(t){const e=t.toLowerCase();return e.includes("pre-licens")||e.includes("prelicens")||e.includes("pre licens")}function uy(t){const e=t.toLowerCase();return e.includes("module")||e.includes("chapter")||e.includes("lesson")||e.includes("unit")}function dy(t){const e=t.toLowerCase();return e.includes("practice")||e.includes("prep")||e.includes("study")}function hy(t){const e=[],n=[],s=[];for(const i of t){const r=i.courseName||"";cy(r)||uy(r)?e.push(i):dy(r)?n.push(i):s.push(i)}return{preLicensing:e,examPrep:n,other:s}}function Gd({enrollment:t,isModule:e=!1}){var n,s;return l.jsxs("div",{className:`border border-gray-200 rounded-lg p-4 ${e?"ml-4 bg-gray-50":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("p",{className:`font-medium text-gray-900 ${e?"text-sm":""}`,children:[e&&l.jsx("span",{className:"text-gray-400 mr-2",children:"|--"}),t.courseName]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t.status===2?"bg-green-100 text-green-800":t.status===1?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:t.statusText})]}),l.jsx(Gi,{progress:t.progress}),l.jsxs("div",{className:"flex items-center justify-between mt-2 text-sm text-gray-500",children:[l.jsxs("span",{children:["Time: ",((n=t.timeSpent)==null?void 0:n.formatted)||"0m"]}),l.jsxs("span",{children:["Last accessed: ",((s=t.lastAccessed)==null?void 0:s.relative)||"Never"]})]})]})}function $a({title:t,icon:e,color:n,enrollments:s,defaultExpanded:i=!0}){var d;const[r,o]=E.useState(i);if(!s.length)return null;const a=s.find(h=>{const f=(h.courseName||"").toLowerCase();return!f.includes("module")&&!f.includes("chapter")&&!f.includes("lesson")})||s[0],c=Math.round(((d=a.progress)==null?void 0:d.value)??a.progress??0),u=s.filter(h=>h.id!==a.id);return l.jsxs("div",{className:`border-2 rounded-xl overflow-hidden ${n}`,children:[l.jsxs("div",{className:"px-4 py-3 cursor-pointer flex items-center justify-between",onClick:()=>o(!r),children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:e}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-900",children:t}),l.jsxs("p",{className:"text-sm text-gray-600",children:[s.length," course",s.length>1?"s":""]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[c,"%"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Overall Progress"})]}),l.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]}),r&&l.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[l.jsx(Gd,{enrollment:a}),u.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide ml-4",children:["Modules (",u.length,")"]}),u.map(h=>l.jsx(Gd,{enrollment:h,isModule:!0},h.id))]})]})]})}function fy({enrollments:t}){const{preLicensing:e,examPrep:n,other:s}=E.useMemo(()=>hy(t),[t]);return l.jsxs("div",{className:"space-y-4",children:[l.jsx($a,{title:"Pre-Licensing Course",icon:"",color:"border-blue-200 bg-blue-50/50",enrollments:e,defaultExpanded:!0}),l.jsx($a,{title:"Exam Prep",icon:"",color:"border-purple-200 bg-purple-50/50",enrollments:n,defaultExpanded:!0}),s.length>0&&l.jsx($a,{title:"Other Courses",icon:"",color:"border-gray-200 bg-gray-50/50",enrollments:s,defaultExpanded:!1})]})}function Nr(t){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t)}function py({studentId:t,examInfo:e,onClose:n,onSessionExpired:s,onUpdateResult:i,onUpdateExamDate:r,onUpdateStudentContact:o}){var F,W,Z,ne,Ee,ye;const[a,c]=E.useState(null),[u,d]=E.useState(!0),[h,f]=E.useState(null),[g,v]=E.useState(!1),[y,w]=E.useState(""),[p,m]=E.useState(""),[x,k]=E.useState(!1),[j,S]=E.useState({firstName:"",lastName:"",emailAddress:"",phone:""}),[M,_]=E.useState(""),[N,L]=E.useState(!1),[P,C]=E.useState([]),[I,Q]=E.useState(!1),[$,X]=E.useState(!1);E.useEffect(()=>{Y()},[t]);const Y=async()=>{var O;d(!0),f(null);try{const H=new URLSearchParams;e!=null&&e.examCourse&&H.set("courseType",e.examCourse);const se=H.toString()?`?${H.toString()}`:"",be=await fetch(`${Qd}/students/${t}${se}`,{credentials:"include"});if(!be.ok){if(be.status===401){s();return}throw new Error("Failed to fetch student details")}const ge=await be.json();if(ge.success)c(ge.student),(O=ge.student)!=null&&O.email&&fetch(`${Qd}/exam/snapshots/${encodeURIComponent(ge.student.email)}`,{credentials:"include"}).then(Pe=>Pe.ok?Pe.json():null).then(Pe=>{Pe!=null&&Pe.success&&C(Pe.snapshots||[])}).catch(()=>{});else throw new Error(ge.error||"Failed to load student")}catch(H){f(H.message)}finally{d(!1)}},A=async()=>{if(_(""),!j.firstName.trim()||!j.lastName.trim()){_("First and last name are required");return}if(!Nr(j.emailAddress)){_("Please enter a valid email address");return}L(!0);try{const O=await o(t,{firstName:j.firstName.trim(),lastName:j.lastName.trim(),emailAddress:j.emailAddress.trim(),phone:j.phone.trim()});O.success?(c(H=>({...H,firstName:O.student.firstName,lastName:O.student.lastName,fullName:`${O.student.firstName} ${O.student.lastName}`.trim(),email:O.student.emailAddress,phone:O.student.phone})),k(!1)):_(O.error||"Update failed")}catch{_("Failed to save changes")}finally{L(!1)}};return E.useEffect(()=>{const O=H=>{H.key==="Escape"&&n()};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[n]),E.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),l.jsx("div",{className:"modal-overlay",onClick:n,children:l.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),children:[l.jsx("div",{className:"header px-6 py-4 rounded-t-xl",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Student Details"}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:l.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"p-6",children:u?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"spinner mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Loading student details..."})]}):h?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("svg",{className:"w-12 h-12 mx-auto text-red-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("p",{className:"text-red-600",children:h}),l.jsx("button",{onClick:Y,className:"mt-4 btn btn-secondary",children:"Try Again"})]}):a?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[x?l.jsxs("div",{className:"flex-1 mr-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"First Name"}),l.jsx("input",{type:"text",value:j.firstName,onChange:O=>S(H=>({...H,firstName:O.target.value})),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Last Name"}),l.jsx("input",{type:"text",value:j.lastName,onChange:O=>S(H=>({...H,lastName:O.target.value})),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Email"}),l.jsx("input",{type:"email",value:j.emailAddress,onChange:O=>S(H=>({...H,emailAddress:O.target.value})),className:`w-full px-3 py-1.5 border rounded-lg text-sm focus:outline-none focus:ring-2 ${j.emailAddress&&!Nr(j.emailAddress)?"border-red-300 focus:ring-red-400":"border-gray-300 focus:ring-blue-500"}`}),j.emailAddress&&!Nr(j.emailAddress)&&l.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Invalid email format"})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Phone"}),l.jsx("input",{type:"tel",value:j.phone,onChange:O=>S(H=>({...H,phone:O.target.value})),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional"})]}),M&&l.jsx("p",{className:"text-xs text-red-500 mb-2",children:M}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:A,disabled:N||j.emailAddress&&!Nr(j.emailAddress),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg text-xs font-medium hover:bg-green-700 transition-colors disabled:opacity-50",children:N?"Saving...":"Save"}),l.jsx("button",{onClick:()=>{k(!1),_("")},className:"px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg text-xs hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:a.fullName}),l.jsx("p",{className:"text-gray-500",children:a.email}),a.phone&&l.jsx("p",{className:"text-gray-400 text-sm",children:a.phone})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[!x&&o&&l.jsxs("button",{onClick:()=>{k(!0),S({firstName:a.firstName||"",lastName:a.lastName||"",emailAddress:a.email||"",phone:a.phone||""}),_("")},className:"text-xs px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-1 shadow-sm",children:[l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),l.jsx(qo,{status:a.status})]})]}),e&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2 text-sm",children:[l.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Exam Scheduling",r&&!g&&l.jsxs("button",{onClick:()=>{v(!0),w(e.examDateRaw||""),m(e.examTime||"")},className:"ml-auto text-xs px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-1 shadow-sm",children:[l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Date"]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[g&&r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Exam Date"}),l.jsx("input",{type:"date",value:y,onChange:O=>w(O.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Time"}),l.jsx("input",{type:"text",value:p,onChange:O=>m(O.target.value),placeholder:"e.g., 2:00 PM",className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"col-span-2 flex gap-2",children:[l.jsx("button",{onClick:()=>{y&&e.email&&(r(e.email,y,p),v(!1))},className:"px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 transition-colors",children:"Save"}),l.jsx("button",{onClick:()=>v(!1),className:"px-2 py-1 bg-gray-200 text-gray-700 rounded text-xs hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Exam Date"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.examDate||"TBD"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Time"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.examTime||"N/A"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"State"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.examState||"N/A"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Result"}),i&&e.email?l.jsxs("div",{className:"flex gap-1.5 mt-0.5",children:[l.jsx("button",{onClick:()=>i(e.email,(e.passFail||"").toUpperCase()==="PASS"?"":"PASS"),className:`px-2 py-0.5 rounded text-xs font-medium transition-colors ${(e.passFail||"").toUpperCase()==="PASS"?"bg-green-600 text-white shadow-sm":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200"}`,children:"PASS"}),l.jsx("button",{onClick:()=>i(e.email,(e.passFail||"").toUpperCase()==="FAIL"?"":"FAIL"),className:`px-2 py-0.5 rounded text-xs font-medium transition-colors ${(e.passFail||"").toUpperCase()==="FAIL"?"bg-red-600 text-white shadow-sm":"bg-red-50 text-red-700 hover:bg-red-100 border border-red-200"}`,children:"FAIL"})]}):l.jsxs("p",{className:"font-semibold text-sm",children:[(e.passFail||"").toUpperCase()==="PASS"&&l.jsx("span",{className:"text-green-700 bg-green-100 px-2 py-0.5 rounded text-xs",children:"PASS"}),(e.passFail||"").toUpperCase()==="FAIL"&&l.jsx("span",{className:"text-red-700 bg-red-100 px-2 py-0.5 rounded text-xs",children:"FAIL"}),!(e.passFail||"").trim()&&l.jsx("span",{className:"text-gray-500",children:"Pending"})]})]})]}),(e.departmentName||e.agencyOwner)&&l.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[e.departmentName&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Department"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.departmentName})]}),e.agencyOwner&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Agency Owner"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.agencyOwner})]})]}),e.sheetTracking&&(e.sheetTracking.studyHoursAtExam||e.sheetTracking.finalPractice)&&l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-3 pt-3 border-t border-blue-200",children:[e.sheetTracking.studyHoursAtExam&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-purple-700",children:e.sheetTracking.studyHoursAtExam}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Hours"})]}),e.sheetTracking.finalPractice&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-blue-700",children:e.sheetTracking.finalPractice}),l.jsx("p",{className:"text-xs text-gray-500",children:"Practice %"})]}),e.sheetTracking.chaptersComplete&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-green-700",children:e.sheetTracking.chaptersComplete}),l.jsx("p",{className:"text-xs text-gray-500",children:"Chapters"})]}),e.sheetTracking.studyConsistency&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-gray-700",children:e.sheetTracking.studyConsistency}),l.jsx("p",{className:"text-xs text-gray-500",children:"Consistency"})]})]})]}),a.readiness&&l.jsxs("div",{className:`border-2 rounded-xl p-4 ${a.readiness.status==="GREEN"?"border-green-300 bg-green-50":a.readiness.status==="YELLOW"?"border-yellow-300 bg-yellow-50":"border-red-300 bg-red-50"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2 text-sm",children:[l.jsx("span",{className:`w-3 h-3 rounded-full ${a.readiness.status==="GREEN"?"bg-green-500":a.readiness.status==="YELLOW"?"bg-yellow-400":"bg-red-500"}`}),"Exam Readiness"]}),l.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${a.readiness.status==="GREEN"?"bg-green-200 text-green-800":a.readiness.status==="YELLOW"?"bg-yellow-200 text-yellow-800":"bg-red-200 text-red-800"}`,children:[a.readiness.status," (",a.readiness.criteriaMet,"/",a.readiness.criteriaTotal,")"]})]}),l.jsxs("div",{className:"space-y-2",children:[a.readiness.criteria.practiceExams&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.practiceExams.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.practiceExams.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Practice Exams"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[a.readiness.criteria.practiceExams.consecutivePassing,"/3 consecutive passing","  ",a.readiness.criteria.practiceExams.totalExams," exam",a.readiness.criteria.practiceExams.totalExams!==1?"s":""," found","  ",Ha(a.readiness.criteria.practiceExams.hoursSpent)," total time"]})]})]}),((F=a.readiness.criteria.practiceExams.details)==null?void 0:F.length)>0&&l.jsx("div",{className:"mt-2 ml-7 space-y-1",children:a.readiness.criteria.practiceExams.details.map((O,H)=>l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx("span",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${O.score>=80?"bg-green-500":"bg-red-400"}`}),l.jsxs("span",{className:`font-medium ${O.score>=80?"text-green-700":"text-red-600"}`,children:[Math.round(O.score*10)/10,"%"]}),l.jsxs("span",{className:"text-gray-400",children:[O.minutes,"m"]}),l.jsx("span",{className:"text-gray-400 truncate",title:O.name,children:O.name})]},H))})]}),a.readiness.criteria.timeInCourse&&l.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg p-2.5",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.timeInCourse.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.timeInCourse.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Time in Course"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[Ha(a.readiness.criteria.timeInCourse.hoursLogged)," / ",a.readiness.criteria.timeInCourse.hoursRequired,"h required (",a.readiness.criteria.timeInCourse.courseType,")"]})]})]}),a.readiness.criteria.stateLaws&&l.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg p-2.5",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.stateLaws.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.stateLaws.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"State Laws"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[a.readiness.criteria.stateLaws.completions," completion",a.readiness.criteria.stateLaws.completions!==1?"s":"",", ",Ha(a.readiness.criteria.stateLaws.hoursSpent)," spent (need 1 completion + 1h 30m)"]})]})]}),a.readiness.criteria.videos&&l.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg p-2.5",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.videos.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.videos.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Videos"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[((W=a.readiness.criteria.videos.details)==null?void 0:W.life)&&l.jsxs("span",{children:["Life: ",a.readiness.criteria.videos.details.life.minutes,"m/30m",a.readiness.criteria.videos.details.life.met?" ":""," "]}),((Z=a.readiness.criteria.videos.details)==null?void 0:Z.health)&&l.jsxs("span",{children:["Health: ",a.readiness.criteria.videos.details.health.minutes,"m/30m",a.readiness.criteria.videos.details.health.met?" ":""]}),!((ne=a.readiness.criteria.videos.details)!=null&&ne.life)&&!((Ee=a.readiness.criteria.videos.details)!=null&&Ee.health)&&l.jsxs("span",{children:[a.readiness.criteria.videos.totalCourses," video course",a.readiness.criteria.videos.totalCourses!==1?"s":""]})]})]})]})]})]}),a.gapMetrics&&a.gapMetrics.study_gap_count>0&&l.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4",children:[l.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2 text-sm mb-3",children:[l.jsx("svg",{className:"w-4 h-4 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Study Consistency"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:`text-lg font-bold ${a.gapMetrics.study_gap_count>5?"text-red-600":a.gapMetrics.study_gap_count>2?"text-orange-600":"text-green-600"}`,children:a.gapMetrics.study_gap_count}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Gaps"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-gray-700",children:a.gapMetrics.total_gap_days}),l.jsx("p",{className:"text-xs text-gray-500",children:"Total Gap Days"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:`text-lg font-bold ${a.gapMetrics.largest_gap_days>7?"text-red-600":a.gapMetrics.largest_gap_days>3?"text-orange-600":"text-green-600"}`,children:a.gapMetrics.largest_gap_days}),l.jsx("p",{className:"text-xs text-gray-500",children:"Largest Gap (days)"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-sm font-bold text-gray-700",children:a.gapMetrics.last_gap_date||"N/A"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Last Gap Date"})]})]}),a.gapMetrics.timeline&&a.gapMetrics.timeline.length>0&&l.jsxs("div",{className:"mt-3",children:[l.jsx("button",{onClick:()=>X(!$),className:"text-xs text-orange-600 hover:text-orange-800 font-medium mb-2",children:$?"Hide Timeline":"Show Timeline"}),$&&l.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:a.gapMetrics.timeline.map((O,H)=>{const se=new Date(O.start+"T00:00:00"),be=new Date(O.end+"T00:00:00"),ge=qi=>qi.toLocaleDateString("en-US",{month:"short",day:"numeric"}),Pe=O.days===1?ge(se):`${ge(se)} - ${ge(be)}`,en=O.type==="gap",Ft=en&&O.days>=4;return l.jsxs("div",{className:`flex items-center gap-2 px-2.5 py-1.5 rounded-lg text-xs ${en?Ft?"bg-red-50 border border-red-200":"bg-orange-50 border border-orange-200":"bg-green-50 border border-green-200"}`,children:[l.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${en?Ft?"bg-red-400":"bg-orange-400":"bg-green-400"}`}),l.jsx("span",{className:"font-medium text-gray-700 min-w-[120px]",children:Pe}),l.jsxs("span",{className:"text-gray-500",children:["(",O.days,"d)"]}),l.jsx("span",{className:`font-medium ${en?Ft?"text-red-600":"text-orange-600":"text-green-600"}`,children:en?"Gap":"Studied"})]},H)})})]})]}),P.length>0&&l.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-xl p-4",children:[l.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2 text-sm mb-3 cursor-pointer",onClick:()=>Q(!I),children:[l.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Study History",l.jsxs("span",{className:"text-xs font-normal text-gray-500 ml-1",children:["(",P.length," snapshot",P.length!==1?"s":"",")"]}),l.jsx("svg",{className:`w-4 h-4 ml-auto text-gray-400 transition-transform ${I?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),(()=>{const O=P[0],H=P[P.length-1],se=O.total_time_min-H.total_time_min,be=O.prelicense_progress-H.prelicense_progress,ge=Pe=>Pe>=60?`${Math.floor(Pe/60)}h ${Math.round(Pe%60)}m`:`${Math.round(Pe)}m`;return l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-indigo-700",children:ge(O.total_time_min)}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Time"}),P.length>1&&se>0&&l.jsxs("p",{className:"text-xs text-green-600",children:["+",ge(se)]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsxs("p",{className:"text-lg font-bold text-indigo-700",children:[O.prelicense_progress,"%"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Pre-License"}),P.length>1&&be!==0&&l.jsxs("p",{className:`text-xs ${be>0?"text-green-600":"text-red-500"}`,children:[be>0?"+":"",be.toFixed(1),"%"]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-indigo-700",children:O.consecutive_passing}),l.jsx("p",{className:"text-xs text-gray-500",children:"Consec. Passing"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("span",{className:`inline-block w-3 h-3 rounded-full mr-1 ${O.readiness==="GREEN"?"bg-green-500":O.readiness==="YELLOW"?"bg-yellow-400":"bg-red-500"}`}),l.jsx("span",{className:"text-sm font-bold text-gray-700",children:O.criteria_met}),l.jsx("p",{className:"text-xs text-gray-500",children:"Readiness"})]})]})})(),P.length>1&&l.jsxs("div",{className:"bg-white rounded-lg p-3 mb-3",children:[l.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Study Time Progression"}),l.jsx("div",{className:"flex items-end gap-1",style:{height:"48px"},children:(()=>{const O=[...P].reverse(),H=Math.max(...O.map(se=>se.total_time_min),1);return O.map((se,be)=>{const ge=Math.max(se.total_time_min/H*100,4),Pe=se.readiness==="GREEN"?"bg-green-400":se.readiness==="YELLOW"?"bg-yellow-400":"bg-red-400";return l.jsx("div",{className:`flex-1 rounded-t ${Pe} transition-all`,style:{height:`${ge}%`,minWidth:"4px",maxWidth:"24px"},title:`${new Date(se.snapshot_time).toLocaleDateString()} - ${Math.round(se.total_time_min)}min (${se.readiness})`},se.id||be)})})()}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[l.jsx("span",{children:new Date(P[P.length-1].snapshot_time).toLocaleDateString()}),l.jsx("span",{children:new Date(P[0].snapshot_time).toLocaleDateString()})]})]}),I&&l.jsx("div",{className:"bg-white rounded-lg overflow-hidden",children:l.jsxs("table",{className:"w-full text-xs",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-indigo-100 text-gray-600",children:[l.jsx("th",{className:"px-2 py-1.5 text-left",children:"Date"}),l.jsx("th",{className:"px-2 py-1.5 text-right",children:"Time"}),l.jsx("th",{className:"px-2 py-1.5 text-right",children:"Progress"}),l.jsx("th",{className:"px-2 py-1.5 text-right",children:"Passing"}),l.jsx("th",{className:"px-2 py-1.5 text-center",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:P.map((O,H)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"px-2 py-1.5 text-gray-600",children:[new Date(O.snapshot_time).toLocaleDateString()," ",new Date(O.snapshot_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),l.jsx("td",{className:"px-2 py-1.5 text-right font-medium",children:O.total_time_min>=60?`${Math.floor(O.total_time_min/60)}h ${Math.round(O.total_time_min%60)}m`:`${Math.round(O.total_time_min)}m`}),l.jsxs("td",{className:"px-2 py-1.5 text-right",children:[O.prelicense_progress,"%"]}),l.jsxs("td",{className:"px-2 py-1.5 text-right",children:[O.consecutive_passing,"/3"]}),l.jsx("td",{className:"px-2 py-1.5 text-center",children:l.jsx("span",{className:`inline-block w-2.5 h-2.5 rounded-full ${O.readiness==="GREEN"?"bg-green-500":O.readiness==="YELLOW"?"bg-yellow-400":"bg-red-500"}`,title:`${O.readiness} (${O.criteria_met})`})})]},O.id||H))})]})})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Last Login"}),l.jsx("p",{className:"font-semibold text-gray-900",children:a.lastLogin.relative})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Course Time"}),l.jsx("p",{className:"font-semibold text-gray-900",children:a.timeSpent.formatted})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam Prep Time"}),l.jsx("p",{className:"font-semibold text-purple-700",children:((ye=a.examPrepTime)==null?void 0:ye.formatted)||"0m"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Total Study Time"}),l.jsx("p",{className:"font-semibold text-gray-900",children:(()=>{var be,ge;const O=((be=a.timeSpent)==null?void 0:be.minutes)||0,H=((ge=a.examPrepTime)==null?void 0:ge.minutes)||0,se=O+H;return se>=60?`${Math.floor(se/60)}h ${se%60}m`:`${se}m`})()})]})]}),l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"font-medium text-gray-900",children:a.courseName}),l.jsx("span",{className:"text-sm text-gray-500",children:a.enrollmentStatusText})]}),l.jsx(Gi,{progress:a.progress})]}),a.enrollments&&a.enrollments.length>0&&l.jsx(fy,{enrollments:a.enrollments})]}):null}),l.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:l.jsx("button",{onClick:n,className:"btn btn-secondary",children:"Close"})})]})})}function my({student:t,adminMode:e,onClose:n,onUpdateResult:s,onUpdateExamDate:i,onUpdateContact:r}){var L,P;const[o,a]=E.useState(!1),[c,u]=E.useState(""),[d,h]=E.useState(""),[f,g]=E.useState(!1),[v,y]=E.useState(""),[w,p]=E.useState(""),[m,x]=E.useState(""),[k,j]=E.useState(!1);E.useEffect(()=>{const C=I=>{I.key==="Escape"&&n()};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[n]),E.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const S=(t.passFail||"").toUpperCase()==="PASS",M=(t.passFail||"").toUpperCase()==="FAIL",_=t.sheetTracking||{},N=C=>{const I=(C||"").toUpperCase();return I==="GREEN"?"bg-green-100 text-green-700":I==="YELLOW"?"bg-yellow-100 text-yellow-700":I==="RED"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"};return l.jsx("div",{className:"modal-overlay",onClick:n,children:l.jsxs("div",{className:"modal-content",onClick:C=>C.stopPropagation(),children:[l.jsx("div",{className:`${e?"bg-gradient-to-r from-purple-700 to-purple-900":"header"} px-6 py-4 rounded-t-xl`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Student Details"}),e&&l.jsx("span",{className:"px-2 py-0.5 bg-white/20 rounded text-xs text-white font-medium",children:"Admin"})]}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:l.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"p-6 max-h-[80vh] overflow-y-auto",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("div",{children:f?l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"text",value:v,onChange:C=>y(C.target.value),placeholder:"Full Name",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("input",{type:"email",value:w,onChange:C=>p(C.target.value),placeholder:"Email",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("input",{type:"tel",value:m,onChange:C=>x(C.target.value),placeholder:"Phone",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{disabled:k,onClick:async()=>{j(!0),await r(t.email,v,w,m),j(!1),g(!1)},className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors disabled:opacity-50",children:k?"Saving...":"Save"}),l.jsx("button",{onClick:()=>g(!1),className:"px-3 py-1 bg-gray-200 text-gray-700 rounded text-sm hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:t.fullName}),l.jsx("p",{className:"text-gray-500",children:t.email}),(_.phone||t.phone)&&l.jsx("p",{className:"text-gray-500 text-sm",children:_.phone||t.phone})]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[e&&r&&!f&&l.jsx("button",{onClick:()=>{y(t.fullName||""),p(t.email||""),x(_.phone||t.phone||""),g(!0)},className:"text-xs px-2 py-1 text-purple-600 hover:bg-purple-50 rounded border border-purple-200 transition-colors",children:"Edit"}),t.matched!==!1?l.jsx(qo,{status:t.status}):!e&&l.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-600",children:"Not in department"})]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-5",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Exam Information",i&&!o&&l.jsxs("button",{onClick:()=>{a(!0),u(t.examDateRaw||""),h(t.examTime||"")},className:"ml-auto text-xs px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-1 shadow-sm",children:[l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Date"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o&&i?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Exam Date"}),l.jsx("input",{type:"date",value:c,onChange:C=>u(C.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Exam Time"}),l.jsx("input",{type:"text",value:d,onChange:C=>h(C.target.value),placeholder:"e.g., 2:00 PM",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"col-span-2 flex gap-2 justify-end",children:[l.jsx("button",{onClick:()=>{c&&(i(t.email,c,d),a(!1))},className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors",children:"Save"}),l.jsx("button",{onClick:()=>a(!1),className:"px-3 py-1 bg-gray-200 text-gray-700 rounded text-sm hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam Date"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examDate||"TBD"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam Time"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examTime||"N/A"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"State"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examState||"N/A"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Result"}),s?l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsx("button",{onClick:()=>s(t.email,S?"":"PASS"),className:`px-3 py-1 rounded text-xs font-medium transition-colors ${S?"bg-green-600 text-white shadow-sm":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200"}`,children:"PASS"}),l.jsx("button",{onClick:()=>s(t.email,M?"":"FAIL"),className:`px-3 py-1 rounded text-xs font-medium transition-colors ${M?"bg-red-600 text-white shadow-sm":"bg-red-50 text-red-700 hover:bg-red-100 border border-red-200"}`,children:"FAIL"})]}):l.jsxs("p",{className:"font-semibold",children:[S&&l.jsx("span",{className:"text-green-700 bg-green-100 px-2 py-0.5 rounded",children:"PASS"}),M&&l.jsx("span",{className:"text-red-700 bg-red-100 px-2 py-0.5 rounded",children:"FAIL"}),!S&&!M&&l.jsx("span",{className:"text-gray-600",children:"Pending"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Course"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examCourse||t.courseName||"N/A"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Agency Owner"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.agencyOwner||"N/A"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Department"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.departmentName||"N/A"})]}),t.finalOutcome&&l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Final Outcome"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.finalOutcome})]})]}),e&&(_.studyHoursAtExam||_.finalPractice||_.chaptersComplete)&&l.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-5",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Study Stats at Exam"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[_.studyHoursAtExam&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-purple-700",children:_.studyHoursAtExam}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Hours"})]}),_.finalPractice&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-700",children:_.finalPractice}),l.jsx("p",{className:"text-xs text-gray-500",children:"Final Practice %"})]}),_.chaptersComplete&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:_.chaptersComplete}),l.jsx("p",{className:"text-xs text-gray-500",children:"Chapters Complete"})]}),_.videosWatched&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-indigo-700",children:_.videosWatched}),l.jsx("p",{className:"text-xs text-gray-500",children:"Videos Watched"})]}),_.stateLawsDone&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-amber-700",children:_.stateLawsDone}),l.jsx("p",{className:"text-xs text-gray-500",children:"State Laws Done"})]}),_.studyConsistency&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-gray-700",children:_.studyConsistency}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Consistency"})]})]})]}),e&&_.weeklyTracking&&_.weeklyTracking.length>0&&l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-5",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Weekly Tracking",_.t0Sent&&l.jsxs("span",{className:"text-xs font-normal text-gray-500 ml-2",children:["T-0 Sent: ",_.t0Sent]})]}),l.jsx("div",{className:"space-y-3",children:_.weeklyTracking.map(C=>l.jsxs("div",{className:"bg-white rounded-lg p-3 flex items-center gap-4",children:[l.jsx("div",{className:"w-12 text-center",children:l.jsx("span",{className:"font-bold text-gray-700 text-sm",children:C.week})}),l.jsxs("div",{className:"flex-1 flex items-center gap-3 flex-wrap",children:[C.status&&l.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${N(C.status)}`,children:C.status}),C.hours&&l.jsxs("span",{className:"text-sm text-gray-700",children:[l.jsx("span",{className:"text-gray-500",children:"Hours:"})," ",C.hours]}),C.practice&&l.jsxs("span",{className:"text-sm text-gray-700",children:[l.jsx("span",{className:"text-gray-500",children:"Practice:"})," ",C.practice]})]}),C.notes&&l.jsx("p",{className:"text-xs text-gray-500 italic max-w-[200px] truncate",title:C.notes,children:C.notes})]},C.week))})]}),t.matched!==!1&&l.jsx(l.Fragment,{children:l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx("p",{className:"font-medium text-gray-900",children:t.courseName})}),l.jsx(Gi,{progress:t.progress}),l.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[l.jsxs("span",{children:["Course: ",((L=t.timeSpent)==null?void 0:L.formatted)||"0m"]}),((P=t.examPrepTime)==null?void 0:P.minutes)>0&&l.jsxs("span",{className:"text-purple-600",children:["Prep: ",t.examPrepTime.formatted]})]})]})}),t.matched===!1&&!e&&l.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[l.jsx("svg",{className:"w-5 h-5 text-amber-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-amber-800",children:"Student not in your department"}),l.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Course progress and study time data from Absorb is only available for students in your department. Log in as their department admin to see full details."})]})]})]})}),l.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:l.jsx("button",{onClick:n,className:"btn btn-secondary",children:"Close"})})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Zi(t){return t+.5|0}const hn=(t,e,n)=>Math.max(Math.min(t,n),e);function oi(t){return hn(Zi(t*2.55),0,255)}function jn(t){return hn(Zi(t*255),0,255)}function $t(t){return hn(Zi(t/2.55)/100,0,1)}function Zd(t){return hn(Zi(t*100),0,100)}const ut={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Gl=[..."0123456789ABCDEF"],gy=t=>Gl[t&15],xy=t=>Gl[(t&240)>>4]+Gl[t&15],Sr=t=>(t&240)>>4===(t&15),yy=t=>Sr(t.r)&&Sr(t.g)&&Sr(t.b)&&Sr(t.a);function vy(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ut[t[1]]*17,g:255&ut[t[2]]*17,b:255&ut[t[3]]*17,a:e===5?ut[t[4]]*17:255}:(e===7||e===9)&&(n={r:ut[t[1]]<<4|ut[t[2]],g:ut[t[3]]<<4|ut[t[4]],b:ut[t[5]]<<4|ut[t[6]],a:e===9?ut[t[7]]<<4|ut[t[8]]:255})),n}const wy=(t,e)=>t<255?e(t):"";function by(t){var e=yy(t)?gy:xy;return t?"#"+e(t.r)+e(t.g)+e(t.b)+wy(t.a,e):void 0}const ky=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function km(t,e,n){const s=e*Math.min(n,1-n),i=(r,o=(r+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function jy(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function _y(t,e,n){const s=km(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function Ny(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function Zc(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let c,u,d;return r!==o&&(d=r-o,u=a>.5?d/(2-r-o):d/(r+o),c=Ny(n,s,i,d,r),c=c*60+.5),[c|0,u||0,a]}function Jc(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(jn)}function qc(t,e,n){return Jc(km,t,e,n)}function Sy(t,e,n){return Jc(_y,t,e,n)}function Cy(t,e,n){return Jc(jy,t,e,n)}function jm(t){return(t%360+360)%360}function My(t){const e=ky.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?oi(+e[5]):jn(+e[5]));const i=jm(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=Sy(i,r,o):e[1]==="hsv"?s=Cy(i,r,o):s=qc(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function Ly(t,e){var n=Zc(t);n[0]=jm(n[0]+e),n=qc(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Ey(t){if(!t)return;const e=Zc(t),n=e[0],s=Zd(e[1]),i=Zd(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${$t(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const Jd={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qd={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Py(){const t={},e=Object.keys(qd),n=Object.keys(Jd);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,Jd[r]);r=parseInt(qd[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let Cr;function Dy(t){Cr||(Cr=Py(),Cr.transparent=[0,0,0,0]);const e=Cr[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Ty=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ay(t){const e=Ty.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?oi(o):hn(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?oi(s):hn(s,0,255)),i=255&(e[4]?oi(i):hn(i,0,255)),r=255&(e[6]?oi(r):hn(r,0,255)),{r:s,g:i,b:r,a:n}}}function Oy(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${$t(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Va=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ss=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Ry(t,e,n){const s=ss($t(t.r)),i=ss($t(t.g)),r=ss($t(t.b));return{r:jn(Va(s+n*(ss($t(e.r))-s))),g:jn(Va(i+n*(ss($t(e.g))-i))),b:jn(Va(r+n*(ss($t(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Mr(t,e,n){if(t){let s=Zc(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=qc(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function _m(t,e){return t&&Object.assign(e||{},t)}function eh(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=jn(t[3]))):(e=_m(t,{r:0,g:0,b:0,a:1}),e.a=jn(e.a)),e}function Fy(t){return t.charAt(0)==="r"?Ay(t):My(t)}class Bi{constructor(e){if(e instanceof Bi)return e;const n=typeof e;let s;n==="object"?s=eh(e):n==="string"&&(s=vy(e)||Dy(e)||Fy(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=_m(this._rgb);return e&&(e.a=$t(e.a)),e}set rgb(e){this._rgb=eh(e)}rgbString(){return this._valid?Oy(this._rgb):void 0}hexString(){return this._valid?by(this._rgb):void 0}hslString(){return this._valid?Ey(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,c=s.a-i.a,u=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;r=1-u,s.r=255&u*s.r+r*i.r+.5,s.g=255&u*s.g+r*i.g+.5,s.b=255&u*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=Ry(this._rgb,e._rgb,n)),this}clone(){return new Bi(this.rgb)}alpha(e){return this._rgb.a=jn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Zi(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Mr(this._rgb,2,e),this}darken(e){return Mr(this._rgb,2,-e),this}saturate(e){return Mr(this._rgb,1,e),this}desaturate(e){return Mr(this._rgb,1,-e),this}rotate(e){return Ly(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function zt(){}const zy=(()=>{let t=0;return()=>t++})();function ae(t){return t==null}function Ce(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function te(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function yt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Lt(t,e){return yt(t)?t:e}function q(t,e){return typeof t>"u"?e:t}const Iy=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Nm=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ue(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ie(t,e,n,s){let i,r,o;if(Ce(t))for(r=t.length,i=0;i<r;i++)e.call(n,t[i],i);else if(te(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(n,t[o[i]],o[i])}function No(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function So(t){if(Ce(t))return t.map(So);if(te(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=So(t[n[i]]);return e}return t}function Sm(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function By(t,e,n,s){if(!Sm(t))return;const i=e[t],r=n[t];te(i)&&te(r)?Wi(i,r,s):e[t]=So(r)}function Wi(t,e,n){const s=Ce(e)?e:[e],i=s.length;if(!te(t))return t;n=n||{};const r=n.merger||By;let o;for(let a=0;a<i;++a){if(o=s[a],!te(o))continue;const c=Object.keys(o);for(let u=0,d=c.length;u<d;++u)r(c[u],t,o,n)}return t}function vi(t,e){return Wi(t,e,{merger:Wy})}function Wy(t,e,n){if(!Sm(t))return;const s=e[t],i=n[t];te(s)&&te(i)?vi(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=So(i))}const th={"":t=>t,x:t=>t.x,y:t=>t.y};function Hy(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function $y(t){const e=Hy(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Jn(t,e){return(th[e]||(th[e]=$y(e)))(t)}function eu(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Hi=t=>typeof t<"u",Cn=t=>typeof t=="function",nh=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Vy(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const oe=Math.PI,_e=2*oe,Co=Number.POSITIVE_INFINITY,Uy=oe/180,Le=oe/2,An=oe/4,sh=oe*2/3,Cm=Math.log10,_n=Math.sign;function Gr(t,e,n){return Math.abs(t-e)<n}function ih(t){const e=Math.round(t);t=Gr(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Cm(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function Yy(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function Xy(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Mo(t){return!Xy(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Ky(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Qy(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Yt(t){return t*(oe/180)}function Gy(t){return t*(180/oe)}function rh(t){if(!yt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Mm(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*oe&&(r+=_e),{angle:r,distance:i}}function Zy(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Tt(t){return(t%_e+_e)%_e}function Lo(t,e,n,s){const i=Tt(t),r=Tt(e),o=Tt(n),a=Tt(r-i),c=Tt(o-i),u=Tt(i-r),d=Tt(i-o);return i===r||i===o||s&&r===o||a>c&&u<d}function et(t,e,n){return Math.max(e,Math.min(n,t))}function Jy(t){return et(t,-32768,32767)}function $n(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function tu(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const Zl=(t,e,n,s)=>tu(t,n,s?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),qy=(t,e,n)=>tu(t,n,s=>t[s][e]>=n);function ev(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const Lm=["push","pop","shift","splice","unshift"];function tv(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Lm.forEach(n=>{const s="_onData"+eu(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function oh(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(Lm.forEach(r=>{delete t[r]}),delete t._chartjs)}function Em(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Pm=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Dm(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,Pm.call(window,()=>{s=!1,t.apply(e,n)}))}}function nv(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const nu=t=>t==="start"?"left":t==="end"?"right":"center",He=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,sv=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e,Lr=t=>t===0||t===1,ah=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*_e/n)),lh=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*_e/n)+1,wi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Le)+1,easeOutSine:t=>Math.sin(t*Le),easeInOutSine:t=>-.5*(Math.cos(oe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Lr(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Lr(t)?t:ah(t,.075,.3),easeOutElastic:t=>Lr(t)?t:lh(t,.075,.3),easeInOutElastic(t){return Lr(t)?t:t<.5?.5*ah(t*2,.1125,.45):.5+.5*lh(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-wi.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?wi.easeInBounce(t*2)*.5:wi.easeOutBounce(t*2-1)*.5+.5};function Tm(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ch(t){return Tm(t)?t:new Bi(t)}function Ua(t){return Tm(t)?t:new Bi(t).saturate(.5).darken(.1).hexString()}const iv=["x","y","borderWidth","radius","tension"],rv=["color","borderColor","backgroundColor"];function ov(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:rv},numbers:{type:"number",properties:iv}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function av(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const uh=new Map;function lv(t,e){e=e||{};const n=t+JSON.stringify(e);let s=uh.get(n);return s||(s=new Intl.NumberFormat(t,e),uh.set(n,s)),s}function su(t,e,n){return lv(e,n).format(t)}const cv={values(t){return Ce(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),r=uv(t,n)}const o=Cm(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),su(t,s,c)}};function uv(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Am={formatters:cv};function dv(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Am.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const qn=Object.create(null),Jl=Object.create(null);function bi(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function Ya(t,e,n){return typeof e=="string"?Wi(bi(t,e),n):Wi(bi(t,""),e)}class hv{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>Ua(i.backgroundColor),this.hoverBorderColor=(s,i)=>Ua(i.borderColor),this.hoverColor=(s,i)=>Ua(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Ya(this,e,n)}get(e){return bi(this,e)}describe(e,n){return Ya(Jl,e,n)}override(e,n){return Ya(qn,e,n)}route(e,n,s,i){const r=bi(this,e),o=bi(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[a],u=o[i];return te(c)?Object.assign({},u,c):q(c,u)},set(c){this[a]=c}}})}apply(e){e.forEach(n=>n(this))}}var we=new hv({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ov,av,dv]);function fv(t){return!t||ae(t.size)||ae(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function dh(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function On(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function hh(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function fh(t,e,n,s){Om(t,e,n,s,null)}function Om(t,e,n,s,i){let r,o,a,c,u,d,h,f;const g=e.pointStyle,v=e.rotation,y=e.radius;let w=(v||0)*Uy;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(w),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),g){default:i?t.ellipse(n,s,i/2,y,0,0,_e):t.arc(n,s,y,0,_e),t.closePath();break;case"triangle":d=i?i/2:y,t.moveTo(n+Math.sin(w)*d,s-Math.cos(w)*y),w+=sh,t.lineTo(n+Math.sin(w)*d,s-Math.cos(w)*y),w+=sh,t.lineTo(n+Math.sin(w)*d,s-Math.cos(w)*y),t.closePath();break;case"rectRounded":u=y*.516,c=y-u,o=Math.cos(w+An)*c,h=Math.cos(w+An)*(i?i/2-u:c),a=Math.sin(w+An)*c,f=Math.sin(w+An)*(i?i/2-u:c),t.arc(n-h,s-a,u,w-oe,w-Le),t.arc(n+f,s-o,u,w-Le,w),t.arc(n+h,s+a,u,w,w+Le),t.arc(n-f,s+o,u,w+Le,w+oe),t.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*y,d=i?i/2:c,t.rect(n-d,s-c,2*d,2*c);break}w+=An;case"rectRot":h=Math.cos(w)*(i?i/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,f=Math.sin(w)*(i?i/2:y),t.moveTo(n-h,s-a),t.lineTo(n+f,s-o),t.lineTo(n+h,s+a),t.lineTo(n-f,s+o),t.closePath();break;case"crossRot":w+=An;case"cross":h=Math.cos(w)*(i?i/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,f=Math.sin(w)*(i?i/2:y),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"star":h=Math.cos(w)*(i?i/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,f=Math.sin(w)*(i?i/2:y),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o),w+=An,h=Math.cos(w)*(i?i/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,f=Math.sin(w)*(i?i/2:y),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"line":o=i?i/2:Math.cos(w)*y,a=Math.sin(w)*y,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(w)*(i?i/2:y),s+Math.sin(w)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Rm(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function iu(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ru(t){t.restore()}function pv(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ae(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function mv(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,c=n-r.actualBoundingBoxAscent,u=n+r.actualBoundingBoxDescent,d=i.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function gv(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function $i(t,e,n,s,i,r={}){const o=Ce(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let c,u;for(t.save(),t.font=i.string,pv(t,r),c=0;c<o.length;++c)u=o[c],r.backdrop&&gv(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),ae(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(u,n,s,r.maxWidth)),t.fillText(u,n,s,r.maxWidth),mv(t,n,s,u,r),s+=Number(i.lineHeight);t.restore()}function Eo(t,e){const{x:n,y:s,w:i,h:r,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*oe,oe,!0),t.lineTo(n,s+r-o.bottomLeft),t.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,oe,Le,!0),t.lineTo(n+i-o.bottomRight,s+r),t.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,Le,0,!0),t.lineTo(n+i,s+o.topRight),t.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-Le,!0),t.lineTo(n+o.topLeft,s)}const xv=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,yv=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function vv(t,e){const n=(""+t).match(xv);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const wv=t=>+t||0;function ou(t,e){const n={},s=te(e),i=s?Object.keys(e):e,r=te(t)?s?o=>q(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=wv(r(o));return n}function Fm(t){return ou(t,{top:"y",right:"x",bottom:"y",left:"x"})}function _s(t){return ou(t,["topLeft","topRight","bottomLeft","bottomRight"])}function vt(t){const e=Fm(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ve(t,e){t=t||{},e=e||we.font;let n=q(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=q(t.style,e.style);s&&!(""+s).match(yv)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:q(t.family,e.family),lineHeight:vv(q(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:q(t.weight,e.weight),string:""};return i.string=fv(i),i}function Er(t,e,n,s){let i,r,o;for(i=0,r=t.length;i<r;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function bv(t,e,n){const{min:s,max:i}=t,r=Nm(e,(i-s)/2),o=(a,c)=>n&&a===0?0:a+c;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function zs(t,e){return Object.assign(Object.create(t),e)}function au(t,e=[""],n,s,i=()=>t[0]){const r=n||t;typeof s>"u"&&(s=Wm("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>au([a,...t],e,r,s)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete t[0][c],!0},get(a,c){return Im(a,c,()=>Lv(c,e,t,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,c){return mh(a).includes(c)},ownKeys(a){return mh(a)},set(a,c,u){const d=a._storage||(a._storage=i());return a[c]=d[c]=u,delete a._keys,!0}})}function As(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:zm(t,s),setContext:r=>As(t,r,n,s),override:r=>As(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return Im(r,o,()=>jv(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function zm(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:Cn(n)?n:()=>n,isIndexable:Cn(s)?s:()=>s}}const kv=(t,e)=>t?t+eu(e):e,lu=(t,e)=>te(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Im(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function jv(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=t;let a=s[e];return Cn(a)&&o.isScriptable(e)&&(a=_v(e,a,t,n)),Ce(a)&&a.length&&(a=Nv(e,a,t,o.isIndexable)),lu(e,a)&&(a=As(a,i,r&&r[e],o)),a}function _v(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let c=e(r,o||s);return a.delete(t),lu(t,c)&&(c=cu(i._scopes,i,t,c)),c}function Nv(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(t))return e[r.index%e.length];if(te(e[0])){const c=e,u=i._scopes.filter(d=>d!==c);e=[];for(const d of c){const h=cu(u,i,t,d);e.push(As(h,r,o&&o[t],a))}}return e}function Bm(t,e,n){return Cn(t)?t(e,n):t}const Sv=(t,e)=>t===!0?e:typeof t=="string"?Jn(e,t):void 0;function Cv(t,e,n,s,i){for(const r of e){const o=Sv(n,r);if(o){t.add(o);const a=Bm(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function cu(t,e,n,s){const i=e._rootScopes,r=Bm(e._fallback,n,s),o=[...t,...i],a=new Set;a.add(s);let c=ph(a,o,n,r||n,s);return c===null||typeof r<"u"&&r!==n&&(c=ph(a,o,r,c,s),c===null)?!1:au(Array.from(a),[""],i,r,()=>Mv(e,n,s))}function ph(t,e,n,s,i){for(;n;)n=Cv(t,e,n,s,i);return n}function Mv(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return Ce(i)&&te(n)?n:i||{}}function Lv(t,e,n,s){let i;for(const r of e)if(i=Wm(kv(r,t),n),typeof i<"u")return lu(t,i)?cu(n,s,t,i):i}function Wm(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function mh(t){let e=t._keys;return e||(e=t._keys=Ev(t._scopes)),e}function Ev(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}function uu(){return typeof window<"u"&&typeof document<"u"}function du(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Po(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const ea=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Pv(t,e){return ea(t).getPropertyValue(e)}const Dv=["top","right","bottom","left"];function Yn(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=Dv[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const Tv=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Av(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let o=!1,a,c;if(Tv(i,r,t.target))a=i,c=r;else{const u=e.getBoundingClientRect();a=s.clientX-u.left,c=s.clientY-u.top,o=!0}return{x:a,y:c,box:o}}function In(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=ea(n),r=i.boxSizing==="border-box",o=Yn(i,"padding"),a=Yn(i,"border","width"),{x:c,y:u,box:d}=Av(t,n),h=o.left+(d&&a.left),f=o.top+(d&&a.top);let{width:g,height:v}=e;return r&&(g-=o.width+a.width,v-=o.height+a.height),{x:Math.round((c-h)/g*n.width/s),y:Math.round((u-f)/v*n.height/s)}}function Ov(t,e,n){let s,i;if(e===void 0||n===void 0){const r=t&&du(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=ea(r),c=Yn(a,"border","width"),u=Yn(a,"padding");e=o.width-u.width-c.width,n=o.height-u.height-c.height,s=Po(a.maxWidth,r,"clientWidth"),i=Po(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||Co,maxHeight:i||Co}}const fn=t=>Math.round(t*10)/10;function Rv(t,e,n,s){const i=ea(t),r=Yn(i,"margin"),o=Po(i.maxWidth,t,"clientWidth")||Co,a=Po(i.maxHeight,t,"clientHeight")||Co,c=Ov(t,e,n);let{width:u,height:d}=c;if(i.boxSizing==="content-box"){const f=Yn(i,"border","width"),g=Yn(i,"padding");u-=g.width+f.width,d-=g.height+f.height}return u=Math.max(0,u-r.width),d=Math.max(0,s?u/s:d-r.height),u=fn(Math.min(u,o,c.maxWidth)),d=fn(Math.min(d,a,c.maxHeight)),u&&!d&&(d=fn(u/2)),(e!==void 0||n!==void 0)&&s&&c.height&&d>c.height&&(d=c.height,u=fn(Math.floor(d*s))),{width:u,height:d}}function gh(t,e,n){const s=e||1,i=fn(t.height*s),r=fn(t.width*s);t.height=fn(t.height),t.width=fn(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=s,o.height=i,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const Fv=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};uu()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function xh(t,e){const n=Pv(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const zv=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},Iv=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ns(t,e,n){return t?zv(e,n):Iv()}function Hm(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function $m(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Pr(t,e,n){return t.options.clip?t[n]:e[n]}function Bv(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Pr(n,e,"left"),right:Pr(n,e,"right"),top:Pr(s,e,"top"),bottom:Pr(s,e,"bottom")}:e}function Wv(t,e){const n=e._clip;if(n.disabled)return!1;const s=Bv(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Hv{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Pm.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,c;for(;o>=0;--o)c=r[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var It=new Hv;const yh="transparent",$v={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=ch(t||yh),i=s.valid&&ch(e||yh);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Vv{constructor(e,n,s,i){const r=n[s];i=Er([e.to,i,r,e.from]);const o=Er([e.from,r,i]);this._active=!0,this._fn=e.fn||$v[e.type||typeof o],this._easing=wi[e.easing]||wi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Er([e.to,n,i,e.from]),this._from=Er([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let c;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}c=n/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(r,a,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class Vm{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!te(e))return;const n=Object.keys(we.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!te(r))return;const o={};for(const a of n)o[a]=r[a];(Ce(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,i=Yv(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&Uv(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let c;for(c=o.length-1;c>=0;--c){const u=o[c];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,n));continue}const d=n[u];let h=r[u];const f=s.get(u);if(h)if(f&&h.active()){h.update(f,d,a);continue}else h.cancel();if(!f||!f.duration){e[u]=d;continue}r[u]=h=new Vv(f,e,u,d),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return It.add(this._chart,s),!0}}function Uv(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function Yv(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function vh(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function Xv(t,e,n){if(n===!1)return!1;const s=vh(t,n),i=vh(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function Kv(t){let e,n,s,i;return te(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function Um(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function wh(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let o,a,c,u;if(e===null)return;let d=!1;for(o=0,a=i.length;o<a;++o){if(c=+i[o],c===n){if(d=!0,s.all)continue;break}u=t.values[c],yt(u)&&(r||e===0||_n(e)===_n(u))&&(e+=u)}return!d&&!s.all?0:e}function Qv(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let c,u,d;for(c=0,u=o.length;c<u;++c)d=o[c],a[c]={[i]:d,[r]:t[d]};return a}function Xa(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Gv(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Zv(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function Jv(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function bh(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function kh(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,c=r.axis,u=o.axis,d=Gv(r,o,s),h=e.length;let f;for(let g=0;g<h;++g){const v=e[g],{[c]:y,[u]:w}=v,p=v._stacks||(v._stacks={});f=p[u]=Jv(i,d,y),f[a]=w,f._top=bh(f,o,!0,s.type),f._bottom=bh(f,o,!1,s.type);const m=f._visualValues||(f._visualValues={});m[a]=w}}function Ka(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function qv(t,e){return zs(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function e1(t,e,n){return zs(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Zs(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const Qa=t=>t==="reset"||t==="none",jh=(t,e)=>e?t:Object.assign({},t),t1=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Um(n,!0),values:null};class Ss{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Xa(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Zs(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(h,f,g,v)=>h==="x"?f:h==="r"?v:g,r=n.xAxisID=q(s.xAxisID,Ka(e,"x")),o=n.yAxisID=q(s.yAxisID,Ka(e,"y")),a=n.rAxisID=q(s.rAxisID,Ka(e,"r")),c=n.indexAxis,u=n.iAxisID=i(c,r,o,a),d=n.vAxisID=i(c,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&oh(this._data,this),e._stacked&&Zs(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(te(n)){const i=this._cachedMeta;this._data=Qv(n,i)}else if(s!==n){if(s){oh(s,this);const i=this._cachedMeta;Zs(i),i._parsed=[]}n&&Object.isExtensible(n)&&tv(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=Xa(n.vScale,n),n.stack!==s.stack&&(i=!0,Zs(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&(kh(this,n._parsed),n._stacked=Xa(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let c=e===0&&n===i.length?!0:s._sorted,u=e>0&&s._parsed[e-1],d,h,f;if(this._parsing===!1)s._parsed=i,s._sorted=!0,f=i;else{Ce(i[e])?f=this.parseArrayData(s,i,e,n):te(i[e])?f=this.parseObjectData(s,i,e,n):f=this.parsePrimitiveData(s,i,e,n);const g=()=>h[a]===null||u&&h[a]<u[a];for(d=0;d<n;++d)s._parsed[d+e]=h=f[d],c&&(g()&&(c=!1),u=h);s._sorted=c}o&&kh(this,f)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:o}=e,a=r.axis,c=o.axis,u=r.getLabels(),d=r===o,h=new Array(i);let f,g,v;for(f=0,g=i;f<g;++f)v=f+s,h[f]={[a]:d||r.parse(u[v],v),[c]:o.parse(n[v],v)};return h}parseArrayData(e,n,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let c,u,d,h;for(c=0,u=i;c<u;++c)d=c+s,h=n[d],a[c]={x:r.parse(h[0],d),y:o.parse(h[1],d)};return a}parseObjectData(e,n,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,u=new Array(i);let d,h,f,g;for(d=0,h=i;d<h;++d)f=d+s,g=n[f],u[d]={x:r.parse(Jn(g,a),f),y:o.parse(Jn(g,c),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:Um(i,!0),values:n._stacks[e.axis]._visualValues};return wh(a,o,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=wh(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),c=t1(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=Zv(a);let f,g;function v(){g=i[f];const y=g[a.axis];return!yt(g[e.axis])||d>y||h<y}for(f=0;f<o&&!(!v()&&(this.updateRangeFromParsed(u,e,g,c),r));++f);if(r){for(f=o-1;f>=0;--f)if(!v()){this.updateRangeFromParsed(u,e,g,c);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][e.axis],yt(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Kv(q(this.options.clip,Xv(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,c=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(e,r,a,c),d=a;d<a+c;++d){const h=i[d];h.hidden||(h.active&&u?o.push(h):h.draw(e,r))}for(d=0;d<o.length;++d)o[d].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=e1(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=qv(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],c=this.enableOptionSharing&&Hi(s);if(a)return jh(a,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),d),g=Object.keys(we.elements[e]),v=()=>this.getContext(s,i,n),y=u.resolveNamedOptions(f,g,v,h);return y.$shared&&(y.$shared=c,r[o]=Object.freeze(jh(y,c))),y}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let c;if(i.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(e,s,n))}const u=new Vm(i,c&&c.animations);return c&&c._cacheable&&(r[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Qa(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(e,n,s,i){Qa(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!Qa(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,c,u]of this._syncList)this[a](c,u);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,o=e+n;let a;const c=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(c(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&Zs(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}V(Ss,"defaults",{}),V(Ss,"datasetElementType",null),V(Ss,"dataElementType",null);function n1(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=Em(s.sort((i,r)=>i-r))}return t._cache.$bar}function s1(t){const e=t.iScale,n=n1(e,t.type);let s=e._length,i,r,o,a;const c=()=>{o===32767||o===-32768||(Hi(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=e.getPixelForValue(n[i]),c();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),c();return s}function i1(t,e,n,s){const i=n.barThickness;let r,o;return ae(i)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[t]-r/2}}function r1(t,e,n,s){const i=e.pixels,r=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const c=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const u=r-(r-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/s,ratio:n.barPercentage,start:u}}function o1(t,e,n,s){const i=n.parse(t[0],s),r=n.parse(t[1],s),o=Math.min(i,r),a=Math.max(i,r);let c=o,u=a;Math.abs(o)>Math.abs(a)&&(c=a,u=o),e[n.axis]=u,e._custom={barStart:c,barEnd:u,start:i,end:r,min:o,max:a}}function Ym(t,e,n,s){return Ce(t)?o1(t,e,n,s):e[n.axis]=n.parse(t,s),e}function _h(t,e,n,s){const i=t.iScale,r=t.vScale,o=i.getLabels(),a=i===r,c=[];let u,d,h,f;for(u=n,d=n+s;u<d;++u)f=e[u],h={},h[i.axis]=a||i.parse(o[u],u),c.push(Ym(f,h,r,u));return c}function Ga(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function a1(t,e,n){return t!==0?_n(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function l1(t){let e,n,s,i,r;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:e,top:i,bottom:r}}function c1(t,e,n,s){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:c,top:u,bottom:d}=l1(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=u:(n._bottom||0)===s?i=d:(r[Nh(d,o,a,c)]=!0,i=u)),r[Nh(i,o,a,c)]=!0,t.borderSkipped=r}function Nh(t,e,n,s){return s?(t=u1(t,e,n),t=Sh(t,n,e)):t=Sh(t,e,n),t}function u1(t,e,n){return t===e?n:t===n?e:t}function Sh(t,e,n){return t==="start"?e:t==="end"?n:t}function d1(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Zr extends Ss{parsePrimitiveData(e,n,s,i){return _h(e,n,s,i)}parseArrayData(e,n,s,i){return _h(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,u=r.axis==="x"?a:c,d=o.axis==="x"?a:c,h=[];let f,g,v,y;for(f=s,g=s+i;f<g;++f)y=n[f],v={},v[r.axis]=r.parse(Jn(y,u),f),h.push(Ym(Jn(y,d),v,o,f));return h}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(e),o=r._custom,a=Ga(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,c=a.getBasePixel(),u=a.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,i);for(let g=n;g<n+s;g++){const v=this.getParsed(g),y=r||ae(v[a.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),w=this._calculateBarIndexPixels(g,d),p=(v._stacks||{})[a.axis],m={horizontal:u,base:y.base,enableBorderRadius:!p||Ga(v._custom)||o===p._top||o===p._bottom,x:u?y.head:w.center,y:u?w.center:y.head,height:u?w.size:Math.abs(y.size),width:u?Math.abs(y.size):w.size};f&&(m.options=h||this.resolveDataElementOptions(g,e[g].active?"active":i));const x=m.options||e[g].options;c1(m,x,p,o),d1(m,x,d.ratio),this.updateElement(e[g],g,m,i)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),c=a&&a[s.axis],u=d=>{const h=d._parsed.find(g=>g[s.axis]===c),f=h&&h[d.vScale.axis];if(ae(f)||isNaN(f))return!0};for(const d of i)if(!(n!==void 0&&u(d))&&((r===!1||o.indexOf(d.stack)===-1||r===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[q(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const i=this._getStacks(e,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=e.barThickness;return{min:a||s1(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,c=this.getParsed(e),u=c._custom,d=Ga(u);let h=c[n.axis],f=0,g=s?this.applyStack(n,c,s):h,v,y;g!==h&&(f=g-h,g=h),d&&(h=u.barStart,g=u.barEnd-u.barStart,h!==0&&_n(h)!==_n(u.barEnd)&&(f=0),f+=h);const w=!ae(r)&&!d?r:f;let p=n.getPixelForValue(w);if(this.chart.getDataVisibility(e)?v=n.getPixelForValue(f+g):v=p,y=v-p,Math.abs(y)<o){y=a1(y,n,a)*o,h===a&&(p-=y/2);const m=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),k=Math.min(m,x),j=Math.max(m,x);p=Math.max(Math.min(p,j),k),v=p+y,s&&!d&&(c._stacks[n.axis]._visualValues[i]=n.getValueForPixel(v)-n.getValueForPixel(p))}if(p===n.getPixelForValue(a)){const m=_n(y)*n.getLineWidthForValue(a)/2;p+=m,y-=m}return{size:y,base:p,head:v,center:v+y/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,r=i.skipNull,o=q(i.maxBarThickness,1/0);let a,c;const u=this._getAxisCount();if(n.grouped){const d=r?this._getStackCount(e):n.stackCount,h=i.barThickness==="flex"?r1(e,n,i,d*u):i1(e,n,i,d*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(q(f,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+g;a=h.start+h.chunk*v+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(o,n.min*n.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}V(Zr,"id","bar"),V(Zr,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),V(Zr,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function h1(t,e,n){let s=1,i=1,r=0,o=0;if(e<_e){const a=t,c=a+e,u=Math.cos(a),d=Math.sin(a),h=Math.cos(c),f=Math.sin(c),g=(x,k,j)=>Lo(x,a,c,!0)?1:Math.max(k,k*n,j,j*n),v=(x,k,j)=>Lo(x,a,c,!0)?-1:Math.min(k,k*n,j,j*n),y=g(0,u,h),w=g(Le,d,f),p=v(oe,u,h),m=v(oe+Le,d,f);s=(y-p)/2,i=(w-m)/2,r=-(y+p)/2,o=-(w+m)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class ai extends Ss{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=c=>+s[c];if(te(s[e])){const{key:c="value"}=this._parsing;r=u=>+Jn(s[u],c)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return Yt(this.options.rotation-90)}_getCircumference(){return Yt(this.options.circumference)}_getRotationExtents(){let e=_e,n=-_e;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),c=Math.min(Iy(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:v,offsetY:y}=h1(h,d,c),w=(s.width-o)/f,p=(s.height-o)/g,m=Math.max(Math.min(w,p)/2,0),x=Nm(this.options.radius,m),k=Math.max(x*c,0),j=(x-k)/this._getVisibleDatasetWeightTotal();this.offsetX=v*x,this.offsetY=y*x,i.total=this.calculateTotal(),this.outerRadius=x-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/_e)}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,d=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&u.animateScale,g=f?0:this.innerRadius,v=f?0:this.outerRadius,{sharedOptions:y,includeOptions:w}=this._getSharedOptions(n,i);let p=this._getRotation(),m;for(m=0;m<n;++m)p+=this._circumference(m,r);for(m=n;m<n+s;++m){const x=this._circumference(m,r),k=e[m],j={x:d+this.offsetX,y:h+this.offsetY,startAngle:p,endAngle:p+x,circumference:x,outerRadius:v,innerRadius:g};w&&(j.options=y||this.resolveDataElementOptions(m,k.active?"active":i)),p+=x,this.updateElement(k,m,j,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?_e*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=su(n._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,r,o,a,c;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)c=a.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(q(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}V(ai,"id","doughnut"),V(ai,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),V(ai,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),V(ai,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((c,u)=>{const h=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:h.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:s,borderRadius:o&&(a||h.borderRadius),index:u}}):[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});function Rn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class hu{constructor(e){V(this,"options");this.options=e||{}}static override(e){Object.assign(hu.prototype,e)}init(){}formats(){return Rn()}parse(){return Rn()}format(){return Rn()}add(){return Rn()}diff(){return Rn()}startOf(){return Rn()}endOf(){return Rn()}}var f1={_date:hu};function p1(t,e,n,s){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const u=a._reversePixels?qy:Zl;if(s){if(i._sharedOptions){const d=r[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const f=u(r,e,n-h),g=u(r,e,n+h);return{lo:f.lo,hi:g.hi}}}}else{const d=u(r,e,n);if(c){const{vScale:h}=i._cachedMeta,{_parsed:f}=t,g=f.slice(0,d.lo+1).reverse().findIndex(y=>!ae(y[h.axis]));d.lo-=Math.max(0,g);const v=f.slice(d.hi).findIndex(y=>!ae(y[h.axis]));d.hi+=Math.max(0,v)}return d}}return{lo:0,hi:r.length-1}}function ta(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,c=r.length;a<c;++a){const{index:u,data:d}=r[a],{lo:h,hi:f}=p1(r[a],e,o,i);for(let g=h;g<=f;++g){const v=d[g];v.skip||s(v,u,g)}}}function m1(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Za(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||ta(t,n,e,function(a,c,u){!i&&!Rm(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:c,index:u})},!0),r}function g1(t,e,n,s){let i=[];function r(o,a,c){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],s),{angle:h}=Mm(o,{x:e.x,y:e.y});Lo(h,u,d)&&i.push({element:o,datasetIndex:a,index:c})}return ta(t,n,e,r),i}function x1(t,e,n,s,i,r){let o=[];const a=m1(n);let c=Number.POSITIVE_INFINITY;function u(d,h,f){const g=d.inRange(e.x,e.y,i);if(s&&!g)return;const v=d.getCenterPoint(i);if(!(!!r||t.isPointInArea(v))&&!g)return;const w=a(e,v);w<c?(o=[{element:d,datasetIndex:h,index:f}],c=w):w===c&&o.push({element:d,datasetIndex:h,index:f})}return ta(t,n,e,u),o}function Ja(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?g1(t,e,n,i):x1(t,e,n,s,i,r)}function Ch(t,e,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return ta(t,n,e,(c,u,d)=>{c[o]&&c[o](e[n],i)&&(r.push({element:c,datasetIndex:u,index:d}),a=a||c.inRange(e.x,e.y,i))}),s&&!a?[]:r}var y1={modes:{index(t,e,n,s){const i=In(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Za(t,i,r,s,o):Ja(t,i,r,!1,s,o),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,h=u.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,n,s){const i=In(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Za(t,i,r,s,o):Ja(t,i,r,!1,s,o);if(a.length>0){const c=a[0].datasetIndex,u=t.getDatasetMeta(c).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:c,index:d})}return a},point(t,e,n,s){const i=In(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Za(t,i,r,s,o)},nearest(t,e,n,s){const i=In(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Ja(t,i,r,n.intersect,s,o)},x(t,e,n,s){const i=In(e,t);return Ch(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=In(e,t);return Ch(t,i,"y",n.intersect,s)}}};const Xm=["left","top","right","bottom"];function Js(t,e){return t.filter(n=>n.pos===e)}function Mh(t,e){return t.filter(n=>Xm.indexOf(n.pos)===-1&&n.box.axis===e)}function qs(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function v1(t){const e=[];let n,s,i,r,o,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function w1(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!Xm.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function b1(t,e){const n=w1(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:c}=a.box,u=n[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*s:c&&e.availableWidth,a.height=i):(a.width=s,a.height=d?d*i:c&&e.availableHeight)}return n}function k1(t){const e=v1(t),n=qs(e.filter(u=>u.box.fullSize),!0),s=qs(Js(e,"left"),!0),i=qs(Js(e,"right")),r=qs(Js(e,"top"),!0),o=qs(Js(e,"bottom")),a=Mh(e,"x"),c=Mh(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(c).concat(o).concat(a),chartArea:Js(e,"chartArea"),vertical:s.concat(i).concat(c),horizontal:r.concat(o).concat(a)}}function Lh(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function Km(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function j1(t,e,n,s){const{pos:i,box:r}=n,o=t.maxPadding;if(!te(i)){n.size&&(t[i]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[i]+=n.size}r.getPadding&&Km(o,r.getPadding());const a=Math.max(0,e.outerWidth-Lh(o,t,"left","right")),c=Math.max(0,e.outerHeight-Lh(o,t,"top","bottom")),u=a!==t.w,d=c!==t.h;return t.w=a,t.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function _1(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function N1(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return s(t?["left","right"]:["top","bottom"])}function li(t,e,n,s){const i=[];let r,o,a,c,u,d;for(r=0,o=t.length,u=0;r<o;++r){a=t[r],c=a.box,c.update(a.width||e.w,a.height||e.h,N1(a.horizontal,e));const{same:h,other:f}=j1(e,n,a,s);u|=h&&i.length,d=d||f,c.fullSize||i.push(a)}return u&&li(i,e,n,s)||d}function Dr(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function Eh(t,e,n,s){const i=n.padding;let{x:r,y:o}=e;for(const a of t){const c=a.box,u=s[a.stack]||{placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const h=e.w*d,f=u.size||c.height;Hi(u.start)&&(o=u.start),c.fullSize?Dr(c,i.left,o,n.outerWidth-i.right-i.left,f):Dr(c,e.left+u.placed,o,h,f),u.start=o,u.placed+=h,o=c.bottom}else{const h=e.h*d,f=u.size||c.width;Hi(u.start)&&(r=u.start),c.fullSize?Dr(c,r,i.top,f,n.outerHeight-i.bottom-i.top):Dr(c,r,e.top+u.placed,f,h),u.start=r,u.placed+=h,r=c.right}}e.x=r,e.y=o}var pt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=vt(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=k1(t.boxes),c=a.vertical,u=a.horizontal;ie(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const d=c.reduce((y,w)=>w.box.options&&w.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},i);Km(f,vt(s));const g=Object.assign({maxPadding:f,w:r,h:o,x:i.left,y:i.top},i),v=b1(c.concat(u),h);li(a.fullSize,g,h,v),li(c,g,h,v),li(u,g,h,v)&&li(c,g,h,v),_1(g),Eh(a.leftAndTop,g,h,v),g.x+=g.w,g.y+=g.h,Eh(a.rightAndBottom,g,h,v),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},ie(a.chartArea,y=>{const w=y.box;Object.assign(w,t.chartArea),w.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class Qm{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class S1 extends Qm{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Jr="$chartjs",C1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ph=t=>t===null||t==="";function M1(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[Jr]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ph(i)){const r=xh(t,"width");r!==void 0&&(t.width=r)}if(Ph(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=xh(t,"height");r!==void 0&&(t.height=r)}return t}const Gm=Fv?{passive:!0}:!1;function L1(t,e,n){t&&t.addEventListener(e,n,Gm)}function E1(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Gm)}function P1(t,e){const n=C1[t.type]||t.type,{x:s,y:i}=In(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Do(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function D1(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Do(a.addedNodes,s),o=o&&!Do(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function T1(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Do(a.removedNodes,s),o=o&&!Do(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Vi=new Map;let Dh=0;function Zm(){const t=window.devicePixelRatio;t!==Dh&&(Dh=t,Vi.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function A1(t,e){Vi.size||window.addEventListener("resize",Zm),Vi.set(t,e)}function O1(t){Vi.delete(t),Vi.size||window.removeEventListener("resize",Zm)}function R1(t,e,n){const s=t.canvas,i=s&&du(s);if(!i)return;const r=Dm((a,c)=>{const u=i.clientWidth;n(a,c),u<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const c=a[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||r(u,d)});return o.observe(i),A1(t,r),o}function qa(t,e,n){n&&n.disconnect(),e==="resize"&&O1(t)}function F1(t,e,n){const s=t.canvas,i=Dm(r=>{t.ctx!==null&&n(P1(r,t))},t);return L1(s,e,i),i}class z1 extends Qm{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(M1(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Jr])return!1;const s=n[Jr].initial;["height","width"].forEach(r=>{const o=s[r];ae(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[Jr],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:D1,detach:T1,resize:R1}[n]||F1;i[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:qa,detach:qa,resize:qa}[n]||E1)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return Rv(e,n,s,i)}isAttached(e){const n=e&&du(e);return!!(n&&n.isConnected)}}function I1(t){return!uu()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?S1:z1}class Jt{constructor(){V(this,"x");V(this,"y");V(this,"active",!1);V(this,"options");V(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Mo(this.x)&&Mo(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}}V(Jt,"defaults",{}),V(Jt,"defaultRoutes");function B1(t,e){const n=t.options.ticks,s=W1(t),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?$1(e):[],o=r.length,a=r[0],c=r[o-1],u=[];if(o>i)return V1(e,u,r,o/i),u;const d=H1(r,e,i);if(o>0){let h,f;const g=o>1?Math.round((c-a)/(o-1)):null;for(Tr(e,u,d,ae(g)?0:a-g,a),h=0,f=o-1;h<f;h++)Tr(e,u,d,r[h],r[h+1]);return Tr(e,u,d,c,ae(g)?e.length:c+g),u}return Tr(e,u,d),u}function W1(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function H1(t,e,n){const s=U1(t),i=e.length/n;if(!s)return Math.max(i,1);const r=Yy(s);for(let o=0,a=r.length-1;o<a;o++){const c=r[o];if(c>i)return c}return Math.max(i,1)}function $1(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function V1(t,e,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=n[i*s])}function Tr(t,e,n,s,i){const r=q(s,0),o=Math.min(q(i,t.length),t.length);let a=0,c,u,d;for(n=Math.ceil(n),i&&(c=i-s,n=c/Math.floor(c/n)),d=r;d<0;)a++,d=Math.round(r+a*n);for(u=Math.max(r,0);u<o;u++)u===d&&(e.push(t[u]),a++,d=Math.round(r+a*n))}function U1(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const Y1=t=>t==="left"?"right":t==="right"?"left":t,Th=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Ah=(t,e)=>Math.min(e||t,t);function Oh(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function X1(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let c=t.getPixelForTick(i),u;if(!(n&&(s===1?u=Math.max(c-r,o-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(i-1))/2,c+=i<e?u:-u,c<r-a||c>o+a)))return c}function K1(t,e){ie(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function ei(t){return t.drawTicks?t.tickLength:0}function Rh(t,e){if(!t.display)return 0;const n=Ve(t.font,e),s=vt(t.padding);return(Ce(t.text)?t.text.length:1)*n.lineHeight+s.height}function Q1(t,e){return zs(t,{scale:e,type:"scale"})}function G1(t,e,n){return zs(t,{tick:n,index:e,type:"tick"})}function Z1(t,e,n){let s=nu(t);return(n&&e!=="right"||!n&&e==="right")&&(s=Y1(s)),s}function J1(t,e,n,s){const{top:i,left:r,bottom:o,right:a,chart:c}=t,{chartArea:u,scales:d}=c;let h=0,f,g,v;const y=o-i,w=a-r;if(t.isHorizontal()){if(g=He(s,r,a),te(n)){const p=Object.keys(n)[0],m=n[p];v=d[p].getPixelForValue(m)+y-e}else n==="center"?v=(u.bottom+u.top)/2+y-e:v=Th(t,n,e);f=a-r}else{if(te(n)){const p=Object.keys(n)[0],m=n[p];g=d[p].getPixelForValue(m)-w+e}else n==="center"?g=(u.left+u.right)/2-w+e:g=Th(t,n,e);v=He(s,o,i),h=n==="left"?-Le:Le}return{titleX:g,titleY:v,maxWidth:f,rotation:h}}class Is extends Jt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=Lt(e,Number.POSITIVE_INFINITY),n=Lt(n,Number.NEGATIVE_INFINITY),s=Lt(s,Number.POSITIVE_INFINITY),i=Lt(i,Number.NEGATIVE_INFINITY),{min:Lt(e,s),max:Lt(n,i),minDefined:yt(e),maxDefined:yt(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let c=0,u=a.length;c<u;++c)o=a[c].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:Lt(n,Lt(s,n)),max:Lt(s,Lt(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ue(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=bv(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?Oh(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=B1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ue(this.options.afterUpdate,[this])}beforeSetDimensions(){ue(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ue(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ue(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ue(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=ue(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){ue(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ue(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=Ah(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,c,u;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,g=et(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/s:g/(s-1),h+6>a&&(a=g/(s-(e.offset?.5:1)),c=this.maxHeight-ei(e.grid)-n.padding-Rh(e.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),o=Gy(Math.min(Math.asin(et((d.highest.height+6)/a,-1,1)),Math.asin(et(c/u,-1,1))-Math.asin(et(f/u,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){ue(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ue(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const c=Rh(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=ei(r)+c):(e.height=this.maxHeight,e.width=ei(r)+c),s.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),g=s.padding*2,v=Yt(this.labelRotation),y=Math.cos(v),w=Math.sin(v);if(a){const p=s.mirror?0:w*h.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+p+g)}else{const p=s.mirror?0:y*h.width+w*f.height;e.width=Math.min(this.maxWidth,e.width+p+g)}this._calculatePadding(u,d,w,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,c=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;c?u?(f=i*e.width,g=s*n.height):(f=s*e.height,g=i*n.width):r==="start"?g=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,g=n.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-h+o)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;r==="start"?(d=0,h=e.height):r==="end"&&(d=n.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ue(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)ae(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Oh(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],c=Math.floor(n/Ah(n,s));let u=0,d=0,h,f,g,v,y,w,p,m,x,k,j;for(h=0;h<n;h+=c){if(v=e[h].label,y=this._resolveTickFontOptions(h),i.font=w=y.string,p=r[w]=r[w]||{data:{},gc:[]},m=y.lineHeight,x=k=0,!ae(v)&&!Ce(v))x=dh(i,p.data,p.gc,x,v),k=m;else if(Ce(v))for(f=0,g=v.length;f<g;++f)j=v[f],!ae(j)&&!Ce(j)&&(x=dh(i,p.data,p.gc,x,j),k+=m);o.push(x),a.push(k),u=Math.max(x,u),d=Math.max(k,d)}K1(r,n);const S=o.indexOf(u),M=a.indexOf(d),_=N=>({width:o[N]||0,height:a[N]||0});return{first:_(0),last:_(n-1),widest:_(S),highest:_(M),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Jy(this._alignToPixels?On(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=G1(this.getContext(),e,s))}return this.$context||(this.$context=Q1(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Yt(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,c=r?r.highest.height+o:0;return this.isHorizontal()?c*s>a*i?a/s:c/i:c*i<a*s?c/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,c=r.offset,u=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=ei(r),g=[],v=a.setContext(this.getContext()),y=v.display?v.width:0,w=y/2,p=function(X){return On(s,X,y)};let m,x,k,j,S,M,_,N,L,P,C,I;if(o==="top")m=p(this.bottom),M=this.bottom-f,N=m-w,P=p(e.top)+w,I=e.bottom;else if(o==="bottom")m=p(this.top),P=e.top,I=p(e.bottom)-w,M=m+w,N=this.top+f;else if(o==="left")m=p(this.right),S=this.right-f,_=m-w,L=p(e.left)+w,C=e.right;else if(o==="right")m=p(this.left),L=e.left,C=p(e.right)-w,S=m+w,_=this.left+f;else if(n==="x"){if(o==="center")m=p((e.top+e.bottom)/2+.5);else if(te(o)){const X=Object.keys(o)[0],Y=o[X];m=p(this.chart.scales[X].getPixelForValue(Y))}P=e.top,I=e.bottom,M=m+w,N=M+f}else if(n==="y"){if(o==="center")m=p((e.left+e.right)/2);else if(te(o)){const X=Object.keys(o)[0],Y=o[X];m=p(this.chart.scales[X].getPixelForValue(Y))}S=m-w,_=S-f,L=e.left,C=e.right}const Q=q(i.ticks.maxTicksLimit,h),$=Math.max(1,Math.ceil(h/Q));for(x=0;x<h;x+=$){const X=this.getContext(x),Y=r.setContext(X),A=a.setContext(X),F=Y.lineWidth,W=Y.color,Z=A.dash||[],ne=A.dashOffset,Ee=Y.tickWidth,ye=Y.tickColor,O=Y.tickBorderDash||[],H=Y.tickBorderDashOffset;k=X1(this,x,c),k!==void 0&&(j=On(s,k,F),u?S=_=L=C=j:M=N=P=I=j,g.push({tx1:S,ty1:M,tx2:_,ty2:N,x1:L,y1:P,x2:C,y2:I,width:F,color:W,borderDash:Z,borderDashOffset:ne,tickWidth:Ee,tickColor:ye,tickBorderDash:O,tickBorderDashOffset:H}))}return this._ticksLength=h,this._borderValue=m,g}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:u,padding:d,mirror:h}=r,f=ei(s.grid),g=f+d,v=h?-d:g,y=-Yt(this.labelRotation),w=[];let p,m,x,k,j,S,M,_,N,L,P,C,I="middle";if(i==="top")S=this.bottom-v,M=this._getXAxisLabelAlignment();else if(i==="bottom")S=this.top+v,M=this._getXAxisLabelAlignment();else if(i==="left"){const $=this._getYAxisLabelAlignment(f);M=$.textAlign,j=$.x}else if(i==="right"){const $=this._getYAxisLabelAlignment(f);M=$.textAlign,j=$.x}else if(n==="x"){if(i==="center")S=(e.top+e.bottom)/2+g;else if(te(i)){const $=Object.keys(i)[0],X=i[$];S=this.chart.scales[$].getPixelForValue(X)+g}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")j=(e.left+e.right)/2-g;else if(te(i)){const $=Object.keys(i)[0],X=i[$];j=this.chart.scales[$].getPixelForValue(X)}M=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?I="top":c==="end"&&(I="bottom"));const Q=this._getLabelSizes();for(p=0,m=a.length;p<m;++p){x=a[p],k=x.label;const $=r.setContext(this.getContext(p));_=this.getPixelForTick(p)+r.labelOffset,N=this._resolveTickFontOptions(p),L=N.lineHeight,P=Ce(k)?k.length:1;const X=P/2,Y=$.color,A=$.textStrokeColor,F=$.textStrokeWidth;let W=M;o?(j=_,M==="inner"&&(p===m-1?W=this.options.reverse?"left":"right":p===0?W=this.options.reverse?"right":"left":W="center"),i==="top"?u==="near"||y!==0?C=-P*L+L/2:u==="center"?C=-Q.highest.height/2-X*L+L:C=-Q.highest.height+L/2:u==="near"||y!==0?C=L/2:u==="center"?C=Q.highest.height/2-X*L:C=Q.highest.height-P*L,h&&(C*=-1),y!==0&&!$.showLabelBackdrop&&(j+=L/2*Math.sin(y))):(S=_,C=(1-P)*L/2);let Z;if($.showLabelBackdrop){const ne=vt($.backdropPadding),Ee=Q.heights[p],ye=Q.widths[p];let O=C-ne.top,H=0-ne.left;switch(I){case"middle":O-=Ee/2;break;case"bottom":O-=Ee;break}switch(M){case"center":H-=ye/2;break;case"right":H-=ye;break;case"inner":p===m-1?H-=ye:p>0&&(H-=ye/2);break}Z={left:H,top:O,width:ye+ne.width,height:Ee+ne.height,color:$.backdropColor}}w.push({label:k,font:N,textOffset:C,options:{rotation:y,color:Y,strokeColor:A,strokeWidth:F,textAlign:W,textBaseline:I,translation:[j,S],backdrop:Z}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Yt(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,c=o.widest.width;let u,d;return n==="left"?i?(d=this.right+r,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-a,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?i?(d=this.left+r,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+a,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(c,u,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const c=i[r];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,h,f;this.isHorizontal()?(u=On(e,this.left,o)-o/2,d=On(e,this.right,a)+a/2,h=f=c):(h=On(e,this.top,o)-o/2,f=On(e,this.bottom,a)+a/2,u=d=c),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(u,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&iu(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,c=o.font,u=o.label,d=o.textOffset;$i(s,u,0,d,c,a)}i&&ru(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=Ve(s.font),o=vt(s.padding),a=s.align;let c=r.lineHeight/2;n==="bottom"||n==="center"||te(n)?(c+=o.bottom,Ce(s.text)&&(c+=r.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=J1(this,c,n,a);$i(e,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:f,textAlign:Z1(a,n,i),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=q(e.grid&&e.grid.z,-1),i=q(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Is.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ve(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ar{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;t2(n)&&(s=this.register(n));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,q1(e,o,s),this.override&&we.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in we[i]&&(delete we[i][s],this.override&&delete qn[s])}}function q1(t,e,n){const s=Wi(Object.create(null),[n?we.get(n):{},we.get(e),t.defaults]);we.set(e,s),t.defaultRoutes&&e2(e,t.defaultRoutes),t.descriptors&&we.describe(e,t.descriptors)}function e2(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),c=o.join(".");we.route(r,i,c,a)})}function t2(t){return"id"in t&&"defaults"in t}class n2{constructor(){this.controllers=new Ar(Ss,"datasets",!0),this.elements=new Ar(Jt,"elements"),this.plugins=new Ar(Object,"plugins"),this.scales=new Ar(Is,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):ie(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const i=eu(e);ue(s["before"+i],[],s),n[e](s),ue(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var Dt=new n2;class s2{constructor(){this._init=void 0}notify(e,n,s,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],c=[n,i,r.options];if(ue(a,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=q(s.options&&s.options.plugins,{}),r=i2(s);return i===!1&&!n?[]:o2(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function i2(t){const e={},n=[],s=Object.keys(Dt.plugins.items);for(let r=0;r<s.length;r++)n.push(Dt.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function r2(t,e){return!e&&t===!1?null:t===!0?{}:t}function o2(t,{plugins:e,localIds:n},s,i){const r=[],o=t.getContext();for(const a of e){const c=a.id,u=r2(s[c],i);u!==null&&r.push({plugin:a,options:a2(t.config,{plugin:a,local:n[c]},u,o)})}return r}function a2(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(s,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ql(t,e){const n=we.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function l2(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function c2(t,e){return t===e?"_index_":"_value_"}function Fh(t){if(t==="x"||t==="y"||t==="r")return t}function u2(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ec(t,...e){if(Fh(t))return t;for(const n of e){const s=n.axis||u2(n.position)||t.length>1&&Fh(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function zh(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function d2(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return zh(t,"x",n[0])||zh(t,"y",n[0])}return{}}function h2(t,e){const n=qn[t.type]||{scales:{}},s=e.scales||{},i=ql(t.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!te(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=ec(o,a,d2(o,t),we.scales[a.type]),u=c2(c,i),d=n.scales||{};r[o]=vi(Object.create(null),[{axis:c},a,d[c],d[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,c=o.indexAxis||ql(a,e),d=(qn[a]||{}).scales||{};Object.keys(d).forEach(h=>{const f=l2(h,c),g=o[f+"AxisID"]||f;r[g]=r[g]||Object.create(null),vi(r[g],[{axis:f},s[g],d[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];vi(a,[we.scales[a.type],we.scale])}),r}function Jm(t){const e=t.options||(t.options={});e.plugins=q(e.plugins,{}),e.scales=h2(t,e)}function qm(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function f2(t){return t=t||{},t.data=qm(t.data),Jm(t),t}const Ih=new Map,eg=new Set;function Or(t,e){let n=Ih.get(t);return n||(n=e(),Ih.set(t,n),eg.add(n)),n}const ti=(t,e,n)=>{const s=Jn(e,n);s!==void 0&&t.add(s)};class p2{constructor(e){this._config=f2(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=qm(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Jm(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Or(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Or(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Or(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Or(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const c=new Set;n.forEach(d=>{e&&(c.add(e),d.forEach(h=>ti(c,e,h))),d.forEach(h=>ti(c,i,h)),d.forEach(h=>ti(c,qn[r]||{},h)),d.forEach(h=>ti(c,we,h)),d.forEach(h=>ti(c,Jl,h))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),eg.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,qn[n]||{},we.datasets[n]||{},{type:n},we,Jl]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Bh(this._resolverCache,e,i);let c=o;if(g2(o,n)){r.$shared=!1,s=Cn(s)?s():s;const u=this.createResolver(e,s,a);c=As(o,s,u)}for(const u of n)r[u]=c[u];return r}createResolver(e,n,s=[""],i){const{resolver:r}=Bh(this._resolverCache,e,s);return te(n)?As(r,n,void 0,i):r}}function Bh(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:au(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const m2=t=>te(t)&&Object.getOwnPropertyNames(t).some(e=>Cn(t[e]));function g2(t,e){const{isScriptable:n,isIndexable:s}=zm(t);for(const i of e){const r=n(i),o=s(i),a=(o||r)&&t[i];if(r&&(Cn(a)||m2(a))||o&&Ce(a))return!0}return!1}var x2="4.5.1";const y2=["top","bottom","left","right","chartArea"];function Wh(t,e){return t==="top"||t==="bottom"||y2.indexOf(t)===-1&&e==="x"}function Hh(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function $h(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ue(n&&n.onComplete,[t],e)}function v2(t){const e=t.chart,n=e.options.animation;ue(n&&n.onProgress,[t],e)}function tg(t){return uu()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const qr={},Vh=t=>{const e=tg(t);return Object.values(qr).filter(n=>n.canvas===e).pop()};function w2(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function b2(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var rn;let Ji=(rn=class{static register(...e){Dt.add(...e),Uh()}static unregister(...e){Dt.remove(...e),Uh()}constructor(e,n){const s=this.config=new p2(n),i=tg(e),r=Vh(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||I1(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),c=a&&a.canvas,u=c&&c.height,d=c&&c.width;if(this.id=zy(),this.ctx=a,this.canvas=c,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new s2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=nv(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],qr[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}It.listen(this,"complete",$h),It.listen(this,"progress",v2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return ae(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Dt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():gh(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return hh(this.canvas,this.ctx),this}stop(){return It.stop(this),this}resize(e,n){It.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,gh(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ue(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ie(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],c=ec(o,a),u=c==="r",d=c==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),ie(r,o=>{const a=o.options,c=a.id,u=ec(c,a),d=q(a.type,o.dtype);(a.position===void 0||Wh(a.position,u)!==Wh(o.dposition))&&(a.position=o.dposition),i[c]=!0;let h=null;if(c in s&&s[c].type===d)h=s[c];else{const f=Dt.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,e)}),ie(i,(o,a)=>{o||delete s[a]}),ie(s,o=>{pt.configure(this,o,o.options),pt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(Hh("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||ql(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=Dt.getController(a),{datasetElementType:u,dataElementType:d}=we.datasets[a];Object.assign(c,{dataElementType:Dt.getElement(d),datasetElementType:u&&Dt.getElement(u)}),o.controller=new c(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ie(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||ie(r,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Hh("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ie(this.scales,e=>{pt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!nh(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;w2(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!nh(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;pt.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],ie(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Cn(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(It.has(this)?this.attached&&!It.running(this)&&It.start(this):(this.draw(),$h({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=Wv(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&iu(n,i),e.controller.draw(),i&&ru(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Rm(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=y1.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=zs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);Hi(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),It.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),hh(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete qr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};ie(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},i=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},r=(c,u)=>{this.canvas&&this.resize(c,u)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ie(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ie(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,o,a,c;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,c=e.length;a<c;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!No(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),o=r(n,e),a=s?e:r(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(e,i,s,o),c=Vy(e),u=b2(e,this._lastEvent,s,c);s&&(this._lastEvent=null,ue(r.onHover,[e,a,this],this),c&&ue(r.onClick,[e,a,this],this));const d=!No(a,i);return(d||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,d}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},V(rn,"defaults",we),V(rn,"instances",qr),V(rn,"overrides",qn),V(rn,"registry",Dt),V(rn,"version",x2),V(rn,"getChart",Vh),rn);function Uh(){return ie(Ji.instances,t=>t._plugins.invalidate())}function k2(t,e,n){const{startAngle:s,x:i,y:r,outerRadius:o,innerRadius:a,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,h=Math.min(u/o,Tt(s-n));if(t.beginPath(),t.arc(i,r,o-u/2,s+h/2,n-h/2),a>0){const f=Math.min(u/a,Tt(s-n));t.arc(i,r,a+u/2,n-f/2,s+f/2,!0)}else{const f=Math.min(u/2,o*Tt(s-n));if(d==="round")t.arc(i,r,f,n-oe/2,s+oe/2,!0);else if(d==="bevel"){const g=2*f*f,v=-g*Math.cos(n+oe/2)+i,y=-g*Math.sin(n+oe/2)+r,w=g*Math.cos(s+oe/2)+i,p=g*Math.sin(s+oe/2)+r;t.lineTo(v,y),t.lineTo(w,p)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function j2(t,e,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:c}=e;let u=i/a;t.beginPath(),t.arc(r,o,a,s-u,n+u),c>i?(u=i/c,t.arc(r,o,c,n+u,s-u,!0)):t.arc(r,o,i,n+Le,s-Le),t.closePath(),t.clip()}function _2(t){return ou(t,["outerStart","outerEnd","innerStart","innerEnd"])}function N2(t,e,n,s){const i=_2(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,s*e/2),a=c=>{const u=(n-Math.min(r,c))*s/2;return et(c,0,Math.min(r,u))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:et(i.innerStart,0,o),innerEnd:et(i.innerEnd,0,o)}}function is(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function To(t,e,n,s,i,r){const{x:o,y:a,startAngle:c,pixelMargin:u,innerRadius:d}=e,h=Math.max(e.outerRadius+s+n-u,0),f=d>0?d+s+n+u:0;let g=0;const v=i-c;if(s){const $=d>0?d-s:0,X=h>0?h-s:0,Y=($+X)/2,A=Y!==0?v*Y/(Y+s):v;g=(v-A)/2}const y=Math.max(.001,v*h-n/oe)/h,w=(v-y)/2,p=c+w+g,m=i-w-g,{outerStart:x,outerEnd:k,innerStart:j,innerEnd:S}=N2(e,f,h,m-p),M=h-x,_=h-k,N=p+x/M,L=m-k/_,P=f+j,C=f+S,I=p+j/P,Q=m-S/C;if(t.beginPath(),r){const $=(N+L)/2;if(t.arc(o,a,h,N,$),t.arc(o,a,h,$,L),k>0){const F=is(_,L,o,a);t.arc(F.x,F.y,k,L,m+Le)}const X=is(C,m,o,a);if(t.lineTo(X.x,X.y),S>0){const F=is(C,Q,o,a);t.arc(F.x,F.y,S,m+Le,Q+Math.PI)}const Y=(m-S/f+(p+j/f))/2;if(t.arc(o,a,f,m-S/f,Y,!0),t.arc(o,a,f,Y,p+j/f,!0),j>0){const F=is(P,I,o,a);t.arc(F.x,F.y,j,I+Math.PI,p-Le)}const A=is(M,p,o,a);if(t.lineTo(A.x,A.y),x>0){const F=is(M,N,o,a);t.arc(F.x,F.y,x,p-Le,N)}}else{t.moveTo(o,a);const $=Math.cos(N)*h+o,X=Math.sin(N)*h+a;t.lineTo($,X);const Y=Math.cos(L)*h+o,A=Math.sin(L)*h+a;t.lineTo(Y,A)}t.closePath()}function S2(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let c=e.endAngle;if(r){To(t,e,n,s,c,i);for(let u=0;u<r;++u)t.fill();isNaN(a)||(c=o+(a%_e||_e))}return To(t,e,n,s,c,i),t.fill(),c}function C2(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:h,borderDashOffset:f,borderRadius:g}=c,v=c.borderAlign==="inner";if(!u)return;t.setLineDash(h||[]),t.lineDashOffset=f,v?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let y=e.endAngle;if(r){To(t,e,n,s,y,i);for(let w=0;w<r;++w)t.stroke();isNaN(a)||(y=o+(a%_e||_e))}v&&j2(t,e,y),c.selfJoin&&y-o>=oe&&g===0&&d!=="miter"&&k2(t,e,y),r||(To(t,e,n,s,y,i),t.stroke())}class xs extends Jt{constructor(n){super();V(this,"circumference");V(this,"endAngle");V(this,"fullCircles");V(this,"innerRadius");V(this,"outerRadius");V(this,"pixelMargin");V(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.getProps(["x","y"],i),{angle:o,distance:a}=Mm(r,{x:n,y:s}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,v=q(f,u-c),y=Lo(o,c,u)&&c!==u,w=v>=_e||y,p=$n(a,d+g,h+g);return w&&p}getCenterPoint(n){const{x:s,y:i,startAngle:r,endAngle:o,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,h=(r+o)/2,f=(a+c+d+u)/2;return{x:s+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:i}=this,r=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>_e?Math.floor(i/_e):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*r,Math.sin(c)*r);const u=1-Math.sin(Math.min(oe,i||0)),d=r*u;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,S2(n,this,d,o,a),C2(n,this,d,o,a),n.restore()}}V(xs,"id","arc"),V(xs,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),V(xs,"defaultRoutes",{backgroundColor:"backgroundColor"}),V(xs,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function ng(t,e){const{x:n,y:s,base:i,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,c,u,d,h;return t.horizontal?(h=o/2,a=Math.min(n,i),c=Math.max(n,i),u=s-h,d=s+h):(h=r/2,a=n-h,c=n+h,u=Math.min(s,i),d=Math.max(s,i)),{left:a,top:u,right:c,bottom:d}}function pn(t,e,n,s){return t?0:et(e,n,s)}function M2(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,r=Fm(s);return{t:pn(i.top,r.top,0,n),r:pn(i.right,r.right,0,e),b:pn(i.bottom,r.bottom,0,n),l:pn(i.left,r.left,0,e)}}function L2(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=_s(i),o=Math.min(e,n),a=t.borderSkipped,c=s||te(i);return{topLeft:pn(!c||a.top||a.left,r.topLeft,0,o),topRight:pn(!c||a.top||a.right,r.topRight,0,o),bottomLeft:pn(!c||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:pn(!c||a.bottom||a.right,r.bottomRight,0,o)}}function E2(t){const e=ng(t),n=e.right-e.left,s=e.bottom-e.top,i=M2(t,n/2,s/2),r=L2(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function el(t,e,n,s){const i=e===null,r=n===null,a=t&&!(i&&r)&&ng(t,s);return a&&(i||$n(e,a.left,a.right))&&(r||$n(n,a.top,a.bottom))}function P2(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function D2(t,e){t.rect(e.x,e.y,e.w,e.h)}function tl(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+r,h:t.h+o,radius:t.radius}}class ki extends Jt{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=E2(this),a=P2(o.radius)?Eo:D2;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,tl(o,n,r)),e.clip(),a(e,tl(r,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,tl(r,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return el(this,e,n,s)}inXRange(e,n){return el(this,e,null,n)}inYRange(e,n){return el(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}V(ki,"id","bar"),V(ki,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),V(ki,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Yh=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},T2=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Xh extends Jt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ue(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=Ve(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=Yh(s,r);let u,d;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,r,a,c)+10):(d=this.maxHeight,u=this._fitCols(o,i,a,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=i+a;let h=e;r.textAlign="left",r.textBaseline="middle";let f=-1,g=-d;return this.legendItems.forEach((v,y)=>{const w=s+n/2+r.measureText(v.text).width;(y===0||u[u.length-1]+w+2*a>o)&&(h+=d,u[u.length-(y>0?0:1)]=0,g+=d,f++),c[y]={left:0,top:g,row:f,width:w,height:i},u[u.length-1]+=w+a}),h}_fitCols(e,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-e;let h=a,f=0,g=0,v=0,y=0;return this.legendItems.forEach((w,p)=>{const{itemWidth:m,itemHeight:x}=A2(s,n,r,w,i);p>0&&g+x+2*a>d&&(h+=f+a,u.push({width:f,height:g}),v+=f+a,y++,f=g=0),c[p]={left:v,top:g,col:y,width:m,height:x},f=Math.max(f,m),g+=x+a}),h+=f,u.push({width:f,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=Ns(r,this.left,this.width);if(this.isHorizontal()){let a=0,c=He(s,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,c=He(s,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(c),u.width),c+=u.width+i}else{let a=0,c=He(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,c=He(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),u.top=c,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),c+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;iu(e,this),this._draw(),ru(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=we.color,c=Ns(e.rtl,this.left,this.width),u=Ve(o.font),{padding:d}=o,h=u.size,f=h/2;let g;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:v,boxHeight:y,itemHeight:w}=Yh(o,h),p=function(S,M,_){if(isNaN(v)||v<=0||isNaN(y)||y<0)return;i.save();const N=q(_.lineWidth,1);if(i.fillStyle=q(_.fillStyle,a),i.lineCap=q(_.lineCap,"butt"),i.lineDashOffset=q(_.lineDashOffset,0),i.lineJoin=q(_.lineJoin,"miter"),i.lineWidth=N,i.strokeStyle=q(_.strokeStyle,a),i.setLineDash(q(_.lineDash,[])),o.usePointStyle){const L={radius:y*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:N},P=c.xPlus(S,v/2),C=M+f;Om(i,L,P,C,o.pointStyleWidth&&v)}else{const L=M+Math.max((h-y)/2,0),P=c.leftForLtr(S,v),C=_s(_.borderRadius);i.beginPath(),Object.values(C).some(I=>I!==0)?Eo(i,{x:P,y:L,w:v,h:y,radius:C}):i.rect(P,L,v,y),i.fill(),N!==0&&i.stroke()}i.restore()},m=function(S,M,_){$i(i,_.text,S,M+w/2,u,{strikethrough:_.hidden,textAlign:c.textAlign(_.textAlign)})},x=this.isHorizontal(),k=this._computeTitleHeight();x?g={x:He(r,this.left+d,this.right-s[0]),y:this.top+d+k,line:0}:g={x:this.left+d,y:He(r,this.top+k+d,this.bottom-n[0].height),line:0},Hm(this.ctx,e.textDirection);const j=w+d;this.legendItems.forEach((S,M)=>{i.strokeStyle=S.fontColor,i.fillStyle=S.fontColor;const _=i.measureText(S.text).width,N=c.textAlign(S.textAlign||(S.textAlign=o.textAlign)),L=v+f+_;let P=g.x,C=g.y;c.setWidth(this.width),x?M>0&&P+L+d>this.right&&(C=g.y+=j,g.line++,P=g.x=He(r,this.left+d,this.right-s[g.line])):M>0&&C+j>this.bottom&&(P=g.x=P+n[g.line].width+d,g.line++,C=g.y=He(r,this.top+k+d,this.bottom-n[g.line].height));const I=c.x(P);if(p(I,C,S),P=sv(N,P+v+f,x?P+L:this.right,e.rtl),m(c.x(P),C,S),x)g.x+=L+d;else if(typeof S.text!="string"){const Q=u.lineHeight;g.y+=sg(S,Q)+d}else g.y+=j}),$m(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Ve(n.font),i=vt(n.padding);if(!n.display)return;const r=Ns(e.rtl,this.left,this.width),o=this.ctx,a=n.position,c=s.size/2,u=i.top+c;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=He(e.align,h,this.right-f);else{const v=this.columnSizes.reduce((y,w)=>Math.max(y,w.height),0);d=u+He(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const g=He(a,h,h+f);o.textAlign=r.textAlign(nu(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,$i(o,n.text,g,d,s)}_computeTitleHeight(){const e=this.options.title,n=Ve(e.font),s=vt(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if($n(e,this.left,this.right)&&$n(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],$n(e,i.left,i.left+i.width)&&$n(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!F2(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=T2(i,s);i&&!r&&ue(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&ue(n.onHover,[e,s,this],this)}else s&&ue(n.onClick,[e,s,this],this)}}function A2(t,e,n,s,i){const r=O2(s,t,e,n),o=R2(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function O2(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+s.measureText(i).width}function R2(t,e,n){let s=t;return typeof e.text!="string"&&(s=sg(e,n)),s}function sg(t,e){const n=t.text?t.text.length:0;return e*n}function F2(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var ig={id:"legend",_element:Xh,start(t,e,n){const s=t.legend=new Xh({ctx:t.ctx,options:n,chart:t});pt.configure(t,s,n),pt.addBox(t,s)},stop(t){pt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;pt.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=vt(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class rg extends Jt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Ce(s.text)?s.text.length:1;this._padding=vt(s.padding);const r=i*Ve(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let c=0,u,d,h;return this.isHorizontal()?(d=He(a,s,r),h=n+e,u=r-s):(o.position==="left"?(d=s+e,h=He(a,i,n),c=oe*-.5):(d=r-e,h=He(a,n,i),c=oe*.5),u=i-n),{titleX:d,titleY:h,maxWidth:u,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Ve(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:u}=this._drawArgs(r);$i(e,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:u,textAlign:nu(n.align),textBaseline:"middle",translation:[o,a]})}}function z2(t,e){const n=new rg({ctx:t.ctx,options:e,chart:t});pt.configure(t,n,e),pt.addBox(t,n),t.titleBlock=n}var og={id:"title",_element:rg,start(t,e,n){z2(t,n)},stop(t){const e=t.titleBlock;pt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;pt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ci={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const c=a.tooltipPosition();s.add(c.x),i+=c.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,c)=>a+c)/s.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const c=t[r].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=Zy(e,u);d<i&&(i=d,a=c)}}if(a){const c=a.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function Et(t,e){return e&&(Ce(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Bt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function I2(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function Kh(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,c=Ve(e.bodyFont),u=Ve(e.titleFont),d=Ve(e.footerFont),h=r.length,f=i.length,g=s.length,v=vt(e.padding);let y=v.height,w=0,p=s.reduce((k,j)=>k+j.before.length+j.lines.length+j.after.length,0);if(p+=t.beforeBody.length+t.afterBody.length,h&&(y+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),p){const k=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;y+=g*k+(p-g)*c.lineHeight+(p-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let m=0;const x=function(k){w=Math.max(w,n.measureText(k).width+m)};return n.save(),n.font=u.string,ie(t.title,x),n.font=c.string,ie(t.beforeBody.concat(t.afterBody),x),m=e.displayColors?o+2+e.boxPadding:0,ie(s,k=>{ie(k.before,x),ie(k.lines,x),ie(k.after,x)}),m=0,n.font=d.string,ie(t.footer,x),n.restore(),w+=v.width,{width:w,height:y}}function B2(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function W2(t,e,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function H2(t,e,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:c}}=t;let u="center";return s==="center"?u=i<=(a+c)/2?"left":"right":i<=r/2?u="left":i>=o-r/2&&(u="right"),W2(u,t,e,n)&&(u="center"),u}function Qh(t,e,n){const s=n.yAlign||e.yAlign||B2(t,n);return{xAlign:n.xAlign||e.xAlign||H2(t,e,n,s),yAlign:s}}function $2(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function V2(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function Gh(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:c}=n,u=i+r,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:g}=_s(o);let v=$2(e,a);const y=V2(e,c,u);return c==="center"?a==="left"?v+=u:a==="right"&&(v-=u):a==="left"?v-=Math.max(d,f)+i:a==="right"&&(v+=Math.max(h,g)+i),{x:et(v,0,s.width-e.width),y:et(y,0,s.height-e.height)}}function Rr(t,e,n){const s=vt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function Zh(t){return Et([],Bt(t))}function U2(t,e,n){return zs(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Jh(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const ag={beforeTitle:zt,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:zt,beforeBody:zt,beforeLabel:zt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ae(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:zt,afterBody:zt,beforeFooter:zt,footer:zt,afterFooter:zt};function Ge(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?ag[e].call(n,s):i}class tc extends Jt{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new Vm(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=U2(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=Ge(s,"beforeTitle",this,e),r=Ge(s,"title",this,e),o=Ge(s,"afterTitle",this,e);let a=[];return a=Et(a,Bt(i)),a=Et(a,Bt(r)),a=Et(a,Bt(o)),a}getBeforeBody(e,n){return Zh(Ge(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return ie(e,r=>{const o={before:[],lines:[],after:[]},a=Jh(s,r);Et(o.before,Bt(Ge(a,"beforeLabel",this,r))),Et(o.lines,Ge(a,"label",this,r)),Et(o.after,Bt(Ge(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,n){return Zh(Ge(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=Ge(s,"beforeFooter",this,e),r=Ge(s,"footer",this,e),o=Ge(s,"afterFooter",this,e);let a=[];return a=Et(a,Bt(i)),a=Et(a,Bt(r)),a=Et(a,Bt(o)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],c,u;for(c=0,u=n.length;c<u;++c)a.push(I2(this.chart,n[c]));return e.filter&&(a=a.filter((d,h,f)=>e.filter(d,h,f,s))),e.itemSort&&(a=a.sort((d,h)=>e.itemSort(d,h,s))),ie(a,d=>{const h=Jh(e.callbacks,d);i.push(Ge(h,"labelColor",this,d)),r.push(Ge(h,"labelPointStyle",this,d)),o.push(Ge(h,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=ci[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=Kh(this,s),u=Object.assign({},a,c),d=Qh(this.chart,s,u),h=Gh(s,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,r={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=_s(a),{x:f,y:g}=e,{width:v,height:y}=n;let w,p,m,x,k,j;return r==="center"?(k=g+y/2,i==="left"?(w=f,p=w-o,x=k+o,j=k-o):(w=f+v,p=w+o,x=k-o,j=k+o),m=w):(i==="left"?p=f+Math.max(c,d)+o:i==="right"?p=f+v-Math.max(u,h)-o:p=this.caretX,r==="top"?(x=g,k=x-o,w=p-o,m=p+o):(x=g+y,k=x+o,w=p+o,m=p-o),j=x),{x1:w,x2:p,x3:m,y1:x,y2:k,y3:j}}drawTitle(e,n,s){const i=this.title,r=i.length;let o,a,c;if(r){const u=Ns(s.rtl,this.x,this.width);for(e.x=Rr(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",o=Ve(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,c=0;c<r;++c)n.fillText(i[c],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,c+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:c,boxWidth:u}=r,d=Ve(r.bodyFont),h=Rr(this,"left",r),f=i.x(h),g=c<d.lineHeight?(d.lineHeight-c)/2:0,v=n.y+g;if(r.usePointStyle){const y={radius:Math.min(u,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},w=i.leftForLtr(f,u)+u/2,p=v+c/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,fh(e,y,w,p),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,fh(e,y,w,p)}else{e.lineWidth=te(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=i.leftForLtr(f,u),w=i.leftForLtr(i.xPlus(f,1),u-2),p=_s(o.borderRadius);Object.values(p).some(m=>m!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Eo(e,{x:y,y:v,w:u,h:c,radius:p}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Eo(e,{x:w,y:v+1,w:u-2,h:c-2,radius:p}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(y,v,u,c),e.strokeRect(y,v,u,c),e.fillStyle=o.backgroundColor,e.fillRect(w,v+1,u-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:c,boxWidth:u,boxPadding:d}=s,h=Ve(s.bodyFont);let f=h.lineHeight,g=0;const v=Ns(s.rtl,this.x,this.width),y=function(_){n.fillText(_,v.x(e.x+g),e.y+f/2),e.y+=f+r},w=v.textAlign(o);let p,m,x,k,j,S,M;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Rr(this,w,s),n.fillStyle=s.bodyColor,ie(this.beforeBody,y),g=a&&w!=="right"?o==="center"?u/2+d:u+2+d:0,k=0,S=i.length;k<S;++k){for(p=i[k],m=this.labelTextColors[k],n.fillStyle=m,ie(p.before,y),x=p.lines,a&&x.length&&(this._drawColorBox(n,e,k,v,s),f=Math.max(h.lineHeight,c)),j=0,M=x.length;j<M;++j)y(x[j]),f=h.lineHeight;ie(p.after,y)}g=0,f=h.lineHeight,ie(this.afterBody,y),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let o,a;if(r){const c=Ns(s.rtl,this.x,this.width);for(e.x=Rr(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",o=Ve(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:c}=e,{width:u,height:d}=s,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:v}=_s(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,c),o==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+u-f,c),n.quadraticCurveTo(a+u,c,a+u,c+f),o==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+u,c+d-v),n.quadraticCurveTo(a+u,c+d,a+u-v,c+d),o==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+g,c+d),n.quadraticCurveTo(a,c+d,a,c+d-g),o==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,c+h),n.quadraticCurveTo(a,c,a+h,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=ci[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Kh(this,e),c=Object.assign({},o,this._size),u=Qh(n,e,c),d=Gh(e,c,u,n);(i._to!==d.x||r._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=vt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),Hm(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),$m(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:c})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[c],index:c}}),r=!No(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,s),a=this._positionChanged(o,e),c=n||!No(o,r)||a;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,o=ci[r.position].call(this,e,n);return o!==!1&&(s!==o.x||i!==o.y)}}V(tc,"positioners",ci);var lg={id:"tooltip",_element:tc,positioners:ci,afterInit(t,e,n){n&&(t.tooltip=new tc({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ag},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Y2=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function X2(t,e,n,s){const i=t.indexOf(e);if(i===-1)return Y2(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const K2=(t,e)=>t===null?null:et(Math.round(t),0,e);function qh(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Ao extends Is{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ae(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:X2(s,e,q(n,e),this._addedLabels),K2(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return qh.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}V(Ao,"id","category"),V(Ao,"defaults",{ticks:{callback:qh}});function Q2(t,e){const n=[],{bounds:i,step:r,min:o,max:a,precision:c,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=t,g=r||1,v=d-1,{min:y,max:w}=e,p=!ae(o),m=!ae(a),x=!ae(u),k=(w-y)/(h+1);let j=ih((w-y)/v/g)*g,S,M,_,N;if(j<1e-14&&!p&&!m)return[{value:y},{value:w}];N=Math.ceil(w/j)-Math.floor(y/j),N>v&&(j=ih(N*j/v/g)*g),ae(c)||(S=Math.pow(10,c),j=Math.ceil(j*S)/S),i==="ticks"?(M=Math.floor(y/j)*j,_=Math.ceil(w/j)*j):(M=y,_=w),p&&m&&r&&Ky((a-o)/r,j/1e3)?(N=Math.round(Math.min((a-o)/j,d)),j=(a-o)/N,M=o,_=a):x?(M=p?o:M,_=m?a:_,N=u-1,j=(_-M)/N):(N=(_-M)/j,Gr(N,Math.round(N),j/1e3)?N=Math.round(N):N=Math.ceil(N));const L=Math.max(rh(j),rh(M));S=Math.pow(10,ae(c)?L:c),M=Math.round(M*S)/S,_=Math.round(_*S)/S;let P=0;for(p&&(f&&M!==o?(n.push({value:o}),M<o&&P++,Gr(Math.round((M+P*j)*S)/S,o,ef(o,k,t))&&P++):M<o&&P++);P<N;++P){const C=Math.round((M+P*j)*S)/S;if(m&&C>a)break;n.push({value:C})}return m&&f&&_!==a?n.length&&Gr(n[n.length-1].value,a,ef(a,k,t))?n[n.length-1].value=a:n.push({value:a}):(!m||_===a)&&n.push({value:_}),n}function ef(t,e,{horizontal:n,minRotation:s}){const i=Yt(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class G2 extends Is{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ae(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=c=>i=n?i:c,a=c=>r=s?r:c;if(e){const c=_n(i),u=_n(r);c<0&&u<0?a(0):c>0&&u>0&&o(0)}if(i===r){let c=r===0?1:Math.abs(r*.05);a(r+c),e||o(i-c)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=Q2(i,r);return e.bounds==="ticks"&&Qy(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return su(e,this.chart.options.locale,this.options.ticks.format)}}class Oo extends G2{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=yt(e)?e:0,this.max=yt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Yt(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}V(Oo,"id","linear"),V(Oo,"defaults",{ticks:{callback:Am.formatters.numeric}});const na={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Je=Object.keys(na);function tf(t,e){return t-e}function nf(t,e){if(ae(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),yt(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Mo(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function sf(t,e,n,s){const i=Je.length;for(let r=Je.indexOf(t);r<i-1;++r){const o=na[Je[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return Je[r]}return Je[i-1]}function Z2(t,e,n,s,i){for(let r=Je.length-1;r>=Je.indexOf(n);r--){const o=Je[r];if(na[o].common&&t._adapter.diff(i,s,o)>=e-1)return o}return Je[n?Je.indexOf(n):0]}function J2(t){for(let e=Je.indexOf(t)+1,n=Je.length;e<n;++e)if(na[Je[e]].common)return Je[e]}function rf(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=tu(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function q2(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,c;for(a=r;a<=o;a=+i.add(a,1,s))c=n[a],c>=0&&(e[c].major=!0);return e}function of(t,e,n){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:q2(t,s,i,n)}class Ro extends Is{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new f1._date(e.adapters.date);i.init(n),vi(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:nf(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function c(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(r=Math.max(r,u.max))}(!o||!a)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=yt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=yt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=ev(i,r,o);return this._unit=n.unit||(s.autoSkip?sf(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):Z2(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:J2(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),of(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=et(n,0,o),s=et(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||sf(r.minUnit,n,s,this._getLabelCapacity(n)),a=q(i.ticks.stepSize,1),c=o==="week"?r.isoWeekday:!1,u=Mo(c)||c===!0,d={};let h=n,f,g;if(u&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,u?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const v=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,g=0;f<s;f=+e.add(f,a,o),g++)rf(d,f,v);return(f===s||i.bounds==="ticks"||g===1)&&rf(d,f,v),Object.keys(d).sort(tf).map(y=>+y)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return ue(o,[e,n,s],this);const a=r.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&a[c],h=u&&a[u],f=s[n],g=u&&h&&f&&f.major;return this._adapter.format(e,i||(g?h:d))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=Yt(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,of(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(nf(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Em(e.sort(tf))}}V(Ro,"id","time"),V(Ro,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Fr(t,e,n){let s=0,i=t.length-1,r,o,a,c;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=Zl(t,"pos",e)),{pos:r,time:a}=t[s],{pos:o,time:c}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=Zl(t,"time",e)),{time:r,pos:a}=t[s],{time:o,pos:c}=t[i]);const u=o-r;return u?a+(c-a)*(e-r)/u:a}class af extends Ro{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Fr(n,this.min),this._tableRange=Fr(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let o,a,c,u,d;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=s&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)d=i[o+1],c=i[o-1],u=i[o],Math.round((d+c)/2)!==u&&r.push({time:u,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Fr(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Fr(this._table,s*this._tableRange+this._minPos,!0)}}V(af,"id","timeseries"),V(af,"defaults",Ro.defaults);const cg="label";function lf(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function ew(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function ug(t,e){t.labels=e}function dg(t,e,n=cg){const s=[];t.datasets=e.map(i=>{const r=t.datasets.find(o=>o[n]===i[n]);return!r||!i.data||s.includes(r)?{...i}:(s.push(r),Object.assign(r,i),r)})}function tw(t,e=cg){const n={labels:[],datasets:[]};return ug(n,t.labels),dg(n,t.datasets,e),n}function nw(t,e){const{height:n=150,width:s=300,redraw:i=!1,datasetIdKey:r,type:o,data:a,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...f}=t,g=E.useRef(null),v=E.useRef(null),y=()=>{g.current&&(v.current=new Ji(g.current,{type:o,data:tw(a,r),options:c&&{...c},plugins:u}),lf(e,v.current))},w=()=>{lf(e,null),v.current&&(v.current.destroy(),v.current=null)};return E.useEffect(()=>{!i&&v.current&&c&&ew(v.current,c)},[i,c]),E.useEffect(()=>{!i&&v.current&&ug(v.current.config.data,a.labels)},[i,a.labels]),E.useEffect(()=>{!i&&v.current&&a.datasets&&dg(v.current.config.data,a.datasets,r)},[i,a.datasets]),E.useEffect(()=>{v.current&&(i?(w(),setTimeout(y)):v.current.update(h))},[i,c,a.labels,a.datasets,h]),E.useEffect(()=>{v.current&&(w(),setTimeout(y))},[o]),E.useEffect(()=>(y(),()=>w()),[]),l.jsx("canvas",{ref:g,role:"img",height:n,width:s,...f,children:d})}const sw=E.forwardRef(nw);function hg(t,e){return Ji.register(e),E.forwardRef((n,s)=>l.jsx(sw,{...n,ref:s,type:t}))}const nc=hg("bar",Zr),fg=hg("doughnut",ai);Ji.register(xs,Ao,Oo,ki,og,lg,ig);function iw({summary:t,students:e}){const n={labels:["Complete","Active","Warning","Re-engage"],datasets:[{data:[t.completeCount||0,t.activeCount,t.warningCount,t.reengageCount],backgroundColor:["#3b82f6","#22c55e","#f97316","#ef4444"],borderColor:["#ffffff","#ffffff","#ffffff","#ffffff"],borderWidth:2}]},s={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,font:{size:12}}},tooltip:{callbacks:{label:d=>{const h=d.dataset.data.reduce((g,v)=>g+v,0),f=(d.raw/h*100).toFixed(1);return`${d.label}: ${d.raw} (${f}%)`}}}}},i=[{label:"0-25%",min:0,max:25,count:0,color:"#ef4444"},{label:"26-50%",min:26,max:50,count:0,color:"#f97316"},{label:"51-75%",min:51,max:75,count:0,color:"#3b82f6"},{label:"76-100%",min:76,max:100,count:0,color:"#22c55e"}];e.forEach(d=>{const h=d.progress.value;for(const f of i)if(h>=f.min&&h<=f.max){f.count++;break}});const r={labels:i.map(d=>d.label),datasets:[{label:"Students",data:i.map(d=>d.count),backgroundColor:i.map(d=>d.color),borderRadius:6}]},o={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:d=>`${d.raw} students`}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}},a=e.filter(d=>d.progress.value>=100).length,c=e.filter(d=>d.progress.value>0&&d.progress.value<100).length,u=e.filter(d=>d.progress.value===0).length;return l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Student Status"}),l.jsx("div",{className:"h-64",children:l.jsx(fg,{data:n,options:s})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Progress Distribution"}),l.jsx("div",{className:"h-64",children:l.jsx(nc,{data:r,options:o})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Course Status"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Completed"})]}),l.jsx("span",{className:"text-2xl font-bold text-green-600",children:a})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"In Progress"})]}),l.jsx("span",{className:"text-2xl font-bold text-blue-600",children:c})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Not Started"})]}),l.jsx("span",{className:"text-2xl font-bold text-gray-600",children:u})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm text-gray-500",children:"Average Progress"}),l.jsxs("span",{className:"font-bold text-gray-900",children:[t.averageProgress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:"h-3 rounded-full transition-all duration-500",style:{width:`${t.averageProgress}%`,backgroundColor:t.averageProgress>=75?"#22c55e":t.averageProgress>=40?"#3b82f6":"#f97316"}})})]})]})]})]})}Ji.register(xs,Ao,Oo,ki,og,lg,ig);function rw({examSummary:t,students:e}){const n={labels:["Passed","Failed","Upcoming","Pending"],datasets:[{data:[t.passed,t.failed,t.upcoming,t.noResult],backgroundColor:["#22c55e","#ef4444","#3b82f6","#f97316"],borderColor:["#ffffff","#ffffff","#ffffff","#ffffff"],borderWidth:2}]},s={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,usePointStyle:!0,font:{size:12}}},tooltip:{callbacks:{label:p=>{const m=p.dataset.data.reduce((k,j)=>k+j,0),x=m>0?(p.raw/m*100).toFixed(1):0;return`${p.label}: ${p.raw} (${x}%)`}}}}},i=t.courseTypes||{},r=Object.keys(i).filter(p=>p!=="Unknown"&&p),o=r.map(p=>{const m=i[p],x=m.passed+m.failed;return x>0?Math.round(m.passed/x*100):0}),a=r.map(p=>{const m=i[p];return m.passed+m.failed}),c={labels:r,datasets:[{label:"Pass Rate %",data:o,backgroundColor:o.map(p=>p>=70?"#22c55e":p>=50?"#f97316":"#ef4444"),borderRadius:6}]},u={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:p=>{const m=p.dataIndex;return`Pass rate: ${p.raw}% (${a[m]} taken)`}}}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:p=>p+"%"}},x:{ticks:{font:{size:11}}}}},d={labels:["Passed","Failed","All Students"],datasets:[{label:"Avg Study Time (minutes)",data:[t.avgStudyPassed||0,t.avgStudyFailed||0,t.avgStudyTime||0],backgroundColor:["#22c55e","#ef4444","#6366f1"],borderRadius:6}]},h=p=>p>=60?`${Math.floor(p/60)}h ${p%60}m`:`${p}m`,f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:p=>`Avg: ${h(p.raw)}`}}},scales:{y:{beginAtZero:!0,ticks:{callback:p=>h(p)}}}},g=e.filter(p=>p.matched!==!1),v=e.filter(p=>(p.passFail||"").toUpperCase()==="PASS"),y=e.filter(p=>(p.passFail||"").toUpperCase()==="FAIL"),w=[{label:"0-25%",min:0,max:25,count:0,color:"#ef4444"},{label:"26-50%",min:26,max:50,count:0,color:"#f97316"},{label:"51-75%",min:51,max:75,count:0,color:"#3b82f6"},{label:"76-100%",min:76,max:100,count:0,color:"#22c55e"}];return g.forEach(p=>{var x;const m=((x=p.progress)==null?void 0:x.value)||0;for(const k of w)if(m>=k.min&&m<=k.max){k.count++;break}}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Exam Results"}),l.jsx("div",{className:"h-64",children:l.jsx(fg,{data:n,options:s})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pass Rate by Course"}),l.jsx("div",{className:"h-64",children:r.length>0?l.jsx(nc,{data:c,options:u}):l.jsx("div",{className:"h-full flex items-center justify-center text-gray-400",children:"No exam results yet"})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Avg Study Time"}),t.avgStudyPassed>0||t.avgStudyFailed>0?l.jsx("div",{className:"h-64",children:l.jsx(nc,{data:d,options:f})}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Passed"})]}),l.jsx("span",{className:"text-2xl font-bold text-green-600",children:v.length})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Failed"})]}),l.jsx("span",{className:"text-2xl font-bold text-red-600",children:y.length})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Tracked"})]}),l.jsx("span",{className:"text-2xl font-bold text-blue-600",children:g.length})]}),l.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Study time data available for students in your department"})]})]})]})}const Ne="/api";function ow({user:t,department:e,onLogout:n,initialData:s}){const[i,r]=E.useState((s==null?void 0:s.students)||[]),[o,a]=E.useState((s==null?void 0:s.summary)||null),[c,u]=E.useState(!s),[d,h]=E.useState(!1),[f,g]=E.useState((s==null?void 0:s.isQuick)||!1),[v,y]=E.useState(null),[w,p]=E.useState(s?new Date:null),[m,x]=E.useState(null),[k,j]=E.useState(!1),[S,M]=E.useState(!1),[_,N]=E.useState("students"),[L,P]=E.useState([]),[C,I]=E.useState(null),[Q,$]=E.useState(!1),[X,Y]=E.useState(!1),[A,F]=E.useState(!1),[W,Z]=E.useState(""),[ne,Ee]=E.useState(!1),[ye,O]=E.useState(""),[H,se]=E.useState(null),[be,ge]=E.useState([]),[Pe,en]=E.useState(!1),[Ft,qi]=E.useState(!1),[sa,fu]=E.useState(""),[pu,mu]=E.useState(""),[gu,Bs]=E.useState(""),[ia,er]=E.useState(!1),[ke,xu]=E.useState(()=>{try{const b=localStorage.getItem("ji_extra_departments");return b?JSON.parse(b):[]}catch{return[]}}),[tr,pg]=E.useState(!1),[yu,vu]=E.useState(""),[wu,tn]=E.useState(""),[bu,ra]=E.useState([]),[Pn,oa]=E.useState([]),[aa,ku]=E.useState(!1),[Dn,la]=E.useState(""),[ca,mg]=E.useState("all"),[nr,ju]=E.useState("no-result"),[sr,_u]=E.useState("all"),[nn,ua]=E.useState([]),[da,Nu]=E.useState(!1),[ir,Su]=E.useState("all"),[rr,Cu]=E.useState("all"),[ha,Mu]=E.useState("all");E.useEffect(()=>{s?(console.log("[DASHBOARD] Using pre-fetched data"),s.isQuick&&(console.log("[DASHBOARD] Loading full data in background..."),gg())):(console.log("[DASHBOARD] Component mounted, fetching data..."),Pu())},[]),E.useEffect(()=>{localStorage.setItem("ji_extra_departments",JSON.stringify(ke))},[ke]),E.useEffect(()=>{ke.length>0?xg():(ra([]),oa([]),Pu()),Y(!1)},[ke.length]),E.useEffect(()=>{_==="exam"&&!X&&!Q&&Ws()},[_]);const Ws=async b=>{$(!0);try{const D=b||W,R=new URLSearchParams;D&&R.set("adminKey",D),ke.length>0&&R.set("departments",ke.join(","));const B=R.toString(),K=B?`${Ne}/exam/students?${B}`:`${Ne}/exam/students`;console.log("[EXAM] Fetching with URL:",K,"extraDepts:",ke);const U=await fetch(K,{credentials:"include"});if(!U.ok){if(U.status===401){n();return}throw new Error("Failed to fetch exam data")}const ze=await U.json();ze.success&&(P(ze.students),I(ze.examSummary),Y(!0),D&&fetch(`${Ne}/exam/sync-scheduler/status`,{credentials:"include"}).then(J=>J.ok?J.json():null).then(J=>{J!=null&&J.success&&se(J.scheduler)}).catch(()=>{}))}catch(D){y("Failed to load exam data. Please try again."),console.error("[DASHBOARD] Exam data error:",D)}finally{$(!1)}},gg=async()=>{try{const[b,D]=await Promise.all([fetch(`${Ne}/dashboard/summary`,{credentials:"include"}),fetch(`${Ne}/dashboard/students`,{credentials:"include"})]);if(b.ok&&D.ok){const[R,B]=await Promise.all([b.json(),D.json()]);R.success&&B.success&&(console.log("[DASHBOARD] Full data loaded, updating..."),a(R.summary),r(B.students),p(new Date))}}catch(b){console.error("[DASHBOARD] Background load failed:",b)}finally{g(!1)}},xg=async()=>{u(!0),y(null);try{const b=ke.join(","),D=await fetch(`${Ne}/dashboard/students/multi?departments=${encodeURIComponent(b)}`,{credentials:"include"});if(!D.ok){if(D.status===401){n();return}throw new Error("Failed to fetch multi-department data")}const R=await D.json();if(R.success){r(R.students),a(R.summary),ra(R.departments||[]),p(new Date);const B=(R.departments||[]).filter(K=>K.status==="error");B.length>0&&tn(`Could not load ${B.length} department(s): ${B.map(K=>K.error||K.id).join(", ")}`)}}catch(b){y("Failed to load multi-department data. Please try again."),console.error("[DASHBOARD] Multi-dept error:",b)}finally{u(!1)}},Lu=()=>{var R;const b=yu.trim();if(!/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(b)){tn("Invalid Department ID format (must be a GUID like xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx)");return}if(b.toLowerCase()===((R=e==null?void 0:e.id)==null?void 0:R.toLowerCase())){tn("This is already your primary department");return}if(ke.some(B=>B.toLowerCase()===b.toLowerCase())){tn("Department already added");return}if(ke.length>=10){tn("Maximum 10 additional departments");return}tn(""),vu(""),xu(B=>[...B,b])},Eu=b=>{xu(D=>D.filter(R=>R!==b))},Pu=E.useCallback(async()=>{u(!0),y(null);try{const[b,D]=await Promise.all([fetch(`${Ne}/dashboard/summary`,{credentials:"include"}),fetch(`${Ne}/dashboard/students`,{credentials:"include"})]);if(!b.ok||!D.ok){if(b.status===401||D.status===401){n();return}throw new Error("Failed to fetch data")}const R=await b.json(),B=await D.json();R.success&&a(R.summary),B.success&&r(B.students),p(new Date)}catch(b){y("Failed to load dashboard data. Please try again."),console.error("Dashboard error:",b)}finally{u(!1)}},[n]),yg=async()=>{h(!0),y(null);try{const b=ke.length>0?JSON.stringify({extraDepartments:ke}):void 0,D=await fetch(`${Ne}/dashboard/sync`,{method:"POST",credentials:"include",headers:b?{"Content-Type":"application/json"}:{},body:b});if(!D.ok){if(D.status===401){n();return}const B=await D.json().catch(()=>null);throw new Error((B==null?void 0:B.error)||`Sync failed (${D.status})`)}const R=await D.json();R.success&&(a(R.summary),r(R.students),R.departments&&ra(R.departments),p(new Date),X&&(Y(!1),_==="exam"&&Ws()))}catch(b){console.error("[SYNC] Error:",b),y(b.message||"Failed to sync data. Please try again.")}finally{h(!1)}},vg=async()=>{try{const b=ke.length>0?`${Ne}/dashboard/export?departments=${encodeURIComponent(ke.join(","))}`:`${Ne}/dashboard/export`,D=await fetch(b,{credentials:"include"});if(!D.ok)throw new Error("Export failed");const R=await D.blob(),B=window.URL.createObjectURL(R),K=document.createElement("a");K.href=B,K.download=`students_export_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(K),K.click(),window.URL.revokeObjectURL(B),K.remove()}catch{y("Failed to export data. Please try again.")}},wg=async b=>{try{(await(await fetch(`${Ne}/exam/admin-verify`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({password:b})})).json()).success?(F(!0),Z(b),Ee(!1),O(""),Y(!1),Ws(b),Du(b)):O("Invalid password")}catch{O("Failed to verify")}},bg=()=>{F(!1),Z(""),Ee(!1),O(""),ge([]),er(!1),qi(!1),Y(!1),Ws("")},Du=async b=>{en(!0);try{const R=await(await fetch(`${Ne}/exam/allowlist?adminKey=${encodeURIComponent(b||W)}`,{credentials:"include"})).json();R.success&&(ge(R.users),er(R.enforcing))}catch(D){console.error("Failed to fetch allowlist:",D)}finally{en(!1)}},fa=async()=>{if(!sa.trim()){Bs("Email is required");return}Bs("");try{const D=await(await fetch(`${Ne}/exam/allowlist/add`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:sa.trim(),name:pu.trim(),adminKey:W})})).json();D.success?(ge(D.users),er(!0),fu(""),mu(""),D.autoAddedAdmin&&alert("Your admin account was automatically added to the allowlist to prevent lockout.")):Bs(D.error||"Failed to add user")}catch{Bs("Network error")}},kg=async b=>{if(confirm(`Remove ${b} from allowed users? They will not be able to log in.`))try{const R=await(await fetch(`${Ne}/exam/allowlist/remove`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:b,adminKey:W})})).json();R.success&&(ge(R.users),er(R.enforcing),R.warning&&alert(R.warning))}catch(D){console.error("Failed to remove from allowlist:",D)}},Tu=b=>{const D=b.length,R=b.filter(Ie=>(Ie.passFail||"").toUpperCase()==="PASS").length,B=b.filter(Ie=>(Ie.passFail||"").toUpperCase()==="FAIL").length,K=Date.now();let U=0,ze=0;b.forEach(Ie=>{var Hs;const Tn=pa(Ie.examDateRaw),Ae=(Ie.passFail||"").trim()!=="";Tn>K&&!Ae&&(U++,Ie.matched!==!1&&(((Hs=Ie.progress)==null?void 0:Hs.value)||0)<80&&ze++)});const J=R+B,Ct=J>0?Math.round(R/J*1e3)/10:0;return Ie=>({...Ie,total:D,passed:R,failed:B,upcoming:U,atRisk:ze,passRate:Ct,noResult:D-R-B-U})},Au=async(b,D)=>{try{const B=await(await fetch(`${Ne}/exam/update-result`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:b,result:D,adminKey:W})})).json();if(B.success){const K=L.map(U=>U.email===b?{...U,passFail:D}:U);P(K),I(Tu(K)),x(U=>U&&U.email===b?{...U,passFail:D}:U),B.sheetSaved||alert("Warning: Result saved locally but failed to save to Google Sheet. It may be lost after server restart. Check GOOGLE_SHEETS_CREDENTIALS_JSON env var.")}else alert("Failed to save result: "+(B.error||"Unknown error"))}catch(R){console.error("Failed to update result:",R),alert("Failed to save result. Check console for details.")}},Ou=async(b,D,R)=>{try{const K=await(await fetch(`${Ne}/exam/update-date`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:b,date:D,time:R||"",adminKey:W})})).json();if(K.success){const[U,ze,J]=D.split("-").map(Number),Ie=new Date(U,ze-1,J).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),Tn=L.map(Ae=>Ae.email===b?{...Ae,examDateRaw:D,examDate:Ie,examTime:R||Ae.examTime}:Ae);P(Tn),I(Tu(Tn)),x(Ae=>Ae&&Ae.email===b?{...Ae,examDateRaw:D,examDate:Ie,examTime:R||Ae.examTime}:Ae),K.sheetSaved||alert("Warning: Date saved locally but failed to save to Google Sheet. It may be lost after server restart.")}else alert("Failed to save date: "+(K.error||"Unknown error"))}catch(B){console.error("Failed to update exam date:",B),alert("Failed to save date. Check console for details.")}},jg=async(b,D)=>{try{const B=await(await fetch(`${Ne}/students/${b}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(D)})).json();if(B.success){const K=B.student;return r(U=>U.map(ze=>ze.id===b?{...ze,firstName:K.firstName,lastName:K.lastName,fullName:`${K.firstName} ${K.lastName}`.trim(),email:K.emailAddress,phone:K.phone}:ze)),{success:!0,student:K}}else return{success:!1,error:B.error||"Update failed"}}catch(R){return console.error("Failed to update student contact:",R),{success:!1,error:"Network error"}}},_g=async(b,D,R,B)=>{try{const U=await(await fetch(`${Ne}/exam/update-contact`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:b,name:D,newEmail:R,phone:B,adminKey:W})})).json();if(U.success){const ze=L.map(J=>{var Ct;return J.email===b?{...J,fullName:D||J.fullName,email:R||J.email,phone:B||J.phone,sheetTracking:{...J.sheetTracking,phone:B||((Ct=J.sheetTracking)==null?void 0:Ct.phone)}}:J});P(ze),x(J=>{var Ct;return J&&J.email===b?{...J,fullName:D||J.fullName,email:R||J.email,phone:B||J.phone,sheetTracking:{...J.sheetTracking,phone:B||((Ct=J.sheetTracking)==null?void 0:Ct.phone)}}:J}),U.sheetSaved||alert("Warning: Contact saved locally but failed to save to Google Sheet. Check GOOGLE_SHEETS_CREDENTIALS_JSON env var.")}else alert("Failed to save contact: "+(U.error||"Unknown error"))}catch(K){console.error("Failed to update sheet contact:",K),alert("Failed to save contact. Check console for details.")}},Ru=[...new Set(i.map(b=>(b.departmentName||"").trim()).filter(Boolean))].sort(),Fu=i.filter(b=>{const D=Dn.toLowerCase(),R=!Dn||b.fullName.toLowerCase().includes(D)||b.email.toLowerCase().includes(D)||(b.departmentName||"").toLowerCase().includes(D),B=ca==="all"||b.status.status.toLowerCase()===ca.toLowerCase(),K=Pn.length===0||Pn.includes((b.departmentName||"").trim());return R&&B&&K}),pa=b=>{if(!b)return 0;if(/^\d{4}-\d{2}-\d{2}$/.test(b))return new Date(b+"T00:00:00").getTime();const D=b.split("/");if(D.length===3)return new Date(D[2],D[0]-1,D[1]).getTime();const R=new Date(b);return isNaN(R.getTime())?0:R.getTime()},Ng=(b,D)=>{if(D==="all")return!0;const R=pa(b.examDateRaw);if(!R)return D==="no-date";const B=new Date;B.setHours(0,0,0,0);const K=B.getTime(),U=Math.ceil((R-K)/864e5);switch(D){case"overdue":return U<0;case"today":return U===0;case"tomorrow":return U===1;case"2-days":return U>=0&&U<=2;case"3-days":return U>=0&&U<=3;case"this-week":return U>=0&&U<=7;case"next-week":return U>7&&U<=14;case"this-month":return U>=0&&U<=30;case"no-date":return!1;default:return!0}},zu=L.filter(b=>{var Ie,Tn;if(!A&&b.matched===!1)return!1;const D=Dn.toLowerCase(),R=!Dn||(b.fullName||"").toLowerCase().includes(D)||(b.email||"").toLowerCase().includes(D)||(b.departmentName||"").toLowerCase().includes(D)||(b.agencyOwner||"").toLowerCase().includes(D);let B=!0;if(nr!=="all"){const Ae=(b.passFail||"").toUpperCase(),Hs=pa(b.examDateRaw),Iu=new Date;Iu.setHours(0,0,0,0);const ma=Hs&&Hs<Iu.getTime(),ar=Ae==="PASS"||Ae==="FAIL";switch(nr){case"passed":B=Ae==="PASS";break;case"failed":B=Ae==="FAIL";break;case"no-result":B=!ar;break;case"upcoming":B=!ma&&!ar;break;case"pending":B=ma&&!ar;break;case"at-risk":B=!ma&&!ar&&b.matched!==!1&&(((Ie=b.progress)==null?void 0:Ie.value)||0)<80;break;default:B=!0}}const K=sr==="all"||(b.examCourse||"").toLowerCase()===sr.toLowerCase(),U=nn.length===0||nn.includes((b.departmentName||"").trim()),ze=ir==="all"||(b.examState||"").toLowerCase()===ir.toLowerCase(),J=rr==="all"||(((Tn=b.readiness)==null?void 0:Tn.status)||"GRAY")===rr,Ct=Ng(b,ha);return R&&B&&K&&U&&ze&&J&&Ct}),or=A?L:L.filter(b=>b.matched!==!1),Sg=[...new Set(or.map(b=>(b.examCourse||"").trim()).filter(Boolean))].sort(),Cg=[...new Set(or.map(b=>(b.departmentName||"").trim()).filter(Boolean))].sort(),Mg=[...new Set(or.map(b=>(b.examState||"").trim()).filter(Boolean))].sort(),Lg=()=>{if(!w)return"Never";const D=Math.floor((new Date-w)/1e3);return D<60?"Just now":D<3600?`${Math.floor(D/60)} minutes ago`:D<86400?`${Math.floor(D/3600)} hours ago`:w.toLocaleDateString()};return c?l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx("header",{className:"header shadow-lg",children:l.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-10 w-32 bg-white/20 rounded animate-pulse"}),l.jsxs("div",{children:[l.jsx("div",{className:"h-5 w-40 bg-white/20 rounded animate-pulse mb-1"}),l.jsx("div",{className:"h-4 w-24 bg-white/10 rounded animate-pulse"})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-9 w-20 bg-white/10 rounded-lg animate-pulse"}),l.jsx("div",{className:"h-9 w-9 bg-white/10 rounded-lg animate-pulse"})]})]})})}),l.jsxs("main",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"spinner mx-auto mb-2"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Loading student data..."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(b=>l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 animate-pulse",children:[l.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded mb-3"}),l.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded"})]},b))}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b",children:l.jsx("div",{className:"h-10 w-64 bg-gray-200 rounded animate-pulse"})}),l.jsx("div",{className:"divide-y",children:[1,2,3,4,5].map(b=>l.jsx("div",{className:"p-4 animate-pulse",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),l.jsxs("div",{children:[l.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded mb-2"}),l.jsx("div",{className:"h-3 w-48 bg-gray-100 rounded"})]})]}),l.jsx("div",{className:"h-6 w-20 bg-gray-200 rounded-full"})]})},b))})]})]})]}):l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx("header",{className:"header shadow-lg",children:l.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("img",{src:"/logo.png",alt:"JustInsurance",className:"h-20 w-auto",onError:b=>{b.target.style.display="none"}}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white",children:"Student Dashboard"}),l.jsx("p",{className:"text-sm text-ji-blue-light",children:e==null?void 0:e.name})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{onClick:yg,disabled:d,className:"flex items-center space-x-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",children:[l.jsx("svg",{className:`w-5 h-5 ${d?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),l.jsx("span",{children:d?"Syncing...":"Sync"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"text-right hidden sm:block",children:[l.jsx("p",{className:"text-white font-medium",children:t==null?void 0:t.name}),l.jsx("p",{className:"text-xs text-ji-blue-light",children:t==null?void 0:t.email})]}),l.jsx("button",{onClick:n,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",title:"Logout",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})]})})}),l.jsxs("main",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[v&&l.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{className:"text-red-700",children:v})]}),l.jsx("button",{onClick:()=>y(null),className:"text-red-500 hover:text-red-700",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"flex space-x-1 mb-6 bg-white rounded-lg shadow-md p-1 max-w-xs",children:[l.jsx("button",{className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${_==="students"?"bg-ji-blue-bright text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,onClick:()=>N("students"),children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),l.jsx("span",{children:"Students"})]})}),l.jsx("button",{className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${_==="exam"?"bg-ji-blue-bright text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,onClick:()=>N("exam"),children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("span",{children:"Exam"})]})})]}),_==="students"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("p",{className:"text-sm text-gray-500",children:["Last updated: ",Lg()]}),f&&l.jsxs("span",{className:"text-xs text-ji-blue-bright flex items-center gap-1",children:[l.jsxs("svg",{className:"animate-spin h-3 w-3",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading progress data..."]})]}),l.jsxs("button",{onClick:()=>j(!k),className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center space-x-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),l.jsx("span",{children:k?"Hide Charts":"Show Charts"})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("svg",{className:"w-5 h-5 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Departments (",1+ke.length,")"]}),l.jsx("span",{className:"px-2 py-0.5 bg-ji-blue-bright/10 text-ji-blue-bright text-xs rounded-full font-medium",children:(e==null?void 0:e.name)||"Primary"}),bu.filter(b=>b.status==="ok"&&b.id!==(e==null?void 0:e.id)).map(b=>l.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full flex items-center gap-1",children:[b.name," (",b.studentCount,")",l.jsx("button",{onClick:()=>Eu(b.id),className:"text-red-400 hover:text-red-600 ml-0.5",title:"Remove department",children:l.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},b.id)),ke.filter(b=>!bu.some(D=>D.id===b&&D.status==="ok")).map(b=>l.jsxs("span",{className:"px-2 py-0.5 bg-yellow-50 text-yellow-700 text-xs rounded-full flex items-center gap-1",children:[b.substring(0,8),"...",l.jsx("button",{onClick:()=>Eu(b),className:"text-red-400 hover:text-red-600 ml-0.5",title:"Remove department",children:l.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},b))]}),l.jsxs("button",{onClick:()=>{pg(!tr),tn("")},className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:tr?"M5 15l7-7 7 7":"M12 4v16m8-8H4"})}),l.jsx("span",{children:tr?"Close":"Add Department"})]})]}),tr&&l.jsxs("div",{className:"mt-3 flex gap-2 items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("input",{type:"text",placeholder:"Paste Department ID (e.g. a1b2c3d4-e5f6-7890-abcd-ef1234567890)",value:yu,onChange:b=>{vu(b.target.value),tn("")},onKeyDown:b=>b.key==="Enter"&&Lu(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-ji-blue-bright"}),wu&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:wu})]}),l.jsx("button",{onClick:Lu,className:"btn btn-primary text-sm py-2 px-4 whitespace-nowrap",children:"Add"})]})]}),o&&l.jsx(oy,{summary:o}),k&&o&&l.jsx("div",{className:"mb-8 animate-fadeIn",children:l.jsx(iw,{summary:o,students:i})}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),l.jsx("input",{type:"text",placeholder:"Search by name, email, or department...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright",value:Dn,onChange:b=>la(b.target.value)})]}),l.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[ke.length>0&&Ru.length>1&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>ku(!aa),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright bg-white flex items-center gap-2 text-sm",children:[l.jsx("span",{children:Pn.length===0?"All Departments":`${Pn.length} dept${Pn.length>1?"s":""}`}),l.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:aa?"M5 15l7-7 7 7":"M19 9l-7 7-7-7"})})]}),aa&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>ku(!1)}),l.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-20 min-w-[200px] py-1",children:[l.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-50 cursor-pointer text-sm border-b border-gray-100",children:[l.jsx("input",{type:"checkbox",checked:Pn.length===0,onChange:()=>oa([]),className:"rounded text-ji-blue-bright"}),l.jsx("span",{className:"font-medium",children:"All Departments"})]}),Ru.map(b=>l.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-50 cursor-pointer text-sm",children:[l.jsx("input",{type:"checkbox",checked:Pn.includes(b),onChange:()=>{oa(D=>D.includes(b)?D.filter(R=>R!==b):[...D,b])},className:"rounded text-ji-blue-bright"}),l.jsx("span",{className:"truncate",children:b})]},b))]})]})]}),l.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright",value:ca,onChange:b=>mg(b.target.value),children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"complete",children:"Complete"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"warning",children:"Warning"}),l.jsx("option",{value:"re-engage",children:"Re-engage"}),l.jsx("option",{value:"abandoned",children:"Abandoned"}),l.jsx("option",{value:"course expired",children:"Course Expired"})]}),l.jsxs("button",{onClick:vg,className:"btn btn-secondary flex items-center space-x-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),l.jsx("span",{children:"Export CSV"})]})]})]}),l.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:["Showing ",Fu.length," of ",i.length," students",ke.length>0&&` across ${1+ke.length} departments`]})]}),l.jsx(ay,{students:Fu,onViewStudent:x,showDepartment:ke.length>0})]}),_==="exam"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-6 flex items-center justify-between flex-wrap gap-3",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam scheduling, pass rates & study tracking"}),l.jsxs("button",{onClick:()=>Ws(),disabled:Q,className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center space-x-1",children:[l.jsx("svg",{className:`w-4 h-4 ${Q?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),l.jsx("span",{children:Q?"Refreshing...":"Refresh"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[A?l.jsxs("div",{className:"flex items-center gap-2",children:[H&&l.jsx("span",{className:`text-xs px-2 py-1 rounded-lg border ${H.enabled?"text-green-600 border-green-200 bg-green-50":"text-gray-500 border-gray-200 bg-gray-50"}`,title:H.lastSync?`Last: ${new Date(H.lastSync).toLocaleString()}`:"No sync yet",children:H.enabled?`Auto-sync: every ${H.intervalHours}h${H.lastSync?` | Last: ${(()=>{const b=Math.round((Date.now()-new Date(H.lastSync).getTime())/6e4);return b<1?"just now":b<60?`${b}m ago`:`${Math.round(b/60)}h ago`})()}`:""}`:"Auto-sync: not configured"}),l.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700",children:[l.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Admin Mode"]}),l.jsx("button",{onClick:bg,className:"text-xs text-gray-500 hover:text-red-500",children:"Exit"})]}):l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>Ee(!ne),className:"text-sm text-purple-500 hover:text-purple-700 flex items-center space-x-1 px-2.5 py-1 rounded-lg border border-purple-200 hover:border-purple-400 hover:bg-purple-50 transition-colors",title:"Admin Override",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),l.jsx("span",{children:"Admin"})]}),ne&&l.jsxs("div",{className:"absolute right-0 top-8 bg-white rounded-lg shadow-lg border p-3 z-50 w-64",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter admin password to view all student data"}),l.jsxs("form",{onSubmit:b=>{b.preventDefault(),wg(b.target.password.value)},children:[l.jsx("input",{name:"password",type:"password",placeholder:"Admin password",className:"w-full px-3 py-1.5 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",autoFocus:!0}),ye&&l.jsx("p",{className:"text-xs text-red-500 mt-1",children:ye}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("button",{type:"submit",className:"flex-1 px-3 py-1.5 bg-purple-600 text-white rounded text-xs font-medium hover:bg-purple-700",children:"Unlock"}),l.jsx("button",{type:"button",onClick:()=>{Ee(!1),O("")},className:"px-3 py-1.5 bg-gray-100 rounded text-xs text-gray-600 hover:bg-gray-200",children:"Cancel"})]})]})]})]}),l.jsxs("button",{onClick:()=>M(!S),className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center space-x-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),l.jsx("span",{children:S?"Hide Charts":"Show Charts"})]})]})]}),A&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6 border-l-4 border-purple-500",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),l.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Allowed Users"}),l.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full font-medium ${ia?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:ia?`Active (${be.length} users)`:"Not enforcing"})]}),l.jsx("button",{onClick:()=>{qi(!Ft),!Ft&&be.length===0&&Du()},className:"text-sm text-purple-600 hover:text-purple-800 font-medium",children:Ft?"Hide":"Manage"})]}),!ia&&!Ft&&l.jsx("p",{className:"text-xs text-gray-500",children:"No users in allowlist. All authenticated Absorb users can log in. Add a user to start restricting access."}),Ft&&l.jsxs("div",{className:"mt-3",children:[l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx("input",{type:"email",placeholder:"Email address",value:sa,onChange:b=>{fu(b.target.value),Bs("")},onKeyDown:b=>b.key==="Enter"&&fa(),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("input",{type:"text",placeholder:"Name (optional)",value:pu,onChange:b=>mu(b.target.value),onKeyDown:b=>b.key==="Enter"&&fa(),className:"w-40 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("button",{onClick:fa,className:"px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700",children:"Add"})]}),gu&&l.jsx("p",{className:"text-xs text-red-500 mb-2",children:gu}),Pe?l.jsx("p",{className:"text-sm text-gray-400",children:"Loading..."}):be.length>0?l.jsx("div",{className:"divide-y divide-gray-100 max-h-64 overflow-y-auto",children:be.map(b=>l.jsxs("div",{className:"flex items-center justify-between py-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-800",children:b.name||b.email}),l.jsxs("p",{className:"text-xs text-gray-500",children:[b.email,"  Added ",new Date(b.added_at).toLocaleDateString()]})]}),l.jsx("button",{onClick:()=>kg(b.email),className:"text-xs text-red-500 hover:text-red-700 px-2 py-1 rounded hover:bg-red-50",children:"Remove"})]},b.email))}):l.jsx("p",{className:"text-sm text-gray-400",children:"No users in allowlist yet."})]})]}),S&&C&&l.jsx("div",{className:"mb-8 animate-fadeIn",children:l.jsx(rw,{examSummary:C,students:L})}),C&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 mb-4",children:[l.jsxs("div",{className:"kpi-card bg-gray-50 border-l-4 border-gray-500 animate-fadeIn",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),l.jsx("p",{className:"kpi-value text-gray-800",children:C.total}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exam scheduled"})]}),l.jsxs("div",{className:"kpi-card bg-blue-50 border-l-4 border-blue-500 animate-fadeIn",style:{animationDelay:"50ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Upcoming"}),l.jsx("p",{className:"kpi-value text-blue-800",children:C.upcoming}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exams scheduled"})]}),l.jsxs("div",{className:"kpi-card bg-green-50 border-l-4 border-green-500 animate-fadeIn",style:{animationDelay:"100ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pass Rate"}),l.jsxs("p",{className:"kpi-value text-green-800",children:[C.passRate,"%"]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[C.passed," passed / ",C.passed+C.failed," taken"]})]}),l.jsxs("div",{className:"kpi-card bg-red-50 border-l-4 border-red-500 animate-fadeIn",style:{animationDelay:"150ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed"}),l.jsx("p",{className:"kpi-value text-red-800",children:C.failed}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exam result"})]}),l.jsxs("div",{className:"kpi-card bg-amber-50 border-l-4 border-amber-500 animate-fadeIn",style:{animationDelay:"200ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"At Risk"}),l.jsx("p",{className:"kpi-value text-amber-800",children:C.atRisk}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upcoming + <80% progress"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[l.jsxs("div",{className:"kpi-card bg-purple-50 border-l-4 border-purple-500 animate-fadeIn",style:{animationDelay:"250ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Study Time"}),l.jsx("p",{className:"kpi-value text-purple-800",children:C.avgStudyTimeFormatted}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All tracked students"})]}),l.jsxs("div",{className:"kpi-card bg-green-50 border-l-4 border-green-400 animate-fadeIn",style:{animationDelay:"300ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Time (Passed)"}),l.jsx("p",{className:"kpi-value text-green-700",children:C.avgStudyPassedFormatted}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students who passed"})]}),l.jsxs("div",{className:"kpi-card bg-red-50 border-l-4 border-red-400 animate-fadeIn",style:{animationDelay:"350ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Time (Failed)"}),l.jsx("p",{className:"kpi-value text-red-700",children:C.avgStudyFailedFormatted}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students who failed"})]}),l.jsxs("div",{className:"kpi-card bg-indigo-50 border-l-4 border-indigo-500 animate-fadeIn",style:{animationDelay:"400ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Progress"}),l.jsxs("p",{className:"kpi-value text-indigo-800",children:[C.averageProgress,"%"]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Course completion"})]})]}),C.courseTypes&&Object.keys(C.courseTypes).length>0&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Pass Rate by Course Type"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:Object.entries(C.courseTypes).map(([b,D])=>{const R=D.passed||0,B=D.failed||0,K=R+B,U=K>0?Math.round(R/K*100):null;return l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900 text-sm",children:b}),l.jsxs("p",{className:"text-xs text-gray-500",children:[D.total," students"]})]}),l.jsx("div",{className:"text-right",children:U!==null?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:`text-lg font-bold ${U>=70?"text-green-600":U>=50?"text-amber-600":"text-red-600"}`,children:[U,"%"]}),l.jsxs("p",{className:"text-xs text-gray-500",children:[R,"P / ",B,"F"]})]}):l.jsx("p",{className:"text-sm text-gray-400",children:"No results"})})]},b)})})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),l.jsx("input",{type:"text",placeholder:"Search by name or email...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:Dn,onChange:b=>la(b.target.value)})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:nr,onChange:b=>ju(b.target.value),children:[l.jsx("option",{value:"no-result",children:"No Result"}),l.jsx("option",{value:"all",children:"All Results"}),l.jsx("option",{value:"upcoming",children:"Upcoming"}),l.jsx("option",{value:"passed",children:"Passed"}),l.jsx("option",{value:"failed",children:"Failed"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"at-risk",children:"At Risk"})]})]}),l.jsxs("div",{className:"flex items-center gap-3 flex-wrap mt-3",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>Nu(!da),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright bg-white flex items-center gap-2 text-sm",children:[l.jsx("span",{children:nn.length===0?"All Departments":`${nn.length} dept${nn.length>1?"s":""}`}),l.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:da?"M5 15l7-7 7 7":"M19 9l-7 7-7-7"})})]}),da&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>Nu(!1)}),l.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-20 min-w-[200px] py-1",children:[l.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-50 cursor-pointer text-sm border-b border-gray-100",children:[l.jsx("input",{type:"checkbox",checked:nn.length===0,onChange:()=>ua([]),className:"rounded text-ji-blue-bright"}),l.jsx("span",{className:"font-medium",children:"All Departments"})]}),Cg.map(b=>l.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-50 cursor-pointer text-sm",children:[l.jsx("input",{type:"checkbox",checked:nn.includes(b),onChange:()=>{ua(D=>D.includes(b)?D.filter(R=>R!==b):[...D,b])},className:"rounded text-ji-blue-bright"}),l.jsx("span",{className:"truncate",children:b})]},b))]})]})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:rr,onChange:b=>Cu(b.target.value),children:[l.jsx("option",{value:"all",children:"All Readiness"}),l.jsx("option",{value:"GREEN",children:"Green - On Track"}),l.jsx("option",{value:"YELLOW",children:"Yellow - Needs Attention"}),l.jsx("option",{value:"RED",children:"Red - At Risk"})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:ha,onChange:b=>Mu(b.target.value),children:[l.jsx("option",{value:"all",children:"All Dates"}),l.jsx("option",{value:"overdue",children:"Overdue"}),l.jsx("option",{value:"today",children:"Today"}),l.jsx("option",{value:"tomorrow",children:"Tomorrow"}),l.jsx("option",{value:"2-days",children:"Within 2 Days"}),l.jsx("option",{value:"3-days",children:"Within 3 Days"}),l.jsx("option",{value:"this-week",children:"This Week"}),l.jsx("option",{value:"next-week",children:"Next 2 Weeks"}),l.jsx("option",{value:"this-month",children:"This Month"})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:ir,onChange:b=>Su(b.target.value),children:[l.jsx("option",{value:"all",children:"All States"}),Mg.map(b=>l.jsx("option",{value:b,children:b},b))]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:sr,onChange:b=>_u(b.target.value),children:[l.jsx("option",{value:"all",children:"All Courses"}),Sg.map(b=>l.jsx("option",{value:b,children:b},b))]}),(nn.length>0||rr!=="all"||ha!=="all"||ir!=="all"||sr!=="all"||nr!=="all"||Dn)&&l.jsx("button",{onClick:()=>{ua([]),Cu("all"),Mu("all"),Su("all"),_u("all"),ju("all"),la("")},className:"px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors border border-red-200",children:"Clear All"})]}),l.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:["Showing ",zu.length," of ",or.length," exam students"]})]}),Q&&!X?l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[l.jsx("div",{className:"spinner mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Loading exam schedule..."})]}):l.jsx(ly,{students:zu,onViewStudent:x,adminMode:A})]})]}),m&&m.id&&l.jsx(py,{studentId:m.id,examInfo:m.examDate?{examDate:m.examDate,examDateRaw:m.examDateRaw,examTime:m.examTime,examState:m.examState,examCourse:m.examCourse,agencyOwner:m.agencyOwner,passFail:m.passFail,finalOutcome:m.finalOutcome,departmentName:m.departmentName,sheetTracking:m.sheetTracking,email:m.email}:null,onClose:()=>x(null),onSessionExpired:n,onUpdateResult:_==="exam"?Au:null,onUpdateExamDate:_==="exam"?Ou:null,onUpdateStudentContact:jg}),m&&!m.id&&l.jsx(my,{student:m,adminMode:A,onClose:()=>x(null),onUpdateResult:Au,onUpdateExamDate:Ou,onUpdateContact:_g})]})}const nl="/api";function aw(){const[t,e]=E.useState(!1),[n,s]=E.useState(null),[i,r]=E.useState(null),[o,a]=E.useState(!0),[c,u]=E.useState(null),[d,h]=E.useState(!1),[f,g]=E.useState(null);E.useEffect(()=>{v()},[]);const v=async()=>{try{const p=await fetch(`${nl}/auth/session`,{credentials:"include"});if(p.ok){const m=await p.json();m.success&&(s(m.user),r(m.department),e(!0))}}catch{console.log("No existing session")}finally{a(!1)}},y=async p=>{u(null);try{const m=await fetch(`${nl}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(p)}),x=await m.json();if(m.ok&&x.success)return console.log("[APP] Login successful, pre-fetching dashboard data..."),s(x.user),r(x.department),h(!0),console.log("[APP] Skipping pre-fetch, Dashboard will load data"),h(!1),e(!0),{success:!0};{const k=x.error||"Login failed";return u(k),{success:!1,error:k}}}catch{const x="Unable to connect to server. Please try again.";return u(x),{success:!1,error:x}}},w=async()=>{try{await fetch(`${nl}/auth/logout`,{method:"POST",credentials:"include"})}catch(p){console.error("Logout error:",p)}finally{s(null),r(null),e(!1)}};return o?l.jsx("div",{className:"min-h-screen flex items-center justify-center login-bg",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"spinner mx-auto mb-4",style:{borderTopColor:"#63b3ed"}}),l.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):d?l.jsx("div",{className:"min-h-screen flex items-center justify-center login-bg",children:l.jsxs("div",{className:"text-center max-w-md px-6",children:[l.jsx("div",{className:"spinner mx-auto mb-4",style:{borderTopColor:"#63b3ed"}}),l.jsxs("p",{className:"text-white text-xl font-semibold mb-2",children:["Welcome, ",n==null?void 0:n.name,"!"]}),l.jsx("p",{className:"text-ji-blue-light",children:"Loading your dashboard..."}),l.jsx("p",{className:"text-ji-blue-light text-sm mt-2 opacity-75",children:"Fetching student data from Absorb LMS"})]})}):t?l.jsx(ow,{user:n,department:i,onLogout:w,initialData:f}):l.jsx(ry,{onLogin:y,error:c})}sl.createRoot(document.getElementById("root")).render(l.jsx(vf.StrictMode,{children:l.jsx(aw,{})}));
//# sourceMappingURL=index-qoffRtdX.js.map
