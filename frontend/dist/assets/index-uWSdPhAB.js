var m0=Object.defineProperty;var g0=(t,e,n)=>e in t?m0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var K=(t,e,n)=>g0(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function x0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hf={exports:{}},ta={},$f={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ai=Symbol.for("react.element"),y0=Symbol.for("react.portal"),v0=Symbol.for("react.fragment"),b0=Symbol.for("react.strict_mode"),w0=Symbol.for("react.profiler"),k0=Symbol.for("react.provider"),j0=Symbol.for("react.context"),_0=Symbol.for("react.forward_ref"),N0=Symbol.for("react.suspense"),S0=Symbol.for("react.memo"),C0=Symbol.for("react.lazy"),vd=Symbol.iterator;function M0(t){return t===null||typeof t!="object"?null:(t=vd&&t[vd]||t["@@iterator"],typeof t=="function"?t:null)}var Vf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uf=Object.assign,Yf={};function Ks(t,e,n){this.props=t,this.context=e,this.refs=Yf,this.updater=n||Vf}Ks.prototype.isReactComponent={};Ks.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ks.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Xf(){}Xf.prototype=Ks.prototype;function Nc(t,e,n){this.props=t,this.context=e,this.refs=Yf,this.updater=n||Vf}var Sc=Nc.prototype=new Xf;Sc.constructor=Nc;Uf(Sc,Ks.prototype);Sc.isPureReactComponent=!0;var bd=Array.isArray,Kf=Object.prototype.hasOwnProperty,Cc={current:null},Gf={key:!0,ref:!0,__self:!0,__source:!0};function Qf(t,e,n){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Kf.call(e,s)&&!Gf.hasOwnProperty(s)&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];r.children=c}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:ai,type:t,key:i,ref:o,props:r,_owner:Cc.current}}function L0(t,e){return{$$typeof:ai,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mc(t){return typeof t=="object"&&t!==null&&t.$$typeof===ai}function E0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wd=/\/+/g;function za(t,e){return typeof t=="object"&&t!==null&&t.key!=null?E0(""+t.key):e.toString(36)}function no(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ai:case y0:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+za(o,0):s,bd(r)?(n="",t!=null&&(n=t.replace(wd,"$&/")+"/"),no(r,e,n,"",function(u){return u})):r!=null&&(Mc(r)&&(r=L0(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(wd,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",bd(t))for(var a=0;a<t.length;a++){i=t[a];var c=s+za(i,a);o+=no(i,e,n,c,r)}else if(c=M0(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=s+za(i,a++),o+=no(i,e,n,c,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Si(t,e,n){if(t==null)return t;var s=[],r=0;return no(t,s,"","",function(i){return e.call(n,i,r++)}),s}function P0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qe={current:null},so={transition:null},D0={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:so,ReactCurrentOwner:Cc};function Zf(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Si,forEach:function(t,e,n){Si(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Si(t,function(){e++}),e},toArray:function(t){return Si(t,function(e){return e})||[]},only:function(t){if(!Mc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Q.Component=Ks;Q.Fragment=v0;Q.Profiler=w0;Q.PureComponent=Nc;Q.StrictMode=b0;Q.Suspense=N0;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D0;Q.act=Zf;Q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Uf({},t.props),r=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Cc.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Kf.call(e,c)&&!Gf.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:ai,type:t.type,key:r,ref:i,props:s,_owner:o}};Q.createContext=function(t){return t={$$typeof:j0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:k0,_context:t},t.Consumer=t};Q.createElement=Qf;Q.createFactory=function(t){var e=Qf.bind(null,t);return e.type=t,e};Q.createRef=function(){return{current:null}};Q.forwardRef=function(t){return{$$typeof:_0,render:t}};Q.isValidElement=Mc;Q.lazy=function(t){return{$$typeof:C0,_payload:{_status:-1,_result:t},_init:P0}};Q.memo=function(t,e){return{$$typeof:S0,type:t,compare:e===void 0?null:e}};Q.startTransition=function(t){var e=so.transition;so.transition={};try{t()}finally{so.transition=e}};Q.unstable_act=Zf;Q.useCallback=function(t,e){return Qe.current.useCallback(t,e)};Q.useContext=function(t){return Qe.current.useContext(t)};Q.useDebugValue=function(){};Q.useDeferredValue=function(t){return Qe.current.useDeferredValue(t)};Q.useEffect=function(t,e){return Qe.current.useEffect(t,e)};Q.useId=function(){return Qe.current.useId()};Q.useImperativeHandle=function(t,e,n){return Qe.current.useImperativeHandle(t,e,n)};Q.useInsertionEffect=function(t,e){return Qe.current.useInsertionEffect(t,e)};Q.useLayoutEffect=function(t,e){return Qe.current.useLayoutEffect(t,e)};Q.useMemo=function(t,e){return Qe.current.useMemo(t,e)};Q.useReducer=function(t,e,n){return Qe.current.useReducer(t,e,n)};Q.useRef=function(t){return Qe.current.useRef(t)};Q.useState=function(t){return Qe.current.useState(t)};Q.useSyncExternalStore=function(t,e,n){return Qe.current.useSyncExternalStore(t,e,n)};Q.useTransition=function(){return Qe.current.useTransition()};Q.version="18.3.1";$f.exports=Q;var M=$f.exports;const Jf=x0(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0=M,A0=Symbol.for("react.element"),O0=Symbol.for("react.fragment"),R0=Object.prototype.hasOwnProperty,F0=T0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z0={key:!0,ref:!0,__self:!0,__source:!0};function qf(t,e,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)R0.call(e,s)&&!z0.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:A0,type:t,key:i,ref:o,props:r,_owner:F0.current}}ta.Fragment=O0;ta.jsx=qf;ta.jsxs=qf;Hf.exports=ta;var l=Hf.exports,Nl={},ep={exports:{}},dt={},tp={exports:{}},np={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,R){var W=D.length;D.push(R);e:for(;0<W;){var Z=W-1>>>1,J=D[Z];if(0<r(J,R))D[Z]=R,D[W]=J,W=Z;else break e}}function n(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var R=D[0],W=D.pop();if(W!==R){D[0]=W;e:for(var Z=0,J=D.length,ve=J>>>1;Z<ve;){var be=2*(Z+1)-1,O=D[be],V=be+1,se=D[V];if(0>r(O,W))V<J&&0>r(se,O)?(D[Z]=se,D[V]=W,Z=V):(D[Z]=O,D[be]=W,Z=be);else if(V<J&&0>r(se,W))D[Z]=se,D[V]=W,Z=V;else break e}}return R}function r(D,R){var W=D.sortIndex-R.sortIndex;return W!==0?W:D.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,f=3,g=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var R=n(u);R!==null;){if(R.callback===null)s(u);else if(R.startTime<=D)s(u),R.sortIndex=R.expirationTime,e(c,R);else break;R=n(u)}}function k(D){if(x=!1,v(D),!y)if(n(c)!==null)y=!0,Y(j);else{var R=n(u);R!==null&&X(k,R.startTime-D)}}function j(D,R){y=!1,x&&(x=!1,p(_),_=-1),g=!0;var W=f;try{for(v(R),h=n(c);h!==null&&(!(h.expirationTime>R)||D&&!N());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var J=Z(h.expirationTime<=R);R=t.unstable_now(),typeof J=="function"?h.callback=J:h===n(c)&&s(c),v(R)}else s(c);h=n(c)}if(h!==null)var ve=!0;else{var be=n(u);be!==null&&X(k,be.startTime-R),ve=!1}return ve}finally{h=null,f=W,g=!1}}var S=!1,L=null,_=-1,F=5,A=-1;function N(){return!(t.unstable_now()-A<F)}function C(){if(L!==null){var D=t.unstable_now();A=D;var R=!0;try{R=L(!0,D)}finally{R?z():(S=!1,L=null)}}else S=!1}var z;if(typeof m=="function")z=function(){m(C)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,H=$.port2;$.port1.onmessage=C,z=function(){H.postMessage(null)}}else z=function(){w(C,0)};function Y(D){L=D,S||(S=!0,z())}function X(D,R){_=w(function(){D(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,Y(j))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var W=f;f=R;try{return D()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,R){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=f;f=D;try{return R()}finally{f=W}},t.unstable_scheduleCallback=function(D,R,W){var Z=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Z+W:Z):W=Z,D){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=W+J,D={id:d++,callback:R,priorityLevel:D,startTime:W,expirationTime:J,sortIndex:-1},W>Z?(D.sortIndex=W,e(u,D),n(c)===null&&D===n(u)&&(x?(p(_),_=-1):x=!0,X(k,W-Z))):(D.sortIndex=J,e(c,D),y||g||(y=!0,Y(j))),D},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(D){var R=f;return function(){var W=f;f=R;try{return D.apply(this,arguments)}finally{f=W}}}})(np);tp.exports=np;var I0=tp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0=M,ut=I0;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sp=new Set,Ir={};function cs(t,e){Bs(t,e),Bs(t+"Capture",e)}function Bs(t,e){for(Ir[t]=e,t=0;t<e.length;t++)sp.add(e[t])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sl=Object.prototype.hasOwnProperty,W0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kd={},jd={};function H0(t){return Sl.call(jd,t)?!0:Sl.call(kd,t)?!1:W0.test(t)?jd[t]=!0:(kd[t]=!0,!1)}function $0(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function V0(t,e,n,s){if(e===null||typeof e>"u"||$0(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ze(t,e,n,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Be[t]=new Ze(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Be[e]=new Ze(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Be[t]=new Ze(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Be[t]=new Ze(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Be[t]=new Ze(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Be[t]=new Ze(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Be[t]=new Ze(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Be[t]=new Ze(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Be[t]=new Ze(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lc=/[\-:]([a-z])/g;function Ec(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lc,Ec);Be[e]=new Ze(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lc,Ec);Be[e]=new Ze(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lc,Ec);Be[e]=new Ze(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Be[t]=new Ze(t,1,!1,t.toLowerCase(),null,!1,!1)});Be.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Be[t]=new Ze(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pc(t,e,n,s){var r=Be.hasOwnProperty(e)?Be[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(V0(e,n,r,s)&&(n=null),s||r===null?H0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var rn=B0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ci=Symbol.for("react.element"),ys=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),Dc=Symbol.for("react.strict_mode"),Cl=Symbol.for("react.profiler"),rp=Symbol.for("react.provider"),ip=Symbol.for("react.context"),Tc=Symbol.for("react.forward_ref"),Ml=Symbol.for("react.suspense"),Ll=Symbol.for("react.suspense_list"),Ac=Symbol.for("react.memo"),hn=Symbol.for("react.lazy"),op=Symbol.for("react.offscreen"),_d=Symbol.iterator;function ir(t){return t===null||typeof t!="object"?null:(t=_d&&t[_d]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,Ia;function yr(t){if(Ia===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ia=e&&e[1]||""}return`
`+Ia+t}var Ba=!1;function Wa(t,e){if(!t||Ba)return"";Ba=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,a=i.length-1;1<=o&&0<=a&&r[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==i[a]){var c=`
`+r[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Ba=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yr(t):""}function U0(t){switch(t.tag){case 5:return yr(t.type);case 16:return yr("Lazy");case 13:return yr("Suspense");case 19:return yr("SuspenseList");case 0:case 2:case 15:return t=Wa(t.type,!1),t;case 11:return t=Wa(t.type.render,!1),t;case 1:return t=Wa(t.type,!0),t;default:return""}}function El(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vs:return"Fragment";case ys:return"Portal";case Cl:return"Profiler";case Dc:return"StrictMode";case Ml:return"Suspense";case Ll:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ip:return(t.displayName||"Context")+".Consumer";case rp:return(t._context.displayName||"Context")+".Provider";case Tc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ac:return e=t.displayName||null,e!==null?e:El(t.type)||"Memo";case hn:e=t._payload,t=t._init;try{return El(t(e))}catch{}}return null}function Y0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return El(e);case 8:return e===Dc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ap(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function X0(t){var e=ap(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mi(t){t._valueTracker||(t._valueTracker=X0(t))}function lp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=ap(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function vo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pl(t,e){var n=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Nd(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Pn(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cp(t,e){e=e.checked,e!=null&&Pc(t,"checked",e,!1)}function Dl(t,e){cp(t,e);var n=Pn(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tl(t,e.type,Pn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tl(t,e,n){(e!=="number"||vo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vr=Array.isArray;function Ps(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Pn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Al(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(vr(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pn(n)}}function up(t,e){var n=Pn(e.value),s=Pn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Md(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ol(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Li,hp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Li=Li||document.createElement("div"),Li.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Li.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Br(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K0=["Webkit","ms","Moz","O"];Object.keys(Sr).forEach(function(t){K0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sr[e]=Sr[t]})});function fp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sr.hasOwnProperty(t)&&Sr[t]?(""+e).trim():e+"px"}function pp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=fp(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var G0=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rl(t,e){if(e){if(G0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function Fl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zl=null;function Oc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Il=null,Ds=null,Ts=null;function Ld(t){if(t=ui(t)){if(typeof Il!="function")throw Error(T(280));var e=t.stateNode;e&&(e=oa(e),Il(t.stateNode,t.type,e))}}function mp(t){Ds?Ts?Ts.push(t):Ts=[t]:Ds=t}function gp(){if(Ds){var t=Ds,e=Ts;if(Ts=Ds=null,Ld(t),e)for(t=0;t<e.length;t++)Ld(e[t])}}function xp(t,e){return t(e)}function yp(){}var Ha=!1;function vp(t,e,n){if(Ha)return t(e,n);Ha=!0;try{return xp(t,e,n)}finally{Ha=!1,(Ds!==null||Ts!==null)&&(yp(),gp())}}function Wr(t,e){var n=t.stateNode;if(n===null)return null;var s=oa(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var Bl=!1;if(qt)try{var or={};Object.defineProperty(or,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{Bl=!1}function Q0(t,e,n,s,r,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Cr=!1,bo=null,wo=!1,Wl=null,Z0={onError:function(t){Cr=!0,bo=t}};function J0(t,e,n,s,r,i,o,a,c){Cr=!1,bo=null,Q0.apply(Z0,arguments)}function q0(t,e,n,s,r,i,o,a,c){if(J0.apply(this,arguments),Cr){if(Cr){var u=bo;Cr=!1,bo=null}else throw Error(T(198));wo||(wo=!0,Wl=u)}}function us(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ed(t){if(us(t)!==t)throw Error(T(188))}function ex(t){var e=t.alternate;if(!e){if(e=us(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Ed(r),t;if(i===s)return Ed(r),e;i=i.sibling}throw Error(T(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==s)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function wp(t){return t=ex(t),t!==null?kp(t):null}function kp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kp(t);if(e!==null)return e;t=t.sibling}return null}var jp=ut.unstable_scheduleCallback,Pd=ut.unstable_cancelCallback,tx=ut.unstable_shouldYield,nx=ut.unstable_requestPaint,je=ut.unstable_now,sx=ut.unstable_getCurrentPriorityLevel,Rc=ut.unstable_ImmediatePriority,_p=ut.unstable_UserBlockingPriority,ko=ut.unstable_NormalPriority,rx=ut.unstable_LowPriority,Np=ut.unstable_IdlePriority,na=null,Wt=null;function ix(t){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(na,t,void 0,(t.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:lx,ox=Math.log,ax=Math.LN2;function lx(t){return t>>>=0,t===0?32:31-(ox(t)/ax|0)|0}var Ei=64,Pi=4194304;function br(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jo(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?s=br(a):(i&=o,i!==0&&(s=br(i)))}else o=n&~r,o!==0?s=br(o):i!==0&&(s=br(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Lt(e),r=1<<n,s|=t[n],e&=~r;return s}function cx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ux(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Lt(i),a=1<<o,c=r[o];c===-1?(!(a&n)||a&s)&&(r[o]=cx(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Hl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Sp(){var t=Ei;return Ei<<=1,!(Ei&4194240)&&(Ei=64),t}function $a(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function li(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Lt(e),t[e]=n}function dx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Lt(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function Fc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Lt(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var ie=0;function Cp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Mp,zc,Lp,Ep,Pp,$l=!1,Di=[],wn=null,kn=null,jn=null,Hr=new Map,$r=new Map,pn=[],hx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dd(t,e){switch(t){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":Hr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$r.delete(e.pointerId)}}function ar(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=ui(e),e!==null&&zc(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function fx(t,e,n,s,r){switch(e){case"focusin":return wn=ar(wn,t,e,n,s,r),!0;case"dragenter":return kn=ar(kn,t,e,n,s,r),!0;case"mouseover":return jn=ar(jn,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return Hr.set(i,ar(Hr.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,$r.set(i,ar($r.get(i)||null,t,e,n,s,r)),!0}return!1}function Dp(t){var e=Gn(t.target);if(e!==null){var n=us(e);if(n!==null){if(e=n.tag,e===13){if(e=bp(n),e!==null){t.blockedOn=e,Pp(t.priority,function(){Lp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ro(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);zl=s,n.target.dispatchEvent(s),zl=null}else return e=ui(n),e!==null&&zc(e),t.blockedOn=n,!1;e.shift()}return!0}function Td(t,e,n){ro(t)&&n.delete(e)}function px(){$l=!1,wn!==null&&ro(wn)&&(wn=null),kn!==null&&ro(kn)&&(kn=null),jn!==null&&ro(jn)&&(jn=null),Hr.forEach(Td),$r.forEach(Td)}function lr(t,e){t.blockedOn===e&&(t.blockedOn=null,$l||($l=!0,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,px)))}function Vr(t){function e(r){return lr(r,t)}if(0<Di.length){lr(Di[0],t);for(var n=1;n<Di.length;n++){var s=Di[n];s.blockedOn===t&&(s.blockedOn=null)}}for(wn!==null&&lr(wn,t),kn!==null&&lr(kn,t),jn!==null&&lr(jn,t),Hr.forEach(e),$r.forEach(e),n=0;n<pn.length;n++)s=pn[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<pn.length&&(n=pn[0],n.blockedOn===null);)Dp(n),n.blockedOn===null&&pn.shift()}var As=rn.ReactCurrentBatchConfig,_o=!0;function mx(t,e,n,s){var r=ie,i=As.transition;As.transition=null;try{ie=1,Ic(t,e,n,s)}finally{ie=r,As.transition=i}}function gx(t,e,n,s){var r=ie,i=As.transition;As.transition=null;try{ie=4,Ic(t,e,n,s)}finally{ie=r,As.transition=i}}function Ic(t,e,n,s){if(_o){var r=Vl(t,e,n,s);if(r===null)qa(t,e,s,No,n),Dd(t,s);else if(fx(r,t,e,n,s))s.stopPropagation();else if(Dd(t,s),e&4&&-1<hx.indexOf(t)){for(;r!==null;){var i=ui(r);if(i!==null&&Mp(i),i=Vl(t,e,n,s),i===null&&qa(t,e,s,No,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else qa(t,e,s,null,n)}}var No=null;function Vl(t,e,n,s){if(No=null,t=Oc(s),t=Gn(t),t!==null)if(e=us(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return No=t,null}function Tp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sx()){case Rc:return 1;case _p:return 4;case ko:case rx:return 16;case Np:return 536870912;default:return 16}default:return 16}}var gn=null,Bc=null,io=null;function Ap(){if(io)return io;var t,e=Bc,n=e.length,s,r="value"in gn?gn.value:gn.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[i-s];s++);return io=r.slice(t,1<s?1-s:void 0)}function oo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ti(){return!0}function Ad(){return!1}function ht(t){function e(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ti:Ad,this.isPropagationStopped=Ad,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),e}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wc=ht(Gs),ci=xe({},Gs,{view:0,detail:0}),xx=ht(ci),Va,Ua,cr,sa=xe({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cr&&(cr&&t.type==="mousemove"?(Va=t.screenX-cr.screenX,Ua=t.screenY-cr.screenY):Ua=Va=0,cr=t),Va)},movementY:function(t){return"movementY"in t?t.movementY:Ua}}),Od=ht(sa),yx=xe({},sa,{dataTransfer:0}),vx=ht(yx),bx=xe({},ci,{relatedTarget:0}),Ya=ht(bx),wx=xe({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),kx=ht(wx),jx=xe({},Gs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_x=ht(jx),Nx=xe({},Gs,{data:0}),Rd=ht(Nx),Sx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Mx[t])?!!e[t]:!1}function Hc(){return Lx}var Ex=xe({},ci,{key:function(t){if(t.key){var e=Sx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hc,charCode:function(t){return t.type==="keypress"?oo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Px=ht(Ex),Dx=xe({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fd=ht(Dx),Tx=xe({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hc}),Ax=ht(Tx),Ox=xe({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rx=ht(Ox),Fx=xe({},sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zx=ht(Fx),Ix=[9,13,27,32],$c=qt&&"CompositionEvent"in window,Mr=null;qt&&"documentMode"in document&&(Mr=document.documentMode);var Bx=qt&&"TextEvent"in window&&!Mr,Op=qt&&(!$c||Mr&&8<Mr&&11>=Mr),zd=" ",Id=!1;function Rp(t,e){switch(t){case"keyup":return Ix.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bs=!1;function Wx(t,e){switch(t){case"compositionend":return Fp(e);case"keypress":return e.which!==32?null:(Id=!0,zd);case"textInput":return t=e.data,t===zd&&Id?null:t;default:return null}}function Hx(t,e){if(bs)return t==="compositionend"||!$c&&Rp(t,e)?(t=Ap(),io=Bc=gn=null,bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Op&&e.locale!=="ko"?null:e.data;default:return null}}var $x={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$x[t.type]:e==="textarea"}function zp(t,e,n,s){mp(s),e=So(e,"onChange"),0<e.length&&(n=new Wc("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Lr=null,Ur=null;function Vx(t){Gp(t,0)}function ra(t){var e=js(t);if(lp(e))return t}function Ux(t,e){if(t==="change")return e}var Ip=!1;if(qt){var Xa;if(qt){var Ka="oninput"in document;if(!Ka){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),Ka=typeof Wd.oninput=="function"}Xa=Ka}else Xa=!1;Ip=Xa&&(!document.documentMode||9<document.documentMode)}function Hd(){Lr&&(Lr.detachEvent("onpropertychange",Bp),Ur=Lr=null)}function Bp(t){if(t.propertyName==="value"&&ra(Ur)){var e=[];zp(e,Ur,t,Oc(t)),vp(Vx,e)}}function Yx(t,e,n){t==="focusin"?(Hd(),Lr=e,Ur=n,Lr.attachEvent("onpropertychange",Bp)):t==="focusout"&&Hd()}function Xx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ra(Ur)}function Kx(t,e){if(t==="click")return ra(e)}function Gx(t,e){if(t==="input"||t==="change")return ra(e)}function Qx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pt=typeof Object.is=="function"?Object.is:Qx;function Yr(t,e){if(Pt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Sl.call(e,r)||!Pt(t[r],e[r]))return!1}return!0}function $d(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vd(t,e){var n=$d(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$d(n)}}function Wp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Hp(){for(var t=window,e=vo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vo(t.document)}return e}function Vc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Zx(t){var e=Hp(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Wp(n.ownerDocument.documentElement,n)){if(s!==null&&Vc(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=Vd(n,i);var o=Vd(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jx=qt&&"documentMode"in document&&11>=document.documentMode,ws=null,Ul=null,Er=null,Yl=!1;function Ud(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yl||ws==null||ws!==vo(s)||(s=ws,"selectionStart"in s&&Vc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Er&&Yr(Er,s)||(Er=s,s=So(Ul,"onSelect"),0<s.length&&(e=new Wc("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ws)))}function Ai(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ks={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionend:Ai("Transition","TransitionEnd")},Ga={},$p={};qt&&($p=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function ia(t){if(Ga[t])return Ga[t];if(!ks[t])return t;var e=ks[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $p)return Ga[t]=e[n];return t}var Vp=ia("animationend"),Up=ia("animationiteration"),Yp=ia("animationstart"),Xp=ia("transitionend"),Kp=new Map,Yd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(t,e){Kp.set(t,e),cs(e,[t])}for(var Qa=0;Qa<Yd.length;Qa++){var Za=Yd[Qa],qx=Za.toLowerCase(),ey=Za[0].toUpperCase()+Za.slice(1);An(qx,"on"+ey)}An(Vp,"onAnimationEnd");An(Up,"onAnimationIteration");An(Yp,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An(Xp,"onTransitionEnd");Bs("onMouseEnter",["mouseout","mouseover"]);Bs("onMouseLeave",["mouseout","mouseover"]);Bs("onPointerEnter",["pointerout","pointerover"]);Bs("onPointerLeave",["pointerout","pointerover"]);cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ty=new Set("cancel close invalid load scroll toggle".split(" ").concat(wr));function Xd(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,q0(s,e,void 0,t),t.currentTarget=null}function Gp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&r.isPropagationStopped())break e;Xd(r,a,u),i=c}else for(o=0;o<s.length;o++){if(a=s[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&r.isPropagationStopped())break e;Xd(r,a,u),i=c}}}if(wo)throw t=Wl,wo=!1,Wl=null,t}function de(t,e){var n=e[Zl];n===void 0&&(n=e[Zl]=new Set);var s=t+"__bubble";n.has(s)||(Qp(e,t,2,!1),n.add(s))}function Ja(t,e,n){var s=0;e&&(s|=4),Qp(n,t,s,e)}var Oi="_reactListening"+Math.random().toString(36).slice(2);function Xr(t){if(!t[Oi]){t[Oi]=!0,sp.forEach(function(n){n!=="selectionchange"&&(ty.has(n)||Ja(n,!1,t),Ja(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oi]||(e[Oi]=!0,Ja("selectionchange",!1,e))}}function Qp(t,e,n,s){switch(Tp(e)){case 1:var r=mx;break;case 4:r=gx;break;default:r=Ic}n=r.bind(null,e,n,t),r=void 0,!Bl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function qa(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Gn(a),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}a=a.parentNode}}s=s.return}vp(function(){var u=i,d=Oc(n),h=[];e:{var f=Kp.get(t);if(f!==void 0){var g=Wc,y=t;switch(t){case"keypress":if(oo(n)===0)break e;case"keydown":case"keyup":g=Px;break;case"focusin":y="focus",g=Ya;break;case"focusout":y="blur",g=Ya;break;case"beforeblur":case"afterblur":g=Ya;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=vx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Ax;break;case Vp:case Up:case Yp:g=kx;break;case Xp:g=Rx;break;case"scroll":g=xx;break;case"wheel":g=zx;break;case"copy":case"cut":case"paste":g=_x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Fd}var x=(e&4)!==0,w=!x&&t==="scroll",p=x?f!==null?f+"Capture":null:f;x=[];for(var m=u,v;m!==null;){v=m;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,p!==null&&(k=Wr(m,p),k!=null&&x.push(Kr(m,k,v)))),w)break;m=m.return}0<x.length&&(f=new g(f,y,null,n,d),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==zl&&(y=n.relatedTarget||n.fromElement)&&(Gn(y)||y[en]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?Gn(y):null,y!==null&&(w=us(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(x=Od,k="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(x=Fd,k="onPointerLeave",p="onPointerEnter",m="pointer"),w=g==null?f:js(g),v=y==null?f:js(y),f=new x(k,m+"leave",g,n,d),f.target=w,f.relatedTarget=v,k=null,Gn(d)===u&&(x=new x(p,m+"enter",y,n,d),x.target=v,x.relatedTarget=w,k=x),w=k,g&&y)t:{for(x=g,p=y,m=0,v=x;v;v=ms(v))m++;for(v=0,k=p;k;k=ms(k))v++;for(;0<m-v;)x=ms(x),m--;for(;0<v-m;)p=ms(p),v--;for(;m--;){if(x===p||p!==null&&x===p.alternate)break t;x=ms(x),p=ms(p)}x=null}else x=null;g!==null&&Kd(h,f,g,x,!1),y!==null&&w!==null&&Kd(h,w,y,x,!0)}}e:{if(f=u?js(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var j=Ux;else if(Bd(f))if(Ip)j=Gx;else{j=Xx;var S=Yx}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=Kx);if(j&&(j=j(t,u))){zp(h,j,n,d);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Tl(f,"number",f.value)}switch(S=u?js(u):window,t){case"focusin":(Bd(S)||S.contentEditable==="true")&&(ws=S,Ul=u,Er=null);break;case"focusout":Er=Ul=ws=null;break;case"mousedown":Yl=!0;break;case"contextmenu":case"mouseup":case"dragend":Yl=!1,Ud(h,n,d);break;case"selectionchange":if(Jx)break;case"keydown":case"keyup":Ud(h,n,d)}var L;if($c)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else bs?Rp(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Op&&n.locale!=="ko"&&(bs||_!=="onCompositionStart"?_==="onCompositionEnd"&&bs&&(L=Ap()):(gn=d,Bc="value"in gn?gn.value:gn.textContent,bs=!0)),S=So(u,_),0<S.length&&(_=new Rd(_,t,null,n,d),h.push({event:_,listeners:S}),L?_.data=L:(L=Fp(n),L!==null&&(_.data=L)))),(L=Bx?Wx(t,n):Hx(t,n))&&(u=So(u,"onBeforeInput"),0<u.length&&(d=new Rd("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=L))}Gp(h,e)})}function Kr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function So(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Wr(t,n),i!=null&&s.unshift(Kr(t,i,r)),i=Wr(t,e),i!=null&&s.push(Kr(t,i,r))),t=t.return}return s}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Kd(t,e,n,s,r){for(var i=e._reactName,o=[];n!==null&&n!==s;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===s)break;a.tag===5&&u!==null&&(a=u,r?(c=Wr(n,i),c!=null&&o.unshift(Kr(n,c,a))):r||(c=Wr(n,i),c!=null&&o.push(Kr(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ny=/\r\n?/g,sy=/\u0000|\uFFFD/g;function Gd(t){return(typeof t=="string"?t:""+t).replace(ny,`
`).replace(sy,"")}function Ri(t,e,n){if(e=Gd(e),Gd(t)!==e&&n)throw Error(T(425))}function Co(){}var Xl=null,Kl=null;function Gl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ql=typeof setTimeout=="function"?setTimeout:void 0,ry=typeof clearTimeout=="function"?clearTimeout:void 0,Qd=typeof Promise=="function"?Promise:void 0,iy=typeof queueMicrotask=="function"?queueMicrotask:typeof Qd<"u"?function(t){return Qd.resolve(null).then(t).catch(oy)}:Ql;function oy(t){setTimeout(function(){throw t})}function el(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),Vr(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Vr(e)}function _n(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qs=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Qs,Gr="__reactProps$"+Qs,en="__reactContainer$"+Qs,Zl="__reactEvents$"+Qs,ay="__reactListeners$"+Qs,ly="__reactHandles$"+Qs;function Gn(t){var e=t[Bt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[en]||n[Bt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zd(t);t!==null;){if(n=t[Bt])return n;t=Zd(t)}return e}t=n,n=t.parentNode}return null}function ui(t){return t=t[Bt]||t[en],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function oa(t){return t[Gr]||null}var Jl=[],_s=-1;function On(t){return{current:t}}function fe(t){0>_s||(t.current=Jl[_s],Jl[_s]=null,_s--)}function ue(t,e){_s++,Jl[_s]=t.current,t.current=e}var Dn={},Ye=On(Dn),rt=On(!1),ns=Dn;function Ws(t,e){var n=t.type.contextTypes;if(!n)return Dn;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function it(t){return t=t.childContextTypes,t!=null}function Mo(){fe(rt),fe(Ye)}function Jd(t,e,n){if(Ye.current!==Dn)throw Error(T(168));ue(Ye,e),ue(rt,n)}function Zp(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(T(108,Y0(t)||"Unknown",r));return xe({},n,s)}function Lo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dn,ns=Ye.current,ue(Ye,t),ue(rt,rt.current),!0}function qd(t,e,n){var s=t.stateNode;if(!s)throw Error(T(169));n?(t=Zp(t,e,ns),s.__reactInternalMemoizedMergedChildContext=t,fe(rt),fe(Ye),ue(Ye,t)):fe(rt),ue(rt,n)}var Xt=null,aa=!1,tl=!1;function Jp(t){Xt===null?Xt=[t]:Xt.push(t)}function cy(t){aa=!0,Jp(t)}function Rn(){if(!tl&&Xt!==null){tl=!0;var t=0,e=ie;try{var n=Xt;for(ie=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Xt=null,aa=!1}catch(r){throw Xt!==null&&(Xt=Xt.slice(t+1)),jp(Rc,Rn),r}finally{ie=e,tl=!1}}return null}var Ns=[],Ss=0,Eo=null,Po=0,mt=[],gt=0,ss=null,Gt=1,Qt="";function Yn(t,e){Ns[Ss++]=Po,Ns[Ss++]=Eo,Eo=t,Po=e}function qp(t,e,n){mt[gt++]=Gt,mt[gt++]=Qt,mt[gt++]=ss,ss=t;var s=Gt;t=Qt;var r=32-Lt(s)-1;s&=~(1<<r),n+=1;var i=32-Lt(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,Gt=1<<32-Lt(e)+r|n<<r|s,Qt=i+t}else Gt=1<<i|n<<r|s,Qt=t}function Uc(t){t.return!==null&&(Yn(t,1),qp(t,1,0))}function Yc(t){for(;t===Eo;)Eo=Ns[--Ss],Ns[Ss]=null,Po=Ns[--Ss],Ns[Ss]=null;for(;t===ss;)ss=mt[--gt],mt[gt]=null,Qt=mt[--gt],mt[gt]=null,Gt=mt[--gt],mt[gt]=null}var ct=null,lt=null,pe=!1,Mt=null;function em(t,e){var n=xt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ct=t,lt=_n(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ct=t,lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ss!==null?{id:Gt,overflow:Qt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ct=t,lt=null,!0):!1;default:return!1}}function ql(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ec(t){if(pe){var e=lt;if(e){var n=e;if(!eh(t,e)){if(ql(t))throw Error(T(418));e=_n(n.nextSibling);var s=ct;e&&eh(t,e)?em(s,n):(t.flags=t.flags&-4097|2,pe=!1,ct=t)}}else{if(ql(t))throw Error(T(418));t.flags=t.flags&-4097|2,pe=!1,ct=t}}}function th(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ct=t}function Fi(t){if(t!==ct)return!1;if(!pe)return th(t),pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gl(t.type,t.memoizedProps)),e&&(e=lt)){if(ql(t))throw tm(),Error(T(418));for(;e;)em(t,e),e=_n(e.nextSibling)}if(th(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){lt=_n(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}lt=null}}else lt=ct?_n(t.stateNode.nextSibling):null;return!0}function tm(){for(var t=lt;t;)t=_n(t.nextSibling)}function Hs(){lt=ct=null,pe=!1}function Xc(t){Mt===null?Mt=[t]:Mt.push(t)}var uy=rn.ReactCurrentBatchConfig;function ur(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var s=n.stateNode}if(!s)throw Error(T(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=r.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function zi(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nh(t){var e=t._init;return e(t._payload)}function nm(t){function e(p,m){if(t){var v=p.deletions;v===null?(p.deletions=[m],p.flags|=16):v.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function s(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function r(p,m){return p=Mn(p,m),p.index=0,p.sibling=null,p}function i(p,m,v){return p.index=v,t?(v=p.alternate,v!==null?(v=v.index,v<m?(p.flags|=2,m):v):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,m,v,k){return m===null||m.tag!==6?(m=ll(v,p.mode,k),m.return=p,m):(m=r(m,v),m.return=p,m)}function c(p,m,v,k){var j=v.type;return j===vs?d(p,m,v.props.children,k,v.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hn&&nh(j)===m.type)?(k=r(m,v.props),k.ref=ur(p,m,v),k.return=p,k):(k=po(v.type,v.key,v.props,null,p.mode,k),k.ref=ur(p,m,v),k.return=p,k)}function u(p,m,v,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=cl(v,p.mode,k),m.return=p,m):(m=r(m,v.children||[]),m.return=p,m)}function d(p,m,v,k,j){return m===null||m.tag!==7?(m=es(v,p.mode,k,j),m.return=p,m):(m=r(m,v),m.return=p,m)}function h(p,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ll(""+m,p.mode,v),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ci:return v=po(m.type,m.key,m.props,null,p.mode,v),v.ref=ur(p,null,m),v.return=p,v;case ys:return m=cl(m,p.mode,v),m.return=p,m;case hn:var k=m._init;return h(p,k(m._payload),v)}if(vr(m)||ir(m))return m=es(m,p.mode,v,null),m.return=p,m;zi(p,m)}return null}function f(p,m,v,k){var j=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:a(p,m,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ci:return v.key===j?c(p,m,v,k):null;case ys:return v.key===j?u(p,m,v,k):null;case hn:return j=v._init,f(p,m,j(v._payload),k)}if(vr(v)||ir(v))return j!==null?null:d(p,m,v,k,null);zi(p,v)}return null}function g(p,m,v,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(v)||null,a(m,p,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ci:return p=p.get(k.key===null?v:k.key)||null,c(m,p,k,j);case ys:return p=p.get(k.key===null?v:k.key)||null,u(m,p,k,j);case hn:var S=k._init;return g(p,m,v,S(k._payload),j)}if(vr(k)||ir(k))return p=p.get(v)||null,d(m,p,k,j,null);zi(m,k)}return null}function y(p,m,v,k){for(var j=null,S=null,L=m,_=m=0,F=null;L!==null&&_<v.length;_++){L.index>_?(F=L,L=null):F=L.sibling;var A=f(p,L,v[_],k);if(A===null){L===null&&(L=F);break}t&&L&&A.alternate===null&&e(p,L),m=i(A,m,_),S===null?j=A:S.sibling=A,S=A,L=F}if(_===v.length)return n(p,L),pe&&Yn(p,_),j;if(L===null){for(;_<v.length;_++)L=h(p,v[_],k),L!==null&&(m=i(L,m,_),S===null?j=L:S.sibling=L,S=L);return pe&&Yn(p,_),j}for(L=s(p,L);_<v.length;_++)F=g(L,p,_,v[_],k),F!==null&&(t&&F.alternate!==null&&L.delete(F.key===null?_:F.key),m=i(F,m,_),S===null?j=F:S.sibling=F,S=F);return t&&L.forEach(function(N){return e(p,N)}),pe&&Yn(p,_),j}function x(p,m,v,k){var j=ir(v);if(typeof j!="function")throw Error(T(150));if(v=j.call(v),v==null)throw Error(T(151));for(var S=j=null,L=m,_=m=0,F=null,A=v.next();L!==null&&!A.done;_++,A=v.next()){L.index>_?(F=L,L=null):F=L.sibling;var N=f(p,L,A.value,k);if(N===null){L===null&&(L=F);break}t&&L&&N.alternate===null&&e(p,L),m=i(N,m,_),S===null?j=N:S.sibling=N,S=N,L=F}if(A.done)return n(p,L),pe&&Yn(p,_),j;if(L===null){for(;!A.done;_++,A=v.next())A=h(p,A.value,k),A!==null&&(m=i(A,m,_),S===null?j=A:S.sibling=A,S=A);return pe&&Yn(p,_),j}for(L=s(p,L);!A.done;_++,A=v.next())A=g(L,p,_,A.value,k),A!==null&&(t&&A.alternate!==null&&L.delete(A.key===null?_:A.key),m=i(A,m,_),S===null?j=A:S.sibling=A,S=A);return t&&L.forEach(function(C){return e(p,C)}),pe&&Yn(p,_),j}function w(p,m,v,k){if(typeof v=="object"&&v!==null&&v.type===vs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ci:e:{for(var j=v.key,S=m;S!==null;){if(S.key===j){if(j=v.type,j===vs){if(S.tag===7){n(p,S.sibling),m=r(S,v.props.children),m.return=p,p=m;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hn&&nh(j)===S.type){n(p,S.sibling),m=r(S,v.props),m.ref=ur(p,S,v),m.return=p,p=m;break e}n(p,S);break}else e(p,S);S=S.sibling}v.type===vs?(m=es(v.props.children,p.mode,k,v.key),m.return=p,p=m):(k=po(v.type,v.key,v.props,null,p.mode,k),k.ref=ur(p,m,v),k.return=p,p=k)}return o(p);case ys:e:{for(S=v.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(p,m.sibling),m=r(m,v.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=cl(v,p.mode,k),m.return=p,p=m}return o(p);case hn:return S=v._init,w(p,m,S(v._payload),k)}if(vr(v))return y(p,m,v,k);if(ir(v))return x(p,m,v,k);zi(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(p,m.sibling),m=r(m,v),m.return=p,p=m):(n(p,m),m=ll(v,p.mode,k),m.return=p,p=m),o(p)):n(p,m)}return w}var $s=nm(!0),sm=nm(!1),Do=On(null),To=null,Cs=null,Kc=null;function Gc(){Kc=Cs=To=null}function Qc(t){var e=Do.current;fe(Do),t._currentValue=e}function tc(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Os(t,e){To=t,Kc=Cs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nt=!0),t.firstContext=null)}function bt(t){var e=t._currentValue;if(Kc!==t)if(t={context:t,memoizedValue:e,next:null},Cs===null){if(To===null)throw Error(T(308));Cs=t,To.dependencies={lanes:0,firstContext:t}}else Cs=Cs.next=t;return e}var Qn=null;function Zc(t){Qn===null?Qn=[t]:Qn.push(t)}function rm(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,Zc(e)):(n.next=r.next,r.next=n),e.interleaved=n,tn(t,s)}function tn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fn=!1;function Jc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function im(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,te&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,tn(t,n)}return r=s.interleaved,r===null?(e.next=e,Zc(s)):(e.next=r.next,r.next=e),s.interleaved=e,tn(t,n)}function ao(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Fc(t,n)}}function sh(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ao(t,e,n,s){var r=t.updateQueue;fn=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;o=0,d=u=c=null,a=i;do{var f=a.lane,g=a.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,x=a;switch(f=e,g=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(g,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(g,h,f):y,f==null)break e;h=xe({},h,f);break e;case 2:fn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);is|=o,t.lanes=o,t.memoizedState=h}}function rh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(T(191,r));r.call(s)}}}var di={},Ht=On(di),Qr=On(di),Zr=On(di);function Zn(t){if(t===di)throw Error(T(174));return t}function qc(t,e){switch(ue(Zr,e),ue(Qr,t),ue(Ht,di),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ol(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ol(e,t)}fe(Ht),ue(Ht,e)}function Vs(){fe(Ht),fe(Qr),fe(Zr)}function om(t){Zn(Zr.current);var e=Zn(Ht.current),n=Ol(e,t.type);e!==n&&(ue(Qr,t),ue(Ht,n))}function eu(t){Qr.current===t&&(fe(Ht),fe(Qr))}var me=On(0);function Oo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nl=[];function tu(){for(var t=0;t<nl.length;t++)nl[t]._workInProgressVersionPrimary=null;nl.length=0}var lo=rn.ReactCurrentDispatcher,sl=rn.ReactCurrentBatchConfig,rs=0,ge=null,Ee=null,Re=null,Ro=!1,Pr=!1,Jr=0,dy=0;function We(){throw Error(T(321))}function nu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pt(t[n],e[n]))return!1;return!0}function su(t,e,n,s,r,i){if(rs=i,ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lo.current=t===null||t.memoizedState===null?my:gy,t=n(s,r),Pr){i=0;do{if(Pr=!1,Jr=0,25<=i)throw Error(T(301));i+=1,Re=Ee=null,e.updateQueue=null,lo.current=xy,t=n(s,r)}while(Pr)}if(lo.current=Fo,e=Ee!==null&&Ee.next!==null,rs=0,Re=Ee=ge=null,Ro=!1,e)throw Error(T(300));return t}function ru(){var t=Jr!==0;return Jr=0,t}function Ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ge.memoizedState=Re=t:Re=Re.next=t,Re}function wt(){if(Ee===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=Re===null?ge.memoizedState:Re.next;if(e!==null)Re=e,Ee=t;else{if(t===null)throw Error(T(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Re===null?ge.memoizedState=Re=t:Re=Re.next=t}return Re}function qr(t,e){return typeof e=="function"?e(t):e}function rl(t){var e=wt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var s=Ee,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((rs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=s):c=c.next=h,ge.lanes|=d,is|=d}u=u.next}while(u!==null&&u!==i);c===null?o=s:c.next=a,Pt(s,e.memoizedState)||(nt=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,ge.lanes|=i,is|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function il(t){var e=wt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=t(i,o.action),o=o.next;while(o!==r);Pt(i,e.memoizedState)||(nt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function am(){}function lm(t,e){var n=ge,s=wt(),r=e(),i=!Pt(s.memoizedState,r);if(i&&(s.memoizedState=r,nt=!0),s=s.queue,iu(dm.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,ei(9,um.bind(null,n,s,r,e),void 0,null),Fe===null)throw Error(T(349));rs&30||cm(n,e,r)}return r}function cm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function um(t,e,n,s){e.value=n,e.getSnapshot=s,hm(e)&&fm(t)}function dm(t,e,n){return n(function(){hm(e)&&fm(t)})}function hm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pt(t,n)}catch{return!0}}function fm(t){var e=tn(t,1);e!==null&&Et(e,t,1,-1)}function ih(t){var e=Ft();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:t},e.queue=t,t=t.dispatch=py.bind(null,ge,t),[e.memoizedState,t]}function ei(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function pm(){return wt().memoizedState}function co(t,e,n,s){var r=Ft();ge.flags|=t,r.memoizedState=ei(1|e,n,void 0,s===void 0?null:s)}function la(t,e,n,s){var r=wt();s=s===void 0?null:s;var i=void 0;if(Ee!==null){var o=Ee.memoizedState;if(i=o.destroy,s!==null&&nu(s,o.deps)){r.memoizedState=ei(e,n,i,s);return}}ge.flags|=t,r.memoizedState=ei(1|e,n,i,s)}function oh(t,e){return co(8390656,8,t,e)}function iu(t,e){return la(2048,8,t,e)}function mm(t,e){return la(4,2,t,e)}function gm(t,e){return la(4,4,t,e)}function xm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ym(t,e,n){return n=n!=null?n.concat([t]):null,la(4,4,xm.bind(null,e,t),n)}function ou(){}function vm(t,e){var n=wt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&nu(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function bm(t,e){var n=wt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&nu(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function wm(t,e,n){return rs&21?(Pt(n,e)||(n=Sp(),ge.lanes|=n,is|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nt=!0),t.memoizedState=n)}function hy(t,e){var n=ie;ie=n!==0&&4>n?n:4,t(!0);var s=sl.transition;sl.transition={};try{t(!1),e()}finally{ie=n,sl.transition=s}}function km(){return wt().memoizedState}function fy(t,e,n){var s=Cn(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},jm(t))_m(e,n);else if(n=rm(t,e,n,s),n!==null){var r=Ge();Et(n,t,s,r),Nm(n,e,s)}}function py(t,e,n){var s=Cn(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(jm(t))_m(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(r.hasEagerState=!0,r.eagerState=a,Pt(a,o)){var c=e.interleaved;c===null?(r.next=r,Zc(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=rm(t,e,r,s),n!==null&&(r=Ge(),Et(n,t,s,r),Nm(n,e,s))}}function jm(t){var e=t.alternate;return t===ge||e!==null&&e===ge}function _m(t,e){Pr=Ro=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Nm(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Fc(t,n)}}var Fo={readContext:bt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},my={readContext:bt,useCallback:function(t,e){return Ft().memoizedState=[t,e===void 0?null:e],t},useContext:bt,useEffect:oh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,co(4194308,4,xm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return co(4194308,4,t,e)},useInsertionEffect:function(t,e){return co(4,2,t,e)},useMemo:function(t,e){var n=Ft();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Ft();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=fy.bind(null,ge,t),[s.memoizedState,t]},useRef:function(t){var e=Ft();return t={current:t},e.memoizedState=t},useState:ih,useDebugValue:ou,useDeferredValue:function(t){return Ft().memoizedState=t},useTransition:function(){var t=ih(!1),e=t[0];return t=hy.bind(null,t[1]),Ft().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=ge,r=Ft();if(pe){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),Fe===null)throw Error(T(349));rs&30||cm(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,oh(dm.bind(null,s,i,t),[t]),s.flags|=2048,ei(9,um.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=Ft(),e=Fe.identifierPrefix;if(pe){var n=Qt,s=Gt;n=(s&~(1<<32-Lt(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=Jr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dy++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gy={readContext:bt,useCallback:vm,useContext:bt,useEffect:iu,useImperativeHandle:ym,useInsertionEffect:mm,useLayoutEffect:gm,useMemo:bm,useReducer:rl,useRef:pm,useState:function(){return rl(qr)},useDebugValue:ou,useDeferredValue:function(t){var e=wt();return wm(e,Ee.memoizedState,t)},useTransition:function(){var t=rl(qr)[0],e=wt().memoizedState;return[t,e]},useMutableSource:am,useSyncExternalStore:lm,useId:km,unstable_isNewReconciler:!1},xy={readContext:bt,useCallback:vm,useContext:bt,useEffect:iu,useImperativeHandle:ym,useInsertionEffect:mm,useLayoutEffect:gm,useMemo:bm,useReducer:il,useRef:pm,useState:function(){return il(qr)},useDebugValue:ou,useDeferredValue:function(t){var e=wt();return Ee===null?e.memoizedState=t:wm(e,Ee.memoizedState,t)},useTransition:function(){var t=il(qr)[0],e=wt().memoizedState;return[t,e]},useMutableSource:am,useSyncExternalStore:lm,useId:km,unstable_isNewReconciler:!1};function St(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function nc(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ca={isMounted:function(t){return(t=t._reactInternals)?us(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Ge(),r=Cn(t),i=Jt(s,r);i.payload=e,n!=null&&(i.callback=n),e=Nn(t,i,r),e!==null&&(Et(e,t,r,s),ao(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Ge(),r=Cn(t),i=Jt(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Nn(t,i,r),e!==null&&(Et(e,t,r,s),ao(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ge(),s=Cn(t),r=Jt(n,s);r.tag=2,e!=null&&(r.callback=e),e=Nn(t,r,s),e!==null&&(Et(e,t,s,n),ao(e,t,s))}};function ah(t,e,n,s,r,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!Yr(n,s)||!Yr(r,i):!0}function Sm(t,e,n){var s=!1,r=Dn,i=e.contextType;return typeof i=="object"&&i!==null?i=bt(i):(r=it(e)?ns:Ye.current,s=e.contextTypes,i=(s=s!=null)?Ws(t,r):Dn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ca,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function lh(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&ca.enqueueReplaceState(e,e.state,null)}function sc(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Jc(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=bt(i):(i=it(e)?ns:Ye.current,r.context=Ws(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(nc(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ca.enqueueReplaceState(r,r.state,null),Ao(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Us(t,e){try{var n="",s=e;do n+=U0(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function ol(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yy=typeof WeakMap=="function"?WeakMap:Map;function Cm(t,e,n){n=Jt(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Io||(Io=!0,pc=s),rc(t,e)},n}function Mm(t,e,n){n=Jt(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){rc(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){rc(t,e),typeof s!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ch(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new yy;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=Dy.bind(null,t,e,n),e.then(t,t))}function uh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dh(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jt(-1,1),e.tag=2,Nn(n,e,1))),n.lanes|=1),t)}var vy=rn.ReactCurrentOwner,nt=!1;function Ke(t,e,n,s){e.child=t===null?sm(e,null,n,s):$s(e,t.child,n,s)}function hh(t,e,n,s,r){n=n.render;var i=e.ref;return Os(e,r),s=su(t,e,n,s,i,r),n=ru(),t!==null&&!nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,nn(t,e,r)):(pe&&n&&Uc(e),e.flags|=1,Ke(t,e,s,r),e.child)}function fh(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!pu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Lm(t,e,i,s,r)):(t=po(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Yr,n(o,s)&&t.ref===e.ref)return nn(t,e,r)}return e.flags|=1,t=Mn(i,s),t.ref=e.ref,t.return=e,e.child=t}function Lm(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(Yr(i,s)&&t.ref===e.ref)if(nt=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(nt=!0);else return e.lanes=t.lanes,nn(t,e,r)}return ic(t,e,n,s,r)}function Em(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Ls,at),at|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ue(Ls,at),at|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,ue(Ls,at),at|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,ue(Ls,at),at|=s;return Ke(t,e,r,n),e.child}function Pm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ic(t,e,n,s,r){var i=it(n)?ns:Ye.current;return i=Ws(e,i),Os(e,r),n=su(t,e,n,s,i,r),s=ru(),t!==null&&!nt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,nn(t,e,r)):(pe&&s&&Uc(e),e.flags|=1,Ke(t,e,n,r),e.child)}function ph(t,e,n,s,r){if(it(n)){var i=!0;Lo(e)}else i=!1;if(Os(e,r),e.stateNode===null)uo(t,e),Sm(e,n,s),sc(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=bt(u):(u=it(n)?ns:Ye.current,u=Ws(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||c!==u)&&lh(e,o,s,u),fn=!1;var f=e.memoizedState;o.state=f,Ao(e,s,o,r),c=e.memoizedState,a!==s||f!==c||rt.current||fn?(typeof d=="function"&&(nc(e,n,d,s),c=e.memoizedState),(a=fn||ah(e,n,a,s,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,im(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:St(e.type,a),o.props=u,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=bt(c):(c=it(n)?ns:Ye.current,c=Ws(e,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&lh(e,o,s,c),fn=!1,f=e.memoizedState,o.state=f,Ao(e,s,o,r);var y=e.memoizedState;a!==h||f!==y||rt.current||fn?(typeof g=="function"&&(nc(e,n,g,s),y=e.memoizedState),(u=fn||ah(e,n,u,s,f,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),o.props=s,o.state=y,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return oc(t,e,n,s,i,r)}function oc(t,e,n,s,r,i){Pm(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&qd(e,n,!1),nn(t,e,i);s=e.stateNode,vy.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=$s(e,t.child,null,i),e.child=$s(e,null,a,i)):Ke(t,e,a,i),e.memoizedState=s.state,r&&qd(e,n,!0),e.child}function Dm(t){var e=t.stateNode;e.pendingContext?Jd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jd(t,e.context,!1),qc(t,e.containerInfo)}function mh(t,e,n,s,r){return Hs(),Xc(r),e.flags|=256,Ke(t,e,n,s),e.child}var ac={dehydrated:null,treeContext:null,retryLane:0};function lc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Tm(t,e,n){var s=e.pendingProps,r=me.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ue(me,r&1),t===null)return ec(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ha(o,s,0,null),t=es(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=lc(n),e.memoizedState=ac,t):au(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return by(t,e,o,s,a,r,n);if(i){i=s.fallback,o=e.mode,r=t.child,a=r.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=Mn(r,c),s.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=Mn(a,i):(i=es(i,o,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?lc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ac,s}return i=t.child,t=i.sibling,s=Mn(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function au(t,e){return e=ha({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ii(t,e,n,s){return s!==null&&Xc(s),$s(e,t.child,null,n),t=au(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function by(t,e,n,s,r,i,o){if(n)return e.flags&256?(e.flags&=-257,s=ol(Error(T(422))),Ii(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=ha({mode:"visible",children:s.children},r,0,null),i=es(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&$s(e,t.child,null,o),e.child.memoizedState=lc(o),e.memoizedState=ac,i);if(!(e.mode&1))return Ii(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(T(419)),s=ol(i,s,void 0),Ii(t,e,o,s)}if(a=(o&t.childLanes)!==0,nt||a){if(s=Fe,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,tn(t,r),Et(s,t,r,-1))}return fu(),s=ol(Error(T(421))),Ii(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=Ty.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,lt=_n(r.nextSibling),ct=e,pe=!0,Mt=null,t!==null&&(mt[gt++]=Gt,mt[gt++]=Qt,mt[gt++]=ss,Gt=t.id,Qt=t.overflow,ss=e),e=au(e,s.children),e.flags|=4096,e)}function gh(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),tc(t.return,e,n)}function al(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function Am(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(Ke(t,e,s.children,n),s=me.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gh(t,n,e);else if(t.tag===19)gh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ue(me,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Oo(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),al(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Oo(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}al(e,!0,n,null,i);break;case"together":al(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),is|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=Mn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wy(t,e,n){switch(e.tag){case 3:Dm(e),Hs();break;case 5:om(e);break;case 1:it(e.type)&&Lo(e);break;case 4:qc(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;ue(Do,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(ue(me,me.current&1),e.flags|=128,null):n&e.child.childLanes?Tm(t,e,n):(ue(me,me.current&1),t=nn(t,e,n),t!==null?t.sibling:null);ue(me,me.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return Am(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ue(me,me.current),s)break;return null;case 22:case 23:return e.lanes=0,Em(t,e,n)}return nn(t,e,n)}var Om,cc,Rm,Fm;Om=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cc=function(){};Rm=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,Zn(Ht.current);var i=null;switch(n){case"input":r=Pl(t,r),s=Pl(t,s),i=[];break;case"select":r=xe({},r,{value:void 0}),s=xe({},s,{value:void 0}),i=[];break;case"textarea":r=Al(t,r),s=Al(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Co)}Rl(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ir.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(a=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ir.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&de("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Fm=function(t,e,n,s){n!==s&&(e.flags|=4)};function dr(t,e){if(!pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function He(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function ky(t,e,n){var s=e.pendingProps;switch(Yc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(e),null;case 1:return it(e.type)&&Mo(),He(e),null;case 3:return s=e.stateNode,Vs(),fe(rt),fe(Ye),tu(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Fi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mt!==null&&(xc(Mt),Mt=null))),cc(t,e),He(e),null;case 5:eu(e);var r=Zn(Zr.current);if(n=e.type,t!==null&&e.stateNode!=null)Rm(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(T(166));return He(e),null}if(t=Zn(Ht.current),Fi(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[Bt]=e,s[Gr]=i,t=(e.mode&1)!==0,n){case"dialog":de("cancel",s),de("close",s);break;case"iframe":case"object":case"embed":de("load",s);break;case"video":case"audio":for(r=0;r<wr.length;r++)de(wr[r],s);break;case"source":de("error",s);break;case"img":case"image":case"link":de("error",s),de("load",s);break;case"details":de("toggle",s);break;case"input":Nd(s,i),de("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},de("invalid",s);break;case"textarea":Cd(s,i),de("invalid",s)}Rl(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ri(s.textContent,a,t),r=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ri(s.textContent,a,t),r=["children",""+a]):Ir.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&de("scroll",s)}switch(n){case"input":Mi(s),Sd(s,i,!0);break;case"textarea":Mi(s),Md(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Co)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[Bt]=e,t[Gr]=s,Om(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fl(n,s),n){case"dialog":de("cancel",t),de("close",t),r=s;break;case"iframe":case"object":case"embed":de("load",t),r=s;break;case"video":case"audio":for(r=0;r<wr.length;r++)de(wr[r],t);r=s;break;case"source":de("error",t),r=s;break;case"img":case"image":case"link":de("error",t),de("load",t),r=s;break;case"details":de("toggle",t),r=s;break;case"input":Nd(t,s),r=Pl(t,s),de("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=xe({},s,{value:void 0}),de("invalid",t);break;case"textarea":Cd(t,s),r=Al(t,s),de("invalid",t);break;default:r=s}Rl(n,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?pp(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&hp(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Br(t,c):typeof c=="number"&&Br(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ir.hasOwnProperty(i)?c!=null&&i==="onScroll"&&de("scroll",t):c!=null&&Pc(t,i,c,o))}switch(n){case"input":Mi(t),Sd(t,s,!1);break;case"textarea":Mi(t),Md(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Pn(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?Ps(t,!!s.multiple,i,!1):s.defaultValue!=null&&Ps(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Co)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return He(e),null;case 6:if(t&&e.stateNode!=null)Fm(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(T(166));if(n=Zn(Zr.current),Zn(Ht.current),Fi(e)){if(s=e.stateNode,n=e.memoizedProps,s[Bt]=e,(i=s.nodeValue!==n)&&(t=ct,t!==null))switch(t.tag){case 3:Ri(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ri(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Bt]=e,e.stateNode=s}return He(e),null;case 13:if(fe(me),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pe&&lt!==null&&e.mode&1&&!(e.flags&128))tm(),Hs(),e.flags|=98560,i=!1;else if(i=Fi(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(T(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Bt]=e}else Hs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;He(e),i=!1}else Mt!==null&&(xc(Mt),Mt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||me.current&1?De===0&&(De=3):fu())),e.updateQueue!==null&&(e.flags|=4),He(e),null);case 4:return Vs(),cc(t,e),t===null&&Xr(e.stateNode.containerInfo),He(e),null;case 10:return Qc(e.type._context),He(e),null;case 17:return it(e.type)&&Mo(),He(e),null;case 19:if(fe(me),i=e.memoizedState,i===null)return He(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)dr(i,!1);else{if(De!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Oo(t),o!==null){for(e.flags|=128,dr(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ue(me,me.current&1|2),e.child}t=t.sibling}i.tail!==null&&je()>Ys&&(e.flags|=128,s=!0,dr(i,!1),e.lanes=4194304)}else{if(!s)if(t=Oo(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),dr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!pe)return He(e),null}else 2*je()-i.renderingStartTime>Ys&&n!==1073741824&&(e.flags|=128,s=!0,dr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=je(),e.sibling=null,n=me.current,ue(me,s?n&1|2:n&1),e):(He(e),null);case 22:case 23:return hu(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?at&1073741824&&(He(e),e.subtreeFlags&6&&(e.flags|=8192)):He(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function jy(t,e){switch(Yc(e),e.tag){case 1:return it(e.type)&&Mo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vs(),fe(rt),fe(Ye),tu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return eu(e),null;case 13:if(fe(me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Hs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return fe(me),null;case 4:return Vs(),null;case 10:return Qc(e.type._context),null;case 22:case 23:return hu(),null;case 24:return null;default:return null}}var Bi=!1,Ve=!1,_y=typeof WeakSet=="function"?WeakSet:Set,B=null;function Ms(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ye(t,e,s)}else n.current=null}function uc(t,e,n){try{n()}catch(s){ye(t,e,s)}}var xh=!1;function Ny(t,e){if(Xl=_o,t=Hp(),Vc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==i||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++u===r&&(a=o),f===i&&++d===s&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kl={focusedElem:t,selectionRange:n},_o=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,w=y.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?x:St(e.type,x),w);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(k){ye(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return y=xh,xh=!1,y}function Dr(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&uc(e,n,i)}r=r.next}while(r!==s)}}function ua(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function dc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zm(t){var e=t.alternate;e!==null&&(t.alternate=null,zm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bt],delete e[Gr],delete e[Zl],delete e[ay],delete e[ly])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Im(t){return t.tag===5||t.tag===3||t.tag===4}function yh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Im(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hc(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Co));else if(s!==4&&(t=t.child,t!==null))for(hc(t,e,n),t=t.sibling;t!==null;)hc(t,e,n),t=t.sibling}function fc(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(fc(t,e,n),t=t.sibling;t!==null;)fc(t,e,n),t=t.sibling}var ze=null,Ct=!1;function un(t,e,n){for(n=n.child;n!==null;)Bm(t,e,n),n=n.sibling}function Bm(t,e,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(na,n)}catch{}switch(n.tag){case 5:Ve||Ms(n,e);case 6:var s=ze,r=Ct;ze=null,un(t,e,n),ze=s,Ct=r,ze!==null&&(Ct?(t=ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(Ct?(t=ze,n=n.stateNode,t.nodeType===8?el(t.parentNode,n):t.nodeType===1&&el(t,n),Vr(t)):el(ze,n.stateNode));break;case 4:s=ze,r=Ct,ze=n.stateNode.containerInfo,Ct=!0,un(t,e,n),ze=s,Ct=r;break;case 0:case 11:case 14:case 15:if(!Ve&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&uc(n,e,o),r=r.next}while(r!==s)}un(t,e,n);break;case 1:if(!Ve&&(Ms(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){ye(n,e,a)}un(t,e,n);break;case 21:un(t,e,n);break;case 22:n.mode&1?(Ve=(s=Ve)||n.memoizedState!==null,un(t,e,n),Ve=s):un(t,e,n);break;default:un(t,e,n)}}function vh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _y),e.forEach(function(s){var r=Ay.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Nt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ze=a.stateNode,Ct=!1;break e;case 3:ze=a.stateNode.containerInfo,Ct=!0;break e;case 4:ze=a.stateNode.containerInfo,Ct=!0;break e}a=a.return}if(ze===null)throw Error(T(160));Bm(i,o,r),ze=null,Ct=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){ye(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Wm(e,t),e=e.sibling}function Wm(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nt(e,t),At(t),s&4){try{Dr(3,t,t.return),ua(3,t)}catch(x){ye(t,t.return,x)}try{Dr(5,t,t.return)}catch(x){ye(t,t.return,x)}}break;case 1:Nt(e,t),At(t),s&512&&n!==null&&Ms(n,n.return);break;case 5:if(Nt(e,t),At(t),s&512&&n!==null&&Ms(n,n.return),t.flags&32){var r=t.stateNode;try{Br(r,"")}catch(x){ye(t,t.return,x)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&cp(r,i),Fl(a,o);var u=Fl(a,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?pp(r,h):d==="dangerouslySetInnerHTML"?hp(r,h):d==="children"?Br(r,h):Pc(r,d,h,u)}switch(a){case"input":Dl(r,i);break;case"textarea":up(r,i);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Ps(r,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ps(r,!!i.multiple,i.defaultValue,!0):Ps(r,!!i.multiple,i.multiple?[]:"",!1))}r[Gr]=i}catch(x){ye(t,t.return,x)}}break;case 6:if(Nt(e,t),At(t),s&4){if(t.stateNode===null)throw Error(T(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(x){ye(t,t.return,x)}}break;case 3:if(Nt(e,t),At(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Vr(e.containerInfo)}catch(x){ye(t,t.return,x)}break;case 4:Nt(e,t),At(t);break;case 13:Nt(e,t),At(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(uu=je())),s&4&&vh(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ve=(u=Ve)||d,Nt(e,t),Ve=u):Nt(e,t),At(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(B=t,d=t.child;d!==null;){for(h=B=d;B!==null;){switch(f=B,g=f.child,f.tag){case 0:case 11:case 14:case 15:Dr(4,f,f.return);break;case 1:Ms(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){s=f,n=f.return;try{e=s,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){ye(s,n,x)}}break;case 5:Ms(f,f.return);break;case 22:if(f.memoizedState!==null){wh(h);continue}}g!==null?(g.return=f,B=g):wh(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=fp("display",o))}catch(x){ye(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){ye(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nt(e,t),At(t),s&4&&vh(t);break;case 21:break;default:Nt(e,t),At(t)}}function At(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Im(n)){var s=n;break e}n=n.return}throw Error(T(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Br(r,""),s.flags&=-33);var i=yh(t);fc(t,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,a=yh(t);hc(t,a,o);break;default:throw Error(T(161))}}catch(c){ye(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Sy(t,e,n){B=t,Hm(t)}function Hm(t,e,n){for(var s=(t.mode&1)!==0;B!==null;){var r=B,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||Bi;if(!o){var a=r.alternate,c=a!==null&&a.memoizedState!==null||Ve;a=Bi;var u=Ve;if(Bi=o,(Ve=c)&&!u)for(B=r;B!==null;)o=B,c=o.child,o.tag===22&&o.memoizedState!==null?kh(r):c!==null?(c.return=o,B=c):kh(r);for(;i!==null;)B=i,Hm(i),i=i.sibling;B=r,Bi=a,Ve=u}bh(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,B=i):bh(t)}}function bh(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ve||ua(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Ve)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:St(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&rh(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rh(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Vr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ve||e.flags&512&&dc(e)}catch(f){ye(e,e.return,f)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function wh(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function kh(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ua(4,e)}catch(c){ye(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(c){ye(e,r,c)}}var i=e.return;try{dc(e)}catch(c){ye(e,i,c)}break;case 5:var o=e.return;try{dc(e)}catch(c){ye(e,o,c)}}}catch(c){ye(e,e.return,c)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var Cy=Math.ceil,zo=rn.ReactCurrentDispatcher,lu=rn.ReactCurrentOwner,vt=rn.ReactCurrentBatchConfig,te=0,Fe=null,Ce=null,Ie=0,at=0,Ls=On(0),De=0,ti=null,is=0,da=0,cu=0,Tr=null,et=null,uu=0,Ys=1/0,Yt=null,Io=!1,pc=null,Sn=null,Wi=!1,xn=null,Bo=0,Ar=0,mc=null,ho=-1,fo=0;function Ge(){return te&6?je():ho!==-1?ho:ho=je()}function Cn(t){return t.mode&1?te&2&&Ie!==0?Ie&-Ie:uy.transition!==null?(fo===0&&(fo=Sp()),fo):(t=ie,t!==0||(t=window.event,t=t===void 0?16:Tp(t.type)),t):1}function Et(t,e,n,s){if(50<Ar)throw Ar=0,mc=null,Error(T(185));li(t,n,s),(!(te&2)||t!==Fe)&&(t===Fe&&(!(te&2)&&(da|=n),De===4&&mn(t,Ie)),ot(t,s),n===1&&te===0&&!(e.mode&1)&&(Ys=je()+500,aa&&Rn()))}function ot(t,e){var n=t.callbackNode;ux(t,e);var s=jo(t,t===Fe?Ie:0);if(s===0)n!==null&&Pd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Pd(n),e===1)t.tag===0?cy(jh.bind(null,t)):Jp(jh.bind(null,t)),iy(function(){!(te&6)&&Rn()}),n=null;else{switch(Cp(s)){case 1:n=Rc;break;case 4:n=_p;break;case 16:n=ko;break;case 536870912:n=Np;break;default:n=ko}n=Qm(n,$m.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $m(t,e){if(ho=-1,fo=0,te&6)throw Error(T(327));var n=t.callbackNode;if(Rs()&&t.callbackNode!==n)return null;var s=jo(t,t===Fe?Ie:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Wo(t,s);else{e=s;var r=te;te|=2;var i=Um();(Fe!==t||Ie!==e)&&(Yt=null,Ys=je()+500,qn(t,e));do try{Ey();break}catch(a){Vm(t,a)}while(!0);Gc(),zo.current=i,te=r,Ce!==null?e=0:(Fe=null,Ie=0,e=De)}if(e!==0){if(e===2&&(r=Hl(t),r!==0&&(s=r,e=gc(t,r))),e===1)throw n=ti,qn(t,0),mn(t,s),ot(t,je()),n;if(e===6)mn(t,s);else{if(r=t.current.alternate,!(s&30)&&!My(r)&&(e=Wo(t,s),e===2&&(i=Hl(t),i!==0&&(s=i,e=gc(t,i))),e===1))throw n=ti,qn(t,0),mn(t,s),ot(t,je()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(T(345));case 2:Xn(t,et,Yt);break;case 3:if(mn(t,s),(s&130023424)===s&&(e=uu+500-je(),10<e)){if(jo(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){Ge(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Ql(Xn.bind(null,t,et,Yt),e);break}Xn(t,et,Yt);break;case 4:if(mn(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-Lt(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=je()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Cy(s/1960))-s,10<s){t.timeoutHandle=Ql(Xn.bind(null,t,et,Yt),s);break}Xn(t,et,Yt);break;case 5:Xn(t,et,Yt);break;default:throw Error(T(329))}}}return ot(t,je()),t.callbackNode===n?$m.bind(null,t):null}function gc(t,e){var n=Tr;return t.current.memoizedState.isDehydrated&&(qn(t,e).flags|=256),t=Wo(t,e),t!==2&&(e=et,et=n,e!==null&&xc(e)),t}function xc(t){et===null?et=t:et.push.apply(et,t)}function My(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Pt(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mn(t,e){for(e&=~cu,e&=~da,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Lt(e),s=1<<n;t[n]=-1,e&=~s}}function jh(t){if(te&6)throw Error(T(327));Rs();var e=jo(t,0);if(!(e&1))return ot(t,je()),null;var n=Wo(t,e);if(t.tag!==0&&n===2){var s=Hl(t);s!==0&&(e=s,n=gc(t,s))}if(n===1)throw n=ti,qn(t,0),mn(t,e),ot(t,je()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xn(t,et,Yt),ot(t,je()),null}function du(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(Ys=je()+500,aa&&Rn())}}function os(t){xn!==null&&xn.tag===0&&!(te&6)&&Rs();var e=te;te|=1;var n=vt.transition,s=ie;try{if(vt.transition=null,ie=1,t)return t()}finally{ie=s,vt.transition=n,te=e,!(te&6)&&Rn()}}function hu(){at=Ls.current,fe(Ls)}function qn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ry(n)),Ce!==null)for(n=Ce.return;n!==null;){var s=n;switch(Yc(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Mo();break;case 3:Vs(),fe(rt),fe(Ye),tu();break;case 5:eu(s);break;case 4:Vs();break;case 13:fe(me);break;case 19:fe(me);break;case 10:Qc(s.type._context);break;case 22:case 23:hu()}n=n.return}if(Fe=t,Ce=t=Mn(t.current,null),Ie=at=e,De=0,ti=null,cu=da=is=0,et=Tr=null,Qn!==null){for(e=0;e<Qn.length;e++)if(n=Qn[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}Qn=null}return t}function Vm(t,e){do{var n=Ce;try{if(Gc(),lo.current=Fo,Ro){for(var s=ge.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Ro=!1}if(rs=0,Re=Ee=ge=null,Pr=!1,Jr=0,lu.current=null,n===null||n.return===null){De=1,ti=e,Ce=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Ie,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=uh(o);if(g!==null){g.flags&=-257,dh(g,o,a,i,e),g.mode&1&&ch(i,u,e),e=g,c=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(c),e.updateQueue=x}else y.add(c);break e}else{if(!(e&1)){ch(i,u,e),fu();break e}c=Error(T(426))}}else if(pe&&a.mode&1){var w=uh(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),dh(w,o,a,i,e),Xc(Us(c,a));break e}}i=c=Us(c,a),De!==4&&(De=2),Tr===null?Tr=[i]:Tr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=Cm(i,c,e);sh(i,p);break e;case 1:a=c;var m=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Sn===null||!Sn.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=Mm(i,a,e);sh(i,k);break e}}i=i.return}while(i!==null)}Xm(n)}catch(j){e=j,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(!0)}function Um(){var t=zo.current;return zo.current=Fo,t===null?Fo:t}function fu(){(De===0||De===3||De===2)&&(De=4),Fe===null||!(is&268435455)&&!(da&268435455)||mn(Fe,Ie)}function Wo(t,e){var n=te;te|=2;var s=Um();(Fe!==t||Ie!==e)&&(Yt=null,qn(t,e));do try{Ly();break}catch(r){Vm(t,r)}while(!0);if(Gc(),te=n,zo.current=s,Ce!==null)throw Error(T(261));return Fe=null,Ie=0,De}function Ly(){for(;Ce!==null;)Ym(Ce)}function Ey(){for(;Ce!==null&&!tx();)Ym(Ce)}function Ym(t){var e=Gm(t.alternate,t,at);t.memoizedProps=t.pendingProps,e===null?Xm(t):Ce=e,lu.current=null}function Xm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jy(n,e),n!==null){n.flags&=32767,Ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{De=6,Ce=null;return}}else if(n=ky(n,e,at),n!==null){Ce=n;return}if(e=e.sibling,e!==null){Ce=e;return}Ce=e=t}while(e!==null);De===0&&(De=5)}function Xn(t,e,n){var s=ie,r=vt.transition;try{vt.transition=null,ie=1,Py(t,e,n,s)}finally{vt.transition=r,ie=s}return null}function Py(t,e,n,s){do Rs();while(xn!==null);if(te&6)throw Error(T(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(dx(t,i),t===Fe&&(Ce=Fe=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wi||(Wi=!0,Qm(ko,function(){return Rs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=vt.transition,vt.transition=null;var o=ie;ie=1;var a=te;te|=4,lu.current=null,Ny(t,n),Wm(n,t),Zx(Kl),_o=!!Xl,Kl=Xl=null,t.current=n,Sy(n),nx(),te=a,ie=o,vt.transition=i}else t.current=n;if(Wi&&(Wi=!1,xn=t,Bo=r),i=t.pendingLanes,i===0&&(Sn=null),ix(n.stateNode),ot(t,je()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Io)throw Io=!1,t=pc,pc=null,t;return Bo&1&&t.tag!==0&&Rs(),i=t.pendingLanes,i&1?t===mc?Ar++:(Ar=0,mc=t):Ar=0,Rn(),null}function Rs(){if(xn!==null){var t=Cp(Bo),e=vt.transition,n=ie;try{if(vt.transition=null,ie=16>t?16:t,xn===null)var s=!1;else{if(t=xn,xn=null,Bo=0,te&6)throw Error(T(331));var r=te;for(te|=4,B=t.current;B!==null;){var i=B,o=i.child;if(B.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(B=u;B!==null;){var d=B;switch(d.tag){case 0:case 11:case 15:Dr(8,d,i)}var h=d.child;if(h!==null)h.return=d,B=h;else for(;B!==null;){d=B;var f=d.sibling,g=d.return;if(zm(d),d===u){B=null;break}if(f!==null){f.return=g,B=f;break}B=g}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}B=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,B=o;else e:for(;B!==null;){if(i=B,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Dr(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,B=p;break e}B=i.return}}var m=t.current;for(B=m;B!==null;){o=B;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,B=v;else e:for(o=m;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ua(9,a)}}catch(j){ye(a,a.return,j)}if(a===o){B=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,B=k;break e}B=a.return}}if(te=r,Rn(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(na,t)}catch{}s=!0}return s}finally{ie=n,vt.transition=e}}return!1}function _h(t,e,n){e=Us(n,e),e=Cm(t,e,1),t=Nn(t,e,1),e=Ge(),t!==null&&(li(t,1,e),ot(t,e))}function ye(t,e,n){if(t.tag===3)_h(t,t,n);else for(;e!==null;){if(e.tag===3){_h(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Sn===null||!Sn.has(s))){t=Us(n,t),t=Mm(e,t,1),e=Nn(e,t,1),t=Ge(),e!==null&&(li(e,1,t),ot(e,t));break}}e=e.return}}function Dy(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Ge(),t.pingedLanes|=t.suspendedLanes&n,Fe===t&&(Ie&n)===n&&(De===4||De===3&&(Ie&130023424)===Ie&&500>je()-uu?qn(t,0):cu|=n),ot(t,e)}function Km(t,e){e===0&&(t.mode&1?(e=Pi,Pi<<=1,!(Pi&130023424)&&(Pi=4194304)):e=1);var n=Ge();t=tn(t,e),t!==null&&(li(t,e,n),ot(t,n))}function Ty(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Km(t,n)}function Ay(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(T(314))}s!==null&&s.delete(e),Km(t,n)}var Gm;Gm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rt.current)nt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nt=!1,wy(t,e,n);nt=!!(t.flags&131072)}else nt=!1,pe&&e.flags&1048576&&qp(e,Po,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;uo(t,e),t=e.pendingProps;var r=Ws(e,Ye.current);Os(e,n),r=su(null,e,s,t,r,n);var i=ru();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,it(s)?(i=!0,Lo(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Jc(e),r.updater=ca,e.stateNode=r,r._reactInternals=e,sc(e,s,t,n),e=oc(null,e,s,!0,i,n)):(e.tag=0,pe&&i&&Uc(e),Ke(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(uo(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=Ry(s),t=St(s,t),r){case 0:e=ic(null,e,s,t,n);break e;case 1:e=ph(null,e,s,t,n);break e;case 11:e=hh(null,e,s,t,n);break e;case 14:e=fh(null,e,s,St(s.type,t),n);break e}throw Error(T(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:St(s,r),ic(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:St(s,r),ph(t,e,s,r,n);case 3:e:{if(Dm(e),t===null)throw Error(T(387));s=e.pendingProps,i=e.memoizedState,r=i.element,im(t,e),Ao(e,s,null,n);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Us(Error(T(423)),e),e=mh(t,e,s,n,r);break e}else if(s!==r){r=Us(Error(T(424)),e),e=mh(t,e,s,n,r);break e}else for(lt=_n(e.stateNode.containerInfo.firstChild),ct=e,pe=!0,Mt=null,n=sm(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hs(),s===r){e=nn(t,e,n);break e}Ke(t,e,s,n)}e=e.child}return e;case 5:return om(e),t===null&&ec(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,o=r.children,Gl(s,r)?o=null:i!==null&&Gl(s,i)&&(e.flags|=32),Pm(t,e),Ke(t,e,o,n),e.child;case 6:return t===null&&ec(e),null;case 13:return Tm(t,e,n);case 4:return qc(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=$s(e,null,s,n):Ke(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:St(s,r),hh(t,e,s,r,n);case 7:return Ke(t,e,e.pendingProps,n),e.child;case 8:return Ke(t,e,e.pendingProps.children,n),e.child;case 12:return Ke(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,ue(Do,s._currentValue),s._currentValue=o,i!==null)if(Pt(i.value,o)){if(i.children===r.children&&!rt.current){e=nn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Jt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),tc(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),tc(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ke(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,Os(e,n),r=bt(r),s=s(r),e.flags|=1,Ke(t,e,s,n),e.child;case 14:return s=e.type,r=St(s,e.pendingProps),r=St(s.type,r),fh(t,e,s,r,n);case 15:return Lm(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:St(s,r),uo(t,e),e.tag=1,it(s)?(t=!0,Lo(e)):t=!1,Os(e,n),Sm(e,s,r),sc(e,s,r,n),oc(null,e,s,!0,t,n);case 19:return Am(t,e,n);case 22:return Em(t,e,n)}throw Error(T(156,e.tag))};function Qm(t,e){return jp(t,e)}function Oy(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(t,e,n,s){return new Oy(t,e,n,s)}function pu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ry(t){if(typeof t=="function")return pu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tc)return 11;if(t===Ac)return 14}return 2}function Mn(t,e){var n=t.alternate;return n===null?(n=xt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function po(t,e,n,s,r,i){var o=2;if(s=t,typeof t=="function")pu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vs:return es(n.children,r,i,e);case Dc:o=8,r|=8;break;case Cl:return t=xt(12,n,e,r|2),t.elementType=Cl,t.lanes=i,t;case Ml:return t=xt(13,n,e,r),t.elementType=Ml,t.lanes=i,t;case Ll:return t=xt(19,n,e,r),t.elementType=Ll,t.lanes=i,t;case op:return ha(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rp:o=10;break e;case ip:o=9;break e;case Tc:o=11;break e;case Ac:o=14;break e;case hn:o=16,s=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=xt(o,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function es(t,e,n,s){return t=xt(7,t,s,e),t.lanes=n,t}function ha(t,e,n,s){return t=xt(22,t,s,e),t.elementType=op,t.lanes=n,t.stateNode={isHidden:!1},t}function ll(t,e,n){return t=xt(6,t,null,e),t.lanes=n,t}function cl(t,e,n){return e=xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fy(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$a(0),this.expirationTimes=$a(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$a(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function mu(t,e,n,s,r,i,o,a,c){return t=new Fy(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=xt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jc(i),t}function zy(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ys,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function Zm(t){if(!t)return Dn;t=t._reactInternals;e:{if(us(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(it(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(it(n))return Zp(t,n,e)}return e}function Jm(t,e,n,s,r,i,o,a,c){return t=mu(n,s,!0,t,r,i,o,a,c),t.context=Zm(null),n=t.current,s=Ge(),r=Cn(n),i=Jt(s,r),i.callback=e??null,Nn(n,i,r),t.current.lanes=r,li(t,r,s),ot(t,s),t}function fa(t,e,n,s){var r=e.current,i=Ge(),o=Cn(r);return n=Zm(n),e.context===null?e.context=n:e.pendingContext=n,e=Jt(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Nn(r,e,o),t!==null&&(Et(t,r,o,i),ao(t,r,o)),o}function Ho(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gu(t,e){Nh(t,e),(t=t.alternate)&&Nh(t,e)}function Iy(){return null}var qm=typeof reportError=="function"?reportError:function(t){console.error(t)};function xu(t){this._internalRoot=t}pa.prototype.render=xu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));fa(t,e,null,null)};pa.prototype.unmount=xu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;os(function(){fa(null,t,null,null)}),e[en]=null}};function pa(t){this._internalRoot=t}pa.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ep();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pn.length&&e!==0&&e<pn[n].priority;n++);pn.splice(n,0,t),n===0&&Dp(t)}};function yu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ma(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sh(){}function By(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=Ho(o);i.call(u)}}var o=Jm(e,s,t,0,null,!1,!1,"",Sh);return t._reactRootContainer=o,t[en]=o.current,Xr(t.nodeType===8?t.parentNode:t),os(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var a=s;s=function(){var u=Ho(c);a.call(u)}}var c=mu(t,0,!1,null,null,!1,!1,"",Sh);return t._reactRootContainer=c,t[en]=c.current,Xr(t.nodeType===8?t.parentNode:t),os(function(){fa(e,c,n,s)}),c}function ga(t,e,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var a=r;r=function(){var c=Ho(o);a.call(c)}}fa(e,o,t,r)}else o=By(n,e,t,r,s);return Ho(o)}Mp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=br(e.pendingLanes);n!==0&&(Fc(e,n|1),ot(e,je()),!(te&6)&&(Ys=je()+500,Rn()))}break;case 13:os(function(){var s=tn(t,1);if(s!==null){var r=Ge();Et(s,t,1,r)}}),gu(t,1)}};zc=function(t){if(t.tag===13){var e=tn(t,134217728);if(e!==null){var n=Ge();Et(e,t,134217728,n)}gu(t,134217728)}};Lp=function(t){if(t.tag===13){var e=Cn(t),n=tn(t,e);if(n!==null){var s=Ge();Et(n,t,e,s)}gu(t,e)}};Ep=function(){return ie};Pp=function(t,e){var n=ie;try{return ie=t,e()}finally{ie=n}};Il=function(t,e,n){switch(e){case"input":if(Dl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=oa(s);if(!r)throw Error(T(90));lp(s),Dl(s,r)}}}break;case"textarea":up(t,n);break;case"select":e=n.value,e!=null&&Ps(t,!!n.multiple,e,!1)}};xp=du;yp=os;var Wy={usingClientEntryPoint:!1,Events:[ui,js,oa,mp,gp,du]},hr={findFiberByHostInstance:Gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hy={bundleType:hr.bundleType,version:hr.version,rendererPackageName:hr.rendererPackageName,rendererConfig:hr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wp(t),t===null?null:t.stateNode},findFiberByHostInstance:hr.findFiberByHostInstance||Iy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hi.isDisabled&&Hi.supportsFiber)try{na=Hi.inject(Hy),Wt=Hi}catch{}}dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wy;dt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yu(e))throw Error(T(200));return zy(t,e,null,n)};dt.createRoot=function(t,e){if(!yu(t))throw Error(T(299));var n=!1,s="",r=qm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=mu(t,1,!1,null,null,n,!1,s,r),t[en]=e.current,Xr(t.nodeType===8?t.parentNode:t),new xu(e)};dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=wp(e),t=t===null?null:t.stateNode,t};dt.flushSync=function(t){return os(t)};dt.hydrate=function(t,e,n){if(!ma(e))throw Error(T(200));return ga(null,t,e,!0,n)};dt.hydrateRoot=function(t,e,n){if(!yu(t))throw Error(T(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=qm;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Jm(e,null,t,1,n??null,r,!1,i,o),t[en]=e.current,Xr(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new pa(e)};dt.render=function(t,e,n){if(!ma(e))throw Error(T(200));return ga(null,t,e,!1,n)};dt.unmountComponentAtNode=function(t){if(!ma(t))throw Error(T(40));return t._reactRootContainer?(os(function(){ga(null,null,t,!1,function(){t._reactRootContainer=null,t[en]=null})}),!0):!1};dt.unstable_batchedUpdates=du;dt.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!ma(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return ga(t,e,n,!1,s)};dt.version="18.3.1-next-f1338f8080-20240426";function eg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eg)}catch(t){console.error(t)}}eg(),ep.exports=dt;var $y=ep.exports,Ch=$y;Nl.createRoot=Ch.createRoot,Nl.hydrateRoot=Ch.hydrateRoot;function Vy({onLogin:t,error:e}){const[n,s]=M.useState(""),[r,i]=M.useState(""),[o,a]=M.useState(""),[c,u]=M.useState(!1),[d,h]=M.useState(null),[f,g]=M.useState(!1),y=async w=>{if(w.preventDefault(),h(null),u(!0),!n.trim()){h("Username is required"),u(!1);return}if(!r){h("Password is required"),u(!1);return}if(!o.trim()){h("Department ID is required"),u(!1);return}if(!/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(o.trim())){h("Invalid Department ID format. Please enter a valid GUID."),u(!1);return}const m=await t({username:n.trim(),password:r,departmentId:o.trim()});m.success||h(m.error),u(!1)},x=d||e;return l.jsx("div",{className:"login-bg min-h-screen flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md animate-fadeIn",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("img",{src:"/logo.png",alt:"JustInsurance",className:"h-20 mx-auto mb-4",onError:w=>{w.target.style.display="none"}}),l.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Progress Dashboard"}),l.jsx("p",{className:"text-ji-blue-light mt-2",children:"Track your students' pre-licensing progress"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[l.jsxs("form",{onSubmit:y,children:[x&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{className:"text-red-700 text-sm",children:x})]})}),l.jsxs("div",{className:"mb-5",children:[l.jsx("label",{className:"input-label",htmlFor:"username",children:"Absorb LMS Username"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),l.jsx("input",{type:"text",id:"username",className:"input pl-10",placeholder:"Enter your username or email",value:n,onChange:w=>s(w.target.value),disabled:c,autoComplete:"username"})]})]}),l.jsxs("div",{className:"mb-5",children:[l.jsx("label",{className:"input-label",htmlFor:"password",children:"Absorb LMS Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),l.jsx("input",{type:f?"text":"password",id:"password",className:"input pl-10 pr-10",placeholder:"Enter your password",value:r,onChange:w=>i(w.target.value),disabled:c,autoComplete:"current-password"}),l.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>g(!f),children:f?l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):l.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"input-label",htmlFor:"departmentId",children:"Agency Department ID"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),l.jsx("input",{type:"text",id:"departmentId",className:"input pl-10 font-mono text-sm",placeholder:"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",value:o,onChange:w=>a(w.target.value.toUpperCase()),disabled:c})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Contact your agency admin or JustInsurance for your Department ID"})]}),l.jsx("button",{type:"submit",className:"w-full btn btn-primary py-3 text-lg font-semibold",disabled:c,style:{backgroundColor:c?"#94a3b8":"#3182ce"},children:c?l.jsxs("span",{className:"flex items-center justify-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Authenticating..."]}):"Access Dashboard"})]}),l.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:l.jsxs("p",{className:"text-center text-sm text-gray-500",children:["Need help?"," ",l.jsx("a",{href:"mailto:support@justinsuranceco.com",className:"text-ji-blue-bright hover:underline",children:"Contact Support"})]})})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-ji-blue-light text-sm",children:[" ",new Date().getFullYear()," JustInsurance. All rights reserved."]})})]})})}function Uy({summary:t}){const e=[{title:"Complete",value:t.completeCount||0,subtitle:"Finished course",emoji:"",bgColor:"bg-blue-50",iconBg:"bg-blue-100",textColor:"text-blue-800",borderColor:"border-l-4 border-blue-500"},{title:"Active",value:t.activeCount,subtitle:"Last 24 hours",emoji:"",bgColor:"bg-green-50",iconBg:"bg-green-100",textColor:"text-green-800",borderColor:"border-l-4 border-green-500"},{title:"Warning",value:t.warningCount,subtitle:"24-72 hours ago",emoji:"",bgColor:"bg-orange-50",iconBg:"bg-orange-100",textColor:"text-orange-800",borderColor:"border-l-4 border-orange-500"},{title:"Re-engage",value:t.reengageCount,subtitle:"72+ hours ago",emoji:"",bgColor:"bg-red-50",iconBg:"bg-red-100",textColor:"text-red-800",borderColor:"border-l-4 border-red-500"},{title:"Total Students",value:t.totalStudents,subtitle:"In department",emoji:"",bgColor:"bg-gray-50",iconBg:"bg-gray-100",textColor:"text-gray-800",borderColor:"border-l-4 border-gray-500"},{title:"Avg Progress",value:`${t.averageProgress}%`,subtitle:"Course completion",emoji:"",bgColor:"bg-purple-50",iconBg:"bg-purple-100",textColor:"text-purple-800",borderColor:"border-l-4 border-purple-500"}];return l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:e.map((n,s)=>l.jsx("div",{className:`kpi-card ${n.bgColor} ${n.borderColor} animate-fadeIn`,style:{animationDelay:`${s*50}ms`},children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${n.textColor} mb-1`,children:n.title}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.value}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.subtitle})]}),l.jsx("div",{className:`kpi-icon ${n.iconBg} text-2xl`,children:n.emoji})]})},s))})}function xa({status:t}){const e=()=>{switch(t.class){case"blue":return"badge-complete";case"green":return"badge-active";case"orange":return"badge-warning";case"red":return"badge-reengage";case"gray":return"badge-abandoned";case"expired":return"badge-expired";default:return"badge-reengage"}};return l.jsxs("span",{className:`badge ${e()}`,children:[l.jsx("span",{className:"mr-1",children:t.emoji}),t.status]})}function hi({progress:t,showLabel:e=!0}){const n=()=>{switch(t.colorClass){case"high":return"progress-high";case"med":return"progress-med";case"low":return"progress-low";default:return"progress-low"}};return l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"flex-1 progress-bar",children:l.jsx("div",{className:`progress-fill ${n()}`,style:{width:`${t.value}%`}})}),e&&l.jsx("span",{className:"text-sm font-medium text-gray-700 w-12 text-right",children:t.display})]})}function Yy({students:t,onViewStudent:e,showDepartment:n=!1,onHideStudent:s,showHidden:r=!1}){const[i,o]=M.useState("status"),[a,c]=M.useState("asc"),u=f=>{i===f?c(a==="asc"?"desc":"asc"):(o(f),c("asc"))},d=[...t].sort((f,g)=>{let y,x;switch(i){case"name":y=f.fullName.toLowerCase(),x=g.fullName.toLowerCase();break;case"status":y=f.status.priority,x=g.status.priority;break;case"lastLogin":y=f.lastLogin.raw?new Date(f.lastLogin.raw).getTime():0,x=g.lastLogin.raw?new Date(g.lastLogin.raw).getTime():0;break;case"progress":y=f.progress.value,x=g.progress.value;break;case"course":y=f.courseName.toLowerCase(),x=g.courseName.toLowerCase();break;case"department":y=(f.departmentName||"").toLowerCase(),x=(g.departmentName||"").toLowerCase();break;default:y=f.status.priority,x=g.status.priority}return y<x?a==="asc"?-1:1:y>x?a==="asc"?1:-1:0}),h=({field:f})=>i!==f?l.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}):a==="asc"?l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}):l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})});return t.length===0?l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No students found"}),l.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]}):l.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>u("name"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Student"}),l.jsx(h,{field:"name"})]})}),n&&l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 hidden lg:table-cell",onClick:()=>u("department"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Dept"}),l.jsx(h,{field:"department"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>u("status"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Status"}),l.jsx(h,{field:"status"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>u("lastLogin"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Last Login"}),l.jsx(h,{field:"lastLogin"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 hidden md:table-cell",onClick:()=>u("course"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Course"}),l.jsx(h,{field:"course"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>u("progress"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Progress"}),l.jsx(h,{field:"progress"})]})}),l.jsx("th",{className:"sticky right-0 bg-gray-50 min-w-[80px] whitespace-nowrap",children:"Action"})]})}),l.jsx("tbody",{children:d.map((f,g)=>{var y,x;return l.jsxs("tr",{className:"animate-fadeIn",style:{animationDelay:`${g*20}ms`},children:[l.jsx("td",{children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:f.fullName}),l.jsx("p",{className:"text-sm text-gray-500",children:f.email})]})}),n&&l.jsx("td",{className:"hidden lg:table-cell",children:l.jsx("p",{className:"text-gray-700 text-sm truncate max-w-[220px]",title:f.departmentName||"",children:f.departmentName||"-"})}),l.jsx("td",{children:l.jsx(xa,{status:f.status})}),l.jsx("td",{children:l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-900",children:f.lastLogin.relative}),l.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:f.lastLogin.formatted})]})}),l.jsx("td",{className:"hidden md:table-cell",children:l.jsx("p",{className:"text-gray-900 truncate max-w-sm",title:f.courseName,children:f.courseName})}),l.jsx("td",{children:l.jsxs("div",{className:"w-36",children:[l.jsx(hi,{progress:f.progress}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Course: ",((y=f.timeSpent)==null?void 0:y.formatted)||"0m"]}),((x=f.examPrepTime)==null?void 0:x.minutes)>0&&l.jsxs("p",{className:"text-xs text-purple-500",children:["Prep: ",f.examPrepTime.formatted]})]})}),l.jsx("td",{className:"sticky right-0 bg-white",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>e(f),className:"btn btn-secondary text-sm py-1 px-3 whitespace-nowrap",children:"View"}),s&&l.jsx("button",{onClick:()=>s(f.email),className:`p-1.5 rounded transition-colors ${r?"text-green-600 hover:bg-green-50":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,title:r?"Unhide student":"Hide student",children:r?l.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})})})]})})]},f.id||`${f.email}-${g}`)})})]})})})}function Xy({students:t,onViewStudent:e,adminMode:n,onHideStudent:s,showHidden:r=!1}){const[i,o]=M.useState("examDate"),[a,c]=M.useState("asc"),u=N=>{i===N?c(a==="asc"?"desc":"asc"):(o(N),c("asc"))},d=N=>{if(!N)return 0;const C=N.trim(),z=C.split("/");if(z.length===3){let Y=parseInt(z[2],10);Y<100&&(Y+=2e3);const X=new Date(Y,parseInt(z[0],10)-1,parseInt(z[1],10));if(!isNaN(X.getTime()))return X.getTime()}const $=C.match(/^(\d{4})-(\d{2})-(\d{2})$/);if($){const Y=new Date(parseInt($[1],10),parseInt($[2],10)-1,parseInt($[3],10));if(!isNaN(Y.getTime()))return Y.getTime()}const H=new Date(C);return isNaN(H.getTime())?0:new Date(H.getFullYear(),H.getMonth(),H.getDate()).getTime()},h=N=>{const C=d(N.examDateRaw||N.examDate);if(!C)return"upcoming";const z=new Date(C),$=new Date,H=z.getFullYear(),Y=z.getMonth(),X=z.getDate(),D=$.getFullYear(),R=$.getMonth(),W=$.getDate();return H===D&&Y===R&&X===W?"today":new Date(H,Y,X)>new Date(D,R,W)?"upcoming":"past"},f=N=>[...N].sort((C,z)=>{var Y,X,D,R;let $,H;switch(i){case"name":$=(C.fullName||"").toLowerCase(),H=(z.fullName||"").toLowerCase();break;case"status":$=((Y=C.status)==null?void 0:Y.priority)??99,H=((X=z.status)==null?void 0:X.priority)??99;break;case"examDate":$=d(C.examDateRaw||C.examDate),H=d(z.examDateRaw||z.examDate);break;case"department":$=(C.departmentName||"").toLowerCase(),H=(z.departmentName||"").toLowerCase();break;case"progress":$=((D=C.progress)==null?void 0:D.value)??0,H=((R=z.progress)==null?void 0:R.value)??0;break;case"result":$=(C.passFail||"").toUpperCase()==="PASS"?1:(C.passFail||"").toUpperCase()==="FAIL"?3:2,H=(z.passFail||"").toUpperCase()==="PASS"?1:(z.passFail||"").toUpperCase()==="FAIL"?3:2;break;case"state":$=(C.examState||"").toLowerCase(),H=(z.examState||"").toLowerCase();break;case"course":$=(C.courseName||"").toLowerCase(),H=(z.courseName||"").toLowerCase();break;default:$=d(C.examDateRaw||C.examDate),H=d(z.examDateRaw||z.examDate)}return $<H?a==="asc"?-1:1:$>H?a==="asc"?1:-1:0}),g=t.filter(N=>h(N)==="today"),y=t.filter(N=>h(N)==="upcoming"),x=t.filter(N=>h(N)==="past"),w=f(g),p=f(y),m=i==="examDate"?[...x].sort((N,C)=>{const z=d(N.examDateRaw||N.examDate),$=d(C.examDateRaw||C.examDate);return a==="asc"?$-z:z-$}):f(x),v=[];w.length>0&&v.push({label:"Today's Exams",color:"blue",icon:"calendar-today",students:w}),p.length>0&&v.push({label:"Upcoming Exams",color:"green",icon:"calendar-upcoming",students:p}),m.length>0&&v.push({label:"Past Exams",color:"gray",icon:"calendar-past",students:m});const k=9,j=({field:N})=>i!==N?l.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}):a==="asc"?l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}):l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),S=N=>{const C=d(N);if(!C)return!1;const z=new Date(C),$=new Date;return $.setHours(0,0,0,0),z<$},L=N=>{const C=(N.passFail||"").toUpperCase();return C==="PASS"?"green":C==="FAIL"?"red":"gray"};if(t.length===0)return l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No exam students found"}),l.jsx("p",{className:"text-gray-500",children:"No students with scheduled exams"})]});const _=(N,C,z)=>{var W,Z,J,ve;const $=S(N.examDateRaw||N.examDate),H=((W=N.passFail)==null?void 0:W.toUpperCase())==="PASS",Y=((Z=N.passFail)==null?void 0:Z.toUpperCase())==="FAIL",X=L(N),D=X==="green"?"bg-green-500":X==="yellow"?"bg-yellow-400":X==="gray"?"bg-gray-400":"bg-red-500",R=h(N)==="today";return l.jsxs("tr",{className:`animate-fadeIn ${R?"bg-blue-50/40":""}`,style:{animationDelay:`${(z+C)*20}ms`},children:[l.jsx("td",{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-2.5 h-2.5 rounded-full flex-shrink-0 ${D}`,title:`Readiness: ${X}`}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:N.fullName}),l.jsx("p",{className:"text-sm text-gray-500",children:N.email})]})]})}),n&&l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",title:N.departmentName,children:N.departmentName||"Unknown"})}),l.jsx("td",{children:N.matched!==!1?l.jsx(xa,{status:N.status}):l.jsx("span",{className:"badge bg-gray-100 text-gray-600",children:"N/A"})}),l.jsx("td",{children:l.jsxs("div",{children:[l.jsxs("p",{className:`font-medium ${$?"text-gray-400":R?"text-blue-700 font-semibold":"text-gray-900"}`,children:[N.examDate||"TBD",R&&l.jsx("span",{className:"ml-1.5 text-xs font-medium text-blue-500",children:"TODAY"})]}),N.examTime&&l.jsx("p",{className:"text-xs text-gray-500",children:N.examTime})]})}),l.jsx("td",{children:l.jsxs("div",{className:"min-w-[180px]",children:[l.jsx(hi,{progress:N.progress}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Course: ",((J=N.timeSpent)==null?void 0:J.formatted)||"0m"]}),((ve=N.examPrepTime)==null?void 0:ve.minutes)>0&&l.jsxs("p",{className:"text-xs text-purple-500",children:["Prep: ",N.examPrepTime.formatted]})]})}),l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",title:N.courseName,children:N.courseName})}),l.jsx("td",{children:H?l.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-sm font-bold bg-green-100 text-green-800 border border-green-300",children:"PASS"}):Y?l.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-sm font-bold bg-red-100 text-red-800 border border-red-300",children:"FAIL"}):l.jsx("span",{className:"text-gray-400 text-sm",children:""})}),!n&&l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",title:N.departmentName,children:N.departmentName||"Unknown"})}),l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",children:N.examState||""})}),l.jsx("td",{className:"sticky right-0 bg-white",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>e(N),className:"btn btn-secondary text-sm py-1 px-3 whitespace-nowrap",children:"View"}),s&&l.jsx("button",{onClick:()=>s(N.email),className:`p-1.5 rounded transition-colors ${r?"text-green-600 hover:bg-green-50":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,title:r?"Unhide student":"Hide student",children:r?l.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})})})]})})]},`${N.email}-${N.examDateRaw||C}`)},F={blue:{bg:"bg-blue-600",text:"text-white",border:"border-blue-700"},green:{bg:"bg-emerald-50",text:"text-emerald-700",border:"border-emerald-200"},gray:{bg:"bg-gray-100",text:"text-gray-500",border:"border-gray-200"}};let A=0;return l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[l.jsxs("div",{className:"bg-blue-50 border-b border-blue-100 px-4 py-2 text-xs text-blue-700 flex items-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("span",{children:["Scroll horizontally to see all columns ","",' Click "View" to edit exam dates']})]}),l.jsx("div",{className:"table-scroll-wrapper",children:l.jsxs("table",{className:"data-table min-w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[200px]",onClick:()=>u("name"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Student"}),l.jsx(j,{field:"name"})]})}),n&&l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[130px]",onClick:()=>u("department"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Department"}),l.jsx(j,{field:"department"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[100px]",onClick:()=>u("status"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Status"}),l.jsx(j,{field:"status"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[120px]",onClick:()=>u("examDate"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Exam Date"}),l.jsx(j,{field:"examDate"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[200px]",onClick:()=>u("progress"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Progress"}),l.jsx(j,{field:"progress"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[180px]",onClick:()=>u("course"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Course"}),l.jsx(j,{field:"course"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[80px]",onClick:()=>u("result"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Result"}),l.jsx(j,{field:"result"})]})}),!n&&l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[130px]",onClick:()=>u("department"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Department"}),l.jsx(j,{field:"department"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[70px]",onClick:()=>u("state"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"State"}),l.jsx(j,{field:"state"})]})}),l.jsx("th",{className:"sticky right-0 bg-gray-50 min-w-[80px] whitespace-nowrap",children:"Action"})]})}),l.jsx("tbody",{children:v.map((N,C)=>{const z=F[N.color],$=A;return A+=N.students.length,l.jsxs(Jf.Fragment,{children:[l.jsx("tr",{children:l.jsx("td",{colSpan:k,className:`${z.bg} ${z.text} ${z.border} border-y px-4 py-2`,children:l.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[N.color==="blue"&&l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),N.color==="green"&&l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),N.color==="gray"&&l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{children:N.label}),l.jsxs("span",{className:`text-xs font-normal ${N.color==="blue"?"text-blue-200":"opacity-60"}`,children:["(",N.students.length," student",N.students.length!==1?"s":"",")"]})]})})}),N.students.map((H,Y)=>_(H,Y,$))]},N.label)})})]})})]})}const Mh="/api";function ul(t){if(!t||t<=0)return"0m";const e=Math.round(t*60),n=Math.floor(e/60),s=e%60;return n===0?`${s}m`:s===0?`${n}h`:`${n}h ${s}m`}function Ky(t){const e=t.toLowerCase();return e.includes("pre-licens")||e.includes("prelicens")||e.includes("pre licens")}function Gy(t){const e=t.toLowerCase();return e.includes("module")||e.includes("chapter")||e.includes("lesson")||e.includes("unit")}function Qy(t){const e=t.toLowerCase();return e.includes("practice")||e.includes("prep")||e.includes("study")}function Zy(t){const e=[],n=[],s=[];for(const r of t){const i=r.courseName||"";Ky(i)||Gy(i)?e.push(r):Qy(i)?n.push(r):s.push(r)}return{preLicensing:e,examPrep:n,other:s}}function Lh({enrollment:t,isModule:e=!1}){var n,s;return l.jsxs("div",{className:`border border-gray-200 rounded-lg p-4 ${e?"ml-4 bg-gray-50":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("p",{className:`font-medium text-gray-900 ${e?"text-sm":""}`,children:[e&&l.jsx("span",{className:"text-gray-400 mr-2",children:"|--"}),t.courseName]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t.status===2?"bg-green-100 text-green-800":t.status===1?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:t.statusText})]}),l.jsx(hi,{progress:t.progress}),l.jsxs("div",{className:"flex items-center justify-between mt-2 text-sm text-gray-500",children:[l.jsxs("span",{children:["Time: ",((n=t.timeSpent)==null?void 0:n.formatted)||"0m"]}),l.jsxs("span",{children:["Last accessed: ",((s=t.lastAccessed)==null?void 0:s.relative)||"Never"]})]})]})}function dl({title:t,icon:e,color:n,enrollments:s,defaultExpanded:r=!0}){var d;const[i,o]=M.useState(r);if(!s.length)return null;const a=s.find(h=>{const f=(h.courseName||"").toLowerCase();return!f.includes("module")&&!f.includes("chapter")&&!f.includes("lesson")})||s[0],c=Math.round(((d=a.progress)==null?void 0:d.value)??a.progress??0),u=s.filter(h=>h.id!==a.id);return l.jsxs("div",{className:`border-2 rounded-xl overflow-hidden ${n}`,children:[l.jsxs("div",{className:"px-4 py-3 cursor-pointer flex items-center justify-between",onClick:()=>o(!i),children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:e}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-900",children:t}),l.jsxs("p",{className:"text-sm text-gray-600",children:[s.length," course",s.length>1?"s":""]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[c,"%"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Overall Progress"})]}),l.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]}),i&&l.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[l.jsx(Lh,{enrollment:a}),u.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide ml-4",children:["Modules (",u.length,")"]}),u.map(h=>l.jsx(Lh,{enrollment:h,isModule:!0},h.id))]})]})]})}function Jy({enrollments:t}){const{preLicensing:e,examPrep:n,other:s}=M.useMemo(()=>Zy(t),[t]);return l.jsxs("div",{className:"space-y-4",children:[l.jsx(dl,{title:"Pre-Licensing Course",icon:"",color:"border-blue-200 bg-blue-50/50",enrollments:e,defaultExpanded:!0}),l.jsx(dl,{title:"Exam Prep",icon:"",color:"border-purple-200 bg-purple-50/50",enrollments:n,defaultExpanded:!0}),s.length>0&&l.jsx(dl,{title:"Other Courses",icon:"",color:"border-gray-200 bg-gray-50/50",enrollments:s,defaultExpanded:!1})]})}function $i(t){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t)}function qy({studentId:t,examInfo:e,onClose:n,onSessionExpired:s,onUpdateResult:r,onUpdateExamDate:i,onUpdateStudentContact:o}){var R,W,Z,J,ve,be;const[a,c]=M.useState(null),[u,d]=M.useState(!0),[h,f]=M.useState(null),[g,y]=M.useState(!1),[x,w]=M.useState(""),[p,m]=M.useState(""),[v,k]=M.useState(!1),[j,S]=M.useState({firstName:"",lastName:"",emailAddress:"",phone:""}),[L,_]=M.useState(""),[F,A]=M.useState(!1),[N,C]=M.useState([]),[z,$]=M.useState(!1),[H,Y]=M.useState(!1);M.useEffect(()=>{X()},[t]);const X=async()=>{var O;d(!0),f(null);try{const V=new URLSearchParams;e!=null&&e.examCourse&&V.set("courseType",e.examCourse);const se=V.toString()?`?${V.toString()}`:"",Le=await fetch(`${Mh}/students/${t}${se}`,{credentials:"include"});if(!Le.ok){if(Le.status===401){s();return}throw new Error("Failed to fetch student details")}const we=await Le.json();if(we.success)c(we.student),(O=we.student)!=null&&O.email&&fetch(`${Mh}/exam/snapshots/${encodeURIComponent(we.student.email)}`,{credentials:"include"}).then(ke=>ke.ok?ke.json():null).then(ke=>{ke!=null&&ke.success&&C(ke.snapshots||[])}).catch(()=>{});else throw new Error(we.error||"Failed to load student")}catch(V){f(V.message)}finally{d(!1)}},D=async()=>{if(_(""),!j.firstName.trim()||!j.lastName.trim()){_("First and last name are required");return}if(!$i(j.emailAddress)){_("Please enter a valid email address");return}A(!0);try{const O=await o(t,{firstName:j.firstName.trim(),lastName:j.lastName.trim(),emailAddress:j.emailAddress.trim(),phone:j.phone.trim()});O.success?(c(V=>({...V,firstName:O.student.firstName,lastName:O.student.lastName,fullName:`${O.student.firstName} ${O.student.lastName}`.trim(),email:O.student.emailAddress,phone:O.student.phone})),k(!1)):_(O.error||"Update failed")}catch{_("Failed to save changes")}finally{A(!1)}};return M.useEffect(()=>{const O=V=>{V.key==="Escape"&&n()};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[n]),M.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),l.jsx("div",{className:"modal-overlay",onClick:n,children:l.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),children:[l.jsx("div",{className:"header px-6 py-4 rounded-t-xl",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Student Details"}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:l.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"p-6",children:u?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"spinner mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Loading student details..."})]}):h?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("svg",{className:"w-12 h-12 mx-auto text-red-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("p",{className:"text-red-600",children:h}),l.jsx("button",{onClick:X,className:"mt-4 btn btn-secondary",children:"Try Again"})]}):a?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[v?l.jsxs("div",{className:"flex-1 mr-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"First Name"}),l.jsx("input",{type:"text",value:j.firstName,onChange:O=>S(V=>({...V,firstName:O.target.value})),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Last Name"}),l.jsx("input",{type:"text",value:j.lastName,onChange:O=>S(V=>({...V,lastName:O.target.value})),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Email"}),l.jsx("input",{type:"email",value:j.emailAddress,onChange:O=>S(V=>({...V,emailAddress:O.target.value})),className:`w-full px-3 py-1.5 border rounded-lg text-sm focus:outline-none focus:ring-2 ${j.emailAddress&&!$i(j.emailAddress)?"border-red-300 focus:ring-red-400":"border-gray-300 focus:ring-blue-500"}`}),j.emailAddress&&!$i(j.emailAddress)&&l.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Invalid email format"})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Phone"}),l.jsx("input",{type:"tel",value:j.phone,onChange:O=>S(V=>({...V,phone:O.target.value})),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional"})]}),L&&l.jsx("p",{className:"text-xs text-red-500 mb-2",children:L}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:D,disabled:F||j.emailAddress&&!$i(j.emailAddress),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg text-xs font-medium hover:bg-green-700 transition-colors disabled:opacity-50",children:F?"Saving...":"Save"}),l.jsx("button",{onClick:()=>{k(!1),_("")},className:"px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg text-xs hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:a.fullName}),l.jsx("p",{className:"text-gray-500",children:a.email}),a.phone&&l.jsx("p",{className:"text-gray-400 text-sm",children:a.phone})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[!v&&o&&l.jsxs("button",{onClick:()=>{k(!0),S({firstName:a.firstName||"",lastName:a.lastName||"",emailAddress:a.email||"",phone:a.phone||""}),_("")},className:"text-xs px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-1 shadow-sm",children:[l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),l.jsx(xa,{status:a.status})]})]}),e&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2 text-sm",children:[l.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Exam Scheduling",i&&!g&&l.jsxs("button",{onClick:()=>{y(!0),w(e.examDateRaw||""),m(e.examTime||"")},className:"ml-auto text-xs px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-1 shadow-sm",children:[l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Date"]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[g&&i?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Exam Date"}),l.jsx("input",{type:"date",value:x,onChange:O=>w(O.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Time"}),l.jsx("input",{type:"text",value:p,onChange:O=>m(O.target.value),placeholder:"e.g., 2:00 PM",className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"col-span-2 flex gap-2",children:[l.jsx("button",{onClick:()=>{x&&e.email&&(i(e.email,x,p),y(!1))},className:"px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 transition-colors",children:"Save"}),l.jsx("button",{onClick:()=>y(!1),className:"px-2 py-1 bg-gray-200 text-gray-700 rounded text-xs hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Exam Date"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.examDate||"TBD"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Time"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.examTime||"N/A"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"State"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.examState||"N/A"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Result"}),r&&e.email?l.jsxs("div",{className:"flex gap-1.5 mt-0.5",children:[l.jsx("button",{onClick:()=>r(e.email,(e.passFail||"").toUpperCase()==="PASS"?"":"PASS"),className:`px-2 py-0.5 rounded text-xs font-medium transition-colors ${(e.passFail||"").toUpperCase()==="PASS"?"bg-green-600 text-white shadow-sm":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200"}`,children:"PASS"}),l.jsx("button",{onClick:()=>r(e.email,(e.passFail||"").toUpperCase()==="FAIL"?"":"FAIL"),className:`px-2 py-0.5 rounded text-xs font-medium transition-colors ${(e.passFail||"").toUpperCase()==="FAIL"?"bg-red-600 text-white shadow-sm":"bg-red-50 text-red-700 hover:bg-red-100 border border-red-200"}`,children:"FAIL"})]}):l.jsxs("p",{className:"font-semibold text-sm",children:[(e.passFail||"").toUpperCase()==="PASS"&&l.jsx("span",{className:"text-green-700 bg-green-100 px-2 py-0.5 rounded text-xs",children:"PASS"}),(e.passFail||"").toUpperCase()==="FAIL"&&l.jsx("span",{className:"text-red-700 bg-red-100 px-2 py-0.5 rounded text-xs",children:"FAIL"}),!(e.passFail||"").trim()&&l.jsx("span",{className:"text-gray-500",children:"Pending"})]})]})]}),(e.departmentName||e.agencyOwner)&&l.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[e.departmentName&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Department"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.departmentName})]}),e.agencyOwner&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Agency Owner"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.agencyOwner})]})]}),e.sheetTracking&&(e.sheetTracking.studyHoursAtExam||e.sheetTracking.finalPractice)&&l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-3 pt-3 border-t border-blue-200",children:[e.sheetTracking.studyHoursAtExam&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-purple-700",children:e.sheetTracking.studyHoursAtExam}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Hours"})]}),e.sheetTracking.finalPractice&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-blue-700",children:e.sheetTracking.finalPractice}),l.jsx("p",{className:"text-xs text-gray-500",children:"Practice %"})]}),e.sheetTracking.chaptersComplete&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-green-700",children:e.sheetTracking.chaptersComplete}),l.jsx("p",{className:"text-xs text-gray-500",children:"Chapters"})]}),e.sheetTracking.studyConsistency&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-gray-700",children:e.sheetTracking.studyConsistency}),l.jsx("p",{className:"text-xs text-gray-500",children:"Consistency"})]})]})]}),a.readiness&&l.jsxs("div",{className:`border-2 rounded-xl p-4 ${a.readiness.status==="GREEN"?"border-green-300 bg-green-50":a.readiness.status==="YELLOW"?"border-yellow-300 bg-yellow-50":"border-red-300 bg-red-50"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2 text-sm",children:[l.jsx("span",{className:`w-3 h-3 rounded-full ${a.readiness.status==="GREEN"?"bg-green-500":a.readiness.status==="YELLOW"?"bg-yellow-400":"bg-red-500"}`}),"Exam Readiness"]}),l.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${a.readiness.status==="GREEN"?"bg-green-200 text-green-800":a.readiness.status==="YELLOW"?"bg-yellow-200 text-yellow-800":"bg-red-200 text-red-800"}`,children:[a.readiness.status," (",a.readiness.criteriaMet,"/",a.readiness.criteriaTotal,")"]})]}),l.jsxs("div",{className:"space-y-2",children:[a.readiness.criteria.practiceExams&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.practiceExams.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.practiceExams.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Practice Exams"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[a.readiness.criteria.practiceExams.consecutivePassing,"/3 consecutive passing","  ",a.readiness.criteria.practiceExams.totalExams," exam",a.readiness.criteria.practiceExams.totalExams!==1?"s":""," found","  ",ul(a.readiness.criteria.practiceExams.hoursSpent)," total time"]})]})]}),((R=a.readiness.criteria.practiceExams.details)==null?void 0:R.length)>0&&l.jsx("div",{className:"mt-2 ml-7 space-y-1",children:a.readiness.criteria.practiceExams.details.map((O,V)=>l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx("span",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${O.score>=80?"bg-green-500":"bg-red-400"}`}),l.jsxs("span",{className:`font-medium ${O.score>=80?"text-green-700":"text-red-600"}`,children:[Math.round(O.score*10)/10,"%"]}),l.jsxs("span",{className:"text-gray-400",children:[O.minutes,"m"]}),l.jsx("span",{className:"text-gray-400 truncate",title:O.name,children:O.name})]},V))})]}),a.readiness.criteria.timeInCourse&&l.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg p-2.5",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.timeInCourse.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.timeInCourse.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Time in Course"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[ul(a.readiness.criteria.timeInCourse.hoursLogged)," / ",a.readiness.criteria.timeInCourse.hoursRequired,"h required (",a.readiness.criteria.timeInCourse.courseType,")"]})]})]}),a.readiness.criteria.stateLaws&&l.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg p-2.5",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.stateLaws.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.stateLaws.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"State Laws"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[a.readiness.criteria.stateLaws.completions," completion",a.readiness.criteria.stateLaws.completions!==1?"s":"",", ",ul(a.readiness.criteria.stateLaws.hoursSpent)," spent (need 1 completion + 1h 30m)"]})]})]}),a.readiness.criteria.videos&&l.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg p-2.5",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.videos.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.videos.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Videos"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[((W=a.readiness.criteria.videos.details)==null?void 0:W.life)&&l.jsxs("span",{children:["Life: ",a.readiness.criteria.videos.details.life.minutes,"m/30m",a.readiness.criteria.videos.details.life.met?" ":""," "]}),((Z=a.readiness.criteria.videos.details)==null?void 0:Z.health)&&l.jsxs("span",{children:["Health: ",a.readiness.criteria.videos.details.health.minutes,"m/30m",a.readiness.criteria.videos.details.health.met?" ":""]}),!((J=a.readiness.criteria.videos.details)!=null&&J.life)&&!((ve=a.readiness.criteria.videos.details)!=null&&ve.health)&&l.jsxs("span",{children:[a.readiness.criteria.videos.totalCourses," video course",a.readiness.criteria.videos.totalCourses!==1?"s":""]})]})]})]})]})]}),a.gapMetrics&&a.gapMetrics.study_gap_count>0&&l.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4",children:[l.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2 text-sm mb-3",children:[l.jsx("svg",{className:"w-4 h-4 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Study Consistency"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:`text-lg font-bold ${a.gapMetrics.study_gap_count>5?"text-red-600":a.gapMetrics.study_gap_count>2?"text-orange-600":"text-green-600"}`,children:a.gapMetrics.study_gap_count}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Gaps"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-gray-700",children:a.gapMetrics.total_gap_days}),l.jsx("p",{className:"text-xs text-gray-500",children:"Total Gap Days"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:`text-lg font-bold ${a.gapMetrics.largest_gap_days>7?"text-red-600":a.gapMetrics.largest_gap_days>3?"text-orange-600":"text-green-600"}`,children:a.gapMetrics.largest_gap_days}),l.jsx("p",{className:"text-xs text-gray-500",children:"Largest Gap (days)"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-sm font-bold text-gray-700",children:a.gapMetrics.last_gap_date||"N/A"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Last Gap Date"})]})]}),a.gapMetrics.timeline&&a.gapMetrics.timeline.length>0&&l.jsxs("div",{className:"mt-3",children:[l.jsx("button",{onClick:()=>Y(!H),className:"text-xs text-orange-600 hover:text-orange-800 font-medium mb-2",children:H?"Hide Timeline":"Show Timeline"}),H&&l.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:a.gapMetrics.timeline.map((O,V)=>{const se=new Date(O.start+"T00:00:00"),Le=new Date(O.end+"T00:00:00"),we=mi=>mi.toLocaleDateString("en-US",{month:"short",day:"numeric"}),ke=O.days===1?we(se):`${we(se)} - ${we(Le)}`,Dt=O.type==="gap",qs=Dt&&O.days>=4;return l.jsxs("div",{className:`flex items-center gap-2 px-2.5 py-1.5 rounded-lg text-xs ${Dt?qs?"bg-red-50 border border-red-200":"bg-orange-50 border border-orange-200":"bg-green-50 border border-green-200"}`,children:[l.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${Dt?qs?"bg-red-400":"bg-orange-400":"bg-green-400"}`}),l.jsx("span",{className:"font-medium text-gray-700 min-w-[120px]",children:ke}),l.jsxs("span",{className:"text-gray-500",children:["(",O.days,"d)"]}),l.jsx("span",{className:`font-medium ${Dt?qs?"text-red-600":"text-orange-600":"text-green-600"}`,children:Dt?"Gap":"Studied"})]},V)})})]})]}),N.length>0&&l.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-xl p-4",children:[l.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2 text-sm mb-3 cursor-pointer",onClick:()=>$(!z),children:[l.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Study History",l.jsxs("span",{className:"text-xs font-normal text-gray-500 ml-1",children:["(",N.length," snapshot",N.length!==1?"s":"",")"]}),l.jsx("svg",{className:`w-4 h-4 ml-auto text-gray-400 transition-transform ${z?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),(()=>{const O=N[0],V=N[N.length-1],se=O.total_time_min-V.total_time_min,Le=O.prelicense_progress-V.prelicense_progress,we=ke=>ke>=60?`${Math.floor(ke/60)}h ${Math.round(ke%60)}m`:`${Math.round(ke)}m`;return l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-indigo-700",children:we(O.total_time_min)}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Time"}),N.length>1&&se>0&&l.jsxs("p",{className:"text-xs text-green-600",children:["+",we(se)]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsxs("p",{className:"text-lg font-bold text-indigo-700",children:[O.prelicense_progress,"%"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Pre-License"}),N.length>1&&Le!==0&&l.jsxs("p",{className:`text-xs ${Le>0?"text-green-600":"text-red-500"}`,children:[Le>0?"+":"",Le.toFixed(1),"%"]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-indigo-700",children:O.consecutive_passing}),l.jsx("p",{className:"text-xs text-gray-500",children:"Consec. Passing"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("span",{className:`inline-block w-3 h-3 rounded-full mr-1 ${O.readiness==="GREEN"?"bg-green-500":O.readiness==="YELLOW"?"bg-yellow-400":"bg-red-500"}`}),l.jsx("span",{className:"text-sm font-bold text-gray-700",children:O.criteria_met}),l.jsx("p",{className:"text-xs text-gray-500",children:"Readiness"})]})]})})(),N.length>1&&l.jsxs("div",{className:"bg-white rounded-lg p-3 mb-3",children:[l.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Study Time Progression"}),l.jsx("div",{className:"flex items-end gap-1",style:{height:"48px"},children:(()=>{const O=[...N].reverse(),V=Math.max(...O.map(se=>se.total_time_min),1);return O.map((se,Le)=>{const we=Math.max(se.total_time_min/V*100,4),ke=se.readiness==="GREEN"?"bg-green-400":se.readiness==="YELLOW"?"bg-yellow-400":"bg-red-400";return l.jsx("div",{className:`flex-1 rounded-t ${ke} transition-all`,style:{height:`${we}%`,minWidth:"4px",maxWidth:"24px"},title:`${new Date(se.snapshot_time).toLocaleDateString()} - ${Math.round(se.total_time_min)}min (${se.readiness})`},se.id||Le)})})()}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[l.jsx("span",{children:new Date(N[N.length-1].snapshot_time).toLocaleDateString()}),l.jsx("span",{children:new Date(N[0].snapshot_time).toLocaleDateString()})]})]}),z&&l.jsx("div",{className:"bg-white rounded-lg overflow-hidden",children:l.jsxs("table",{className:"w-full text-xs",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-indigo-100 text-gray-600",children:[l.jsx("th",{className:"px-2 py-1.5 text-left",children:"Date"}),l.jsx("th",{className:"px-2 py-1.5 text-right",children:"Time"}),l.jsx("th",{className:"px-2 py-1.5 text-right",children:"Progress"}),l.jsx("th",{className:"px-2 py-1.5 text-right",children:"Passing"}),l.jsx("th",{className:"px-2 py-1.5 text-center",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:N.map((O,V)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"px-2 py-1.5 text-gray-600",children:[new Date(O.snapshot_time).toLocaleDateString()," ",new Date(O.snapshot_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),l.jsx("td",{className:"px-2 py-1.5 text-right font-medium",children:O.total_time_min>=60?`${Math.floor(O.total_time_min/60)}h ${Math.round(O.total_time_min%60)}m`:`${Math.round(O.total_time_min)}m`}),l.jsxs("td",{className:"px-2 py-1.5 text-right",children:[O.prelicense_progress,"%"]}),l.jsxs("td",{className:"px-2 py-1.5 text-right",children:[O.consecutive_passing,"/3"]}),l.jsx("td",{className:"px-2 py-1.5 text-center",children:l.jsx("span",{className:`inline-block w-2.5 h-2.5 rounded-full ${O.readiness==="GREEN"?"bg-green-500":O.readiness==="YELLOW"?"bg-yellow-400":"bg-red-500"}`,title:`${O.readiness} (${O.criteria_met})`})})]},O.id||V))})]})})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Last Login"}),l.jsx("p",{className:"font-semibold text-gray-900",children:a.lastLogin.relative})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Course Time"}),l.jsx("p",{className:"font-semibold text-gray-900",children:a.timeSpent.formatted})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam Prep Time"}),l.jsx("p",{className:"font-semibold text-purple-700",children:((be=a.examPrepTime)==null?void 0:be.formatted)||"0m"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Total Study Time"}),l.jsx("p",{className:"font-semibold text-gray-900",children:(()=>{var Le,we;const O=((Le=a.timeSpent)==null?void 0:Le.minutes)||0,V=((we=a.examPrepTime)==null?void 0:we.minutes)||0,se=O+V;return se>=60?`${Math.floor(se/60)}h ${se%60}m`:`${se}m`})()})]})]}),l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"font-medium text-gray-900",children:a.courseName}),l.jsx("span",{className:"text-sm text-gray-500",children:a.enrollmentStatusText})]}),l.jsx(hi,{progress:a.progress})]}),a.enrollments&&a.enrollments.length>0&&l.jsx(Jy,{enrollments:a.enrollments})]}):null}),l.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:l.jsx("button",{onClick:n,className:"btn btn-secondary",children:"Close"})})]})})}function ev({student:t,adminMode:e,onClose:n,onUpdateResult:s,onUpdateExamDate:r,onUpdateContact:i}){var A,N;const[o,a]=M.useState(!1),[c,u]=M.useState(""),[d,h]=M.useState(""),[f,g]=M.useState(!1),[y,x]=M.useState(""),[w,p]=M.useState(""),[m,v]=M.useState(""),[k,j]=M.useState(!1);M.useEffect(()=>{const C=z=>{z.key==="Escape"&&n()};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[n]),M.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const S=(t.passFail||"").toUpperCase()==="PASS",L=(t.passFail||"").toUpperCase()==="FAIL",_=t.sheetTracking||{},F=C=>{const z=(C||"").toUpperCase();return z==="GREEN"?"bg-green-100 text-green-700":z==="YELLOW"?"bg-yellow-100 text-yellow-700":z==="RED"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"};return l.jsx("div",{className:"modal-overlay",onClick:n,children:l.jsxs("div",{className:"modal-content",onClick:C=>C.stopPropagation(),children:[l.jsx("div",{className:`${e?"bg-gradient-to-r from-purple-700 to-purple-900":"header"} px-6 py-4 rounded-t-xl`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Student Details"}),e&&l.jsx("span",{className:"px-2 py-0.5 bg-white/20 rounded text-xs text-white font-medium",children:"Admin"})]}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:l.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"p-6 max-h-[80vh] overflow-y-auto",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("div",{children:f?l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"text",value:y,onChange:C=>x(C.target.value),placeholder:"Full Name",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("input",{type:"email",value:w,onChange:C=>p(C.target.value),placeholder:"Email",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("input",{type:"tel",value:m,onChange:C=>v(C.target.value),placeholder:"Phone",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{disabled:k,onClick:async()=>{j(!0),await i(t.email,y,w,m),j(!1),g(!1)},className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors disabled:opacity-50",children:k?"Saving...":"Save"}),l.jsx("button",{onClick:()=>g(!1),className:"px-3 py-1 bg-gray-200 text-gray-700 rounded text-sm hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:t.fullName}),l.jsx("p",{className:"text-gray-500",children:t.email}),(_.phone||t.phone)&&l.jsx("p",{className:"text-gray-500 text-sm",children:_.phone||t.phone})]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[e&&i&&!f&&l.jsx("button",{onClick:()=>{x(t.fullName||""),p(t.email||""),v(_.phone||t.phone||""),g(!0)},className:"text-xs px-2 py-1 text-purple-600 hover:bg-purple-50 rounded border border-purple-200 transition-colors",children:"Edit"}),t.matched!==!1?l.jsx(xa,{status:t.status}):!e&&l.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-600",children:"Not in department"})]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-5",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Exam Information",r&&!o&&l.jsxs("button",{onClick:()=>{a(!0),u(t.examDateRaw||""),h(t.examTime||"")},className:"ml-auto text-xs px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-1 shadow-sm",children:[l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Date"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o&&r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Exam Date"}),l.jsx("input",{type:"date",value:c,onChange:C=>u(C.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Exam Time"}),l.jsx("input",{type:"text",value:d,onChange:C=>h(C.target.value),placeholder:"e.g., 2:00 PM",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"col-span-2 flex gap-2 justify-end",children:[l.jsx("button",{onClick:()=>{c&&(r(t.email,c,d),a(!1))},className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors",children:"Save"}),l.jsx("button",{onClick:()=>a(!1),className:"px-3 py-1 bg-gray-200 text-gray-700 rounded text-sm hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam Date"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examDate||"TBD"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam Time"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examTime||"N/A"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"State"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examState||"N/A"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Result"}),s?l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsx("button",{onClick:()=>s(t.email,S?"":"PASS"),className:`px-3 py-1 rounded text-xs font-medium transition-colors ${S?"bg-green-600 text-white shadow-sm":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200"}`,children:"PASS"}),l.jsx("button",{onClick:()=>s(t.email,L?"":"FAIL"),className:`px-3 py-1 rounded text-xs font-medium transition-colors ${L?"bg-red-600 text-white shadow-sm":"bg-red-50 text-red-700 hover:bg-red-100 border border-red-200"}`,children:"FAIL"})]}):l.jsxs("p",{className:"font-semibold",children:[S&&l.jsx("span",{className:"text-green-700 bg-green-100 px-2 py-0.5 rounded",children:"PASS"}),L&&l.jsx("span",{className:"text-red-700 bg-red-100 px-2 py-0.5 rounded",children:"FAIL"}),!S&&!L&&l.jsx("span",{className:"text-gray-600",children:"Pending"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Course"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examCourse||t.courseName||"N/A"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Agency Owner"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.agencyOwner||"N/A"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Department"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.departmentName||"N/A"})]}),t.finalOutcome&&l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Final Outcome"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.finalOutcome})]})]}),e&&(_.studyHoursAtExam||_.finalPractice||_.chaptersComplete)&&l.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-5",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Study Stats at Exam"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[_.studyHoursAtExam&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-purple-700",children:_.studyHoursAtExam}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Hours"})]}),_.finalPractice&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-700",children:_.finalPractice}),l.jsx("p",{className:"text-xs text-gray-500",children:"Final Practice %"})]}),_.chaptersComplete&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:_.chaptersComplete}),l.jsx("p",{className:"text-xs text-gray-500",children:"Chapters Complete"})]}),_.videosWatched&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-indigo-700",children:_.videosWatched}),l.jsx("p",{className:"text-xs text-gray-500",children:"Videos Watched"})]}),_.stateLawsDone&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-amber-700",children:_.stateLawsDone}),l.jsx("p",{className:"text-xs text-gray-500",children:"State Laws Done"})]}),_.studyConsistency&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-gray-700",children:_.studyConsistency}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Consistency"})]})]})]}),e&&_.weeklyTracking&&_.weeklyTracking.length>0&&l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-5",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Weekly Tracking",_.t0Sent&&l.jsxs("span",{className:"text-xs font-normal text-gray-500 ml-2",children:["T-0 Sent: ",_.t0Sent]})]}),l.jsx("div",{className:"space-y-3",children:_.weeklyTracking.map(C=>l.jsxs("div",{className:"bg-white rounded-lg p-3 flex items-center gap-4",children:[l.jsx("div",{className:"w-12 text-center",children:l.jsx("span",{className:"font-bold text-gray-700 text-sm",children:C.week})}),l.jsxs("div",{className:"flex-1 flex items-center gap-3 flex-wrap",children:[C.status&&l.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${F(C.status)}`,children:C.status}),C.hours&&l.jsxs("span",{className:"text-sm text-gray-700",children:[l.jsx("span",{className:"text-gray-500",children:"Hours:"})," ",C.hours]}),C.practice&&l.jsxs("span",{className:"text-sm text-gray-700",children:[l.jsx("span",{className:"text-gray-500",children:"Practice:"})," ",C.practice]})]}),C.notes&&l.jsx("p",{className:"text-xs text-gray-500 italic max-w-[200px] truncate",title:C.notes,children:C.notes})]},C.week))})]}),t.matched!==!1&&l.jsx(l.Fragment,{children:l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx("p",{className:"font-medium text-gray-900",children:t.courseName})}),l.jsx(hi,{progress:t.progress}),l.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[l.jsxs("span",{children:["Course: ",((A=t.timeSpent)==null?void 0:A.formatted)||"0m"]}),((N=t.examPrepTime)==null?void 0:N.minutes)>0&&l.jsxs("span",{className:"text-purple-600",children:["Prep: ",t.examPrepTime.formatted]})]})]})}),t.matched===!1&&!e&&l.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[l.jsx("svg",{className:"w-5 h-5 text-amber-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-amber-800",children:"Student not in your department"}),l.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Course progress and study time data from Absorb is only available for students in your department. Log in as their department admin to see full details."})]})]})]})}),l.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:l.jsx("button",{onClick:n,className:"btn btn-secondary",children:"Close"})})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function fi(t){return t+.5|0}const yn=(t,e,n)=>Math.max(Math.min(t,n),e);function kr(t){return yn(fi(t*2.55),0,255)}function Ln(t){return yn(fi(t*255),0,255)}function Kt(t){return yn(fi(t/2.55)/100,0,1)}function Eh(t){return yn(fi(t*100),0,100)}const pt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yc=[..."0123456789ABCDEF"],tv=t=>yc[t&15],nv=t=>yc[(t&240)>>4]+yc[t&15],Vi=t=>(t&240)>>4===(t&15),sv=t=>Vi(t.r)&&Vi(t.g)&&Vi(t.b)&&Vi(t.a);function rv(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&pt[t[1]]*17,g:255&pt[t[2]]*17,b:255&pt[t[3]]*17,a:e===5?pt[t[4]]*17:255}:(e===7||e===9)&&(n={r:pt[t[1]]<<4|pt[t[2]],g:pt[t[3]]<<4|pt[t[4]],b:pt[t[5]]<<4|pt[t[6]],a:e===9?pt[t[7]]<<4|pt[t[8]]:255})),n}const iv=(t,e)=>t<255?e(t):"";function ov(t){var e=sv(t)?tv:nv;return t?"#"+e(t.r)+e(t.g)+e(t.b)+iv(t.a,e):void 0}const av=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function tg(t,e,n){const s=e*Math.min(n,1-n),r=(i,o=(i+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function lv(t,e,n){const s=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function cv(t,e,n){const s=tg(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)s[r]*=1-e-n,s[r]+=e;return s}function uv(t,e,n,s,r){return t===r?(e-n)/s+(e<n?6:0):e===r?(n-t)/s+2:(t-e)/s+4}function vu(t){const n=t.r/255,s=t.g/255,r=t.b/255,i=Math.max(n,s,r),o=Math.min(n,s,r),a=(i+o)/2;let c,u,d;return i!==o&&(d=i-o,u=a>.5?d/(2-i-o):d/(i+o),c=uv(n,s,r,d,i),c=c*60+.5),[c|0,u||0,a]}function bu(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Ln)}function wu(t,e,n){return bu(tg,t,e,n)}function dv(t,e,n){return bu(cv,t,e,n)}function hv(t,e,n){return bu(lv,t,e,n)}function ng(t){return(t%360+360)%360}function fv(t){const e=av.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?kr(+e[5]):Ln(+e[5]));const r=ng(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=dv(r,i,o):e[1]==="hsv"?s=hv(r,i,o):s=wu(r,i,o),{r:s[0],g:s[1],b:s[2],a:n}}function pv(t,e){var n=vu(t);n[0]=ng(n[0]+e),n=wu(n),t.r=n[0],t.g=n[1],t.b=n[2]}function mv(t){if(!t)return;const e=vu(t),n=e[0],s=Eh(e[1]),r=Eh(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${r}%, ${Kt(t.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const Ph={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Dh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function gv(){const t={},e=Object.keys(Dh),n=Object.keys(Ph);let s,r,i,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],r=0;r<n.length;r++)i=n[r],a=a.replace(i,Ph[i]);i=parseInt(Dh[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let Ui;function xv(t){Ui||(Ui=gv(),Ui.transparent=[0,0,0,0]);const e=Ui[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const yv=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function vv(t){const e=yv.exec(t);let n=255,s,r,i;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?kr(o):yn(o*255,0,255)}return s=+e[1],r=+e[3],i=+e[5],s=255&(e[2]?kr(s):yn(s,0,255)),r=255&(e[4]?kr(r):yn(r,0,255)),i=255&(e[6]?kr(i):yn(i,0,255)),{r:s,g:r,b:i,a:n}}}function bv(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Kt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const hl=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,gs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function wv(t,e,n){const s=gs(Kt(t.r)),r=gs(Kt(t.g)),i=gs(Kt(t.b));return{r:Ln(hl(s+n*(gs(Kt(e.r))-s))),g:Ln(hl(r+n*(gs(Kt(e.g))-r))),b:Ln(hl(i+n*(gs(Kt(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Yi(t,e,n){if(t){let s=vu(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=wu(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function sg(t,e){return t&&Object.assign(e||{},t)}function Th(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ln(t[3]))):(e=sg(t,{r:0,g:0,b:0,a:1}),e.a=Ln(e.a)),e}function kv(t){return t.charAt(0)==="r"?vv(t):fv(t)}class ni{constructor(e){if(e instanceof ni)return e;const n=typeof e;let s;n==="object"?s=Th(e):n==="string"&&(s=rv(e)||xv(e)||kv(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=sg(this._rgb);return e&&(e.a=Kt(e.a)),e}set rgb(e){this._rgb=Th(e)}rgbString(){return this._valid?bv(this._rgb):void 0}hexString(){return this._valid?ov(this._rgb):void 0}hslString(){return this._valid?mv(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,r=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,c=s.a-r.a,u=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;i=1-u,s.r=255&u*s.r+i*r.r+.5,s.g=255&u*s.g+i*r.g+.5,s.b=255&u*s.b+i*r.b+.5,s.a=o*s.a+(1-o)*r.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=wv(this._rgb,e._rgb,n)),this}clone(){return new ni(this.rgb)}alpha(e){return this._rgb.a=Ln(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=fi(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Yi(this._rgb,2,e),this}darken(e){return Yi(this._rgb,2,-e),this}saturate(e){return Yi(this._rgb,1,e),this}desaturate(e){return Yi(this._rgb,1,-e),this}rotate(e){return pv(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function $t(){}const jv=(()=>{let t=0;return()=>t++})();function le(t){return t==null}function Pe(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ne(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function kt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ot(t,e){return kt(t)?t:e}function ee(t,e){return typeof t>"u"?e:t}const _v=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,rg=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function he(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function re(t,e,n,s){let r,i,o;if(Pe(t))for(i=t.length,r=0;r<i;r++)e.call(n,t[r],r);else if(ne(t))for(o=Object.keys(t),i=o.length,r=0;r<i;r++)e.call(n,t[o[r]],o[r])}function $o(t,e){let n,s,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(r=t[n],i=e[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function Vo(t){if(Pe(t))return t.map(Vo);if(ne(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let r=0;for(;r<s;++r)e[n[r]]=Vo(t[n[r]]);return e}return t}function ig(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Nv(t,e,n,s){if(!ig(t))return;const r=e[t],i=n[t];ne(r)&&ne(i)?si(r,i,s):e[t]=Vo(i)}function si(t,e,n){const s=Pe(e)?e:[e],r=s.length;if(!ne(t))return t;n=n||{};const i=n.merger||Nv;let o;for(let a=0;a<r;++a){if(o=s[a],!ne(o))continue;const c=Object.keys(o);for(let u=0,d=c.length;u<d;++u)i(c[u],t,o,n)}return t}function Or(t,e){return si(t,e,{merger:Sv})}function Sv(t,e,n){if(!ig(t))return;const s=e[t],r=n[t];ne(s)&&ne(r)?Or(s,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Vo(r))}const Ah={"":t=>t,x:t=>t.x,y:t=>t.y};function Cv(t){const e=t.split("."),n=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function Mv(t){const e=Cv(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function as(t,e){return(Ah[e]||(Ah[e]=Mv(e)))(t)}function ku(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ri=t=>typeof t<"u",Tn=t=>typeof t=="function",Oh=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Lv(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ae=Math.PI,Me=2*ae,Uo=Number.POSITIVE_INFINITY,Ev=ae/180,Te=ae/2,$n=ae/4,Rh=ae*2/3,og=Math.log10,En=Math.sign;function mo(t,e,n){return Math.abs(t-e)<n}function Fh(t){const e=Math.round(t);t=mo(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(og(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function Pv(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((r,i)=>r-i).pop(),e}function Dv(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Yo(t){return!Dv(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Tv(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Av(t,e,n){let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Zt(t){return t*(ae/180)}function Ov(t){return t*(180/ae)}function zh(t){if(!kt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function ag(t,e){const n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*ae&&(i+=Me),{angle:i,distance:r}}function Rv(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function It(t){return(t%Me+Me)%Me}function Xo(t,e,n,s){const r=It(t),i=It(e),o=It(n),a=It(i-r),c=It(o-r),u=It(r-i),d=It(r-o);return r===i||r===o||s&&i===o||a>c&&u<d}function st(t,e,n){return Math.max(e,Math.min(n,t))}function Fv(t){return st(t,-32768,32767)}function Jn(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function ju(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const vc=(t,e,n,s)=>ju(t,n,s?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),zv=(t,e,n)=>ju(t,n,s=>t[s][e]>=n);function Iv(t,e,n){let s=0,r=t.length;for(;s<r&&t[s]<e;)s++;for(;r>s&&t[r-1]>n;)r--;return s>0||r<t.length?t.slice(s,r):t}const lg=["push","pop","shift","splice","unshift"];function Bv(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),lg.forEach(n=>{const s="_onData"+ku(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=r.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...i)}),o}})})}function Ih(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(lg.forEach(i=>{delete t[i]}),delete t._chartjs)}function cg(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const ug=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function dg(t,e){let n=[],s=!1;return function(...r){n=r,s||(s=!0,ug.call(window,()=>{s=!1,t.apply(e,n)}))}}function Wv(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const _u=t=>t==="start"?"left":t==="end"?"right":"center",$e=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Hv=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e,Xi=t=>t===0||t===1,Bh=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Me/n)),Wh=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Me/n)+1,Rr={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Te)+1,easeOutSine:t=>Math.sin(t*Te),easeInOutSine:t=>-.5*(Math.cos(ae*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Xi(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Xi(t)?t:Bh(t,.075,.3),easeOutElastic:t=>Xi(t)?t:Wh(t,.075,.3),easeInOutElastic(t){return Xi(t)?t:t<.5?.5*Bh(t*2,.1125,.45):.5+.5*Wh(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Rr.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Rr.easeInBounce(t*2)*.5:Rr.easeOutBounce(t*2-1)*.5+.5};function hg(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Hh(t){return hg(t)?t:new ni(t)}function fl(t){return hg(t)?t:new ni(t).saturate(.5).darken(.1).hexString()}const $v=["x","y","borderWidth","radius","tension"],Vv=["color","borderColor","backgroundColor"];function Uv(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Vv},numbers:{type:"number",properties:$v}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Yv(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const $h=new Map;function Xv(t,e){e=e||{};const n=t+JSON.stringify(e);let s=$h.get(n);return s||(s=new Intl.NumberFormat(t,e),$h.set(n,s)),s}function Nu(t,e,n){return Xv(e,n).format(t)}const Kv={values(t){return Pe(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let r,i=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),i=Gv(t,n)}const o=og(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Nu(t,s,c)}};function Gv(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var fg={formatters:Kv};function Qv(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:fg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ls=Object.create(null),bc=Object.create(null);function Fr(t,e){if(!e)return t;const n=e.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];t=t[i]||(t[i]=Object.create(null))}return t}function pl(t,e,n){return typeof e=="string"?si(Fr(t,e),n):si(Fr(t,""),e)}class Zv{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>fl(r.backgroundColor),this.hoverBorderColor=(s,r)=>fl(r.borderColor),this.hoverColor=(s,r)=>fl(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return pl(this,e,n)}get(e){return Fr(this,e)}describe(e,n){return pl(bc,e,n)}override(e,n){return pl(ls,e,n)}route(e,n,s,r){const i=Fr(this,e),o=Fr(this,s),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[a],u=o[r];return ne(c)?Object.assign({},u,c):ee(c,u)},set(c){this[a]=c}}})}apply(e){e.forEach(n=>n(this))}}var _e=new Zv({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Uv,Yv,Qv]);function Jv(t){return!t||le(t.size)||le(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Vh(t,e,n,s,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>s&&(s=i),s}function Vn(t,e,n){const s=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*s)/s+r}function Uh(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Yh(t,e,n,s){pg(t,e,n,s,null)}function pg(t,e,n,s,r){let i,o,a,c,u,d,h,f;const g=e.pointStyle,y=e.rotation,x=e.radius;let w=(y||0)*Ev;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(w),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),g){default:r?t.ellipse(n,s,r/2,x,0,0,Me):t.arc(n,s,x,0,Me),t.closePath();break;case"triangle":d=r?r/2:x,t.moveTo(n+Math.sin(w)*d,s-Math.cos(w)*x),w+=Rh,t.lineTo(n+Math.sin(w)*d,s-Math.cos(w)*x),w+=Rh,t.lineTo(n+Math.sin(w)*d,s-Math.cos(w)*x),t.closePath();break;case"rectRounded":u=x*.516,c=x-u,o=Math.cos(w+$n)*c,h=Math.cos(w+$n)*(r?r/2-u:c),a=Math.sin(w+$n)*c,f=Math.sin(w+$n)*(r?r/2-u:c),t.arc(n-h,s-a,u,w-ae,w-Te),t.arc(n+f,s-o,u,w-Te,w),t.arc(n+h,s+a,u,w,w+Te),t.arc(n-f,s+o,u,w+Te,w+ae),t.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*x,d=r?r/2:c,t.rect(n-d,s-c,2*d,2*c);break}w+=$n;case"rectRot":h=Math.cos(w)*(r?r/2:x),o=Math.cos(w)*x,a=Math.sin(w)*x,f=Math.sin(w)*(r?r/2:x),t.moveTo(n-h,s-a),t.lineTo(n+f,s-o),t.lineTo(n+h,s+a),t.lineTo(n-f,s+o),t.closePath();break;case"crossRot":w+=$n;case"cross":h=Math.cos(w)*(r?r/2:x),o=Math.cos(w)*x,a=Math.sin(w)*x,f=Math.sin(w)*(r?r/2:x),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"star":h=Math.cos(w)*(r?r/2:x),o=Math.cos(w)*x,a=Math.sin(w)*x,f=Math.sin(w)*(r?r/2:x),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o),w+=$n,h=Math.cos(w)*(r?r/2:x),o=Math.cos(w)*x,a=Math.sin(w)*x,f=Math.sin(w)*(r?r/2:x),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"line":o=r?r/2:Math.cos(w)*x,a=Math.sin(w)*x,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(w)*(r?r/2:x),s+Math.sin(w)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function mg(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Su(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Cu(t){t.restore()}function qv(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),le(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function e1(t,e,n,s,r){if(r.strikethrough||r.underline){const i=t.measureText(s),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,d=r.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function t1(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function ii(t,e,n,s,r,i={}){const o=Pe(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(t.save(),t.font=r.string,qv(t,i),c=0;c<o.length;++c)u=o[c],i.backdrop&&t1(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),le(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,s,i.maxWidth)),t.fillText(u,n,s,i.maxWidth),e1(t,n,s,u,i),s+=Number(r.lineHeight);t.restore()}function Ko(t,e){const{x:n,y:s,w:r,h:i,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*ae,ae,!0),t.lineTo(n,s+i-o.bottomLeft),t.arc(n+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,ae,Te,!0),t.lineTo(n+r-o.bottomRight,s+i),t.arc(n+r-o.bottomRight,s+i-o.bottomRight,o.bottomRight,Te,0,!0),t.lineTo(n+r,s+o.topRight),t.arc(n+r-o.topRight,s+o.topRight,o.topRight,0,-Te,!0),t.lineTo(n+o.topLeft,s)}const n1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,s1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function r1(t,e){const n=(""+t).match(n1);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const i1=t=>+t||0;function Mu(t,e){const n={},s=ne(e),r=s?Object.keys(e):e,i=ne(t)?s?o=>ee(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=i1(i(o));return n}function gg(t){return Mu(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Fs(t){return Mu(t,["topLeft","topRight","bottomLeft","bottomRight"])}function jt(t){const e=gg(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ue(t,e){t=t||{},e=e||_e.font;let n=ee(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=ee(t.style,e.style);s&&!(""+s).match(s1)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:ee(t.family,e.family),lineHeight:r1(ee(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:ee(t.weight,e.weight),string:""};return r.string=Jv(r),r}function Ki(t,e,n,s){let r,i,o;for(r=0,i=t.length;r<i;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function o1(t,e,n){const{min:s,max:r}=t,i=rg(e,(r-s)/2),o=(a,c)=>n&&a===0?0:a+c;return{min:o(s,-Math.abs(i)),max:o(r,i)}}function Zs(t,e){return Object.assign(Object.create(t),e)}function Lu(t,e=[""],n,s,r=()=>t[0]){const i=n||t;typeof s>"u"&&(s=bg("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:r,override:a=>Lu([a,...t],e,i,s)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete t[0][c],!0},get(a,c){return yg(a,c,()=>p1(c,e,t,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,c){return Kh(a).includes(c)},ownKeys(a){return Kh(a)},set(a,c,u){const d=a._storage||(a._storage=r());return a[c]=d[c]=u,delete a._keys,!0}})}function Xs(t,e,n,s){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:xg(t,s),setContext:i=>Xs(t,i,n,s),override:i=>Xs(t.override(i),e,n,s)};return new Proxy(r,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return yg(i,o,()=>l1(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function xg(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:s,isScriptable:Tn(n)?n:()=>n,isIndexable:Tn(s)?s:()=>s}}const a1=(t,e)=>t?t+ku(e):e,Eu=(t,e)=>ne(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function yg(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function l1(t,e,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:o}=t;let a=s[e];return Tn(a)&&o.isScriptable(e)&&(a=c1(e,a,t,n)),Pe(a)&&a.length&&(a=u1(e,a,t,o.isIndexable)),Eu(e,a)&&(a=Xs(a,r,i&&i[e],o)),a}function c1(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let c=e(i,o||s);return a.delete(t),Eu(t,c)&&(c=Pu(r._scopes,r,t,c)),c}function u1(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if(ne(e[0])){const c=e,u=r._scopes.filter(d=>d!==c);e=[];for(const d of c){const h=Pu(u,r,t,d);e.push(Xs(h,i,o&&o[t],a))}}return e}function vg(t,e,n){return Tn(t)?t(e,n):t}const d1=(t,e)=>t===!0?e:typeof t=="string"?as(e,t):void 0;function h1(t,e,n,s,r){for(const i of e){const o=d1(n,i);if(o){t.add(o);const a=vg(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function Pu(t,e,n,s){const r=e._rootScopes,i=vg(e._fallback,n,s),o=[...t,...r],a=new Set;a.add(s);let c=Xh(a,o,n,i||n,s);return c===null||typeof i<"u"&&i!==n&&(c=Xh(a,o,i,c,s),c===null)?!1:Lu(Array.from(a),[""],r,i,()=>f1(e,n,s))}function Xh(t,e,n,s,r){for(;n;)n=h1(t,e,n,s,r);return n}function f1(t,e,n){const s=t._getTarget();e in s||(s[e]={});const r=s[e];return Pe(r)&&ne(n)?n:r||{}}function p1(t,e,n,s){let r;for(const i of e)if(r=bg(a1(i,t),n),typeof r<"u")return Eu(t,r)?Pu(n,s,t,r):r}function bg(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Kh(t){let e=t._keys;return e||(e=t._keys=m1(t._scopes)),e}function m1(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}function Du(){return typeof window<"u"&&typeof document<"u"}function Tu(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Go(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const ya=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function g1(t,e){return ya(t).getPropertyValue(e)}const x1=["top","right","bottom","left"];function ts(t,e,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=x1[r];s[i]=parseFloat(t[e+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const y1=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function v1(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:r,offsetY:i}=s;let o=!1,a,c;if(y1(r,i,t.target))a=r,c=i;else{const u=e.getBoundingClientRect();a=s.clientX-u.left,c=s.clientY-u.top,o=!0}return{x:a,y:c,box:o}}function Kn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,r=ya(n),i=r.boxSizing==="border-box",o=ts(r,"padding"),a=ts(r,"border","width"),{x:c,y:u,box:d}=v1(t,n),h=o.left+(d&&a.left),f=o.top+(d&&a.top);let{width:g,height:y}=e;return i&&(g-=o.width+a.width,y-=o.height+a.height),{x:Math.round((c-h)/g*n.width/s),y:Math.round((u-f)/y*n.height/s)}}function b1(t,e,n){let s,r;if(e===void 0||n===void 0){const i=t&&Tu(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=ya(i),c=ts(a,"border","width"),u=ts(a,"padding");e=o.width-u.width-c.width,n=o.height-u.height-c.height,s=Go(a.maxWidth,i,"clientWidth"),r=Go(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:s||Uo,maxHeight:r||Uo}}const vn=t=>Math.round(t*10)/10;function w1(t,e,n,s){const r=ya(t),i=ts(r,"margin"),o=Go(r.maxWidth,t,"clientWidth")||Uo,a=Go(r.maxHeight,t,"clientHeight")||Uo,c=b1(t,e,n);let{width:u,height:d}=c;if(r.boxSizing==="content-box"){const f=ts(r,"border","width"),g=ts(r,"padding");u-=g.width+f.width,d-=g.height+f.height}return u=Math.max(0,u-i.width),d=Math.max(0,s?u/s:d-i.height),u=vn(Math.min(u,o,c.maxWidth)),d=vn(Math.min(d,a,c.maxHeight)),u&&!d&&(d=vn(u/2)),(e!==void 0||n!==void 0)&&s&&c.height&&d>c.height&&(d=c.height,u=vn(Math.floor(d*s))),{width:u,height:d}}function Gh(t,e,n){const s=e||1,r=vn(t.height*s),i=vn(t.width*s);t.height=vn(t.height),t.width=vn(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==r||o.width!==i?(t.currentDevicePixelRatio=s,o.height=r,o.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const k1=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Du()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Qh(t,e){const n=g1(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const j1=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},_1=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function zs(t,e,n){return t?j1(e,n):_1()}function wg(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function kg(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Gi(t,e,n){return t.options.clip?t[n]:e[n]}function N1(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Gi(n,e,"left"),right:Gi(n,e,"right"),top:Gi(s,e,"top"),bottom:Gi(s,e,"bottom")}:e}function S1(t,e){const n=e._clip;if(n.disabled)return!1;const s=N1(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class C1{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,r){const i=n.listeners[r],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ug.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,a=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,s,e,"progress")),i.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Vt=new C1;const Zh="transparent",M1={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=Hh(t||Zh),r=s.valid&&Hh(e||Zh);return r&&r.valid?r.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class L1{constructor(e,n,s,r){const i=n[s];r=Ki([e.to,r,i,e.from]);const o=Ki([e.from,i,r]);this._active=!0,this._fn=e.fn||M1[e.type||typeof o],this._easing=Rr[e.easing]||Rr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Ki([e.to,n,r,e.from]),this._from=Ki([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to;let c;if(this._active=i!==a&&(o||n<s),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=i;return}c=n/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(i,a,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class jg{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ne(e))return;const n=Object.keys(_e.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!ne(i))return;const o={};for(const a of n)o[a]=i[a];(Pe(i.properties)&&i.properties||[r]).forEach(a=>{(a===r||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,r=P1(e,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&E1(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,n){const s=this._properties,r=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let c;for(c=o.length-1;c>=0;--c){const u=o[c];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(e,n));continue}const d=n[u];let h=i[u];const f=s.get(u);if(h)if(f&&h.active()){h.update(f,d,a);continue}else h.cancel();if(!f||!f.duration){e[u]=d;continue}i[u]=h=new L1(f,e,u,d),r.push(h)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Vt.add(this._chart,s),!0}}function E1(t,e){const n=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const i=t[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function P1(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Jh(t,e){const n=t&&t.options||{},s=n.reverse,r=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:s?i:r,end:s?r:i}}function D1(t,e,n){if(n===!1)return!1;const s=Jh(t,n),r=Jh(e,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function T1(t){let e,n,s,r;return ne(t)?(e=t.top,n=t.right,s=t.bottom,r=t.left):e=n=s=r=t,{top:e,right:n,bottom:s,left:r,disabled:t===!1}}function _g(t,e){const n=[],s=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function qh(t,e,n,s={}){const r=t.keys,i=s.mode==="single";let o,a,c,u;if(e===null)return;let d=!1;for(o=0,a=r.length;o<a;++o){if(c=+r[o],c===n){if(d=!0,s.all)continue;break}u=t.values[c],kt(u)&&(i||e===0||En(e)===En(u))&&(e+=u)}return!d&&!s.all?0:e}function A1(t,e){const{iScale:n,vScale:s}=e,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let c,u,d;for(c=0,u=o.length;c<u;++c)d=o[c],a[c]={[r]:d,[i]:t[d]};return a}function ml(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function O1(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function R1(t){const{min:e,max:n,minDefined:s,maxDefined:r}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function F1(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function ef(t,e,n,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function tf(t,e){const{chart:n,_cachedMeta:s}=t,r=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=s,c=i.axis,u=o.axis,d=O1(i,o,s),h=e.length;let f;for(let g=0;g<h;++g){const y=e[g],{[c]:x,[u]:w}=y,p=y._stacks||(y._stacks={});f=p[u]=F1(r,d,x),f[a]=w,f._top=ef(f,o,!0,s.type),f._bottom=ef(f,o,!1,s.type);const m=f._visualValues||(f._visualValues={});m[a]=w}}function gl(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function z1(t,e){return Zs(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function I1(t,e,n){return Zs(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function fr(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const r of e){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const xl=t=>t==="reset"||t==="none",nf=(t,e)=>e?t:Object.assign({},t),B1=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:_g(n,!0),values:null};class Is{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ml(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&fr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(h,f,g,y)=>h==="x"?f:h==="r"?y:g,i=n.xAxisID=ee(s.xAxisID,gl(e,"x")),o=n.yAxisID=ee(s.yAxisID,gl(e,"y")),a=n.rAxisID=ee(s.rAxisID,gl(e,"r")),c=n.indexAxis,u=n.iAxisID=r(c,i,o,a),d=n.vAxisID=r(c,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Ih(this._data,this),e._stacked&&fr(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(ne(n)){const r=this._cachedMeta;this._data=A1(n,r)}else if(s!==n){if(s){Ih(s,this);const r=this._cachedMeta;fr(r),r._parsed=[]}n&&Object.isExtensible(n)&&Bv(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=ml(n.vScale,n),n.stack!==s.stack&&(r=!0,fr(n),n.stack=s.stack),this._resyncElements(e),(r||i!==n._stacked)&&(tf(this,n._parsed),n._stacked=ml(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:o}=s,a=i.axis;let c=e===0&&n===r.length?!0:s._sorted,u=e>0&&s._parsed[e-1],d,h,f;if(this._parsing===!1)s._parsed=r,s._sorted=!0,f=r;else{Pe(r[e])?f=this.parseArrayData(s,r,e,n):ne(r[e])?f=this.parseObjectData(s,r,e,n):f=this.parsePrimitiveData(s,r,e,n);const g=()=>h[a]===null||u&&h[a]<u[a];for(d=0;d<n;++d)s._parsed[d+e]=h=f[d],c&&(g()&&(c=!1),u=h);s._sorted=c}o&&tf(this,f)}parsePrimitiveData(e,n,s,r){const{iScale:i,vScale:o}=e,a=i.axis,c=o.axis,u=i.getLabels(),d=i===o,h=new Array(r);let f,g,y;for(f=0,g=r;f<g;++f)y=f+s,h[f]={[a]:d||i.parse(u[y],y),[c]:o.parse(n[y],y)};return h}parseArrayData(e,n,s,r){const{xScale:i,yScale:o}=e,a=new Array(r);let c,u,d,h;for(c=0,u=r;c<u;++c)d=c+s,h=n[d],a[c]={x:i.parse(h[0],d),y:o.parse(h[1],d)};return a}parseObjectData(e,n,s,r){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,u=new Array(r);let d,h,f,g;for(d=0,h=r;d<h;++d)f=d+s,g=n[f],u[d]={x:i.parse(as(g,a),f),y:o.parse(as(g,c),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const r=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:_g(r,!0),values:n._stacks[e.axis]._visualValues};return qh(a,o,i.index,{mode:s})}updateRangeFromParsed(e,n,s,r){const i=s[n.axis];let o=i===null?NaN:i;const a=r&&s._stacks[n.axis];r&&a&&(r.values=a,o=qh(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&e===s.iScale,o=r.length,a=this._getOtherScale(e),c=B1(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=R1(a);let f,g;function y(){g=r[f];const x=g[a.axis];return!kt(g[e.axis])||d>x||h<x}for(f=0;f<o&&!(!y()&&(this.updateRangeFromParsed(u,e,g,c),i));++f);if(i){for(f=o-1;f>=0;--f)if(!y()){this.updateRangeFromParsed(u,e,g,c);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let r,i,o;for(r=0,i=n.length;r<i;++r)o=n[r][e.axis],kt(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=T1(ee(this.options.clip,D1(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,o=[],a=this._drawStart||0,c=this._drawCount||r.length-a,u=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(e,i,a,c),d=a;d<a+c;++d){const h=r[d];h.hidden||(h.active&&u?o.push(h):h.draw(e,i))}for(d=0;d<o.length;++d)o[d].draw(e,i)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=I1(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=z1(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const r=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],c=this.enableOptionSharing&&ri(s);if(a)return nf(a,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),h=r?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),d),g=Object.keys(_e.elements[e]),y=()=>this.getContext(s,r,n),x=u.resolveNamedOptions(f,g,y,h);return x.$shared&&(x.$shared=c,i[o]=Object.freeze(nf(x,c))),x}_resolveAnimations(e,n,s){const r=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let c;if(r.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(e,s,n))}const u=new jg(r,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||xl(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),r=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:o}}updateElement(e,n,s,r){xl(r)?Object.assign(e,s):this._resolveAnimations(n,r).update(e,s)}updateSharedOptions(e,n,s){e&&!xl(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,r){e.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,c,u]of this._syncList)this[a](c,u);this._syncList=[];const r=s.length,i=n.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,n,s=!0){const r=this._cachedMeta,i=r.data,o=e+n;let a;const c=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(c(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,n),s&&this.updateElements(i,e,n,"reset")}updateElements(e,n,s,r){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,n);s._stacked&&fr(s,r)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,r]=e;this[n](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}K(Is,"defaults",{}),K(Is,"datasetElementType",null),K(Is,"dataElementType",null);function W1(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=cg(s.sort((r,i)=>r-i))}return t._cache.$bar}function H1(t){const e=t.iScale,n=W1(e,t.type);let s=e._length,r,i,o,a;const c=()=>{o===32767||o===-32768||(ri(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(r=0,i=n.length;r<i;++r)o=e.getPixelForValue(n[r]),c();for(a=void 0,r=0,i=e.ticks.length;r<i;++r)o=e.getPixelForTick(r),c();return s}function $1(t,e,n,s){const r=n.barThickness;let i,o;return le(r)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=r*s,o=1),{chunk:i/s,ratio:o,start:e.pixels[t]-i/2}}function V1(t,e,n,s){const r=e.pixels,i=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const c=n.categoryPercentage;o===null&&(o=i-(a===null?e.end-e.start:a-i)),a===null&&(a=i+i-o);const u=i-(i-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/s,ratio:n.barPercentage,start:u}}function U1(t,e,n,s){const r=n.parse(t[0],s),i=n.parse(t[1],s),o=Math.min(r,i),a=Math.max(r,i);let c=o,u=a;Math.abs(o)>Math.abs(a)&&(c=a,u=o),e[n.axis]=u,e._custom={barStart:c,barEnd:u,start:r,end:i,min:o,max:a}}function Ng(t,e,n,s){return Pe(t)?U1(t,e,n,s):e[n.axis]=n.parse(t,s),e}function sf(t,e,n,s){const r=t.iScale,i=t.vScale,o=r.getLabels(),a=r===i,c=[];let u,d,h,f;for(u=n,d=n+s;u<d;++u)f=e[u],h={},h[r.axis]=a||r.parse(o[u],u),c.push(Ng(f,h,i,u));return c}function yl(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Y1(t,e,n){return t!==0?En(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function X1(t){let e,n,s,r,i;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:e,top:r,bottom:i}}function K1(t,e,n,s){let r=e.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:c,top:u,bottom:d}=X1(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?r=u:(n._bottom||0)===s?r=d:(i[rf(d,o,a,c)]=!0,r=u)),i[rf(r,o,a,c)]=!0,t.borderSkipped=i}function rf(t,e,n,s){return s?(t=G1(t,e,n),t=of(t,n,e)):t=of(t,e,n),t}function G1(t,e,n){return t===e?n:t===n?e:t}function of(t,e,n){return t==="start"?e:t==="end"?n:t}function Q1(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class go extends Is{parsePrimitiveData(e,n,s,r){return sf(e,n,s,r)}parseArrayData(e,n,s,r){return sf(e,n,s,r)}parseObjectData(e,n,s,r){const{iScale:i,vScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,u=i.axis==="x"?a:c,d=o.axis==="x"?a:c,h=[];let f,g,y,x;for(f=s,g=s+r;f<g;++f)x=n[f],y={},y[i.axis]=i.parse(as(x,u),f),h.push(Ng(as(x,d),y,o,f));return h}updateRangeFromParsed(e,n,s,r){super.updateRangeFromParsed(e,n,s,r);const i=s._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:r}=n,i=this.getParsed(e),o=i._custom,a=yl(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,r){const i=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,c=a.getBasePixel(),u=a.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,r);for(let g=n;g<n+s;g++){const y=this.getParsed(g),x=i||le(y[a.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),w=this._calculateBarIndexPixels(g,d),p=(y._stacks||{})[a.axis],m={horizontal:u,base:x.base,enableBorderRadius:!p||yl(y._custom)||o===p._top||o===p._bottom,x:u?x.head:w.center,y:u?w.center:x.head,height:u?w.size:Math.abs(x.size),width:u?Math.abs(x.size):w.size};f&&(m.options=h||this.resolveDataElementOptions(g,e[g].active?"active":r));const v=m.options||e[g].options;K1(m,v,p,o),Q1(m,v,d.ratio),this.updateElement(e[g],g,m,r)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),c=a&&a[s.axis],u=d=>{const h=d._parsed.find(g=>g[s.axis]===c),f=h&&h[d.vScale.axis];if(le(f)||isNaN(f))return!0};for(const d of r)if(!(n!==void 0&&u(d))&&((i===!1||o.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[ee(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const r=this._getStacks(e,s),i=n!==void 0?r.indexOf(n):-1;return i===-1?r.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,r=[];let i,o;for(i=0,o=n.data.length;i<o;++i)r.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const a=e.barThickness;return{min:a||H1(n),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:r},options:{base:i,minBarLength:o}}=this,a=i||0,c=this.getParsed(e),u=c._custom,d=yl(u);let h=c[n.axis],f=0,g=s?this.applyStack(n,c,s):h,y,x;g!==h&&(f=g-h,g=h),d&&(h=u.barStart,g=u.barEnd-u.barStart,h!==0&&En(h)!==En(u.barEnd)&&(f=0),f+=h);const w=!le(i)&&!d?i:f;let p=n.getPixelForValue(w);if(this.chart.getDataVisibility(e)?y=n.getPixelForValue(f+g):y=p,x=y-p,Math.abs(x)<o){x=Y1(x,n,a)*o,h===a&&(p-=x/2);const m=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),k=Math.min(m,v),j=Math.max(m,v);p=Math.max(Math.min(p,j),k),y=p+x,s&&!d&&(c._stacks[n.axis]._visualValues[r]=n.getValueForPixel(y)-n.getValueForPixel(p))}if(p===n.getPixelForValue(a)){const m=En(x)*n.getLineWidthForValue(a)/2;p+=m,x-=m}return{size:x,base:p,head:y,center:y+x/2}}_calculateBarIndexPixels(e,n){const s=n.scale,r=this.options,i=r.skipNull,o=ee(r.maxBarThickness,1/0);let a,c;const u=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(e):n.stackCount,h=r.barThickness==="flex"?V1(e,n,r,d*u):$1(e,n,r,d*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(ee(f,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+g;a=h.start+h.chunk*y+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(o,n.min*n.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,r=s.length;let i=0;for(;i<r;++i)this.getParsed(i)[n.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}K(go,"id","bar"),K(go,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),K(go,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Z1(t,e,n){let s=1,r=1,i=0,o=0;if(e<Me){const a=t,c=a+e,u=Math.cos(a),d=Math.sin(a),h=Math.cos(c),f=Math.sin(c),g=(v,k,j)=>Xo(v,a,c,!0)?1:Math.max(k,k*n,j,j*n),y=(v,k,j)=>Xo(v,a,c,!0)?-1:Math.min(k,k*n,j,j*n),x=g(0,u,h),w=g(Te,d,f),p=y(ae,u,h),m=y(ae+Te,d,f);s=(x-p)/2,r=(w-m)/2,i=-(x+p)/2,o=-(w+m)/2}return{ratioX:s,ratioY:r,offsetX:i,offsetY:o}}class jr extends Is{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let i=c=>+s[c];if(ne(s[e])){const{key:c="value"}=this._parsing;i=u=>+as(s[u],c)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=i(o)}}_getRotation(){return Zt(this.options.rotation-90)}_getCircumference(){return Zt(this.options.circumference)}_getRotationExtents(){let e=Me,n=-Me;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,i=r._getRotation(),o=r._getCircumference();e=Math.min(e,i),n=Math.max(n,i+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),c=Math.min(_v(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:y,offsetY:x}=Z1(h,d,c),w=(s.width-o)/f,p=(s.height-o)/g,m=Math.max(Math.min(w,p)/2,0),v=rg(this.options.radius,m),k=Math.max(v*c,0),j=(v-k)/this._getVisibleDatasetWeightTotal();this.offsetX=y*v,this.offsetY=x*v,r.total=this.calculateTotal(),this.outerRadius=v-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const s=this.options,r=this._cachedMeta,i=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/Me)}updateElements(e,n,s,r){const i=r==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,d=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=i&&u.animateScale,g=f?0:this.innerRadius,y=f?0:this.outerRadius,{sharedOptions:x,includeOptions:w}=this._getSharedOptions(n,r);let p=this._getRotation(),m;for(m=0;m<n;++m)p+=this._circumference(m,i);for(m=n;m<n+s;++m){const v=this._circumference(m,i),k=e[m],j={x:d+this.offsetX,y:h+this.offsetY,startAngle:p,endAngle:p+v,circumference:v,outerRadius:y,innerRadius:g};w&&(j.options=x||this.resolveDataElementOptions(m,k.active?"active":r)),p+=v,this.updateElement(k,m,j,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,r;for(r=0;r<n.length;r++){const i=e._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Me*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,r=s.data.labels||[],i=Nu(n._parsed[e],s.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const s=this.chart;let r,i,o,a,c;if(!e){for(r=0,i=s.data.datasets.length;r<i;++r)if(s.isDatasetVisible(r)){o=s.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,i=e.length;r<i;++r)c=a.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,r=e.length;s<r;++s){const i=this.resolveDataElementOptions(s);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(ee(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}K(jr,"id","doughnut"),K(jr,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),K(jr,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),K(jr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:s,textAlign:r,color:i,useBorderRadius:o,borderRadius:a}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((c,u)=>{const h=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:h.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:r,pointStyle:s,borderRadius:o&&(a||h.borderRadius),index:u}}):[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});function Un(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Au{constructor(e){K(this,"options");this.options=e||{}}static override(e){Object.assign(Au.prototype,e)}init(){}formats(){return Un()}parse(){return Un()}format(){return Un()}add(){return Un()}diff(){return Un()}startOf(){return Un()}endOf(){return Un()}}var J1={_date:Au};function q1(t,e,n,s){const{controller:r,data:i,_sorted:o}=t,a=r._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const u=a._reversePixels?zv:vc;if(s){if(r._sharedOptions){const d=i[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const f=u(i,e,n-h),g=u(i,e,n+h);return{lo:f.lo,hi:g.hi}}}}else{const d=u(i,e,n);if(c){const{vScale:h}=r._cachedMeta,{_parsed:f}=t,g=f.slice(0,d.lo+1).reverse().findIndex(x=>!le(x[h.axis]));d.lo-=Math.max(0,g);const y=f.slice(d.hi).findIndex(x=>!le(x[h.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:i.length-1}}function va(t,e,n,s,r){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,c=i.length;a<c;++a){const{index:u,data:d}=i[a],{lo:h,hi:f}=q1(i[a],e,o,r);for(let g=h;g<=f;++g){const y=d[g];y.skip||s(y,u,g)}}}function e2(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,r){const i=e?Math.abs(s.x-r.x):0,o=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function vl(t,e,n,s,r){const i=[];return!r&&!t.isPointInArea(e)||va(t,n,e,function(a,c,u){!r&&!mg(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&i.push({element:a,datasetIndex:c,index:u})},!0),i}function t2(t,e,n,s){let r=[];function i(o,a,c){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],s),{angle:h}=ag(o,{x:e.x,y:e.y});Xo(h,u,d)&&r.push({element:o,datasetIndex:a,index:c})}return va(t,n,e,i),r}function n2(t,e,n,s,r,i){let o=[];const a=e2(n);let c=Number.POSITIVE_INFINITY;function u(d,h,f){const g=d.inRange(e.x,e.y,r);if(s&&!g)return;const y=d.getCenterPoint(r);if(!(!!i||t.isPointInArea(y))&&!g)return;const w=a(e,y);w<c?(o=[{element:d,datasetIndex:h,index:f}],c=w):w===c&&o.push({element:d,datasetIndex:h,index:f})}return va(t,n,e,u),o}function bl(t,e,n,s,r,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!s?t2(t,e,n,r):n2(t,e,n,s,r,i)}function af(t,e,n,s,r){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return va(t,n,e,(c,u,d)=>{c[o]&&c[o](e[n],r)&&(i.push({element:c,datasetIndex:u,index:d}),a=a||c.inRange(e.x,e.y,r))}),s&&!a?[]:i}var s2={modes:{index(t,e,n,s){const r=Kn(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?vl(t,r,i,s,o):bl(t,r,i,!1,s,o),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,h=u.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,n,s){const r=Kn(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?vl(t,r,i,s,o):bl(t,r,i,!1,s,o);if(a.length>0){const c=a[0].datasetIndex,u=t.getDatasetMeta(c).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:c,index:d})}return a},point(t,e,n,s){const r=Kn(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return vl(t,r,i,s,o)},nearest(t,e,n,s){const r=Kn(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return bl(t,r,i,n.intersect,s,o)},x(t,e,n,s){const r=Kn(e,t);return af(t,r,"x",n.intersect,s)},y(t,e,n,s){const r=Kn(e,t);return af(t,r,"y",n.intersect,s)}}};const Sg=["left","top","right","bottom"];function pr(t,e){return t.filter(n=>n.pos===e)}function lf(t,e){return t.filter(n=>Sg.indexOf(n.pos)===-1&&n.box.axis===e)}function mr(t,e){return t.sort((n,s)=>{const r=e?s:n,i=e?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function r2(t){const e=[];let n,s,r,i,o,a;for(n=0,s=(t||[]).length;n<s;++n)r=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:a});return e}function i2(t){const e={};for(const n of t){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!Sg.includes(r))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function o2(t,e){const n=i2(t),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:c}=a.box,u=n[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*s:c&&e.availableWidth,a.height=r):(a.width=s,a.height=d?d*r:c&&e.availableHeight)}return n}function a2(t){const e=r2(t),n=mr(e.filter(u=>u.box.fullSize),!0),s=mr(pr(e,"left"),!0),r=mr(pr(e,"right")),i=mr(pr(e,"top"),!0),o=mr(pr(e,"bottom")),a=lf(e,"x"),c=lf(e,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(c).concat(o).concat(a),chartArea:pr(e,"chartArea"),vertical:s.concat(r).concat(c),horizontal:i.concat(o).concat(a)}}function cf(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function Cg(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function l2(t,e,n,s){const{pos:r,box:i}=n,o=t.maxPadding;if(!ne(r)){n.size&&(t[r]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,t[r]+=n.size}i.getPadding&&Cg(o,i.getPadding());const a=Math.max(0,e.outerWidth-cf(o,t,"left","right")),c=Math.max(0,e.outerHeight-cf(o,t,"top","bottom")),u=a!==t.w,d=c!==t.h;return t.w=a,t.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function c2(t){const e=t.maxPadding;function n(s){const r=Math.max(e[s]-t[s],0);return t[s]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function u2(t,e){const n=e.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return s(t?["left","right"]:["top","bottom"])}function _r(t,e,n,s){const r=[];let i,o,a,c,u,d;for(i=0,o=t.length,u=0;i<o;++i){a=t[i],c=a.box,c.update(a.width||e.w,a.height||e.h,u2(a.horizontal,e));const{same:h,other:f}=l2(e,n,a,s);u|=h&&r.length,d=d||f,c.fullSize||r.push(a)}return u&&_r(r,e,n,s)||d}function Qi(t,e,n,s,r){t.top=n,t.left=e,t.right=e+s,t.bottom=n+r,t.width=s,t.height=r}function uf(t,e,n,s){const r=n.padding;let{x:i,y:o}=e;for(const a of t){const c=a.box,u=s[a.stack]||{placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const h=e.w*d,f=u.size||c.height;ri(u.start)&&(o=u.start),c.fullSize?Qi(c,r.left,o,n.outerWidth-r.right-r.left,f):Qi(c,e.left+u.placed,o,h,f),u.start=o,u.placed+=h,o=c.bottom}else{const h=e.h*d,f=u.size||c.width;ri(u.start)&&(i=u.start),c.fullSize?Qi(c,i,r.top,f,n.outerHeight-r.bottom-r.top):Qi(c,i,e.top+u.placed,f,h),u.start=i,u.placed+=h,i=c.right}}e.x=i,e.y=o}var yt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const r=jt(t.options.layout.padding),i=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=a2(t.boxes),c=a.vertical,u=a.horizontal;re(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const d=c.reduce((x,w)=>w.box.options&&w.box.options.display===!1?x:x+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},r);Cg(f,jt(s));const g=Object.assign({maxPadding:f,w:i,h:o,x:r.left,y:r.top},r),y=o2(c.concat(u),h);_r(a.fullSize,g,h,y),_r(c,g,h,y),_r(u,g,h,y)&&_r(c,g,h,y),c2(g),uf(a.leftAndTop,g,h,y),g.x+=g.w,g.y+=g.h,uf(a.rightAndBottom,g,h,y),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},re(a.chartArea,x=>{const w=x.box;Object.assign(w,t.chartArea),w.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class Mg{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,r){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(e){return!0}updateConfig(e){}}class d2 extends Mg{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const xo="$chartjs",h2={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},df=t=>t===null||t==="";function f2(t,e){const n=t.style,s=t.getAttribute("height"),r=t.getAttribute("width");if(t[xo]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",df(r)){const i=Qh(t,"width");i!==void 0&&(t.width=i)}if(df(s))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Qh(t,"height");i!==void 0&&(t.height=i)}return t}const Lg=k1?{passive:!0}:!1;function p2(t,e,n){t&&t.addEventListener(e,n,Lg)}function m2(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Lg)}function g2(t,e){const n=h2[t.type]||t.type,{x:s,y:r}=Kn(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Qo(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function x2(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Qo(a.addedNodes,s),o=o&&!Qo(a.removedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function y2(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Qo(a.removedNodes,s),o=o&&!Qo(a.addedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const oi=new Map;let hf=0;function Eg(){const t=window.devicePixelRatio;t!==hf&&(hf=t,oi.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function v2(t,e){oi.size||window.addEventListener("resize",Eg),oi.set(t,e)}function b2(t){oi.delete(t),oi.size||window.removeEventListener("resize",Eg)}function w2(t,e,n){const s=t.canvas,r=s&&Tu(s);if(!r)return;const i=dg((a,c)=>{const u=r.clientWidth;n(a,c),u<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const c=a[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||i(u,d)});return o.observe(r),v2(t,i),o}function wl(t,e,n){n&&n.disconnect(),e==="resize"&&b2(t)}function k2(t,e,n){const s=t.canvas,r=dg(i=>{t.ctx!==null&&n(g2(i,t))},t);return p2(s,e,r),r}class j2 extends Mg{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(f2(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[xo])return!1;const s=n[xo].initial;["height","width"].forEach(i=>{const o=s[i];le(o)?n.removeAttribute(i):n.setAttribute(i,o)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[xo],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:x2,detach:y2,resize:w2}[n]||k2;r[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),r=s[n];if(!r)return;({attach:wl,detach:wl,resize:wl}[n]||m2)(e,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,r){return w1(e,n,s,r)}isAttached(e){const n=e&&Tu(e);return!!(n&&n.isConnected)}}function _2(t){return!Du()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?d2:j2}class sn{constructor(){K(this,"x");K(this,"y");K(this,"active",!1);K(this,"options");K(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Yo(this.x)&&Yo(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const r={};return e.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}}K(sn,"defaults",{}),K(sn,"defaultRoutes");function N2(t,e){const n=t.options.ticks,s=S2(t),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?M2(e):[],o=i.length,a=i[0],c=i[o-1],u=[];if(o>r)return L2(e,u,i,o/r),u;const d=C2(i,e,r);if(o>0){let h,f;const g=o>1?Math.round((c-a)/(o-1)):null;for(Zi(e,u,d,le(g)?0:a-g,a),h=0,f=o-1;h<f;h++)Zi(e,u,d,i[h],i[h+1]);return Zi(e,u,d,c,le(g)?e.length:c+g),u}return Zi(e,u,d),u}function S2(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(s,r))}function C2(t,e,n){const s=E2(t),r=e.length/n;if(!s)return Math.max(r,1);const i=Pv(s);for(let o=0,a=i.length-1;o<a;o++){const c=i[o];if(c>r)return c}return Math.max(r,1)}function M2(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function L2(t,e,n,s){let r=0,i=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===i&&(e.push(t[o]),r++,i=n[r*s])}function Zi(t,e,n,s,r){const i=ee(s,0),o=Math.min(ee(r,t.length),t.length);let a=0,c,u,d;for(n=Math.ceil(n),r&&(c=r-s,n=c/Math.floor(c/n)),d=i;d<0;)a++,d=Math.round(i+a*n);for(u=Math.max(i,0);u<o;u++)u===d&&(e.push(t[u]),a++,d=Math.round(i+a*n))}function E2(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const P2=t=>t==="left"?"right":t==="right"?"left":t,ff=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,pf=(t,e)=>Math.min(e||t,t);function mf(t,e){const n=[],s=t.length/e,r=t.length;let i=0;for(;i<r;i+=s)n.push(t[Math.floor(i)]);return n}function D2(t,e,n){const s=t.ticks.length,r=Math.min(e,s-1),i=t._startPixel,o=t._endPixel,a=1e-6;let c=t.getPixelForTick(r),u;if(!(n&&(s===1?u=Math.max(c-i,o-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(r-1))/2,c+=r<e?u:-u,c<i-a||c>o+a)))return c}function T2(t,e){re(t,n=>{const s=n.gc,r=s.length/2;let i;if(r>e){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function gr(t){return t.drawTicks?t.tickLength:0}function gf(t,e){if(!t.display)return 0;const n=Ue(t.font,e),s=jt(t.padding);return(Pe(t.text)?t.text.length:1)*n.lineHeight+s.height}function A2(t,e){return Zs(t,{scale:e,type:"scale"})}function O2(t,e,n){return Zs(t,{tick:n,index:e,type:"tick"})}function R2(t,e,n){let s=_u(t);return(n&&e!=="right"||!n&&e==="right")&&(s=P2(s)),s}function F2(t,e,n,s){const{top:r,left:i,bottom:o,right:a,chart:c}=t,{chartArea:u,scales:d}=c;let h=0,f,g,y;const x=o-r,w=a-i;if(t.isHorizontal()){if(g=$e(s,i,a),ne(n)){const p=Object.keys(n)[0],m=n[p];y=d[p].getPixelForValue(m)+x-e}else n==="center"?y=(u.bottom+u.top)/2+x-e:y=ff(t,n,e);f=a-i}else{if(ne(n)){const p=Object.keys(n)[0],m=n[p];g=d[p].getPixelForValue(m)-w+e}else n==="center"?g=(u.left+u.right)/2-w+e:g=ff(t,n,e);y=$e(s,o,r),h=n==="left"?-Te:Te}return{titleX:g,titleY:y,maxWidth:f,rotation:h}}class Js extends sn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return e=Ot(e,Number.POSITIVE_INFINITY),n=Ot(n,Number.NEGATIVE_INFINITY),s=Ot(s,Number.POSITIVE_INFINITY),r=Ot(r,Number.NEGATIVE_INFINITY),{min:Ot(e,s),max:Ot(n,r),minDefined:kt(e),maxDefined:kt(n)}}getMinMax(e){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),o;if(r&&i)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let c=0,u=a.length;c<u;++c)o=a[c].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),i||(s=Math.max(s,o.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:Ot(n,Ot(s,n)),max:Ot(s,Ot(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){he(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:r,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=o1(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?mf(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=N2(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){he(this.options.afterUpdate,[this])}beforeSetDimensions(){he(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){he(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),he(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){he(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s],i.label=he(n.callback,[i.value,s,e],this)}afterTickToLabelConversion(){he(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){he(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=pf(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let o=r,a,c,u;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,g=st(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/s:g/(s-1),h+6>a&&(a=g/(s-(e.offset?.5:1)),c=this.maxHeight-gr(e.grid)-n.padding-gf(e.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),o=Ov(Math.min(Math.asin(st((d.highest.height+6)/a,-1,1)),Math.asin(st(c/u,-1,1))-Math.asin(st(f/u,-1,1)))),o=Math.max(r,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){he(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){he(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const c=gf(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=gr(i)+c):(e.height=this.maxHeight,e.width=gr(i)+c),s.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),g=s.padding*2,y=Zt(this.labelRotation),x=Math.cos(y),w=Math.sin(y);if(a){const p=s.mirror?0:w*h.width+x*f.height;e.height=Math.min(this.maxHeight,e.height+p+g)}else{const p=s.mirror?0:x*h.width+w*f.height;e.width=Math.min(this.maxWidth,e.width+p+g)}this._calculatePadding(u,d,w,x)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,r){const{ticks:{align:i,padding:o},position:a}=this.options,c=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;c?u?(f=r*e.width,g=s*n.height):(f=s*e.height,g=r*n.width):i==="start"?g=n.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,g=n.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-h+o)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;i==="start"?(d=0,h=e.height):i==="end"&&(d=n.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){he(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)le(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=mf(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:r,_longestTextCache:i}=this,o=[],a=[],c=Math.floor(n/pf(n,s));let u=0,d=0,h,f,g,y,x,w,p,m,v,k,j;for(h=0;h<n;h+=c){if(y=e[h].label,x=this._resolveTickFontOptions(h),r.font=w=x.string,p=i[w]=i[w]||{data:{},gc:[]},m=x.lineHeight,v=k=0,!le(y)&&!Pe(y))v=Vh(r,p.data,p.gc,v,y),k=m;else if(Pe(y))for(f=0,g=y.length;f<g;++f)j=y[f],!le(j)&&!Pe(j)&&(v=Vh(r,p.data,p.gc,v,j),k+=m);o.push(v),a.push(k),u=Math.max(v,u),d=Math.max(k,d)}T2(i,n);const S=o.indexOf(u),L=a.indexOf(d),_=F=>({width:o[F]||0,height:a[F]||0});return{first:_(0),last:_(n-1),widest:_(S),highest:_(L),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Fv(this._alignToPixels?Vn(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=O2(this.getContext(),e,s))}return this.$context||(this.$context=A2(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Zt(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*s>a*r?a/s:c/r:c*r<a*s?c/s:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:o,border:a}=r,c=i.offset,u=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=gr(i),g=[],y=a.setContext(this.getContext()),x=y.display?y.width:0,w=x/2,p=function(Y){return Vn(s,Y,x)};let m,v,k,j,S,L,_,F,A,N,C,z;if(o==="top")m=p(this.bottom),L=this.bottom-f,F=m-w,N=p(e.top)+w,z=e.bottom;else if(o==="bottom")m=p(this.top),N=e.top,z=p(e.bottom)-w,L=m+w,F=this.top+f;else if(o==="left")m=p(this.right),S=this.right-f,_=m-w,A=p(e.left)+w,C=e.right;else if(o==="right")m=p(this.left),A=e.left,C=p(e.right)-w,S=m+w,_=this.left+f;else if(n==="x"){if(o==="center")m=p((e.top+e.bottom)/2+.5);else if(ne(o)){const Y=Object.keys(o)[0],X=o[Y];m=p(this.chart.scales[Y].getPixelForValue(X))}N=e.top,z=e.bottom,L=m+w,F=L+f}else if(n==="y"){if(o==="center")m=p((e.left+e.right)/2);else if(ne(o)){const Y=Object.keys(o)[0],X=o[Y];m=p(this.chart.scales[Y].getPixelForValue(X))}S=m-w,_=S-f,A=e.left,C=e.right}const $=ee(r.ticks.maxTicksLimit,h),H=Math.max(1,Math.ceil(h/$));for(v=0;v<h;v+=H){const Y=this.getContext(v),X=i.setContext(Y),D=a.setContext(Y),R=X.lineWidth,W=X.color,Z=D.dash||[],J=D.dashOffset,ve=X.tickWidth,be=X.tickColor,O=X.tickBorderDash||[],V=X.tickBorderDashOffset;k=D2(this,v,c),k!==void 0&&(j=Vn(s,k,R),u?S=_=A=C=j:L=F=N=z=j,g.push({tx1:S,ty1:L,tx2:_,ty2:F,x1:A,y1:N,x2:C,y2:z,width:R,color:W,borderDash:Z,borderDashOffset:J,tickWidth:ve,tickColor:be,tickBorderDash:O,tickBorderDashOffset:V}))}return this._ticksLength=h,this._borderValue=m,g}_computeLabelItems(e){const n=this.axis,s=this.options,{position:r,ticks:i}=s,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:u,padding:d,mirror:h}=i,f=gr(s.grid),g=f+d,y=h?-d:g,x=-Zt(this.labelRotation),w=[];let p,m,v,k,j,S,L,_,F,A,N,C,z="middle";if(r==="top")S=this.bottom-y,L=this._getXAxisLabelAlignment();else if(r==="bottom")S=this.top+y,L=this._getXAxisLabelAlignment();else if(r==="left"){const H=this._getYAxisLabelAlignment(f);L=H.textAlign,j=H.x}else if(r==="right"){const H=this._getYAxisLabelAlignment(f);L=H.textAlign,j=H.x}else if(n==="x"){if(r==="center")S=(e.top+e.bottom)/2+g;else if(ne(r)){const H=Object.keys(r)[0],Y=r[H];S=this.chart.scales[H].getPixelForValue(Y)+g}L=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")j=(e.left+e.right)/2-g;else if(ne(r)){const H=Object.keys(r)[0],Y=r[H];j=this.chart.scales[H].getPixelForValue(Y)}L=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?z="top":c==="end"&&(z="bottom"));const $=this._getLabelSizes();for(p=0,m=a.length;p<m;++p){v=a[p],k=v.label;const H=i.setContext(this.getContext(p));_=this.getPixelForTick(p)+i.labelOffset,F=this._resolveTickFontOptions(p),A=F.lineHeight,N=Pe(k)?k.length:1;const Y=N/2,X=H.color,D=H.textStrokeColor,R=H.textStrokeWidth;let W=L;o?(j=_,L==="inner"&&(p===m-1?W=this.options.reverse?"left":"right":p===0?W=this.options.reverse?"right":"left":W="center"),r==="top"?u==="near"||x!==0?C=-N*A+A/2:u==="center"?C=-$.highest.height/2-Y*A+A:C=-$.highest.height+A/2:u==="near"||x!==0?C=A/2:u==="center"?C=$.highest.height/2-Y*A:C=$.highest.height-N*A,h&&(C*=-1),x!==0&&!H.showLabelBackdrop&&(j+=A/2*Math.sin(x))):(S=_,C=(1-N)*A/2);let Z;if(H.showLabelBackdrop){const J=jt(H.backdropPadding),ve=$.heights[p],be=$.widths[p];let O=C-J.top,V=0-J.left;switch(z){case"middle":O-=ve/2;break;case"bottom":O-=ve;break}switch(L){case"center":V-=be/2;break;case"right":V-=be;break;case"inner":p===m-1?V-=be:p>0&&(V-=be/2);break}Z={left:V,top:O,width:be+J.width,height:ve+J.height,color:H.backdropColor}}w.push({label:k,font:F,textOffset:C,options:{rotation:x,color:X,strokeColor:D,strokeWidth:R,textAlign:W,textBaseline:z,translation:[j,S],backdrop:Z}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Zt(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,c=o.widest.width;let u,d;return n==="left"?r?(d=this.right+i,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-a,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?r?(d=this.left+i,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+a,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:r,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,r,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(c,u,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(i=0,o=r.length;i<o;++i){const c=r[i];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,h,f;this.isHorizontal()?(u=Vn(e,this.left,o)-o/2,d=Vn(e,this.right,a)+a/2,h=f=c):(h=Vn(e,this.top,o)-o/2,f=Vn(e,this.bottom,a)+a/2,u=d=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(u,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&Su(s,r);const i=this.getLabelItems(e);for(const o of i){const a=o.options,c=o.font,u=o.label,d=o.textOffset;ii(s,u,0,d,c,a)}r&&Cu(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=Ue(s.font),o=jt(s.padding),a=s.align;let c=i.lineHeight/2;n==="bottom"||n==="center"||ne(n)?(c+=o.bottom,Pe(s.text)&&(c+=i.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=F2(this,c,n,a);ii(e,s.text,0,0,i,{color:s.color,maxWidth:h,rotation:f,textAlign:R2(a,n,r),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=ee(e.grid&&e.grid.z,-1),r=ee(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Js.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[s]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ue(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ji{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;B2(n)&&(s=this.register(n));const r=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,z2(e,o,s),this.override&&_e.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,r=this.scope;s in n&&delete n[s],r&&s in _e[r]&&(delete _e[r][s],this.override&&delete ls[s])}}function z2(t,e,n){const s=si(Object.create(null),[n?_e.get(n):{},_e.get(e),t.defaults]);_e.set(e,s),t.defaultRoutes&&I2(e,t.defaultRoutes),t.descriptors&&_e.describe(e,t.descriptors)}function I2(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),r=s.pop(),i=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),c=o.join(".");_e.route(i,r,c,a)})}function B2(t){return"id"in t&&"defaults"in t}class W2{constructor(){this.controllers=new Ji(Is,"datasets",!0),this.elements=new Ji(sn,"elements"),this.plugins=new Ji(Object,"plugins"),this.scales=new Ji(Js,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):re(r,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const r=ku(e);he(s["before"+r],[],s),n[e](s),he(s["after"+r],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var zt=new W2;class H2{constructor(){this._init=void 0}notify(e,n,s,r){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(i,e,n,s);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,s,r){r=r||{};for(const i of e){const o=i.plugin,a=o[s],c=[n,r,i.options];if(he(a,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){le(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,r=ee(s.options&&s.options.plugins,{}),i=$2(s);return r===!1&&!n?[]:U2(e,i,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,r=(i,o)=>i.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(r(n,s),e,"stop"),this._notify(r(s,n),e,"start")}}function $2(t){const e={},n=[],s=Object.keys(zt.plugins.items);for(let i=0;i<s.length;i++)n.push(zt.getPlugin(s[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function V2(t,e){return!e&&t===!1?null:t===!0?{}:t}function U2(t,{plugins:e,localIds:n},s,r){const i=[],o=t.getContext();for(const a of e){const c=a.id,u=V2(s[c],r);u!==null&&i.push({plugin:a,options:Y2(t.config,{plugin:a,local:n[c]},u,o)})}return i}function Y2(t,{plugin:e,local:n},s,r){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(s,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function wc(t,e){const n=_e.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function X2(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function K2(t,e){return t===e?"_index_":"_value_"}function xf(t){if(t==="x"||t==="y"||t==="r")return t}function G2(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function kc(t,...e){if(xf(t))return t;for(const n of e){const s=n.axis||G2(n.position)||t.length>1&&xf(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function yf(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Q2(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return yf(t,"x",n[0])||yf(t,"y",n[0])}return{}}function Z2(t,e){const n=ls[t.type]||{scales:{}},s=e.scales||{},r=wc(t.type,e),i=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!ne(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=kc(o,a,Q2(o,t),_e.scales[a.type]),u=K2(c,r),d=n.scales||{};i[o]=Or(Object.create(null),[{axis:c},a,d[c],d[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,c=o.indexAxis||wc(a,e),d=(ls[a]||{}).scales||{};Object.keys(d).forEach(h=>{const f=X2(h,c),g=o[f+"AxisID"]||f;i[g]=i[g]||Object.create(null),Or(i[g],[{axis:f},s[g],d[h]])})}),Object.keys(i).forEach(o=>{const a=i[o];Or(a,[_e.scales[a.type],_e.scale])}),i}function Pg(t){const e=t.options||(t.options={});e.plugins=ee(e.plugins,{}),e.scales=Z2(t,e)}function Dg(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function J2(t){return t=t||{},t.data=Dg(t.data),Pg(t),t}const vf=new Map,Tg=new Set;function qi(t,e){let n=vf.get(t);return n||(n=e(),vf.set(t,n),Tg.add(n)),n}const xr=(t,e,n)=>{const s=as(e,n);s!==void 0&&t.add(s)};class q2{constructor(e){this._config=J2(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Dg(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Pg(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return qi(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return qi(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return qi(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return qi(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let r=s.get(e);return(!r||n)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,n,s){const{options:r,type:i}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const c=new Set;n.forEach(d=>{e&&(c.add(e),d.forEach(h=>xr(c,e,h))),d.forEach(h=>xr(c,r,h)),d.forEach(h=>xr(c,ls[i]||{},h)),d.forEach(h=>xr(c,_e,h)),d.forEach(h=>xr(c,bc,h))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),Tg.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,ls[n]||{},_e.datasets[n]||{},{type:n},_e,bc]}resolveNamedOptions(e,n,s,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=bf(this._resolverCache,e,r);let c=o;if(tb(o,n)){i.$shared=!1,s=Tn(s)?s():s;const u=this.createResolver(e,s,a);c=Xs(o,s,u)}for(const u of n)i[u]=c[u];return i}createResolver(e,n,s=[""],r){const{resolver:i}=bf(this._resolverCache,e,s);return ne(n)?Xs(i,n,void 0,r):i}}function bf(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const r=n.join();let i=s.get(r);return i||(i={resolver:Lu(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(r,i)),i}const eb=t=>ne(t)&&Object.getOwnPropertyNames(t).some(e=>Tn(t[e]));function tb(t,e){const{isScriptable:n,isIndexable:s}=xg(t);for(const r of e){const i=n(r),o=s(r),a=(o||i)&&t[r];if(i&&(Tn(a)||eb(a))||o&&Pe(a))return!0}return!1}var nb="4.5.1";const sb=["top","bottom","left","right","chartArea"];function wf(t,e){return t==="top"||t==="bottom"||sb.indexOf(t)===-1&&e==="x"}function kf(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function jf(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),he(n&&n.onComplete,[t],e)}function rb(t){const e=t.chart,n=e.options.animation;he(n&&n.onProgress,[t],e)}function Ag(t){return Du()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const yo={},_f=t=>{const e=Ag(t);return Object.values(yo).filter(n=>n.canvas===e).pop()};function ib(t,e,n){const s=Object.keys(t);for(const r of s){const i=+r;if(i>=e){const o=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=o)}}}function ob(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var dn;let pi=(dn=class{static register(...e){zt.add(...e),Nf()}static unregister(...e){zt.remove(...e),Nf()}constructor(e,n){const s=this.config=new q2(n),r=Ag(e),i=_f(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||_2(r)),this.platform.updateConfig(s);const a=this.platform.acquireContext(r,o.aspectRatio),c=a&&a.canvas,u=c&&c.height,d=c&&c.width;if(this.id=jv(),this.ctx=a,this.canvas=c,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new H2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Wv(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],yo[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Vt.listen(this,"complete",jf),Vt.listen(this,"progress",rb),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return le(e)?n&&i?i:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return zt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Gh(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Uh(this.canvas,this.ctx),this}stop(){return Vt.stop(this),this}resize(e,n){Vt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,i),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Gh(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),he(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};re(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,r=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],c=kc(o,a),u=c==="r",d=c==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),re(i,o=>{const a=o.options,c=a.id,u=kc(c,a),d=ee(a.type,o.dtype);(a.position===void 0||wf(a.position,u)!==wf(o.dposition))&&(a.position=o.dposition),r[c]=!0;let h=null;if(c in s&&s[c].type===d)h=s[c];else{const f=zt.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,e)}),re(r,(o,a)=>{o||delete s[a]}),re(s,o=>{yt.configure(this,o,o.options),yt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(kf("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let o=this.getDatasetMeta(s);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=i.indexAxis||wc(a,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=zt.getController(a),{datasetElementType:u,dataElementType:d}=_e.datasets[a];Object.assign(c,{dataElementType:zt.getElement(d),datasetElementType:u&&zt.getElement(u)}),o.controller=new c(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){re(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!r&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),r||re(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(kf("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){re(this.scales,e=>{yt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Oh(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const o=s==="_removeElements"?-i:i;ib(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!Oh(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;yt.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],re(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Tn(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Vt.has(this)?this.attached&&!Vt.running(this)&&Vt.start(this):(this.draw(),jf({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const o=n[r];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=S1(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&Su(n,r),e.controller.draw(),r&&Cu(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return mg(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,r){const i=s2.modes[n];return typeof i=="function"?i(this,e,s,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Zs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,r);ri(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(i,{visible:s}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Vt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Uh(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete yo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},r=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};re(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},r=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){re(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},re(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const r=s?"set":"remove";let i,o,a,c;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,c=e.length;a<c;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!$o(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const r=this.options.hover,i=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),o=i(n,e),a=s?e:i(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:r=[],options:i}=this,o=n,a=this._getActiveElements(e,r,s,o),c=Lv(e),u=ob(e,this._lastEvent,s,c);s&&(this._lastEvent=null,he(i.onHover,[e,a,this],this),c&&he(i.onClick,[e,a,this],this));const d=!$o(a,r);return(d||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=u,d}_getActiveElements(e,n,s,r){if(e.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}},K(dn,"defaults",_e),K(dn,"instances",yo),K(dn,"overrides",ls),K(dn,"registry",zt),K(dn,"version",nb),K(dn,"getChart",_f),dn);function Nf(){return re(pi.instances,t=>t._plugins.invalidate())}function ab(t,e,n){const{startAngle:s,x:r,y:i,outerRadius:o,innerRadius:a,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,h=Math.min(u/o,It(s-n));if(t.beginPath(),t.arc(r,i,o-u/2,s+h/2,n-h/2),a>0){const f=Math.min(u/a,It(s-n));t.arc(r,i,a+u/2,n-f/2,s+f/2,!0)}else{const f=Math.min(u/2,o*It(s-n));if(d==="round")t.arc(r,i,f,n-ae/2,s+ae/2,!0);else if(d==="bevel"){const g=2*f*f,y=-g*Math.cos(n+ae/2)+r,x=-g*Math.sin(n+ae/2)+i,w=g*Math.cos(s+ae/2)+r,p=g*Math.sin(s+ae/2)+i;t.lineTo(y,x),t.lineTo(w,p)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function lb(t,e,n){const{startAngle:s,pixelMargin:r,x:i,y:o,outerRadius:a,innerRadius:c}=e;let u=r/a;t.beginPath(),t.arc(i,o,a,s-u,n+u),c>r?(u=r/c,t.arc(i,o,c,n+u,s-u,!0)):t.arc(i,o,r,n+Te,s-Te),t.closePath(),t.clip()}function cb(t){return Mu(t,["outerStart","outerEnd","innerStart","innerEnd"])}function ub(t,e,n,s){const r=cb(t.options.borderRadius),i=(n-e)/2,o=Math.min(i,s*e/2),a=c=>{const u=(n-Math.min(i,c))*s/2;return st(c,0,Math.min(i,u))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:st(r.innerStart,0,o),innerEnd:st(r.innerEnd,0,o)}}function xs(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Zo(t,e,n,s,r,i){const{x:o,y:a,startAngle:c,pixelMargin:u,innerRadius:d}=e,h=Math.max(e.outerRadius+s+n-u,0),f=d>0?d+s+n+u:0;let g=0;const y=r-c;if(s){const H=d>0?d-s:0,Y=h>0?h-s:0,X=(H+Y)/2,D=X!==0?y*X/(X+s):y;g=(y-D)/2}const x=Math.max(.001,y*h-n/ae)/h,w=(y-x)/2,p=c+w+g,m=r-w-g,{outerStart:v,outerEnd:k,innerStart:j,innerEnd:S}=ub(e,f,h,m-p),L=h-v,_=h-k,F=p+v/L,A=m-k/_,N=f+j,C=f+S,z=p+j/N,$=m-S/C;if(t.beginPath(),i){const H=(F+A)/2;if(t.arc(o,a,h,F,H),t.arc(o,a,h,H,A),k>0){const R=xs(_,A,o,a);t.arc(R.x,R.y,k,A,m+Te)}const Y=xs(C,m,o,a);if(t.lineTo(Y.x,Y.y),S>0){const R=xs(C,$,o,a);t.arc(R.x,R.y,S,m+Te,$+Math.PI)}const X=(m-S/f+(p+j/f))/2;if(t.arc(o,a,f,m-S/f,X,!0),t.arc(o,a,f,X,p+j/f,!0),j>0){const R=xs(N,z,o,a);t.arc(R.x,R.y,j,z+Math.PI,p-Te)}const D=xs(L,p,o,a);if(t.lineTo(D.x,D.y),v>0){const R=xs(L,F,o,a);t.arc(R.x,R.y,v,p-Te,F)}}else{t.moveTo(o,a);const H=Math.cos(F)*h+o,Y=Math.sin(F)*h+a;t.lineTo(H,Y);const X=Math.cos(A)*h+o,D=Math.sin(A)*h+a;t.lineTo(X,D)}t.closePath()}function db(t,e,n,s,r){const{fullCircles:i,startAngle:o,circumference:a}=e;let c=e.endAngle;if(i){Zo(t,e,n,s,c,r);for(let u=0;u<i;++u)t.fill();isNaN(a)||(c=o+(a%Me||Me))}return Zo(t,e,n,s,c,r),t.fill(),c}function hb(t,e,n,s,r){const{fullCircles:i,startAngle:o,circumference:a,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:h,borderDashOffset:f,borderRadius:g}=c,y=c.borderAlign==="inner";if(!u)return;t.setLineDash(h||[]),t.lineDashOffset=f,y?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let x=e.endAngle;if(i){Zo(t,e,n,s,x,r);for(let w=0;w<i;++w)t.stroke();isNaN(a)||(x=o+(a%Me||Me))}y&&lb(t,e,x),c.selfJoin&&x-o>=ae&&g===0&&d!=="miter"&&ab(t,e,x),i||(Zo(t,e,n,s,x,r),t.stroke())}class Es extends sn{constructor(n){super();K(this,"circumference");K(this,"endAngle");K(this,"fullCircles");K(this,"innerRadius");K(this,"outerRadius");K(this,"pixelMargin");K(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.getProps(["x","y"],r),{angle:o,distance:a}=ag(i,{x:n,y:s}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,y=ee(f,u-c),x=Xo(o,c,u)&&c!==u,w=y>=Me||x,p=Jn(a,d+g,h+g);return w&&p}getCenterPoint(n){const{x:s,y:r,startAngle:i,endAngle:o,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,h=(i+o)/2,f=(a+c+d+u)/2;return{x:s+Math.cos(h)*f,y:r+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:r}=this,i=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=r>Me?Math.floor(r/Me):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*i,Math.sin(c)*i);const u=1-Math.sin(Math.min(ae,r||0)),d=i*u;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,db(n,this,d,o,a),hb(n,this,d,o,a),n.restore()}}K(Es,"id","arc"),K(Es,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),K(Es,"defaultRoutes",{backgroundColor:"backgroundColor"}),K(Es,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Og(t,e){const{x:n,y:s,base:r,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let a,c,u,d,h;return t.horizontal?(h=o/2,a=Math.min(n,r),c=Math.max(n,r),u=s-h,d=s+h):(h=i/2,a=n-h,c=n+h,u=Math.min(s,r),d=Math.max(s,r)),{left:a,top:u,right:c,bottom:d}}function bn(t,e,n,s){return t?0:st(e,n,s)}function fb(t,e,n){const s=t.options.borderWidth,r=t.borderSkipped,i=gg(s);return{t:bn(r.top,i.top,0,n),r:bn(r.right,i.right,0,e),b:bn(r.bottom,i.bottom,0,n),l:bn(r.left,i.left,0,e)}}function pb(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=Fs(r),o=Math.min(e,n),a=t.borderSkipped,c=s||ne(r);return{topLeft:bn(!c||a.top||a.left,i.topLeft,0,o),topRight:bn(!c||a.top||a.right,i.topRight,0,o),bottomLeft:bn(!c||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:bn(!c||a.bottom||a.right,i.bottomRight,0,o)}}function mb(t){const e=Og(t),n=e.right-e.left,s=e.bottom-e.top,r=fb(t,n/2,s/2),i=pb(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function kl(t,e,n,s){const r=e===null,i=n===null,a=t&&!(r&&i)&&Og(t,s);return a&&(r||Jn(e,a.left,a.right))&&(i||Jn(n,a.top,a.bottom))}function gb(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function xb(t,e){t.rect(e.x,e.y,e.w,e.h)}function jl(t,e,n={}){const s=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+s,y:t.y+r,w:t.w+i,h:t.h+o,radius:t.radius}}class zr extends sn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:o}=mb(this),a=gb(o.radius)?Ko:xb;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),a(e,jl(o,n,i)),e.clip(),a(e,jl(i,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,jl(i,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,s){return kl(this,e,n,s)}inXRange(e,n){return kl(this,e,null,n)}inYRange(e,n){return kl(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}K(zr,"id","bar"),K(zr,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),K(zr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Sf=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},yb=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Cf extends sn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=he(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=Ue(s.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=Sf(s,i);let u,d;n.font=r.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,i,a,c)+10):(d=this.maxHeight,u=this._fitCols(o,r,a,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,r){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=r+a;let h=e;i.textAlign="left",i.textBaseline="middle";let f=-1,g=-d;return this.legendItems.forEach((y,x)=>{const w=s+n/2+i.measureText(y.text).width;(x===0||u[u.length-1]+w+2*a>o)&&(h+=d,u[u.length-(x>0?0:1)]=0,g+=d,f++),c[x]={left:0,top:g,row:f,width:w,height:r},u[u.length-1]+=w+a}),h}_fitCols(e,n,s,r){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-e;let h=a,f=0,g=0,y=0,x=0;return this.legendItems.forEach((w,p)=>{const{itemWidth:m,itemHeight:v}=vb(s,n,i,w,r);p>0&&g+v+2*a>d&&(h+=f+a,u.push({width:f,height:g}),y+=f+a,x++,f=g=0),c[p]={left:y,top:g,col:x,width:m,height:v},f=Math.max(f,m),g+=v+a}),h+=f,u.push({width:f,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,o=zs(i,this.left,this.width);if(this.isHorizontal()){let a=0,c=$e(s,this.left+r,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,c=$e(s,this.left+r,this.right-this.lineWidths[a])),u.top+=this.top+e+r,u.left=o.leftForLtr(o.x(c),u.width),c+=u.width+r}else{let a=0,c=$e(s,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,c=$e(s,this.top+e+r,this.bottom-this.columnSizes[a].height)),u.top=c,u.left+=this.left+r,u.left=o.leftForLtr(o.x(u.left),u.width),c+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Su(e,this),this._draw(),Cu(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:o}=e,a=_e.color,c=zs(e.rtl,this.left,this.width),u=Ue(o.font),{padding:d}=o,h=u.size,f=h/2;let g;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:y,boxHeight:x,itemHeight:w}=Sf(o,h),p=function(S,L,_){if(isNaN(y)||y<=0||isNaN(x)||x<0)return;r.save();const F=ee(_.lineWidth,1);if(r.fillStyle=ee(_.fillStyle,a),r.lineCap=ee(_.lineCap,"butt"),r.lineDashOffset=ee(_.lineDashOffset,0),r.lineJoin=ee(_.lineJoin,"miter"),r.lineWidth=F,r.strokeStyle=ee(_.strokeStyle,a),r.setLineDash(ee(_.lineDash,[])),o.usePointStyle){const A={radius:x*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:F},N=c.xPlus(S,y/2),C=L+f;pg(r,A,N,C,o.pointStyleWidth&&y)}else{const A=L+Math.max((h-x)/2,0),N=c.leftForLtr(S,y),C=Fs(_.borderRadius);r.beginPath(),Object.values(C).some(z=>z!==0)?Ko(r,{x:N,y:A,w:y,h:x,radius:C}):r.rect(N,A,y,x),r.fill(),F!==0&&r.stroke()}r.restore()},m=function(S,L,_){ii(r,_.text,S,L+w/2,u,{strikethrough:_.hidden,textAlign:c.textAlign(_.textAlign)})},v=this.isHorizontal(),k=this._computeTitleHeight();v?g={x:$e(i,this.left+d,this.right-s[0]),y:this.top+d+k,line:0}:g={x:this.left+d,y:$e(i,this.top+k+d,this.bottom-n[0].height),line:0},wg(this.ctx,e.textDirection);const j=w+d;this.legendItems.forEach((S,L)=>{r.strokeStyle=S.fontColor,r.fillStyle=S.fontColor;const _=r.measureText(S.text).width,F=c.textAlign(S.textAlign||(S.textAlign=o.textAlign)),A=y+f+_;let N=g.x,C=g.y;c.setWidth(this.width),v?L>0&&N+A+d>this.right&&(C=g.y+=j,g.line++,N=g.x=$e(i,this.left+d,this.right-s[g.line])):L>0&&C+j>this.bottom&&(N=g.x=N+n[g.line].width+d,g.line++,C=g.y=$e(i,this.top+k+d,this.bottom-n[g.line].height));const z=c.x(N);if(p(z,C,S),N=Hv(F,N+y+f,v?N+A:this.right,e.rtl),m(c.x(N),C,S),v)g.x+=A+d;else if(typeof S.text!="string"){const $=u.lineHeight;g.y+=Rg(S,$)+d}else g.y+=j}),kg(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Ue(n.font),r=jt(n.padding);if(!n.display)return;const i=zs(e.rtl,this.left,this.width),o=this.ctx,a=n.position,c=s.size/2,u=r.top+c;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=$e(e.align,h,this.right-f);else{const y=this.columnSizes.reduce((x,w)=>Math.max(x,w.height),0);d=u+$e(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const g=$e(a,h,h+f);o.textAlign=i.textAlign(_u(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,ii(o,n.text,g,d,s)}_computeTitleHeight(){const e=this.options.title,n=Ue(e.font),s=jt(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,r,i;if(Jn(e,this.left,this.right)&&Jn(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],Jn(e,r.left,r.left+r.width)&&Jn(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!kb(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=yb(r,s);r&&!i&&he(n.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&he(n.onHover,[e,s,this],this)}else s&&he(n.onClick,[e,s,this],this)}}function vb(t,e,n,s,r){const i=bb(s,t,e,n),o=wb(r,s,e.lineHeight);return{itemWidth:i,itemHeight:o}}function bb(t,e,n,s){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+s.measureText(r).width}function wb(t,e,n){let s=t;return typeof e.text!="string"&&(s=Rg(e,n)),s}function Rg(t,e){const n=t.text?t.text.length:0;return e*n}function kb(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Fg={id:"legend",_element:Cf,start(t,e,n){const s=t.legend=new Cf({ctx:t.ctx,options:n,chart:t});yt.configure(t,s,n),yt.addBox(t,s)},stop(t){yt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;yt.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=jt(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class zg extends sn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Pe(s.text)?s.text.length:1;this._padding=jt(s.padding);const i=r*Ue(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:r,right:i,options:o}=this,a=o.align;let c=0,u,d,h;return this.isHorizontal()?(d=$e(a,s,i),h=n+e,u=i-s):(o.position==="left"?(d=s+e,h=$e(a,r,n),c=ae*-.5):(d=i-e,h=$e(a,n,r),c=ae*.5),u=r-n),{titleX:d,titleY:h,maxWidth:u,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Ue(n.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:u}=this._drawArgs(i);ii(e,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:u,textAlign:_u(n.align),textBaseline:"middle",translation:[o,a]})}}function jb(t,e){const n=new zg({ctx:t.ctx,options:e,chart:t});yt.configure(t,n,e),yt.addBox(t,n),t.titleBlock=n}var Ig={id:"title",_element:zg,start(t,e,n){jb(t,n)},stop(t){const e=t.titleBlock;yt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;yt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Nr={average(t){if(!t.length)return!1;let e,n,s=new Set,r=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const c=a.tooltipPosition();s.add(c.x),r+=c.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((a,c)=>a+c)/s.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,r=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const c=t[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=Rv(e,u);d<r&&(r=d,a=c)}}if(a){const c=a.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function Rt(t,e){return e&&(Pe(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ut(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function _b(t,e){const{element:n,datasetIndex:s,index:r}=e,i=t.getDatasetMeta(s).controller,{label:o,value:a}=i.getLabelAndValue(r);return{chart:t,label:o,parsed:i.getParsed(r),raw:t.data.datasets[s].data[r],formattedValue:a,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function Mf(t,e){const n=t.chart.ctx,{body:s,footer:r,title:i}=t,{boxWidth:o,boxHeight:a}=e,c=Ue(e.bodyFont),u=Ue(e.titleFont),d=Ue(e.footerFont),h=i.length,f=r.length,g=s.length,y=jt(e.padding);let x=y.height,w=0,p=s.reduce((k,j)=>k+j.before.length+j.lines.length+j.after.length,0);if(p+=t.beforeBody.length+t.afterBody.length,h&&(x+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),p){const k=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;x+=g*k+(p-g)*c.lineHeight+(p-1)*e.bodySpacing}f&&(x+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let m=0;const v=function(k){w=Math.max(w,n.measureText(k).width+m)};return n.save(),n.font=u.string,re(t.title,v),n.font=c.string,re(t.beforeBody.concat(t.afterBody),v),m=e.displayColors?o+2+e.boxPadding:0,re(s,k=>{re(k.before,v),re(k.lines,v),re(k.after,v)}),m=0,n.font=d.string,re(t.footer,v),n.restore(),w+=y.width,{width:w,height:x}}function Nb(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function Sb(t,e,n,s){const{x:r,width:i}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&r+i+o>e.width||t==="right"&&r-i-o<0)return!0}function Cb(t,e,n,s){const{x:r,width:i}=n,{width:o,chartArea:{left:a,right:c}}=t;let u="center";return s==="center"?u=r<=(a+c)/2?"left":"right":r<=i/2?u="left":r>=o-i/2&&(u="right"),Sb(u,t,e,n)&&(u="center"),u}function Lf(t,e,n){const s=n.yAlign||e.yAlign||Nb(t,n);return{xAlign:n.xAlign||e.xAlign||Cb(t,e,n,s),yAlign:s}}function Mb(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function Lb(t,e,n){let{y:s,height:r}=t;return e==="top"?s+=n:e==="bottom"?s-=r+n:s-=r/2,s}function Ef(t,e,n,s){const{caretSize:r,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:c}=n,u=r+i,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:g}=Fs(o);let y=Mb(e,a);const x=Lb(e,c,u);return c==="center"?a==="left"?y+=u:a==="right"&&(y-=u):a==="left"?y-=Math.max(d,f)+r:a==="right"&&(y+=Math.max(h,g)+r),{x:st(y,0,s.width-e.width),y:st(x,0,s.height-e.height)}}function eo(t,e,n){const s=jt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function Pf(t){return Rt([],Ut(t))}function Eb(t,e,n){return Zs(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Df(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Bg={beforeTitle:$t,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:$t,beforeBody:$t,beforeLabel:$t,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return le(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:$t,afterBody:$t,beforeFooter:$t,footer:$t,afterFooter:$t};function qe(t,e,n,s){const r=t[e].call(n,s);return typeof r>"u"?Bg[e].call(n,s):r}class jc extends sn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new jg(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Eb(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,r=qe(s,"beforeTitle",this,e),i=qe(s,"title",this,e),o=qe(s,"afterTitle",this,e);let a=[];return a=Rt(a,Ut(r)),a=Rt(a,Ut(i)),a=Rt(a,Ut(o)),a}getBeforeBody(e,n){return Pf(qe(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,r=[];return re(e,i=>{const o={before:[],lines:[],after:[]},a=Df(s,i);Rt(o.before,Ut(qe(a,"beforeLabel",this,i))),Rt(o.lines,qe(a,"label",this,i)),Rt(o.after,Ut(qe(a,"afterLabel",this,i))),r.push(o)}),r}getAfterBody(e,n){return Pf(qe(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,r=qe(s,"beforeFooter",this,e),i=qe(s,"footer",this,e),o=qe(s,"afterFooter",this,e);let a=[];return a=Rt(a,Ut(r)),a=Rt(a,Ut(i)),a=Rt(a,Ut(o)),a}_createItems(e){const n=this._active,s=this.chart.data,r=[],i=[],o=[];let a=[],c,u;for(c=0,u=n.length;c<u;++c)a.push(_b(this.chart,n[c]));return e.filter&&(a=a.filter((d,h,f)=>e.filter(d,h,f,s))),e.itemSort&&(a=a.sort((d,h)=>e.itemSort(d,h,s))),re(a,d=>{const h=Df(e.callbacks,d);r.push(qe(h,"labelColor",this,d)),i.push(qe(h,"labelPointStyle",this,d)),o.push(qe(h,"labelTextColor",this,d))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const a=Nr[s.position].call(this,r,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=Mf(this,s),u=Object.assign({},a,c),d=Lf(this.chart,s,u),h=Ef(s,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,r){const i=this.getCaretPosition(e,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=Fs(a),{x:f,y:g}=e,{width:y,height:x}=n;let w,p,m,v,k,j;return i==="center"?(k=g+x/2,r==="left"?(w=f,p=w-o,v=k+o,j=k-o):(w=f+y,p=w+o,v=k-o,j=k+o),m=w):(r==="left"?p=f+Math.max(c,d)+o:r==="right"?p=f+y-Math.max(u,h)-o:p=this.caretX,i==="top"?(v=g,k=v-o,w=p-o,m=p+o):(v=g+x,k=v+o,w=p+o,m=p-o),j=v),{x1:w,x2:p,x3:m,y1:v,y2:k,y3:j}}drawTitle(e,n,s){const r=this.title,i=r.length;let o,a,c;if(i){const u=zs(s.rtl,this.x,this.width);for(e.x=eo(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",o=Ue(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,c=0;c<i;++c)n.fillText(r[c],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,c+1===i&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,r,i){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:c,boxWidth:u}=i,d=Ue(i.bodyFont),h=eo(this,"left",i),f=r.x(h),g=c<d.lineHeight?(d.lineHeight-c)/2:0,y=n.y+g;if(i.usePointStyle){const x={radius:Math.min(u,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},w=r.leftForLtr(f,u)+u/2,p=y+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Yh(e,x,w,p),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Yh(e,x,w,p)}else{e.lineWidth=ne(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const x=r.leftForLtr(f,u),w=r.leftForLtr(r.xPlus(f,1),u-2),p=Fs(o.borderRadius);Object.values(p).some(m=>m!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Ko(e,{x,y,w:u,h:c,radius:p}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Ko(e,{x:w,y:y+1,w:u-2,h:c-2,radius:p}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(x,y,u,c),e.strokeRect(x,y,u,c),e.fillStyle=o.backgroundColor,e.fillRect(w,y+1,u-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:c,boxWidth:u,boxPadding:d}=s,h=Ue(s.bodyFont);let f=h.lineHeight,g=0;const y=zs(s.rtl,this.x,this.width),x=function(_){n.fillText(_,y.x(e.x+g),e.y+f/2),e.y+=f+i},w=y.textAlign(o);let p,m,v,k,j,S,L;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=eo(this,w,s),n.fillStyle=s.bodyColor,re(this.beforeBody,x),g=a&&w!=="right"?o==="center"?u/2+d:u+2+d:0,k=0,S=r.length;k<S;++k){for(p=r[k],m=this.labelTextColors[k],n.fillStyle=m,re(p.before,x),v=p.lines,a&&v.length&&(this._drawColorBox(n,e,k,y,s),f=Math.max(h.lineHeight,c)),j=0,L=v.length;j<L;++j)x(v[j]),f=h.lineHeight;re(p.after,x)}g=0,f=h.lineHeight,re(this.afterBody,x),e.y-=i}drawFooter(e,n,s){const r=this.footer,i=r.length;let o,a;if(i){const c=zs(s.rtl,this.x,this.width);for(e.x=eo(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",o=Ue(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(r[a],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,r){const{xAlign:i,yAlign:o}=this,{x:a,y:c}=e,{width:u,height:d}=s,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:y}=Fs(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+h,c),o==="top"&&this.drawCaret(e,n,s,r),n.lineTo(a+u-f,c),n.quadraticCurveTo(a+u,c,a+u,c+f),o==="center"&&i==="right"&&this.drawCaret(e,n,s,r),n.lineTo(a+u,c+d-y),n.quadraticCurveTo(a+u,c+d,a+u-y,c+d),o==="bottom"&&this.drawCaret(e,n,s,r),n.lineTo(a+g,c+d),n.quadraticCurveTo(a,c+d,a,c+d-g),o==="center"&&i==="left"&&this.drawCaret(e,n,s,r),n.lineTo(a,c+h),n.quadraticCurveTo(a,c,a+h,c),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const o=Nr[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Mf(this,e),c=Object.assign({},o,this._size),u=Lf(n,e,c),d=Ef(e,c,u,n);(r._to!==d.x||i._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=jt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,r,n),wg(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),kg(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,r=e.map(({datasetIndex:a,index:c})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[c],index:c}}),i=!$o(s,r),o=this._positionChanged(r,n);(i||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,s),a=this._positionChanged(o,e),c=n||!$o(o,i)||a;return c&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,s,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:r,options:i}=this,o=Nr[i.position].call(this,e,n);return o!==!1&&(s!==o.x||r!==o.y)}}K(jc,"positioners",Nr);var Wg={id:"tooltip",_element:jc,positioners:Nr,afterInit(t,e,n){n&&(t.tooltip=new jc({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Bg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Pb=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Db(t,e,n,s){const r=t.indexOf(e);if(r===-1)return Pb(t,e,n,s);const i=t.lastIndexOf(e);return r!==i?n:r}const Tb=(t,e)=>t===null?null:st(Math.round(t),0,e);function Tf(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Jo extends Js{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(le(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:Db(s,e,ee(n,e),this._addedLabels),Tb(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return Tf.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}K(Jo,"id","category"),K(Jo,"defaults",{ticks:{callback:Tf}});function Ab(t,e){const n=[],{bounds:r,step:i,min:o,max:a,precision:c,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=t,g=i||1,y=d-1,{min:x,max:w}=e,p=!le(o),m=!le(a),v=!le(u),k=(w-x)/(h+1);let j=Fh((w-x)/y/g)*g,S,L,_,F;if(j<1e-14&&!p&&!m)return[{value:x},{value:w}];F=Math.ceil(w/j)-Math.floor(x/j),F>y&&(j=Fh(F*j/y/g)*g),le(c)||(S=Math.pow(10,c),j=Math.ceil(j*S)/S),r==="ticks"?(L=Math.floor(x/j)*j,_=Math.ceil(w/j)*j):(L=x,_=w),p&&m&&i&&Tv((a-o)/i,j/1e3)?(F=Math.round(Math.min((a-o)/j,d)),j=(a-o)/F,L=o,_=a):v?(L=p?o:L,_=m?a:_,F=u-1,j=(_-L)/F):(F=(_-L)/j,mo(F,Math.round(F),j/1e3)?F=Math.round(F):F=Math.ceil(F));const A=Math.max(zh(j),zh(L));S=Math.pow(10,le(c)?A:c),L=Math.round(L*S)/S,_=Math.round(_*S)/S;let N=0;for(p&&(f&&L!==o?(n.push({value:o}),L<o&&N++,mo(Math.round((L+N*j)*S)/S,o,Af(o,k,t))&&N++):L<o&&N++);N<F;++N){const C=Math.round((L+N*j)*S)/S;if(m&&C>a)break;n.push({value:C})}return m&&f&&_!==a?n.length&&mo(n[n.length-1].value,a,Af(a,k,t))?n[n.length-1].value=a:n.push({value:a}):(!m||_===a)&&n.push({value:_}),n}function Af(t,e,{horizontal:n,minRotation:s}){const r=Zt(s),i=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class Ob extends Js{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return le(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const o=c=>r=n?r:c,a=c=>i=s?i:c;if(e){const c=En(r),u=En(i);c<0&&u<0?a(0):c>0&&u>0&&o(0)}if(r===i){let c=i===0?1:Math.abs(i*.05);a(i+c),e||o(r-c)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=Ab(r,i);return e.bounds==="ticks"&&Av(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-n)/Math.max(e.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return Nu(e,this.chart.options.locale,this.options.ticks.format)}}class qo extends Ob{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=kt(e)?e:0,this.max=kt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Zt(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}K(qo,"id","linear"),K(qo,"defaults",{ticks:{callback:fg.formatters.numeric}});const ba={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},tt=Object.keys(ba);function Of(t,e){return t-e}function Rf(t,e){if(le(e))return null;const n=t._adapter,{parser:s,round:r,isoWeekday:i}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),kt(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Yo(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,r)),+o)}function Ff(t,e,n,s){const r=tt.length;for(let i=tt.indexOf(t);i<r-1;++i){const o=ba[tt[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return tt[i]}return tt[r-1]}function Rb(t,e,n,s,r){for(let i=tt.length-1;i>=tt.indexOf(n);i--){const o=tt[i];if(ba[o].common&&t._adapter.diff(r,s,o)>=e-1)return o}return tt[n?tt.indexOf(n):0]}function Fb(t){for(let e=tt.indexOf(t)+1,n=tt.length;e<n;++e)if(ba[tt[e]].common)return tt[e]}function zf(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:r}=ju(n,e),i=n[s]>=e?n[s]:n[r];t[i]=!0}}function zb(t,e,n,s){const r=t._adapter,i=+r.startOf(e[0].value,s),o=e[e.length-1].value;let a,c;for(a=i;a<=o;a=+r.add(a,1,s))c=n[a],c>=0&&(e[c].major=!0);return e}function If(t,e,n){const s=[],r={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],r[a]=o,s.push({value:a,major:!1});return i===0||!n?s:zb(t,s,r,n)}class ea extends Js{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),r=this._adapter=new J1._date(e.adapters.date);r.init(n),Or(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Rf(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function c(u){!o&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!a&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!o||!a)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=kt(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=kt(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=this.max,a=Iv(r,i,o);return this._unit=n.unit||(s.autoSkip?Ff(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):Rb(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:Fb(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),If(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=st(n,0,o),s=st(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,o=i.unit||Ff(i.minUnit,n,s,this._getLabelCapacity(n)),a=ee(r.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,u=Yo(c)||c===!0,d={};let h=n,f,g;if(u&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,u?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const y=r.ticks.source==="data"&&this.getDataTimestamps();for(f=h,g=0;f<s;f=+e.add(f,a,o),g++)zf(d,f,y);return(f===s||r.bounds==="ticks"||g===1)&&zf(d,f,y),Object.keys(d).sort(Of).map(x=>+x)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,i=this._unit,o=n||r[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,r){const i=this.options,o=i.ticks.callback;if(o)return he(o,[e,n,s],this);const a=i.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&a[c],h=u&&a[u],f=s[n],g=u&&h&&f&&f.major;return this._adapter.format(e,r||(g?h:d))}generateTickLabels(e){let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,r=Zt(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:s*i+a*o,h:s*o+a*i}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(e,0,If(this,[e],this._majorUnit),r),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)e.push(Rf(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return cg(e.sort(Of))}}K(ea,"id","time"),K(ea,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function to(t,e,n){let s=0,r=t.length-1,i,o,a,c;n?(e>=t[s].pos&&e<=t[r].pos&&({lo:s,hi:r}=vc(t,"pos",e)),{pos:i,time:a}=t[s],{pos:o,time:c}=t[r]):(e>=t[s].time&&e<=t[r].time&&({lo:s,hi:r}=vc(t,"time",e)),{time:i,pos:a}=t[s],{time:o,pos:c}=t[r]);const u=o-i;return u?a+(c-a)*(e-i)/u:a}class Bf extends ea{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=to(n,this.min),this._tableRange=to(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,r=[],i=[];let o,a,c,u,d;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=s&&r.push(u);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=r.length;o<a;++o)d=r[o+1],c=r[o-1],u=r[o],Math.round((d+c)/2)!==u&&i.push({time:u,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(to(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return to(this._table,s*this._tableRange+this._minPos,!0)}}K(Bf,"id","timeseries"),K(Bf,"defaults",ea.defaults);const Hg="label";function Wf(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Ib(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function $g(t,e){t.labels=e}function Vg(t,e,n=Hg){const s=[];t.datasets=e.map(r=>{const i=t.datasets.find(o=>o[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function Bb(t,e=Hg){const n={labels:[],datasets:[]};return $g(n,t.labels),Vg(n,t.datasets,e),n}function Wb(t,e){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:o,data:a,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...f}=t,g=M.useRef(null),y=M.useRef(null),x=()=>{g.current&&(y.current=new pi(g.current,{type:o,data:Bb(a,i),options:c&&{...c},plugins:u}),Wf(e,y.current))},w=()=>{Wf(e,null),y.current&&(y.current.destroy(),y.current=null)};return M.useEffect(()=>{!r&&y.current&&c&&Ib(y.current,c)},[r,c]),M.useEffect(()=>{!r&&y.current&&$g(y.current.config.data,a.labels)},[r,a.labels]),M.useEffect(()=>{!r&&y.current&&a.datasets&&Vg(y.current.config.data,a.datasets,i)},[r,a.datasets]),M.useEffect(()=>{y.current&&(r?(w(),setTimeout(x)):y.current.update(h))},[r,c,a.labels,a.datasets,h]),M.useEffect(()=>{y.current&&(w(),setTimeout(x))},[o]),M.useEffect(()=>(x(),()=>w()),[]),l.jsx("canvas",{ref:g,role:"img",height:n,width:s,...f,children:d})}const Hb=M.forwardRef(Wb);function Ug(t,e){return pi.register(e),M.forwardRef((n,s)=>l.jsx(Hb,{...n,ref:s,type:t}))}const _c=Ug("bar",go),Yg=Ug("doughnut",jr);pi.register(Es,Jo,qo,zr,Ig,Wg,Fg);function $b({summary:t,students:e}){const n={labels:["Complete","Active","Warning","Re-engage"],datasets:[{data:[t.completeCount||0,t.activeCount,t.warningCount,t.reengageCount],backgroundColor:["#3b82f6","#22c55e","#f97316","#ef4444"],borderColor:["#ffffff","#ffffff","#ffffff","#ffffff"],borderWidth:2}]},s={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,font:{size:12}}},tooltip:{callbacks:{label:d=>{const h=d.dataset.data.reduce((g,y)=>g+y,0),f=(d.raw/h*100).toFixed(1);return`${d.label}: ${d.raw} (${f}%)`}}}}},r=[{label:"0-25%",min:0,max:25,count:0,color:"#ef4444"},{label:"26-50%",min:26,max:50,count:0,color:"#f97316"},{label:"51-75%",min:51,max:75,count:0,color:"#3b82f6"},{label:"76-100%",min:76,max:100,count:0,color:"#22c55e"}];e.forEach(d=>{const h=d.progress.value;for(const f of r)if(h>=f.min&&h<=f.max){f.count++;break}});const i={labels:r.map(d=>d.label),datasets:[{label:"Students",data:r.map(d=>d.count),backgroundColor:r.map(d=>d.color),borderRadius:6}]},o={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:d=>`${d.raw} students`}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}},a=e.filter(d=>d.progress.value>=100).length,c=e.filter(d=>d.progress.value>0&&d.progress.value<100).length,u=e.filter(d=>d.progress.value===0).length;return l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Student Status"}),l.jsx("div",{className:"h-64",children:l.jsx(Yg,{data:n,options:s})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Progress Distribution"}),l.jsx("div",{className:"h-64",children:l.jsx(_c,{data:i,options:o})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Course Status"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Completed"})]}),l.jsx("span",{className:"text-2xl font-bold text-green-600",children:a})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"In Progress"})]}),l.jsx("span",{className:"text-2xl font-bold text-blue-600",children:c})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Not Started"})]}),l.jsx("span",{className:"text-2xl font-bold text-gray-600",children:u})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm text-gray-500",children:"Average Progress"}),l.jsxs("span",{className:"font-bold text-gray-900",children:[t.averageProgress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:"h-3 rounded-full transition-all duration-500",style:{width:`${t.averageProgress}%`,backgroundColor:t.averageProgress>=75?"#22c55e":t.averageProgress>=40?"#3b82f6":"#f97316"}})})]})]})]})]})}pi.register(Es,Jo,qo,zr,Ig,Wg,Fg);function Vb({examSummary:t,students:e}){const n={labels:["Passed","Failed","Upcoming","Pending"],datasets:[{data:[t.passed,t.failed,t.upcoming,t.noResult],backgroundColor:["#22c55e","#ef4444","#3b82f6","#f97316"],borderColor:["#ffffff","#ffffff","#ffffff","#ffffff"],borderWidth:2}]},s={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,usePointStyle:!0,font:{size:12}}},tooltip:{callbacks:{label:p=>{const m=p.dataset.data.reduce((k,j)=>k+j,0),v=m>0?(p.raw/m*100).toFixed(1):0;return`${p.label}: ${p.raw} (${v}%)`}}}}},r=t.courseTypes||{},i=Object.keys(r).filter(p=>p!=="Unknown"&&p),o=i.map(p=>{const m=r[p],v=m.passed+m.failed;return v>0?Math.round(m.passed/v*100):0}),a=i.map(p=>{const m=r[p];return m.passed+m.failed}),c={labels:i,datasets:[{label:"Pass Rate %",data:o,backgroundColor:o.map(p=>p>=70?"#22c55e":p>=50?"#f97316":"#ef4444"),borderRadius:6}]},u={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:p=>{const m=p.dataIndex;return`Pass rate: ${p.raw}% (${a[m]} taken)`}}}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:p=>p+"%"}},x:{ticks:{font:{size:11}}}}},d={labels:["Passed","Failed","All Students"],datasets:[{label:"Avg Study Time (minutes)",data:[t.avgStudyPassed||0,t.avgStudyFailed||0,t.avgStudyTime||0],backgroundColor:["#22c55e","#ef4444","#6366f1"],borderRadius:6}]},h=p=>p>=60?`${Math.floor(p/60)}h ${p%60}m`:`${p}m`,f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:p=>`Avg: ${h(p.raw)}`}}},scales:{y:{beginAtZero:!0,ticks:{callback:p=>h(p)}}}},g=e.filter(p=>p.matched!==!1),y=e.filter(p=>(p.passFail||"").toUpperCase()==="PASS"),x=e.filter(p=>(p.passFail||"").toUpperCase()==="FAIL"),w=[{label:"0-25%",min:0,max:25,count:0,color:"#ef4444"},{label:"26-50%",min:26,max:50,count:0,color:"#f97316"},{label:"51-75%",min:51,max:75,count:0,color:"#3b82f6"},{label:"76-100%",min:76,max:100,count:0,color:"#22c55e"}];return g.forEach(p=>{var v;const m=((v=p.progress)==null?void 0:v.value)||0;for(const k of w)if(m>=k.min&&m<=k.max){k.count++;break}}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Exam Results"}),l.jsx("div",{className:"h-64",children:l.jsx(Yg,{data:n,options:s})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pass Rate by Course"}),l.jsx("div",{className:"h-64",children:i.length>0?l.jsx(_c,{data:c,options:u}):l.jsx("div",{className:"h-full flex items-center justify-center text-gray-400",children:"No exam results yet"})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Avg Study Time"}),t.avgStudyPassed>0||t.avgStudyFailed>0?l.jsx("div",{className:"h-64",children:l.jsx(_c,{data:d,options:f})}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Passed"})]}),l.jsx("span",{className:"text-2xl font-bold text-green-600",children:y.length})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Failed"})]}),l.jsx("span",{className:"text-2xl font-bold text-red-600",children:x.length})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Tracked"})]}),l.jsx("span",{className:"text-2xl font-bold text-blue-600",children:g.length})]}),l.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Study time data available for students in your department"})]})]})]})}const ce="/api";function Ub({user:t,department:e,onLogout:n,initialData:s}){const[r,i]=M.useState((s==null?void 0:s.students)||[]),[o,a]=M.useState((s==null?void 0:s.summary)||null),[c,u]=M.useState(!s),[d,h]=M.useState(!1),[f,g]=M.useState((s==null?void 0:s.isQuick)||!1),[y,x]=M.useState(null),[w,p]=M.useState(s?new Date:null),[m,v]=M.useState(null),[k,j]=M.useState(!1),[S,L]=M.useState(!1),[_,F]=M.useState("students"),[A,N]=M.useState([]),[C,z]=M.useState(null),[$,H]=M.useState(!1),[Y,X]=M.useState(!1),[D,R]=M.useState(!1),[W,Z]=M.useState(""),[J,ve]=M.useState(!1),[be,O]=M.useState(""),[V,se]=M.useState(null),[Le,we]=M.useState(!1),[ke,Dt]=M.useState([]),[qs,mi]=M.useState(!1),[er,Ou]=M.useState(!1),[wa,Ru]=M.useState(""),[Fu,zu]=M.useState(""),[Iu,tr]=M.useState(""),[ka,gi]=M.useState(!1),[Ne,ja]=M.useState([]),Bu=M.useRef(!1),[xi,Xg]=M.useState(!1),[Wu,Hu]=M.useState(""),[$u,on]=M.useState(""),[Vu,_a]=M.useState([]),[Fn,Na]=M.useState([]),[Sa,Uu]=M.useState(!1),[ft,Ca]=M.useState([]),Yu=M.useRef(!1),[Je,Xu]=M.useState(!1),[Ae,Ku]=M.useState(null),[Gu,yi]=M.useState(!1),[Qu,Kg]=M.useState([]),[nr,Gg]=M.useState(""),[sr,Qg]=M.useState(""),[Ma,Zg]=M.useState(""),[Zu,an]=M.useState(""),[vi,Ju]=M.useState(!1),[qu,ed]=M.useState(!1),[zn,La]=M.useState(""),[Ea,Jg]=M.useState("all"),[bi,td]=M.useState("no-result"),[wi,nd]=M.useState("all"),[ln,Pa]=M.useState([]),[Da,sd]=M.useState(!1),[ki,rd]=M.useState("all"),[ji,id]=M.useState("all"),[Ta,od]=M.useState("all");M.useEffect(()=>{s?(console.log("[DASHBOARD] Using pre-fetched data"),s.isQuick&&(console.log("[DASHBOARD] Loading full data in background..."),qg())):(console.log("[DASHBOARD] Component mounted, fetching data..."),hd())},[]),M.useEffect(()=>{if(!(t!=null&&t.email))return;(async()=>{var E;try{const P=await fetch(`${ce}/dashboard/dept-prefs`,{credentials:"include"});if(P.ok){const I=await P.json();I.success&&((E=I.departmentIds)==null?void 0:E.length)>0&&ja(I.departmentIds)}}catch(P){console.error("[DEPT] Failed to load dept prefs:",P)}Bu.current=!0})()},[t==null?void 0:t.email]),M.useEffect(()=>{!(t!=null&&t.email)||!Bu.current||fetch(`${ce}/dashboard/dept-prefs`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({departmentIds:Ne})}).catch(b=>console.error("[DEPT] Failed to save dept prefs:",b))},[Ne]),M.useEffect(()=>{if(!(t!=null&&t.email))return;(async()=>{var E;try{const P=await fetch(`${ce}/dashboard/hidden-students`,{credentials:"include"});if(P.ok){const I=await P.json();I.success&&((E=I.hiddenEmails)==null?void 0:E.length)>0&&Ca(I.hiddenEmails)}}catch(P){console.error("[HIDDEN] Failed to load hidden prefs:",P)}Yu.current=!0})()},[t==null?void 0:t.email]),M.useEffect(()=>{!(t!=null&&t.email)||!Yu.current||fetch(`${ce}/dashboard/hidden-students`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({hiddenEmails:ft})}).catch(b=>console.error("[HIDDEN] Failed to save hidden prefs:",b))},[ft]),M.useEffect(()=>{t!=null&&t.email&&fetch(`${ce}/dashboard/ghl-settings`,{credentials:"include"}).then(b=>b.ok?b.json():null).then(b=>{b!=null&&b.success&&Ku(b)}).catch(b=>console.error("[GHL] Failed to load settings:",b))},[t==null?void 0:t.email]),M.useEffect(()=>{Ne.length>0?e0():(_a([]),Na([]),hd()),X(!1)},[Ne.length]),M.useEffect(()=>{_==="exam"&&!Y&&!$&&In()},[_]);const In=async b=>{H(!0);try{const E=b||W,P=new URLSearchParams;E&&P.set("adminKey",E),Ne.length>0&&P.set("departments",Ne.join(","));const I=P.toString(),U=I?`${ce}/exam/students?${I}`:`${ce}/exam/students`;console.log("[EXAM] Fetching with URL:",U,"extraDepts:",Ne);const G=await fetch(U,{credentials:"include"});if(!G.ok){if(G.status===401){n();return}throw new Error("Failed to fetch exam data")}const Xe=await G.json();Xe.success&&(N(Xe.students),z(Xe.examSummary),we(!1),X(!0),E&&fetch(`${ce}/exam/sync-scheduler/status`,{credentials:"include"}).then(q=>q.ok?q.json():null).then(q=>{q!=null&&q.success&&se(q.scheduler)}).catch(()=>{}))}catch(E){x("Failed to load exam data. Please try again."),console.error("[DASHBOARD] Exam data error:",E)}finally{H(!1)}},qg=async()=>{try{const[b,E]=await Promise.all([fetch(`${ce}/dashboard/summary`,{credentials:"include"}),fetch(`${ce}/dashboard/students`,{credentials:"include"})]);if(b.ok&&E.ok){const[P,I]=await Promise.all([b.json(),E.json()]);P.success&&I.success&&(console.log("[DASHBOARD] Full data loaded, updating..."),a(P.summary),i(I.students),p(new Date))}}catch(b){console.error("[DASHBOARD] Background load failed:",b)}finally{g(!1)}},e0=async()=>{u(!0),x(null);try{const b=Ne.join(","),E=await fetch(`${ce}/dashboard/students/multi?departments=${encodeURIComponent(b)}`,{credentials:"include"});if(!E.ok){if(E.status===401){n();return}throw new Error("Failed to fetch multi-department data")}const P=await E.json();if(P.success){i(P.students),a(P.summary),_a(P.departments||[]),p(new Date);const I=(P.departments||[]).filter(U=>U.status==="error");I.length>0&&on(`Could not load ${I.length} department(s): ${I.map(U=>U.error||U.id).join(", ")}`)}}catch(b){x("Failed to load multi-department data. Please try again."),console.error("[DASHBOARD] Multi-dept error:",b)}finally{u(!1)}},ad=()=>{var P;const b=Wu.trim();if(!/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(b)){on("Invalid Department ID format (must be a GUID like xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx)");return}if(b.toLowerCase()===((P=e==null?void 0:e.id)==null?void 0:P.toLowerCase())){on("This is already your primary department");return}if(Ne.some(I=>I.toLowerCase()===b.toLowerCase())){on("Department already added");return}if(Ne.length>=10){on("Maximum 10 additional departments");return}on(""),Hu(""),ja(I=>[...I,b])},ld=b=>{ja(E=>E.filter(P=>P!==b))},cd=b=>{const E=b.toLowerCase().trim();Ca(P=>P.includes(E)?P:[...P,E])},ud=b=>{const E=b.toLowerCase().trim();Ca(P=>P.filter(I=>I!==E))},t0=async()=>{var b;if(!nr.trim()||!sr.trim()){an("Token and Location ID are required");return}ed(!0),an("");try{const E=new URLSearchParams({token:nr.trim(),location_id:sr.trim()}),I=await(await fetch(`${ce}/dashboard/ghl-calendars?${E}`,{credentials:"include"})).json();I.success?(Kg(I.calendars||[]),((b=I.calendars)==null?void 0:b.length)===0&&an("No calendars found for this location")):an(I.error||"Failed to fetch calendars")}catch{an("Failed to connect to GHL API")}finally{ed(!1)}},dd=async b=>{Ju(!0),an("");try{const E={enabled:b,ghl_token:nr.trim()||void 0,location_id:sr.trim()||void 0,calendar_id:Ma||void 0},I=await(await fetch(`${ce}/dashboard/ghl-settings`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(E)})).json();I.success?(Ku(I),b?(yi(!1),X(!1),_==="exam"&&In()):(X(!1),_==="exam"&&In())):an(I.error||"Failed to save settings")}catch{an("Failed to save GHL settings")}finally{Ju(!1)}},hd=M.useCallback(async()=>{u(!0),x(null);try{const[b,E]=await Promise.all([fetch(`${ce}/dashboard/summary`,{credentials:"include"}),fetch(`${ce}/dashboard/students`,{credentials:"include"})]);if(!b.ok||!E.ok){if(b.status===401||E.status===401){n();return}throw new Error("Failed to fetch data")}const P=await b.json(),I=await E.json();P.success&&a(P.summary),I.success&&i(I.students),p(new Date)}catch(b){x("Failed to load dashboard data. Please try again."),console.error("Dashboard error:",b)}finally{u(!1)}},[n]),n0=async()=>{h(!0),x(null);try{const b=Ne.length>0?JSON.stringify({extraDepartments:Ne}):void 0,E=await fetch(`${ce}/dashboard/sync`,{method:"POST",credentials:"include",headers:b?{"Content-Type":"application/json"}:{},body:b});if(!E.ok){if(E.status===401){n();return}const I=await E.json().catch(()=>null);throw new Error((I==null?void 0:I.error)||`Sync failed (${E.status})`)}const P=await E.json();P.success&&(a(P.summary),i(P.students),P.departments&&_a(P.departments),p(new Date),Y&&(X(!1),_==="exam"&&In()))}catch(b){console.error("[SYNC] Error:",b),x(b.message||"Failed to sync data. Please try again.")}finally{h(!1)}},s0=async()=>{try{const b=Ne.length>0?`${ce}/dashboard/export?departments=${encodeURIComponent(Ne.join(","))}`:`${ce}/dashboard/export`,E=await fetch(b,{credentials:"include"});if(!E.ok)throw new Error("Export failed");const P=await E.blob(),I=window.URL.createObjectURL(P),U=document.createElement("a");U.href=I,U.download=`students_export_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(U),U.click(),window.URL.revokeObjectURL(I),U.remove()}catch{x("Failed to export data. Please try again.")}},r0=async b=>{try{(await(await fetch(`${ce}/exam/admin-verify`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({password:b})})).json()).success?(R(!0),Z(b),ve(!1),O(""),X(!1),In(b),fd(b)):O("Invalid password")}catch{O("Failed to verify")}},i0=()=>{R(!1),Z(""),ve(!1),O(""),Dt([]),gi(!1),Ou(!1),X(!1),In("")},fd=async b=>{mi(!0);try{const P=await(await fetch(`${ce}/exam/allowlist?adminKey=${encodeURIComponent(b||W)}`,{credentials:"include"})).json();P.success&&(Dt(P.users),gi(P.enforcing))}catch(E){console.error("Failed to fetch allowlist:",E)}finally{mi(!1)}},Aa=async()=>{if(!wa.trim()){tr("Email is required");return}tr("");try{const E=await(await fetch(`${ce}/exam/allowlist/add`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:wa.trim(),name:Fu.trim(),adminKey:W})})).json();E.success?(Dt(E.users),gi(!0),Ru(""),zu(""),E.autoAddedAdmin&&alert("Your admin account was automatically added to the allowlist to prevent lockout.")):tr(E.error||"Failed to add user")}catch{tr("Network error")}},o0=async b=>{if(confirm(`Remove ${b} from allowed users? They will not be able to log in.`))try{const P=await(await fetch(`${ce}/exam/allowlist/remove`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:b,adminKey:W})})).json();P.success&&(Dt(P.users),gi(P.enforcing),P.warning&&alert(P.warning))}catch(E){console.error("Failed to remove from allowlist:",E)}},Oa=b=>b>=60?`${Math.floor(b/60)}h ${b%60}m`:`${b}m`,_i=b=>{const E=b.length,P=b.filter(oe=>(oe.passFail||"").toUpperCase()==="PASS"),I=b.filter(oe=>(oe.passFail||"").toUpperCase()==="FAIL"),U=P.length,G=I.length,Xe=Date.now();let q=0,_t=0;b.forEach(oe=>{var yd;const Oe=Fa(oe.examDateRaw),Tt=(oe.passFail||"").trim()!=="";Oe>Xe&&!Tt&&(q++,oe.matched!==!1&&(((yd=oe.progress)==null?void 0:yd.value)||0)<80&&_t++)});const Bn=U+G,Wn=Bn>0?Math.round(U/Bn*1e3)/10:0,Se=b.filter(oe=>oe.matched!==!1),cn=P.filter(oe=>oe.matched!==!1),ds=I.filter(oe=>oe.matched!==!1),hs=oe=>{var Oe,Tt;return(((Oe=oe.timeSpent)==null?void 0:Oe.minutes)||0)+(((Tt=oe.examPrepTime)==null?void 0:Tt.minutes)||0)},fs=Se.length>0?Math.round(Se.reduce((oe,Oe)=>oe+hs(Oe),0)/Se.length):0,Hn=cn.length>0?Math.round(cn.reduce((oe,Oe)=>oe+hs(Oe),0)/cn.length):0,xd=ds.length>0?Math.round(ds.reduce((oe,Oe)=>oe+hs(Oe),0)/ds.length):0,p0=Se.length>0?Math.round(Se.reduce((oe,Oe)=>{var Tt;return oe+(((Tt=Oe.progress)==null?void 0:Tt.value)||0)},0)/Se.length*10)/10:0,ps={};return b.forEach(oe=>{const Oe=(oe.examCourse||"Unknown").trim();ps[Oe]||(ps[Oe]={total:0,passed:0,failed:0}),ps[Oe].total++;const Tt=(oe.passFail||"").toUpperCase();Tt==="PASS"?ps[Oe].passed++:Tt==="FAIL"&&ps[Oe].failed++}),{total:E,passed:U,failed:G,upcoming:q,atRisk:_t,passRate:Wn,noResult:E-U-G-q,avgStudyTime:fs,avgStudyTimeFormatted:Oa(fs),avgStudyPassed:Hn,avgStudyPassedFormatted:Oa(Hn),avgStudyFailed:xd,avgStudyFailedFormatted:Oa(xd),averageProgress:p0,courseTypes:ps}},pd=async(b,E)=>{try{const I=await(await fetch(`${ce}/exam/update-result`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:b,result:E,adminKey:W})})).json();if(I.success){const U=A.map(G=>G.email===b?{...G,passFail:E}:G);N(U),z(_i(U)),v(G=>G&&G.email===b?{...G,passFail:E}:G),I.sheetSaved||alert("Warning: Result saved locally but failed to save to Google Sheet. It may be lost after server restart. Check GOOGLE_SHEETS_CREDENTIALS_JSON env var.")}else alert("Failed to save result: "+(I.error||"Unknown error"))}catch(P){console.error("Failed to update result:",P),alert("Failed to save result. Check console for details.")}},md=async(b,E,P)=>{try{const U=await(await fetch(`${ce}/exam/update-date`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:b,date:E,time:P||"",adminKey:W})})).json();if(U.success){const[G,Xe,q]=E.split("-").map(Number),Bn=new Date(G,Xe-1,q).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),Wn=A.map(Se=>Se.email===b?{...Se,examDateRaw:E,examDate:Bn,examTime:P||Se.examTime}:Se);N(Wn),z(_i(Wn)),v(Se=>Se&&Se.email===b?{...Se,examDateRaw:E,examDate:Bn,examTime:P||Se.examTime}:Se),U.sheetSaved||alert("Warning: Date saved locally but failed to save to Google Sheet. It may be lost after server restart.")}else alert("Failed to save date: "+(U.error||"Unknown error"))}catch(I){console.error("Failed to update exam date:",I),alert("Failed to save date. Check console for details.")}},a0=async(b,E)=>{try{const I=await(await fetch(`${ce}/students/${b}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(E)})).json();if(I.success){const U=I.student;return i(G=>G.map(Xe=>Xe.id===b?{...Xe,firstName:U.firstName,lastName:U.lastName,fullName:`${U.firstName} ${U.lastName}`.trim(),email:U.emailAddress,phone:U.phone}:Xe)),{success:!0,student:U}}else return{success:!1,error:I.error||"Update failed"}}catch(P){return console.error("Failed to update student contact:",P),{success:!1,error:"Network error"}}},l0=async(b,E,P,I)=>{try{const G=await(await fetch(`${ce}/exam/update-contact`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:b,name:E,newEmail:P,phone:I,adminKey:W})})).json();if(G.success){const Xe=A.map(q=>{var _t;return q.email===b?{...q,fullName:E||q.fullName,email:P||q.email,phone:I||q.phone,sheetTracking:{...q.sheetTracking,phone:I||((_t=q.sheetTracking)==null?void 0:_t.phone)}}:q});N(Xe),v(q=>{var _t;return q&&q.email===b?{...q,fullName:E||q.fullName,email:P||q.email,phone:I||q.phone,sheetTracking:{...q.sheetTracking,phone:I||((_t=q.sheetTracking)==null?void 0:_t.phone)}}:q}),G.sheetSaved||alert("Warning: Contact saved locally but failed to save to Google Sheet. Check GOOGLE_SHEETS_CREDENTIALS_JSON env var.")}else alert("Failed to save contact: "+(G.error||"Unknown error"))}catch(U){console.error("Failed to update sheet contact:",U),alert("Failed to save contact. Check console for details.")}},gd=[...new Set(r.map(b=>(b.departmentName||"").trim()).filter(Boolean))].sort(),Ra=r.filter(b=>{const E=ft.includes((b.email||"").toLowerCase().trim());if(Je)return E;if(E)return!1;const P=zn.toLowerCase(),I=!zn||b.fullName.toLowerCase().includes(P)||b.email.toLowerCase().includes(P)||(b.departmentName||"").toLowerCase().includes(P),U=Ea==="all"||b.status.status.toLowerCase()===Ea.toLowerCase(),G=Fn.length===0||Fn.includes((b.departmentName||"").trim());return I&&U&&G}),Fa=b=>{if(!b)return 0;if(/^\d{4}-\d{2}-\d{2}$/.test(b))return new Date(b+"T00:00:00").getTime();const E=b.split("/");if(E.length===3)return new Date(E[2],E[0]-1,E[1]).getTime();const P=new Date(b);return isNaN(P.getTime())?0:P.getTime()},c0=(b,E)=>{if(E==="all")return!0;const P=Fa(b.examDateRaw);if(!P)return E==="no-date";const I=new Date;I.setHours(0,0,0,0);const U=I.getTime(),G=Math.ceil((P-U)/864e5);switch(E){case"overdue":return G<0;case"today":return G===0;case"tomorrow":return G===1;case"2-days":return G>=0&&G<=2;case"3-days":return G>=0&&G<=3;case"this-week":return G>=0&&G<=7;case"next-week":return G>7&&G<=14;case"this-month":return G>=0&&G<=30;case"no-date":return!1;default:return!0}},rr=A.filter(b=>{var Wn,Se;const E=ft.includes((b.email||"").toLowerCase().trim());if(Je)return E;if(E||!D&&b.matched===!1)return!1;const P=zn.toLowerCase(),I=!zn||(b.fullName||"").toLowerCase().includes(P)||(b.email||"").toLowerCase().includes(P)||(b.departmentName||"").toLowerCase().includes(P)||(b.agencyOwner||"").toLowerCase().includes(P);let U=!0;if(bi!=="all"){const cn=(b.passFail||"").toUpperCase(),ds=Fa(b.examDateRaw),hs=new Date;hs.setHours(0,0,0,0);const fs=ds&&ds<hs.getTime(),Hn=cn==="PASS"||cn==="FAIL";switch(bi){case"passed":U=cn==="PASS";break;case"failed":U=cn==="FAIL";break;case"no-result":U=!Hn;break;case"upcoming":U=!fs&&!Hn;break;case"pending":U=fs&&!Hn;break;case"at-risk":U=!fs&&!Hn&&b.matched!==!1&&(((Wn=b.progress)==null?void 0:Wn.value)||0)<80;break;default:U=!0}}const G=wi==="all"||(b.examCourse||"").toLowerCase()===wi.toLowerCase(),Xe=ln.length===0||ln.includes((b.departmentName||"").trim()),q=ki==="all"||(b.examState||"").toLowerCase()===ki.toLowerCase(),_t=ji==="all"||(((Se=b.readiness)==null?void 0:Se.status)||"GRAY")===ji,Bn=c0(b,Ta);return I&&U&&G&&Xe&&q&&_t&&Bn}),Ni=D?A:A.filter(b=>b.matched!==!1),u0=[...new Set(Ni.map(b=>(b.examCourse||"").trim()).filter(Boolean))].sort(),d0=[...new Set(Ni.map(b=>(b.departmentName||"").trim()).filter(Boolean))].sort(),h0=[...new Set(Ni.map(b=>(b.examState||"").trim()).filter(Boolean))].sort(),f0=()=>{if(!w)return"Never";const E=Math.floor((new Date-w)/1e3);return E<60?"Just now":E<3600?`${Math.floor(E/60)} minutes ago`:E<86400?`${Math.floor(E/3600)} hours ago`:w.toLocaleDateString()};return c?l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx("header",{className:"header shadow-lg",children:l.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-10 w-32 bg-white/20 rounded animate-pulse"}),l.jsxs("div",{children:[l.jsx("div",{className:"h-5 w-40 bg-white/20 rounded animate-pulse mb-1"}),l.jsx("div",{className:"h-4 w-24 bg-white/10 rounded animate-pulse"})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-9 w-20 bg-white/10 rounded-lg animate-pulse"}),l.jsx("div",{className:"h-9 w-9 bg-white/10 rounded-lg animate-pulse"})]})]})})}),l.jsxs("main",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"spinner mx-auto mb-2"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Loading student data..."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(b=>l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 animate-pulse",children:[l.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded mb-3"}),l.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded"})]},b))}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b",children:l.jsx("div",{className:"h-10 w-64 bg-gray-200 rounded animate-pulse"})}),l.jsx("div",{className:"divide-y",children:[1,2,3,4,5].map(b=>l.jsx("div",{className:"p-4 animate-pulse",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),l.jsxs("div",{children:[l.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded mb-2"}),l.jsx("div",{className:"h-3 w-48 bg-gray-100 rounded"})]})]}),l.jsx("div",{className:"h-6 w-20 bg-gray-200 rounded-full"})]})},b))})]})]})]}):l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx("header",{className:"header shadow-lg",children:l.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("img",{src:"/logo.png",alt:"JustInsurance",className:"h-20 w-auto",onError:b=>{b.target.style.display="none"}}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white",children:"Student Dashboard"}),l.jsx("p",{className:"text-sm text-ji-blue-light",children:e==null?void 0:e.name})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{onClick:n0,disabled:d,className:"flex items-center space-x-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",children:[l.jsx("svg",{className:`w-5 h-5 ${d?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),l.jsx("span",{children:d?"Syncing...":"Sync"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"text-right hidden sm:block",children:[l.jsx("p",{className:"text-white font-medium",children:t==null?void 0:t.name}),l.jsx("p",{className:"text-xs text-ji-blue-light",children:t==null?void 0:t.email})]}),l.jsx("button",{onClick:n,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",title:"Logout",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})]})})}),l.jsxs("main",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y&&l.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{className:"text-red-700",children:y})]}),l.jsx("button",{onClick:()=>x(null),className:"text-red-500 hover:text-red-700",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"flex space-x-1 mb-6 bg-white rounded-lg shadow-md p-1 max-w-xs",children:[l.jsx("button",{className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${_==="students"?"bg-ji-blue-bright text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,onClick:()=>F("students"),children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),l.jsx("span",{children:"Students"})]})}),l.jsx("button",{className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${_==="exam"?"bg-ji-blue-bright text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,onClick:()=>F("exam"),children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("span",{children:"Exam"})]})})]}),_==="students"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("p",{className:"text-sm text-gray-500",children:["Last updated: ",f0()]}),f&&l.jsxs("span",{className:"text-xs text-ji-blue-bright flex items-center gap-1",children:[l.jsxs("svg",{className:"animate-spin h-3 w-3",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading progress data..."]})]}),l.jsxs("button",{onClick:()=>j(!k),className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center space-x-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),l.jsx("span",{children:k?"Hide Charts":"Show Charts"})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("svg",{className:"w-5 h-5 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Departments (",1+Ne.length,")"]}),l.jsx("span",{className:"px-2 py-0.5 bg-ji-blue-bright/10 text-ji-blue-bright text-xs rounded-full font-medium",children:(e==null?void 0:e.name)||"Primary"}),Vu.filter(b=>b.status==="ok"&&b.id!==(e==null?void 0:e.id)).map(b=>l.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full flex items-center gap-1",children:[b.name," (",b.studentCount,")",l.jsx("button",{onClick:()=>ld(b.id),className:"text-red-400 hover:text-red-600 ml-0.5",title:"Remove department",children:l.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},b.id)),Ne.filter(b=>!Vu.some(E=>E.id===b&&E.status==="ok")).map(b=>l.jsxs("span",{className:"px-2 py-0.5 bg-yellow-50 text-yellow-700 text-xs rounded-full flex items-center gap-1",children:[b.substring(0,8),"...",l.jsx("button",{onClick:()=>ld(b),className:"text-red-400 hover:text-red-600 ml-0.5",title:"Remove department",children:l.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},b))]}),l.jsxs("button",{onClick:()=>{Xg(!xi),on("")},className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:xi?"M5 15l7-7 7 7":"M12 4v16m8-8H4"})}),l.jsx("span",{children:xi?"Close":"Add Department"})]})]}),xi&&l.jsxs("div",{className:"mt-3 flex gap-2 items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("input",{type:"text",placeholder:"Paste Department ID (e.g. a1b2c3d4-e5f6-7890-abcd-ef1234567890)",value:Wu,onChange:b=>{Hu(b.target.value),on("")},onKeyDown:b=>b.key==="Enter"&&ad(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-ji-blue-bright"}),$u&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:$u})]}),l.jsx("button",{onClick:ad,className:"btn btn-primary text-sm py-2 px-4 whitespace-nowrap",children:"Add"})]})]}),o&&l.jsx(Uy,{summary:o}),k&&o&&l.jsx("div",{className:"mb-8 animate-fadeIn",children:l.jsx($b,{summary:o,students:r})}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),l.jsx("input",{type:"text",placeholder:"Search by name, email, or department...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright",value:zn,onChange:b=>La(b.target.value)})]}),l.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[Ne.length>0&&gd.length>1&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>Uu(!Sa),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright bg-white flex items-center gap-2 text-sm",children:[l.jsx("span",{children:Fn.length===0?"All Departments":`${Fn.length} dept${Fn.length>1?"s":""}`}),l.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:Sa?"M5 15l7-7 7 7":"M19 9l-7 7-7-7"})})]}),Sa&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>Uu(!1)}),l.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-20 min-w-[200px] py-1",children:[l.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-50 cursor-pointer text-sm border-b border-gray-100",children:[l.jsx("input",{type:"checkbox",checked:Fn.length===0,onChange:()=>Na([]),className:"rounded text-ji-blue-bright"}),l.jsx("span",{className:"font-medium",children:"All Departments"})]}),gd.map(b=>l.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-50 cursor-pointer text-sm",children:[l.jsx("input",{type:"checkbox",checked:Fn.includes(b),onChange:()=>{Na(E=>E.includes(b)?E.filter(P=>P!==b):[...E,b])},className:"rounded text-ji-blue-bright"}),l.jsx("span",{className:"truncate",children:b})]},b))]})]})]}),l.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright",value:Ea,onChange:b=>Jg(b.target.value),children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"complete",children:"Complete"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"warning",children:"Warning"}),l.jsx("option",{value:"re-engage",children:"Re-engage"}),l.jsx("option",{value:"abandoned",children:"Abandoned"}),l.jsx("option",{value:"course expired",children:"Course Expired"})]}),l.jsxs("button",{onClick:s0,className:"btn btn-secondary flex items-center space-x-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),l.jsx("span",{children:"Export CSV"})]}),ft.length>0&&l.jsxs("button",{onClick:()=>Xu(!Je),className:`flex items-center space-x-1 px-3 py-2 rounded-lg text-sm border transition-colors ${Je?"bg-amber-50 border-amber-300 text-amber-700":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}),l.jsxs("span",{children:["Hidden (",ft.length,")"]})]})]})]}),l.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:[Je?`Showing ${Ra.length} hidden students`:`Showing ${Ra.length} of ${r.length} students`,!Je&&ft.length>0&&` (${ft.length} hidden)`,Ne.length>0&&` across ${1+Ne.length} departments`]})]}),l.jsx(Yy,{students:Ra,onViewStudent:v,showDepartment:Ne.length>0,onHideStudent:Je?ud:cd,showHidden:Je})]}),_==="exam"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-6 flex items-center justify-between flex-wrap gap-3",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam scheduling, pass rates & study tracking"}),l.jsxs("button",{onClick:()=>In(),disabled:$,className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center space-x-1",children:[l.jsx("svg",{className:`w-4 h-4 ${$?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),l.jsx("span",{children:$?"Refreshing...":"Refresh"})]}),(Ae==null?void 0:Ae.enabled)&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-teal-100 text-teal-700 border border-teal-200",children:[l.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"GHL Mode"]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[D?l.jsxs("div",{className:"flex items-center gap-2",children:[V&&l.jsx("span",{className:`text-xs px-2 py-1 rounded-lg border ${V.enabled?"text-green-600 border-green-200 bg-green-50":"text-gray-500 border-gray-200 bg-gray-50"}`,title:V.lastSync?`Last: ${new Date(V.lastSync).toLocaleString()}`:"No sync yet",children:V.enabled?`Auto-sync: every ${V.intervalHours}h${V.lastSync?` | Last: ${(()=>{const b=Math.round((Date.now()-new Date(V.lastSync).getTime())/6e4);return b<1?"just now":b<60?`${b}m ago`:`${Math.round(b/60)}h ago`})()}`:""}`:"Auto-sync: not configured"}),l.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700",children:[l.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Admin Mode"]}),l.jsx("button",{onClick:i0,className:"text-xs text-gray-500 hover:text-red-500",children:"Exit"})]}):l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>ve(!J),className:"text-sm text-purple-500 hover:text-purple-700 flex items-center space-x-1 px-2.5 py-1 rounded-lg border border-purple-200 hover:border-purple-400 hover:bg-purple-50 transition-colors",title:"Admin Override",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),l.jsx("span",{children:"Admin"})]}),J&&l.jsxs("div",{className:"absolute right-0 top-8 bg-white rounded-lg shadow-lg border p-3 z-50 w-64",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter admin password to view all student data"}),l.jsxs("form",{onSubmit:b=>{b.preventDefault(),r0(b.target.password.value)},children:[l.jsx("input",{name:"password",type:"password",placeholder:"Admin password",className:"w-full px-3 py-1.5 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",autoFocus:!0}),be&&l.jsx("p",{className:"text-xs text-red-500 mt-1",children:be}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("button",{type:"submit",className:"flex-1 px-3 py-1.5 bg-purple-600 text-white rounded text-xs font-medium hover:bg-purple-700",children:"Unlock"}),l.jsx("button",{type:"button",onClick:()=>{ve(!1),O("")},className:"px-3 py-1.5 bg-gray-100 rounded text-xs text-gray-600 hover:bg-gray-200",children:"Cancel"})]})]})]})]}),l.jsxs("button",{onClick:()=>yi(!Gu),className:`text-sm flex items-center space-x-1 px-2.5 py-1 rounded-lg border transition-colors ${Ae!=null&&Ae.enabled?"text-teal-600 border-teal-200 hover:border-teal-400 hover:bg-teal-50":"text-gray-500 border-gray-200 hover:border-gray-400 hover:bg-gray-50"}`,title:"Configure exam data source",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})}),l.jsx("span",{children:"Data Source"})]}),l.jsxs("button",{onClick:()=>L(!S),className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center space-x-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),l.jsx("span",{children:S?"Hide Charts":"Show Charts"})]})]})]}),Gu&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6 border-l-4 border-teal-500",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Exam Data Source"}),l.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full font-medium ${Ae!=null&&Ae.enabled?"bg-teal-100 text-teal-700":"bg-gray-100 text-gray-500"}`,children:Ae!=null&&Ae.enabled?"GHL Calendar":"Google Sheet"})]}),l.jsx("button",{onClick:()=>yi(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),Ae!=null&&Ae.enabled?l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[l.jsxs("span",{children:["Token: ",l.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-xs",children:Ae.ghl_token||"Not set"})]}),l.jsxs("span",{children:["Location: ",l.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-xs",children:Ae.location_id||"Not set"})]}),l.jsxs("span",{children:["Calendar: ",l.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-xs",children:Ae.calendar_id||"Not set"})]})]}),l.jsx("button",{onClick:()=>dd(!1),disabled:vi,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded text-xs font-medium hover:bg-gray-200 transition-colors",children:vi?"Saving...":"Disable GHL (use Google Sheet)"})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Connect a GoHighLevel calendar to pull exam appointments instead of the Google Sheet."}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"GHL Private Integration Token"}),l.jsx("input",{type:"password",value:nr,onChange:b=>Gg(b.target.value),placeholder:"pit-xxxxxxxx...",className:"w-full px-3 py-1.5 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Location ID"}),l.jsx("input",{type:"text",value:sr,onChange:b=>Qg(b.target.value),placeholder:"Location ID from GHL",className:"w-full px-3 py-1.5 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-teal-500"})]})]}),l.jsxs("div",{className:"flex items-end gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Calendar"}),Qu.length>0?l.jsxs("select",{value:Ma,onChange:b=>Zg(b.target.value),className:"w-full px-3 py-1.5 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:[l.jsx("option",{value:"",children:"Select a calendar..."}),Qu.map(b=>l.jsx("option",{value:b.id,children:b.name},b.id))]}):l.jsx("p",{className:"text-xs text-gray-400 py-1.5",children:"Enter token & location, then fetch calendars"})]}),l.jsx("button",{onClick:t0,disabled:qu||!nr.trim()||!sr.trim(),className:"px-3 py-1.5 bg-teal-50 text-teal-700 rounded text-xs font-medium hover:bg-teal-100 border border-teal-200 disabled:opacity-50 transition-colors whitespace-nowrap",children:qu?"Fetching...":"Fetch Calendars"})]}),Zu&&l.jsx("p",{className:"text-xs text-red-500",children:Zu}),l.jsxs("div",{className:"flex gap-2 pt-1",children:[l.jsx("button",{onClick:()=>dd(!0),disabled:vi||!Ma,className:"px-4 py-1.5 bg-teal-600 text-white rounded text-xs font-medium hover:bg-teal-700 disabled:opacity-50 transition-colors",children:vi?"Enabling...":"Enable GHL"}),l.jsx("button",{onClick:()=>yi(!1),className:"px-3 py-1.5 bg-gray-100 text-gray-600 rounded text-xs hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})]}),D&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6 border-l-4 border-purple-500",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),l.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Allowed Users"}),l.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full font-medium ${ka?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:ka?`Active (${ke.length} users)`:"Not enforcing"})]}),l.jsx("button",{onClick:()=>{Ou(!er),!er&&ke.length===0&&fd()},className:"text-sm text-purple-600 hover:text-purple-800 font-medium",children:er?"Hide":"Manage"})]}),!ka&&!er&&l.jsx("p",{className:"text-xs text-gray-500",children:"No users in allowlist. All authenticated Absorb users can log in. Add a user to start restricting access."}),er&&l.jsxs("div",{className:"mt-3",children:[l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx("input",{type:"email",placeholder:"Email address",value:wa,onChange:b=>{Ru(b.target.value),tr("")},onKeyDown:b=>b.key==="Enter"&&Aa(),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("input",{type:"text",placeholder:"Name (optional)",value:Fu,onChange:b=>zu(b.target.value),onKeyDown:b=>b.key==="Enter"&&Aa(),className:"w-40 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("button",{onClick:Aa,className:"px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700",children:"Add"})]}),Iu&&l.jsx("p",{className:"text-xs text-red-500 mb-2",children:Iu}),qs?l.jsx("p",{className:"text-sm text-gray-400",children:"Loading..."}):ke.length>0?l.jsx("div",{className:"divide-y divide-gray-100 max-h-64 overflow-y-auto",children:ke.map(b=>l.jsxs("div",{className:"flex items-center justify-between py-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-800",children:b.name||b.email}),l.jsxs("p",{className:"text-xs text-gray-500",children:[b.email,"  Added ",new Date(b.added_at).toLocaleDateString()]})]}),l.jsx("button",{onClick:()=>o0(b.email),className:"text-xs text-red-500 hover:text-red-700 px-2 py-1 rounded hover:bg-red-50",children:"Remove"})]},b.email))}):l.jsx("p",{className:"text-sm text-gray-400",children:"No users in allowlist yet."})]})]}),S&&C&&l.jsx("div",{className:"mb-8 animate-fadeIn",children:l.jsx(Vb,{examSummary:C,students:A})}),C&&l.jsxs(l.Fragment,{children:[Le&&l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:[l.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"KPIs filtered (",C.total," students)"]})}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 mb-4",children:[l.jsxs("div",{className:"kpi-card bg-gray-50 border-l-4 border-gray-500 animate-fadeIn",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),l.jsx("p",{className:"kpi-value text-gray-800",children:C.total}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exam scheduled"})]}),l.jsxs("div",{className:"kpi-card bg-blue-50 border-l-4 border-blue-500 animate-fadeIn",style:{animationDelay:"50ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Upcoming"}),l.jsx("p",{className:"kpi-value text-blue-800",children:C.upcoming}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exams scheduled"})]}),l.jsxs("div",{className:"kpi-card bg-green-50 border-l-4 border-green-500 animate-fadeIn",style:{animationDelay:"100ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pass Rate"}),l.jsxs("p",{className:"kpi-value text-green-800",children:[C.passRate,"%"]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[C.passed," passed / ",C.passed+C.failed," taken"]})]}),l.jsxs("div",{className:"kpi-card bg-red-50 border-l-4 border-red-500 animate-fadeIn",style:{animationDelay:"150ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed"}),l.jsx("p",{className:"kpi-value text-red-800",children:C.failed}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exam result"})]}),l.jsxs("div",{className:"kpi-card bg-amber-50 border-l-4 border-amber-500 animate-fadeIn",style:{animationDelay:"200ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"At Risk"}),l.jsx("p",{className:"kpi-value text-amber-800",children:C.atRisk}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upcoming + <80% progress"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[l.jsxs("div",{className:"kpi-card bg-purple-50 border-l-4 border-purple-500 animate-fadeIn",style:{animationDelay:"250ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Study Time"}),l.jsx("p",{className:"kpi-value text-purple-800",children:C.avgStudyTimeFormatted}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All tracked students"})]}),l.jsxs("div",{className:"kpi-card bg-green-50 border-l-4 border-green-400 animate-fadeIn",style:{animationDelay:"300ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Time (Passed)"}),l.jsx("p",{className:"kpi-value text-green-700",children:C.avgStudyPassedFormatted}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students who passed"})]}),l.jsxs("div",{className:"kpi-card bg-red-50 border-l-4 border-red-400 animate-fadeIn",style:{animationDelay:"350ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Time (Failed)"}),l.jsx("p",{className:"kpi-value text-red-700",children:C.avgStudyFailedFormatted}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students who failed"})]}),l.jsxs("div",{className:"kpi-card bg-indigo-50 border-l-4 border-indigo-500 animate-fadeIn",style:{animationDelay:"400ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Progress"}),l.jsxs("p",{className:"kpi-value text-indigo-800",children:[C.averageProgress,"%"]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Course completion"})]})]}),C.courseTypes&&Object.keys(C.courseTypes).length>0&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Pass Rate by Course Type"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:Object.entries(C.courseTypes).map(([b,E])=>{const P=E.passed||0,I=E.failed||0,U=P+I,G=U>0?Math.round(P/U*100):null;return l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900 text-sm",children:b}),l.jsxs("p",{className:"text-xs text-gray-500",children:[E.total," students"]})]}),l.jsx("div",{className:"text-right",children:G!==null?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:`text-lg font-bold ${G>=70?"text-green-600":G>=50?"text-amber-600":"text-red-600"}`,children:[G,"%"]}),l.jsxs("p",{className:"text-xs text-gray-500",children:[P,"P / ",I,"F"]})]}):l.jsx("p",{className:"text-sm text-gray-400",children:"No results"})})]},b)})})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),l.jsx("input",{type:"text",placeholder:"Search by name or email...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:zn,onChange:b=>La(b.target.value)})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:bi,onChange:b=>td(b.target.value),children:[l.jsx("option",{value:"no-result",children:"No Result"}),l.jsx("option",{value:"all",children:"All Results"}),l.jsx("option",{value:"upcoming",children:"Upcoming"}),l.jsx("option",{value:"passed",children:"Passed"}),l.jsx("option",{value:"failed",children:"Failed"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"at-risk",children:"At Risk"})]})]}),l.jsxs("div",{className:"flex items-center gap-3 flex-wrap mt-3",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>sd(!Da),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright bg-white flex items-center gap-2 text-sm",children:[l.jsx("span",{children:ln.length===0?"All Departments":`${ln.length} dept${ln.length>1?"s":""}`}),l.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:Da?"M5 15l7-7 7 7":"M19 9l-7 7-7-7"})})]}),Da&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>sd(!1)}),l.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-20 min-w-[200px] py-1",children:[l.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-50 cursor-pointer text-sm border-b border-gray-100",children:[l.jsx("input",{type:"checkbox",checked:ln.length===0,onChange:()=>Pa([]),className:"rounded text-ji-blue-bright"}),l.jsx("span",{className:"font-medium",children:"All Departments"})]}),d0.map(b=>l.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-50 cursor-pointer text-sm",children:[l.jsx("input",{type:"checkbox",checked:ln.includes(b),onChange:()=>{Pa(E=>E.includes(b)?E.filter(P=>P!==b):[...E,b])},className:"rounded text-ji-blue-bright"}),l.jsx("span",{className:"truncate",children:b})]},b))]})]})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:ji,onChange:b=>id(b.target.value),children:[l.jsx("option",{value:"all",children:"All Readiness"}),l.jsx("option",{value:"GREEN",children:"Green - On Track"}),l.jsx("option",{value:"YELLOW",children:"Yellow - Needs Attention"}),l.jsx("option",{value:"RED",children:"Red - At Risk"})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:Ta,onChange:b=>od(b.target.value),children:[l.jsx("option",{value:"all",children:"All Dates"}),l.jsx("option",{value:"overdue",children:"Overdue"}),l.jsx("option",{value:"today",children:"Today"}),l.jsx("option",{value:"tomorrow",children:"Tomorrow"}),l.jsx("option",{value:"2-days",children:"Within 2 Days"}),l.jsx("option",{value:"3-days",children:"Within 3 Days"}),l.jsx("option",{value:"this-week",children:"This Week"}),l.jsx("option",{value:"next-week",children:"Next 2 Weeks"}),l.jsx("option",{value:"this-month",children:"This Month"})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:ki,onChange:b=>rd(b.target.value),children:[l.jsx("option",{value:"all",children:"All States"}),h0.map(b=>l.jsx("option",{value:b,children:b},b))]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:wi,onChange:b=>nd(b.target.value),children:[l.jsx("option",{value:"all",children:"All Courses"}),u0.map(b=>l.jsx("option",{value:b,children:b},b))]}),(ln.length>0||ji!=="all"||Ta!=="all"||ki!=="all"||wi!=="all"||bi!=="all"||zn)&&l.jsx("button",{onClick:()=>{Pa([]),id("all"),od("all"),rd("all"),nd("all"),td("all"),La("")},className:"px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors border border-red-200",children:"Clear All"}),ft.length>0&&l.jsxs("button",{onClick:()=>Xu(!Je),className:`flex items-center space-x-1 px-3 py-2 rounded-lg text-sm border transition-colors ${Je?"bg-amber-50 border-amber-300 text-amber-700":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}),l.jsxs("span",{children:["Hidden (",ft.length,")"]})]})]}),l.jsxs("div",{className:"mt-3 flex items-center gap-3 text-sm text-gray-500",children:[l.jsxs("span",{children:[Je?`Showing ${rr.length} hidden exam students`:`Showing ${rr.length} of ${Ni.length} exam students`,!Je&&ft.length>0&&` (${ft.length} hidden)`]}),rr.length!==A.length&&!Le&&l.jsx("button",{onClick:()=>{z(_i(rr)),we(!0)},className:"px-3 py-1 bg-ji-blue-bright text-white rounded-lg text-xs font-medium hover:bg-ji-blue-medium transition-colors",children:"Calculate KPIs by Filter"}),Le&&l.jsx("button",{onClick:()=>{z(_i(A)),we(!1)},className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-300 transition-colors",children:"Reset KPIs to All"})]})]}),$&&!Y?l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[l.jsx("div",{className:"spinner mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Loading exam schedule..."})]}):l.jsx(Xy,{students:rr,onViewStudent:v,adminMode:D,onHideStudent:Je?ud:cd,showHidden:Je})]})]}),m&&m.id&&l.jsx(qy,{studentId:m.id,examInfo:m.examDate?{examDate:m.examDate,examDateRaw:m.examDateRaw,examTime:m.examTime,examState:m.examState,examCourse:m.examCourse,agencyOwner:m.agencyOwner,passFail:m.passFail,finalOutcome:m.finalOutcome,departmentName:m.departmentName,sheetTracking:m.sheetTracking,email:m.email}:null,onClose:()=>v(null),onSessionExpired:n,onUpdateResult:_==="exam"?pd:null,onUpdateExamDate:_==="exam"?md:null,onUpdateStudentContact:a0}),m&&!m.id&&l.jsx(ev,{student:m,adminMode:D,onClose:()=>v(null),onUpdateResult:pd,onUpdateExamDate:md,onUpdateContact:l0})]})}const _l="/api";function Yb(){const[t,e]=M.useState(!1),[n,s]=M.useState(null),[r,i]=M.useState(null),[o,a]=M.useState(!0),[c,u]=M.useState(null),[d,h]=M.useState(!1),[f,g]=M.useState(null);M.useEffect(()=>{y()},[]);const y=async()=>{try{const p=await fetch(`${_l}/auth/session`,{credentials:"include"});if(p.ok){const m=await p.json();m.success&&(s(m.user),i(m.department),e(!0))}}catch{console.log("No existing session")}finally{a(!1)}},x=async p=>{u(null);try{const m=await fetch(`${_l}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(p)}),v=await m.json();if(m.ok&&v.success)return console.log("[APP] Login successful, pre-fetching dashboard data..."),s(v.user),i(v.department),h(!0),console.log("[APP] Skipping pre-fetch, Dashboard will load data"),h(!1),e(!0),{success:!0};{const k=v.error||"Login failed";return u(k),{success:!1,error:k}}}catch{const v="Unable to connect to server. Please try again.";return u(v),{success:!1,error:v}}},w=async()=>{try{await fetch(`${_l}/auth/logout`,{method:"POST",credentials:"include"})}catch(p){console.error("Logout error:",p)}finally{s(null),i(null),e(!1)}};return o?l.jsx("div",{className:"min-h-screen flex items-center justify-center login-bg",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"spinner mx-auto mb-4",style:{borderTopColor:"#63b3ed"}}),l.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):d?l.jsx("div",{className:"min-h-screen flex items-center justify-center login-bg",children:l.jsxs("div",{className:"text-center max-w-md px-6",children:[l.jsx("div",{className:"spinner mx-auto mb-4",style:{borderTopColor:"#63b3ed"}}),l.jsxs("p",{className:"text-white text-xl font-semibold mb-2",children:["Welcome, ",n==null?void 0:n.name,"!"]}),l.jsx("p",{className:"text-ji-blue-light",children:"Loading your dashboard..."}),l.jsx("p",{className:"text-ji-blue-light text-sm mt-2 opacity-75",children:"Fetching student data from Absorb LMS"})]})}):t?l.jsx(Ub,{user:n,department:r,onLogout:w,initialData:f}):l.jsx(Vy,{onLogin:x,error:c})}Nl.createRoot(document.getElementById("root")).render(l.jsx(Jf.StrictMode,{children:l.jsx(Yb,{})}));
//# sourceMappingURL=index-uWSdPhAB.js.map
