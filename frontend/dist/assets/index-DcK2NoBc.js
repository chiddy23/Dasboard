var Qg=Object.defineProperty;var Gg=(t,e,n)=>e in t?Qg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var K=(t,e,n)=>Gg(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Zg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cf={exports:{}},Qo={},Mf={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sr=Symbol.for("react.element"),Jg=Symbol.for("react.portal"),qg=Symbol.for("react.fragment"),e0=Symbol.for("react.strict_mode"),t0=Symbol.for("react.profiler"),n0=Symbol.for("react.provider"),s0=Symbol.for("react.context"),i0=Symbol.for("react.forward_ref"),r0=Symbol.for("react.suspense"),o0=Symbol.for("react.memo"),a0=Symbol.for("react.lazy"),id=Symbol.iterator;function l0(t){return t===null||typeof t!="object"?null:(t=id&&t[id]||t["@@iterator"],typeof t=="function"?t:null)}var Lf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ef=Object.assign,Pf={};function Us(t,e,n){this.props=t,this.context=e,this.refs=Pf,this.updater=n||Lf}Us.prototype.isReactComponent={};Us.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Us.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Df(){}Df.prototype=Us.prototype;function yc(t,e,n){this.props=t,this.context=e,this.refs=Pf,this.updater=n||Lf}var vc=yc.prototype=new Df;vc.constructor=yc;Ef(vc,Us.prototype);vc.isPureReactComponent=!0;var rd=Array.isArray,Tf=Object.prototype.hasOwnProperty,bc={current:null},Af={key:!0,ref:!0,__self:!0,__source:!0};function Of(t,e,n){var s,i={},r=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)Tf.call(e,s)&&!Af.hasOwnProperty(s)&&(i[s]=e[s]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return{$$typeof:sr,type:t,key:r,ref:o,props:i,_owner:bc.current}}function c0(t,e){return{$$typeof:sr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wc(t){return typeof t=="object"&&t!==null&&t.$$typeof===sr}function u0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var od=/\/+/g;function Pa(t,e){return typeof t=="object"&&t!==null&&t.key!=null?u0(""+t.key):e.toString(36)}function Gr(t,e,n,s,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sr:case Jg:o=!0}}if(o)return o=t,i=i(o),t=s===""?"."+Pa(o,0):s,rd(i)?(n="",t!=null&&(n=t.replace(od,"$&/")+"/"),Gr(i,e,n,"",function(u){return u})):i!=null&&(wc(i)&&(i=c0(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(od,"$&/")+"/")+t)),e.push(i)),1;if(o=0,s=s===""?".":s+":",rd(t))for(var a=0;a<t.length;a++){r=t[a];var c=s+Pa(r,a);o+=Gr(r,e,n,c,i)}else if(c=l0(t),typeof c=="function")for(t=c.call(t),a=0;!(r=t.next()).done;)r=r.value,c=s+Pa(r,a++),o+=Gr(r,e,n,c,i);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function br(t,e,n){if(t==null)return t;var s=[],i=0;return Gr(t,s,"","",function(r){return e.call(n,r,i++)}),s}function d0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qe={current:null},Zr={transition:null},h0={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:Zr,ReactCurrentOwner:bc};function Rf(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:br,forEach:function(t,e,n){br(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return br(t,function(){e++}),e},toArray:function(t){return br(t,function(e){return e})||[]},only:function(t){if(!wc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=Us;G.Fragment=qg;G.Profiler=t0;G.PureComponent=yc;G.StrictMode=e0;G.Suspense=r0;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h0;G.act=Rf;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Ef({},t.props),i=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=bc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Tf.call(e,c)&&!Af.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:sr,type:t.type,key:i,ref:r,props:s,_owner:o}};G.createContext=function(t){return t={$$typeof:s0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:n0,_context:t},t.Consumer=t};G.createElement=Of;G.createFactory=function(t){var e=Of.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:i0,render:t}};G.isValidElement=wc;G.lazy=function(t){return{$$typeof:a0,_payload:{_status:-1,_result:t},_init:d0}};G.memo=function(t,e){return{$$typeof:o0,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=Zr.transition;Zr.transition={};try{t()}finally{Zr.transition=e}};G.unstable_act=Rf;G.useCallback=function(t,e){return Qe.current.useCallback(t,e)};G.useContext=function(t){return Qe.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return Qe.current.useDeferredValue(t)};G.useEffect=function(t,e){return Qe.current.useEffect(t,e)};G.useId=function(){return Qe.current.useId()};G.useImperativeHandle=function(t,e,n){return Qe.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return Qe.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return Qe.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return Qe.current.useMemo(t,e)};G.useReducer=function(t,e,n){return Qe.current.useReducer(t,e,n)};G.useRef=function(t){return Qe.current.useRef(t)};G.useState=function(t){return Qe.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return Qe.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return Qe.current.useTransition()};G.version="18.3.1";Mf.exports=G;var L=Mf.exports;const Ff=Zg(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0=L,p0=Symbol.for("react.element"),m0=Symbol.for("react.fragment"),g0=Object.prototype.hasOwnProperty,x0=f0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y0={key:!0,ref:!0,__self:!0,__source:!0};function zf(t,e,n){var s,i={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)g0.call(e,s)&&!y0.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:p0,type:t,key:r,ref:o,props:i,_owner:x0.current}}Qo.Fragment=m0;Qo.jsx=zf;Qo.jsxs=zf;Cf.exports=Qo;var l=Cf.exports,yl={},If={exports:{}},ut={},Bf={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,R){var W=D.length;D.push(R);e:for(;0<W;){var Z=W-1>>>1,J=D[Z];if(0<i(J,R))D[Z]=R,D[W]=J,W=Z;else break e}}function n(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var R=D[0],W=D.pop();if(W!==R){D[0]=W;e:for(var Z=0,J=D.length,ve=J>>>1;Z<ve;){var be=2*(Z+1)-1,O=D[be],V=be+1,se=D[V];if(0>i(O,W))V<J&&0>i(se,O)?(D[Z]=se,D[V]=W,Z=V):(D[Z]=O,D[be]=W,Z=be);else if(V<J&&0>i(se,W))D[Z]=se,D[V]=W,Z=V;else break e}}return R}function i(D,R){var W=D.sortIndex-R.sortIndex;return W!==0?W:D.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,f=3,g=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var R=n(u);R!==null;){if(R.callback===null)s(u);else if(R.startTime<=D)s(u),R.sortIndex=R.expirationTime,e(c,R);else break;R=n(u)}}function k(D){if(x=!1,v(D),!y)if(n(c)!==null)y=!0,Y(j);else{var R=n(u);R!==null&&X(k,R.startTime-D)}}function j(D,R){y=!1,x&&(x=!1,p(_),_=-1),g=!0;var W=f;try{for(v(R),h=n(c);h!==null&&(!(h.expirationTime>R)||D&&!S());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var J=Z(h.expirationTime<=R);R=t.unstable_now(),typeof J=="function"?h.callback=J:h===n(c)&&s(c),v(R)}else s(c);h=n(c)}if(h!==null)var ve=!0;else{var be=n(u);be!==null&&X(k,be.startTime-R),ve=!1}return ve}finally{h=null,f=W,g=!1}}var N=!1,M=null,_=-1,F=5,A=-1;function S(){return!(t.unstable_now()-A<F)}function C(){if(M!==null){var D=t.unstable_now();A=D;var R=!0;try{R=M(!0,D)}finally{R?z():(N=!1,M=null)}}else N=!1}var z;if(typeof m=="function")z=function(){m(C)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,$=H.port2;H.port1.onmessage=C,z=function(){$.postMessage(null)}}else z=function(){w(C,0)};function Y(D){M=D,N||(N=!0,z())}function X(D,R){_=w(function(){D(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,Y(j))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var W=f;f=R;try{return D()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,R){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=f;f=D;try{return R()}finally{f=W}},t.unstable_scheduleCallback=function(D,R,W){var Z=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Z+W:Z):W=Z,D){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=W+J,D={id:d++,callback:R,priorityLevel:D,startTime:W,expirationTime:J,sortIndex:-1},W>Z?(D.sortIndex=W,e(u,D),n(c)===null&&D===n(u)&&(x?(p(_),_=-1):x=!0,X(k,W-Z))):(D.sortIndex=J,e(c,D),y||g||(y=!0,Y(j))),D},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(D){var R=f;return function(){var W=f;f=R;try{return D.apply(this,arguments)}finally{f=W}}}})(Wf);Bf.exports=Wf;var v0=Bf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0=L,ct=v0;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $f=new Set,Oi={};function os(t,e){Fs(t,e),Fs(t+"Capture",e)}function Fs(t,e){for(Oi[t]=e,t=0;t<e.length;t++)$f.add(e[t])}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vl=Object.prototype.hasOwnProperty,w0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ad={},ld={};function k0(t){return vl.call(ld,t)?!0:vl.call(ad,t)?!1:w0.test(t)?ld[t]=!0:(ad[t]=!0,!1)}function j0(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _0(t,e,n,s){if(e===null||typeof e>"u"||j0(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ge(t,e,n,s,i,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ie[t]=new Ge(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ie[e]=new Ge(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ie[t]=new Ge(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ie[t]=new Ge(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ie[t]=new Ge(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ie[t]=new Ge(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ie[t]=new Ge(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ie[t]=new Ge(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ie[t]=new Ge(t,5,!1,t.toLowerCase(),null,!1,!1)});var kc=/[\-:]([a-z])/g;function jc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kc,jc);Ie[e]=new Ge(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kc,jc);Ie[e]=new Ge(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kc,jc);Ie[e]=new Ge(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ie[t]=new Ge(t,1,!1,t.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ie[t]=new Ge(t,1,!1,t.toLowerCase(),null,!0,!0)});function _c(t,e,n,s){var i=Ie.hasOwnProperty(e)?Ie[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_0(e,n,i,s)&&(n=null),s||i===null?k0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,s=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var sn=b0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wr=Symbol.for("react.element"),ms=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),Sc=Symbol.for("react.strict_mode"),bl=Symbol.for("react.profiler"),Hf=Symbol.for("react.provider"),Vf=Symbol.for("react.context"),Nc=Symbol.for("react.forward_ref"),wl=Symbol.for("react.suspense"),kl=Symbol.for("react.suspense_list"),Cc=Symbol.for("react.memo"),un=Symbol.for("react.lazy"),Uf=Symbol.for("react.offscreen"),cd=Symbol.iterator;function ti(t){return t===null||typeof t!="object"?null:(t=cd&&t[cd]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,Da;function pi(t){if(Da===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Da=e&&e[1]||""}return`
`+Da+t}var Ta=!1;function Aa(t,e){if(!t||Ta)return"";Ta=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),r=s.stack.split(`
`),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==r[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Ta=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pi(t):""}function S0(t){switch(t.tag){case 5:return pi(t.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 2:case 15:return t=Aa(t.type,!1),t;case 11:return t=Aa(t.type.render,!1),t;case 1:return t=Aa(t.type,!0),t;default:return""}}function jl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gs:return"Fragment";case ms:return"Portal";case bl:return"Profiler";case Sc:return"StrictMode";case wl:return"Suspense";case kl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vf:return(t.displayName||"Context")+".Consumer";case Hf:return(t._context.displayName||"Context")+".Provider";case Nc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cc:return e=t.displayName||null,e!==null?e:jl(t.type)||"Memo";case un:e=t._payload,t=t._init;try{return jl(t(e))}catch{}}return null}function N0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jl(e);case 8:return e===Sc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ln(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function C0(t){var e=Yf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kr(t){t._valueTracker||(t._valueTracker=C0(t))}function Xf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=Yf(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function fo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _l(t,e){var n=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ud(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Ln(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Kf(t,e){e=e.checked,e!=null&&_c(t,"checked",e,!1)}function Sl(t,e){Kf(t,e);var n=Ln(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nl(t,e.type,Ln(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nl(t,e,n){(e!=="number"||fo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mi=Array.isArray;function Ms(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Ln(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(mi(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ln(n)}}function Qf(t,e){var n=Ln(e.value),s=Ln(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function fd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Gf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ml(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Gf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jr,Zf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jr=jr||document.createElement("div"),jr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ri(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M0=["Webkit","ms","Moz","O"];Object.keys(ki).forEach(function(t){M0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ki[e]=ki[t]})});function Jf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ki.hasOwnProperty(t)&&ki[t]?(""+e).trim():e+"px"}function qf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=Jf(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}var L0=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ll(t,e){if(e){if(L0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function El(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pl=null;function Mc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dl=null,Ls=null,Es=null;function pd(t){if(t=or(t)){if(typeof Dl!="function")throw Error(T(280));var e=t.stateNode;e&&(e=ea(e),Dl(t.stateNode,t.type,e))}}function ep(t){Ls?Es?Es.push(t):Es=[t]:Ls=t}function tp(){if(Ls){var t=Ls,e=Es;if(Es=Ls=null,pd(t),e)for(t=0;t<e.length;t++)pd(e[t])}}function np(t,e){return t(e)}function sp(){}var Oa=!1;function ip(t,e,n){if(Oa)return t(e,n);Oa=!0;try{return np(t,e,n)}finally{Oa=!1,(Ls!==null||Es!==null)&&(sp(),tp())}}function Fi(t,e){var n=t.stateNode;if(n===null)return null;var s=ea(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var Tl=!1;if(Jt)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){Tl=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{Tl=!1}function E0(t,e,n,s,i,r,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ji=!1,po=null,mo=!1,Al=null,P0={onError:function(t){ji=!0,po=t}};function D0(t,e,n,s,i,r,o,a,c){ji=!1,po=null,E0.apply(P0,arguments)}function T0(t,e,n,s,i,r,o,a,c){if(D0.apply(this,arguments),ji){if(ji){var u=po;ji=!1,po=null}else throw Error(T(198));mo||(mo=!0,Al=u)}}function as(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function rp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function md(t){if(as(t)!==t)throw Error(T(188))}function A0(t){var e=t.alternate;if(!e){if(e=as(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return md(i),t;if(r===s)return md(i),e;r=r.sibling}throw Error(T(188))}if(n.return!==s.return)n=i,s=r;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==s)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function op(t){return t=A0(t),t!==null?ap(t):null}function ap(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ap(t);if(e!==null)return e;t=t.sibling}return null}var lp=ct.unstable_scheduleCallback,gd=ct.unstable_cancelCallback,O0=ct.unstable_shouldYield,R0=ct.unstable_requestPaint,je=ct.unstable_now,F0=ct.unstable_getCurrentPriorityLevel,Lc=ct.unstable_ImmediatePriority,cp=ct.unstable_UserBlockingPriority,go=ct.unstable_NormalPriority,z0=ct.unstable_LowPriority,up=ct.unstable_IdlePriority,Go=null,Bt=null;function I0(t){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Go,t,void 0,(t.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:$0,B0=Math.log,W0=Math.LN2;function $0(t){return t>>>=0,t===0?32:31-(B0(t)/W0|0)|0}var _r=64,Sr=4194304;function gi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xo(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,i=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?s=gi(a):(r&=o,r!==0&&(s=gi(r)))}else o=n&~i,o!==0?s=gi(o):r!==0&&(s=gi(r));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Mt(e),i=1<<n,s|=t[n],e&=~i;return s}function H0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V0(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-Mt(r),a=1<<o,c=i[o];c===-1?(!(a&n)||a&s)&&(i[o]=H0(a,e)):c<=e&&(t.expiredLanes|=a),r&=~a}}function Ol(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dp(){var t=_r;return _r<<=1,!(_r&4194240)&&(_r=64),t}function Ra(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ir(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mt(e),t[e]=n}function U0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Mt(n),r=1<<i;e[i]=0,s[i]=-1,t[i]=-1,n&=~r}}function Ec(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Mt(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}var re=0;function hp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fp,Pc,pp,mp,gp,Rl=!1,Nr=[],vn=null,bn=null,wn=null,zi=new Map,Ii=new Map,hn=[],Y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xd(t,e){switch(t){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":zi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ii.delete(e.pointerId)}}function si(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=or(e),e!==null&&Pc(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function X0(t,e,n,s,i){switch(e){case"focusin":return vn=si(vn,t,e,n,s,i),!0;case"dragenter":return bn=si(bn,t,e,n,s,i),!0;case"mouseover":return wn=si(wn,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return zi.set(r,si(zi.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Ii.set(r,si(Ii.get(r)||null,t,e,n,s,i)),!0}return!1}function xp(t){var e=Yn(t.target);if(e!==null){var n=as(e);if(n!==null){if(e=n.tag,e===13){if(e=rp(n),e!==null){t.blockedOn=e,gp(t.priority,function(){pp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Pl=s,n.target.dispatchEvent(s),Pl=null}else return e=or(n),e!==null&&Pc(e),t.blockedOn=n,!1;e.shift()}return!0}function yd(t,e,n){Jr(t)&&n.delete(e)}function K0(){Rl=!1,vn!==null&&Jr(vn)&&(vn=null),bn!==null&&Jr(bn)&&(bn=null),wn!==null&&Jr(wn)&&(wn=null),zi.forEach(yd),Ii.forEach(yd)}function ii(t,e){t.blockedOn===e&&(t.blockedOn=null,Rl||(Rl=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,K0)))}function Bi(t){function e(i){return ii(i,t)}if(0<Nr.length){ii(Nr[0],t);for(var n=1;n<Nr.length;n++){var s=Nr[n];s.blockedOn===t&&(s.blockedOn=null)}}for(vn!==null&&ii(vn,t),bn!==null&&ii(bn,t),wn!==null&&ii(wn,t),zi.forEach(e),Ii.forEach(e),n=0;n<hn.length;n++)s=hn[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<hn.length&&(n=hn[0],n.blockedOn===null);)xp(n),n.blockedOn===null&&hn.shift()}var Ps=sn.ReactCurrentBatchConfig,yo=!0;function Q0(t,e,n,s){var i=re,r=Ps.transition;Ps.transition=null;try{re=1,Dc(t,e,n,s)}finally{re=i,Ps.transition=r}}function G0(t,e,n,s){var i=re,r=Ps.transition;Ps.transition=null;try{re=4,Dc(t,e,n,s)}finally{re=i,Ps.transition=r}}function Dc(t,e,n,s){if(yo){var i=Fl(t,e,n,s);if(i===null)Ya(t,e,s,vo,n),xd(t,s);else if(X0(i,t,e,n,s))s.stopPropagation();else if(xd(t,s),e&4&&-1<Y0.indexOf(t)){for(;i!==null;){var r=or(i);if(r!==null&&fp(r),r=Fl(t,e,n,s),r===null&&Ya(t,e,s,vo,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else Ya(t,e,s,null,n)}}var vo=null;function Fl(t,e,n,s){if(vo=null,t=Mc(s),t=Yn(t),t!==null)if(e=as(t),e===null)t=null;else if(n=e.tag,n===13){if(t=rp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vo=t,null}function yp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F0()){case Lc:return 1;case cp:return 4;case go:case z0:return 16;case up:return 536870912;default:return 16}default:return 16}}var pn=null,Tc=null,qr=null;function vp(){if(qr)return qr;var t,e=Tc,n=e.length,s,i="value"in pn?pn.value:pn.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===i[r-s];s++);return qr=i.slice(t,1<s?1-s:void 0)}function eo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cr(){return!0}function vd(){return!1}function dt(t){function e(n,s,i,r,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Cr:vd,this.isPropagationStopped=vd,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),e}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ac=dt(Ys),rr=xe({},Ys,{view:0,detail:0}),Z0=dt(rr),Fa,za,ri,Zo=xe({},rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&t.type==="mousemove"?(Fa=t.screenX-ri.screenX,za=t.screenY-ri.screenY):za=Fa=0,ri=t),Fa)},movementY:function(t){return"movementY"in t?t.movementY:za}}),bd=dt(Zo),J0=xe({},Zo,{dataTransfer:0}),q0=dt(J0),ex=xe({},rr,{relatedTarget:0}),Ia=dt(ex),tx=xe({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),nx=dt(tx),sx=xe({},Ys,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ix=dt(sx),rx=xe({},Ys,{data:0}),wd=dt(rx),ox={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ax={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lx[t])?!!e[t]:!1}function Oc(){return cx}var ux=xe({},rr,{key:function(t){if(t.key){var e=ox[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=eo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ax[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oc,charCode:function(t){return t.type==="keypress"?eo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?eo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dx=dt(ux),hx=xe({},Zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kd=dt(hx),fx=xe({},rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oc}),px=dt(fx),mx=xe({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),gx=dt(mx),xx=xe({},Zo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yx=dt(xx),vx=[9,13,27,32],Rc=Jt&&"CompositionEvent"in window,_i=null;Jt&&"documentMode"in document&&(_i=document.documentMode);var bx=Jt&&"TextEvent"in window&&!_i,bp=Jt&&(!Rc||_i&&8<_i&&11>=_i),jd=" ",_d=!1;function wp(t,e){switch(t){case"keyup":return vx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xs=!1;function wx(t,e){switch(t){case"compositionend":return kp(e);case"keypress":return e.which!==32?null:(_d=!0,jd);case"textInput":return t=e.data,t===jd&&_d?null:t;default:return null}}function kx(t,e){if(xs)return t==="compositionend"||!Rc&&wp(t,e)?(t=vp(),qr=Tc=pn=null,xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bp&&e.locale!=="ko"?null:e.data;default:return null}}var jx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jx[t.type]:e==="textarea"}function jp(t,e,n,s){ep(s),e=bo(e,"onChange"),0<e.length&&(n=new Ac("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Si=null,Wi=null;function _x(t){Ap(t,0)}function Jo(t){var e=bs(t);if(Xf(e))return t}function Sx(t,e){if(t==="change")return e}var _p=!1;if(Jt){var Ba;if(Jt){var Wa="oninput"in document;if(!Wa){var Nd=document.createElement("div");Nd.setAttribute("oninput","return;"),Wa=typeof Nd.oninput=="function"}Ba=Wa}else Ba=!1;_p=Ba&&(!document.documentMode||9<document.documentMode)}function Cd(){Si&&(Si.detachEvent("onpropertychange",Sp),Wi=Si=null)}function Sp(t){if(t.propertyName==="value"&&Jo(Wi)){var e=[];jp(e,Wi,t,Mc(t)),ip(_x,e)}}function Nx(t,e,n){t==="focusin"?(Cd(),Si=e,Wi=n,Si.attachEvent("onpropertychange",Sp)):t==="focusout"&&Cd()}function Cx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jo(Wi)}function Mx(t,e){if(t==="click")return Jo(e)}function Lx(t,e){if(t==="input"||t==="change")return Jo(e)}function Ex(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Et=typeof Object.is=="function"?Object.is:Ex;function $i(t,e){if(Et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!vl.call(e,i)||!Et(t[i],e[i]))return!1}return!0}function Md(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ld(t,e){var n=Md(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Md(n)}}function Np(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Np(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Cp(){for(var t=window,e=fo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fo(t.document)}return e}function Fc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Px(t){var e=Cp(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Np(n.ownerDocument.documentElement,n)){if(s!==null&&Fc(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!t.extend&&r>s&&(i=s,s=r,r=i),i=Ld(n,r);var o=Ld(n,s);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),r>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Dx=Jt&&"documentMode"in document&&11>=document.documentMode,ys=null,zl=null,Ni=null,Il=!1;function Ed(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Il||ys==null||ys!==fo(s)||(s=ys,"selectionStart"in s&&Fc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ni&&$i(Ni,s)||(Ni=s,s=bo(zl,"onSelect"),0<s.length&&(e=new Ac("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ys)))}function Mr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vs={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionend:Mr("Transition","TransitionEnd")},$a={},Mp={};Jt&&(Mp=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function qo(t){if($a[t])return $a[t];if(!vs[t])return t;var e=vs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Mp)return $a[t]=e[n];return t}var Lp=qo("animationend"),Ep=qo("animationiteration"),Pp=qo("animationstart"),Dp=qo("transitionend"),Tp=new Map,Pd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dn(t,e){Tp.set(t,e),os(e,[t])}for(var Ha=0;Ha<Pd.length;Ha++){var Va=Pd[Ha],Tx=Va.toLowerCase(),Ax=Va[0].toUpperCase()+Va.slice(1);Dn(Tx,"on"+Ax)}Dn(Lp,"onAnimationEnd");Dn(Ep,"onAnimationIteration");Dn(Pp,"onAnimationStart");Dn("dblclick","onDoubleClick");Dn("focusin","onFocus");Dn("focusout","onBlur");Dn(Dp,"onTransitionEnd");Fs("onMouseEnter",["mouseout","mouseover"]);Fs("onMouseLeave",["mouseout","mouseover"]);Fs("onPointerEnter",["pointerout","pointerover"]);Fs("onPointerLeave",["pointerout","pointerover"]);os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));os("onBeforeInput",["compositionend","keypress","textInput","paste"]);os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ox=new Set("cancel close invalid load scroll toggle".split(" ").concat(xi));function Dd(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,T0(s,e,void 0,t),t.currentTarget=null}function Ap(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==r&&i.isPropagationStopped())break e;Dd(i,a,u),r=c}else for(o=0;o<s.length;o++){if(a=s[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==r&&i.isPropagationStopped())break e;Dd(i,a,u),r=c}}}if(mo)throw t=Al,mo=!1,Al=null,t}function ue(t,e){var n=e[Vl];n===void 0&&(n=e[Vl]=new Set);var s=t+"__bubble";n.has(s)||(Op(e,t,2,!1),n.add(s))}function Ua(t,e,n){var s=0;e&&(s|=4),Op(n,t,s,e)}var Lr="_reactListening"+Math.random().toString(36).slice(2);function Hi(t){if(!t[Lr]){t[Lr]=!0,$f.forEach(function(n){n!=="selectionchange"&&(Ox.has(n)||Ua(n,!1,t),Ua(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lr]||(e[Lr]=!0,Ua("selectionchange",!1,e))}}function Op(t,e,n,s){switch(yp(e)){case 1:var i=Q0;break;case 4:i=G0;break;default:i=Dc}n=i.bind(null,e,n,t),i=void 0,!Tl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ya(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Yn(a),o===null)return;if(c=o.tag,c===5||c===6){s=r=o;continue e}a=a.parentNode}}s=s.return}ip(function(){var u=r,d=Mc(n),h=[];e:{var f=Tp.get(t);if(f!==void 0){var g=Ac,y=t;switch(t){case"keypress":if(eo(n)===0)break e;case"keydown":case"keyup":g=dx;break;case"focusin":y="focus",g=Ia;break;case"focusout":y="blur",g=Ia;break;case"beforeblur":case"afterblur":g=Ia;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=px;break;case Lp:case Ep:case Pp:g=nx;break;case Dp:g=gx;break;case"scroll":g=Z0;break;case"wheel":g=yx;break;case"copy":case"cut":case"paste":g=ix;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=kd}var x=(e&4)!==0,w=!x&&t==="scroll",p=x?f!==null?f+"Capture":null:f;x=[];for(var m=u,v;m!==null;){v=m;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,p!==null&&(k=Fi(m,p),k!=null&&x.push(Vi(m,k,v)))),w)break;m=m.return}0<x.length&&(f=new g(f,y,null,n,d),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Pl&&(y=n.relatedTarget||n.fromElement)&&(Yn(y)||y[qt]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?Yn(y):null,y!==null&&(w=as(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(x=bd,k="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(x=kd,k="onPointerLeave",p="onPointerEnter",m="pointer"),w=g==null?f:bs(g),v=y==null?f:bs(y),f=new x(k,m+"leave",g,n,d),f.target=w,f.relatedTarget=v,k=null,Yn(d)===u&&(x=new x(p,m+"enter",y,n,d),x.target=v,x.relatedTarget=w,k=x),w=k,g&&y)t:{for(x=g,p=y,m=0,v=x;v;v=hs(v))m++;for(v=0,k=p;k;k=hs(k))v++;for(;0<m-v;)x=hs(x),m--;for(;0<v-m;)p=hs(p),v--;for(;m--;){if(x===p||p!==null&&x===p.alternate)break t;x=hs(x),p=hs(p)}x=null}else x=null;g!==null&&Td(h,f,g,x,!1),y!==null&&w!==null&&Td(h,w,y,x,!0)}}e:{if(f=u?bs(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var j=Sx;else if(Sd(f))if(_p)j=Lx;else{j=Cx;var N=Nx}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=Mx);if(j&&(j=j(t,u))){jp(h,j,n,d);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Nl(f,"number",f.value)}switch(N=u?bs(u):window,t){case"focusin":(Sd(N)||N.contentEditable==="true")&&(ys=N,zl=u,Ni=null);break;case"focusout":Ni=zl=ys=null;break;case"mousedown":Il=!0;break;case"contextmenu":case"mouseup":case"dragend":Il=!1,Ed(h,n,d);break;case"selectionchange":if(Dx)break;case"keydown":case"keyup":Ed(h,n,d)}var M;if(Rc)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else xs?wp(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(bp&&n.locale!=="ko"&&(xs||_!=="onCompositionStart"?_==="onCompositionEnd"&&xs&&(M=vp()):(pn=d,Tc="value"in pn?pn.value:pn.textContent,xs=!0)),N=bo(u,_),0<N.length&&(_=new wd(_,t,null,n,d),h.push({event:_,listeners:N}),M?_.data=M:(M=kp(n),M!==null&&(_.data=M)))),(M=bx?wx(t,n):kx(t,n))&&(u=bo(u,"onBeforeInput"),0<u.length&&(d=new wd("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=M))}Ap(h,e)})}function Vi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bo(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=Fi(t,n),r!=null&&s.unshift(Vi(t,r,i)),r=Fi(t,e),r!=null&&s.push(Vi(t,r,i))),t=t.return}return s}function hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Td(t,e,n,s,i){for(var r=e._reactName,o=[];n!==null&&n!==s;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===s)break;a.tag===5&&u!==null&&(a=u,i?(c=Fi(n,r),c!=null&&o.unshift(Vi(n,c,a))):i||(c=Fi(n,r),c!=null&&o.push(Vi(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Rx=/\r\n?/g,Fx=/\u0000|\uFFFD/g;function Ad(t){return(typeof t=="string"?t:""+t).replace(Rx,`
`).replace(Fx,"")}function Er(t,e,n){if(e=Ad(e),Ad(t)!==e&&n)throw Error(T(425))}function wo(){}var Bl=null,Wl=null;function $l(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hl=typeof setTimeout=="function"?setTimeout:void 0,zx=typeof clearTimeout=="function"?clearTimeout:void 0,Od=typeof Promise=="function"?Promise:void 0,Ix=typeof queueMicrotask=="function"?queueMicrotask:typeof Od<"u"?function(t){return Od.resolve(null).then(t).catch(Bx)}:Hl;function Bx(t){setTimeout(function(){throw t})}function Xa(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){t.removeChild(i),Bi(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Bi(e)}function kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Rd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),It="__reactFiber$"+Xs,Ui="__reactProps$"+Xs,qt="__reactContainer$"+Xs,Vl="__reactEvents$"+Xs,Wx="__reactListeners$"+Xs,$x="__reactHandles$"+Xs;function Yn(t){var e=t[It];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qt]||n[It]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Rd(t);t!==null;){if(n=t[It])return n;t=Rd(t)}return e}t=n,n=t.parentNode}return null}function or(t){return t=t[It]||t[qt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function ea(t){return t[Ui]||null}var Ul=[],ws=-1;function Tn(t){return{current:t}}function he(t){0>ws||(t.current=Ul[ws],Ul[ws]=null,ws--)}function ce(t,e){ws++,Ul[ws]=t.current,t.current=e}var En={},Ue=Tn(En),st=Tn(!1),qn=En;function zs(t,e){var n=t.type.contextTypes;if(!n)return En;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=e[r];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function it(t){return t=t.childContextTypes,t!=null}function ko(){he(st),he(Ue)}function Fd(t,e,n){if(Ue.current!==En)throw Error(T(168));ce(Ue,e),ce(st,n)}function Rp(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(T(108,N0(t)||"Unknown",i));return xe({},n,s)}function jo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||En,qn=Ue.current,ce(Ue,t),ce(st,st.current),!0}function zd(t,e,n){var s=t.stateNode;if(!s)throw Error(T(169));n?(t=Rp(t,e,qn),s.__reactInternalMemoizedMergedChildContext=t,he(st),he(Ue),ce(Ue,t)):he(st),ce(st,n)}var Yt=null,ta=!1,Ka=!1;function Fp(t){Yt===null?Yt=[t]:Yt.push(t)}function Hx(t){ta=!0,Fp(t)}function An(){if(!Ka&&Yt!==null){Ka=!0;var t=0,e=re;try{var n=Yt;for(re=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Yt=null,ta=!1}catch(i){throw Yt!==null&&(Yt=Yt.slice(t+1)),lp(Lc,An),i}finally{re=e,Ka=!1}}return null}var ks=[],js=0,_o=null,So=0,pt=[],mt=0,es=null,Kt=1,Qt="";function Hn(t,e){ks[js++]=So,ks[js++]=_o,_o=t,So=e}function zp(t,e,n){pt[mt++]=Kt,pt[mt++]=Qt,pt[mt++]=es,es=t;var s=Kt;t=Qt;var i=32-Mt(s)-1;s&=~(1<<i),n+=1;var r=32-Mt(e)+i;if(30<r){var o=i-i%5;r=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Kt=1<<32-Mt(e)+i|n<<i|s,Qt=r+t}else Kt=1<<r|n<<i|s,Qt=t}function zc(t){t.return!==null&&(Hn(t,1),zp(t,1,0))}function Ic(t){for(;t===_o;)_o=ks[--js],ks[js]=null,So=ks[--js],ks[js]=null;for(;t===es;)es=pt[--mt],pt[mt]=null,Qt=pt[--mt],pt[mt]=null,Kt=pt[--mt],pt[mt]=null}var lt=null,at=null,fe=!1,Ct=null;function Ip(t,e){var n=gt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Id(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,lt=t,at=kn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,lt=t,at=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=es!==null?{id:Kt,overflow:Qt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,lt=t,at=null,!0):!1;default:return!1}}function Yl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xl(t){if(fe){var e=at;if(e){var n=e;if(!Id(t,e)){if(Yl(t))throw Error(T(418));e=kn(n.nextSibling);var s=lt;e&&Id(t,e)?Ip(s,n):(t.flags=t.flags&-4097|2,fe=!1,lt=t)}}else{if(Yl(t))throw Error(T(418));t.flags=t.flags&-4097|2,fe=!1,lt=t}}}function Bd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;lt=t}function Pr(t){if(t!==lt)return!1;if(!fe)return Bd(t),fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$l(t.type,t.memoizedProps)),e&&(e=at)){if(Yl(t))throw Bp(),Error(T(418));for(;e;)Ip(t,e),e=kn(e.nextSibling)}if(Bd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){at=kn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}at=null}}else at=lt?kn(t.stateNode.nextSibling):null;return!0}function Bp(){for(var t=at;t;)t=kn(t.nextSibling)}function Is(){at=lt=null,fe=!1}function Bc(t){Ct===null?Ct=[t]:Ct.push(t)}var Vx=sn.ReactCurrentBatchConfig;function oi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var s=n.stateNode}if(!s)throw Error(T(147,t));var i=s,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=i.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function Dr(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Wd(t){var e=t._init;return e(t._payload)}function Wp(t){function e(p,m){if(t){var v=p.deletions;v===null?(p.deletions=[m],p.flags|=16):v.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function s(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=Nn(p,m),p.index=0,p.sibling=null,p}function r(p,m,v){return p.index=v,t?(v=p.alternate,v!==null?(v=v.index,v<m?(p.flags|=2,m):v):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,m,v,k){return m===null||m.tag!==6?(m=tl(v,p.mode,k),m.return=p,m):(m=i(m,v),m.return=p,m)}function c(p,m,v,k){var j=v.type;return j===gs?d(p,m,v.props.children,k,v.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===un&&Wd(j)===m.type)?(k=i(m,v.props),k.ref=oi(p,m,v),k.return=p,k):(k=ao(v.type,v.key,v.props,null,p.mode,k),k.ref=oi(p,m,v),k.return=p,k)}function u(p,m,v,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=nl(v,p.mode,k),m.return=p,m):(m=i(m,v.children||[]),m.return=p,m)}function d(p,m,v,k,j){return m===null||m.tag!==7?(m=Zn(v,p.mode,k,j),m.return=p,m):(m=i(m,v),m.return=p,m)}function h(p,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=tl(""+m,p.mode,v),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case wr:return v=ao(m.type,m.key,m.props,null,p.mode,v),v.ref=oi(p,null,m),v.return=p,v;case ms:return m=nl(m,p.mode,v),m.return=p,m;case un:var k=m._init;return h(p,k(m._payload),v)}if(mi(m)||ti(m))return m=Zn(m,p.mode,v,null),m.return=p,m;Dr(p,m)}return null}function f(p,m,v,k){var j=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:a(p,m,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wr:return v.key===j?c(p,m,v,k):null;case ms:return v.key===j?u(p,m,v,k):null;case un:return j=v._init,f(p,m,j(v._payload),k)}if(mi(v)||ti(v))return j!==null?null:d(p,m,v,k,null);Dr(p,v)}return null}function g(p,m,v,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(v)||null,a(m,p,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case wr:return p=p.get(k.key===null?v:k.key)||null,c(m,p,k,j);case ms:return p=p.get(k.key===null?v:k.key)||null,u(m,p,k,j);case un:var N=k._init;return g(p,m,v,N(k._payload),j)}if(mi(k)||ti(k))return p=p.get(v)||null,d(m,p,k,j,null);Dr(m,k)}return null}function y(p,m,v,k){for(var j=null,N=null,M=m,_=m=0,F=null;M!==null&&_<v.length;_++){M.index>_?(F=M,M=null):F=M.sibling;var A=f(p,M,v[_],k);if(A===null){M===null&&(M=F);break}t&&M&&A.alternate===null&&e(p,M),m=r(A,m,_),N===null?j=A:N.sibling=A,N=A,M=F}if(_===v.length)return n(p,M),fe&&Hn(p,_),j;if(M===null){for(;_<v.length;_++)M=h(p,v[_],k),M!==null&&(m=r(M,m,_),N===null?j=M:N.sibling=M,N=M);return fe&&Hn(p,_),j}for(M=s(p,M);_<v.length;_++)F=g(M,p,_,v[_],k),F!==null&&(t&&F.alternate!==null&&M.delete(F.key===null?_:F.key),m=r(F,m,_),N===null?j=F:N.sibling=F,N=F);return t&&M.forEach(function(S){return e(p,S)}),fe&&Hn(p,_),j}function x(p,m,v,k){var j=ti(v);if(typeof j!="function")throw Error(T(150));if(v=j.call(v),v==null)throw Error(T(151));for(var N=j=null,M=m,_=m=0,F=null,A=v.next();M!==null&&!A.done;_++,A=v.next()){M.index>_?(F=M,M=null):F=M.sibling;var S=f(p,M,A.value,k);if(S===null){M===null&&(M=F);break}t&&M&&S.alternate===null&&e(p,M),m=r(S,m,_),N===null?j=S:N.sibling=S,N=S,M=F}if(A.done)return n(p,M),fe&&Hn(p,_),j;if(M===null){for(;!A.done;_++,A=v.next())A=h(p,A.value,k),A!==null&&(m=r(A,m,_),N===null?j=A:N.sibling=A,N=A);return fe&&Hn(p,_),j}for(M=s(p,M);!A.done;_++,A=v.next())A=g(M,p,_,A.value,k),A!==null&&(t&&A.alternate!==null&&M.delete(A.key===null?_:A.key),m=r(A,m,_),N===null?j=A:N.sibling=A,N=A);return t&&M.forEach(function(C){return e(p,C)}),fe&&Hn(p,_),j}function w(p,m,v,k){if(typeof v=="object"&&v!==null&&v.type===gs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case wr:e:{for(var j=v.key,N=m;N!==null;){if(N.key===j){if(j=v.type,j===gs){if(N.tag===7){n(p,N.sibling),m=i(N,v.props.children),m.return=p,p=m;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===un&&Wd(j)===N.type){n(p,N.sibling),m=i(N,v.props),m.ref=oi(p,N,v),m.return=p,p=m;break e}n(p,N);break}else e(p,N);N=N.sibling}v.type===gs?(m=Zn(v.props.children,p.mode,k,v.key),m.return=p,p=m):(k=ao(v.type,v.key,v.props,null,p.mode,k),k.ref=oi(p,m,v),k.return=p,p=k)}return o(p);case ms:e:{for(N=v.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(p,m.sibling),m=i(m,v.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=nl(v,p.mode,k),m.return=p,p=m}return o(p);case un:return N=v._init,w(p,m,N(v._payload),k)}if(mi(v))return y(p,m,v,k);if(ti(v))return x(p,m,v,k);Dr(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(p,m.sibling),m=i(m,v),m.return=p,p=m):(n(p,m),m=tl(v,p.mode,k),m.return=p,p=m),o(p)):n(p,m)}return w}var Bs=Wp(!0),$p=Wp(!1),No=Tn(null),Co=null,_s=null,Wc=null;function $c(){Wc=_s=Co=null}function Hc(t){var e=No.current;he(No),t._currentValue=e}function Kl(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Ds(t,e){Co=t,Wc=_s=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tt=!0),t.firstContext=null)}function vt(t){var e=t._currentValue;if(Wc!==t)if(t={context:t,memoizedValue:e,next:null},_s===null){if(Co===null)throw Error(T(308));_s=t,Co.dependencies={lanes:0,firstContext:t}}else _s=_s.next=t;return e}var Xn=null;function Vc(t){Xn===null?Xn=[t]:Xn.push(t)}function Hp(t,e,n,s){var i=e.interleaved;return i===null?(n.next=n,Vc(e)):(n.next=i.next,i.next=n),e.interleaved=n,en(t,s)}function en(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var dn=!1;function Uc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,te&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,en(t,n)}return i=s.interleaved,i===null?(e.next=e,Vc(s)):(e.next=i.next,i.next=e),s.interleaved=e,en(t,n)}function to(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Ec(t,n)}}function $d(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mo(t,e,n,s){var i=t.updateQueue;dn=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?r=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(r!==null){var h=i.baseState;o=0,d=u=c=null,a=r;do{var f=a.lane,g=a.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,x=a;switch(f=e,g=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(g,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(g,h,f):y,f==null)break e;h=xe({},h,f);break e;case 2:dn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);ns|=o,t.lanes=o,t.memoizedState=h}}function Hd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(T(191,i));i.call(s)}}}var ar={},Wt=Tn(ar),Yi=Tn(ar),Xi=Tn(ar);function Kn(t){if(t===ar)throw Error(T(174));return t}function Yc(t,e){switch(ce(Xi,e),ce(Yi,t),ce(Wt,ar),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ml(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ml(e,t)}he(Wt),ce(Wt,e)}function Ws(){he(Wt),he(Yi),he(Xi)}function Up(t){Kn(Xi.current);var e=Kn(Wt.current),n=Ml(e,t.type);e!==n&&(ce(Yi,t),ce(Wt,n))}function Xc(t){Yi.current===t&&(he(Wt),he(Yi))}var me=Tn(0);function Lo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qa=[];function Kc(){for(var t=0;t<Qa.length;t++)Qa[t]._workInProgressVersionPrimary=null;Qa.length=0}var no=sn.ReactCurrentDispatcher,Ga=sn.ReactCurrentBatchConfig,ts=0,ge=null,Ee=null,Oe=null,Eo=!1,Ci=!1,Ki=0,Ux=0;function Be(){throw Error(T(321))}function Qc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Et(t[n],e[n]))return!1;return!0}function Gc(t,e,n,s,i,r){if(ts=r,ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,no.current=t===null||t.memoizedState===null?Qx:Gx,t=n(s,i),Ci){r=0;do{if(Ci=!1,Ki=0,25<=r)throw Error(T(301));r+=1,Oe=Ee=null,e.updateQueue=null,no.current=Zx,t=n(s,i)}while(Ci)}if(no.current=Po,e=Ee!==null&&Ee.next!==null,ts=0,Oe=Ee=ge=null,Eo=!1,e)throw Error(T(300));return t}function Zc(){var t=Ki!==0;return Ki=0,t}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?ge.memoizedState=Oe=t:Oe=Oe.next=t,Oe}function bt(){if(Ee===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=Oe===null?ge.memoizedState:Oe.next;if(e!==null)Oe=e,Ee=t;else{if(t===null)throw Error(T(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Oe===null?ge.memoizedState=Oe=t:Oe=Oe.next=t}return Oe}function Qi(t,e){return typeof e=="function"?e(t):e}function Za(t){var e=bt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var s=Ee,i=s.baseQueue,r=n.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}s.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,s=s.baseState;var a=o=null,c=null,u=r;do{var d=u.lane;if((ts&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=s):c=c.next=h,ge.lanes|=d,ns|=d}u=u.next}while(u!==null&&u!==r);c===null?o=s:c.next=a,Et(s,e.memoizedState)||(tt=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){i=t;do r=i.lane,ge.lanes|=r,ns|=r,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ja(t){var e=bt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do r=t(r,o.action),o=o.next;while(o!==i);Et(r,e.memoizedState)||(tt=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function Yp(){}function Xp(t,e){var n=ge,s=bt(),i=e(),r=!Et(s.memoizedState,i);if(r&&(s.memoizedState=i,tt=!0),s=s.queue,Jc(Gp.bind(null,n,s,t),[t]),s.getSnapshot!==e||r||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,Gi(9,Qp.bind(null,n,s,i,e),void 0,null),Re===null)throw Error(T(349));ts&30||Kp(n,e,i)}return i}function Kp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Qp(t,e,n,s){e.value=n,e.getSnapshot=s,Zp(e)&&Jp(t)}function Gp(t,e,n){return n(function(){Zp(e)&&Jp(t)})}function Zp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Et(t,n)}catch{return!0}}function Jp(t){var e=en(t,1);e!==null&&Lt(e,t,1,-1)}function Vd(t){var e=Rt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:t},e.queue=t,t=t.dispatch=Kx.bind(null,ge,t),[e.memoizedState,t]}function Gi(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function qp(){return bt().memoizedState}function so(t,e,n,s){var i=Rt();ge.flags|=t,i.memoizedState=Gi(1|e,n,void 0,s===void 0?null:s)}function na(t,e,n,s){var i=bt();s=s===void 0?null:s;var r=void 0;if(Ee!==null){var o=Ee.memoizedState;if(r=o.destroy,s!==null&&Qc(s,o.deps)){i.memoizedState=Gi(e,n,r,s);return}}ge.flags|=t,i.memoizedState=Gi(1|e,n,r,s)}function Ud(t,e){return so(8390656,8,t,e)}function Jc(t,e){return na(2048,8,t,e)}function em(t,e){return na(4,2,t,e)}function tm(t,e){return na(4,4,t,e)}function nm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sm(t,e,n){return n=n!=null?n.concat([t]):null,na(4,4,nm.bind(null,e,t),n)}function qc(){}function im(t,e){var n=bt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Qc(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function rm(t,e){var n=bt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Qc(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function om(t,e,n){return ts&21?(Et(n,e)||(n=dp(),ge.lanes|=n,ns|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tt=!0),t.memoizedState=n)}function Yx(t,e){var n=re;re=n!==0&&4>n?n:4,t(!0);var s=Ga.transition;Ga.transition={};try{t(!1),e()}finally{re=n,Ga.transition=s}}function am(){return bt().memoizedState}function Xx(t,e,n){var s=Sn(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},lm(t))cm(e,n);else if(n=Hp(t,e,n,s),n!==null){var i=Ke();Lt(n,t,s,i),um(n,e,s)}}function Kx(t,e,n){var s=Sn(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(lm(t))cm(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(i.hasEagerState=!0,i.eagerState=a,Et(a,o)){var c=e.interleaved;c===null?(i.next=i,Vc(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Hp(t,e,i,s),n!==null&&(i=Ke(),Lt(n,t,s,i),um(n,e,s))}}function lm(t){var e=t.alternate;return t===ge||e!==null&&e===ge}function cm(t,e){Ci=Eo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function um(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Ec(t,n)}}var Po={readContext:vt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},Qx={readContext:vt,useCallback:function(t,e){return Rt().memoizedState=[t,e===void 0?null:e],t},useContext:vt,useEffect:Ud,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,so(4194308,4,nm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return so(4194308,4,t,e)},useInsertionEffect:function(t,e){return so(4,2,t,e)},useMemo:function(t,e){var n=Rt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Rt();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=Xx.bind(null,ge,t),[s.memoizedState,t]},useRef:function(t){var e=Rt();return t={current:t},e.memoizedState=t},useState:Vd,useDebugValue:qc,useDeferredValue:function(t){return Rt().memoizedState=t},useTransition:function(){var t=Vd(!1),e=t[0];return t=Yx.bind(null,t[1]),Rt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=ge,i=Rt();if(fe){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),Re===null)throw Error(T(349));ts&30||Kp(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,Ud(Gp.bind(null,s,r,t),[t]),s.flags|=2048,Gi(9,Qp.bind(null,s,r,n,e),void 0,null),n},useId:function(){var t=Rt(),e=Re.identifierPrefix;if(fe){var n=Qt,s=Kt;n=(s&~(1<<32-Mt(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ki++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ux++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Gx={readContext:vt,useCallback:im,useContext:vt,useEffect:Jc,useImperativeHandle:sm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:rm,useReducer:Za,useRef:qp,useState:function(){return Za(Qi)},useDebugValue:qc,useDeferredValue:function(t){var e=bt();return om(e,Ee.memoizedState,t)},useTransition:function(){var t=Za(Qi)[0],e=bt().memoizedState;return[t,e]},useMutableSource:Yp,useSyncExternalStore:Xp,useId:am,unstable_isNewReconciler:!1},Zx={readContext:vt,useCallback:im,useContext:vt,useEffect:Jc,useImperativeHandle:sm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:rm,useReducer:Ja,useRef:qp,useState:function(){return Ja(Qi)},useDebugValue:qc,useDeferredValue:function(t){var e=bt();return Ee===null?e.memoizedState=t:om(e,Ee.memoizedState,t)},useTransition:function(){var t=Ja(Qi)[0],e=bt().memoizedState;return[t,e]},useMutableSource:Yp,useSyncExternalStore:Xp,useId:am,unstable_isNewReconciler:!1};function St(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ql(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sa={isMounted:function(t){return(t=t._reactInternals)?as(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Ke(),i=Sn(t),r=Zt(s,i);r.payload=e,n!=null&&(r.callback=n),e=jn(t,r,i),e!==null&&(Lt(e,t,i,s),to(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Ke(),i=Sn(t),r=Zt(s,i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=jn(t,r,i),e!==null&&(Lt(e,t,i,s),to(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ke(),s=Sn(t),i=Zt(n,s);i.tag=2,e!=null&&(i.callback=e),e=jn(t,i,s),e!==null&&(Lt(e,t,s,n),to(e,t,s))}};function Yd(t,e,n,s,i,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,o):e.prototype&&e.prototype.isPureReactComponent?!$i(n,s)||!$i(i,r):!0}function dm(t,e,n){var s=!1,i=En,r=e.contextType;return typeof r=="object"&&r!==null?r=vt(r):(i=it(e)?qn:Ue.current,s=e.contextTypes,r=(s=s!=null)?zs(t,i):En),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sa,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function Xd(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&sa.enqueueReplaceState(e,e.state,null)}function Gl(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Uc(t);var r=e.contextType;typeof r=="object"&&r!==null?i.context=vt(r):(r=it(e)?qn:Ue.current,i.context=zs(t,r)),i.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Ql(t,e,r,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sa.enqueueReplaceState(i,i.state,null),Mo(t,n,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $s(t,e){try{var n="",s=e;do n+=S0(s),s=s.return;while(s);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:i,digest:null}}function qa(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Jx=typeof WeakMap=="function"?WeakMap:Map;function hm(t,e,n){n=Zt(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){To||(To=!0,ac=s),Zl(t,e)},n}function fm(t,e,n){n=Zt(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;n.payload=function(){return s(i)},n.callback=function(){Zl(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Zl(t,e),typeof s!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Kd(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new Jx;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(i.add(n),t=hy.bind(null,t,e,n),e.then(t,t))}function Qd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gd(t,e,n,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zt(-1,1),e.tag=2,jn(n,e,1))),n.lanes|=1),t)}var qx=sn.ReactCurrentOwner,tt=!1;function Xe(t,e,n,s){e.child=t===null?$p(e,null,n,s):Bs(e,t.child,n,s)}function Zd(t,e,n,s,i){n=n.render;var r=e.ref;return Ds(e,i),s=Gc(t,e,n,s,r,i),n=Zc(),t!==null&&!tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tn(t,e,i)):(fe&&n&&zc(e),e.flags|=1,Xe(t,e,s,i),e.child)}function Jd(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!au(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,pm(t,e,r,s,i)):(t=ao(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&i)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:$i,n(o,s)&&t.ref===e.ref)return tn(t,e,i)}return e.flags|=1,t=Nn(r,s),t.ref=e.ref,t.return=e,e.child=t}function pm(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if($i(r,s)&&t.ref===e.ref)if(tt=!1,e.pendingProps=s=r,(t.lanes&i)!==0)t.flags&131072&&(tt=!0);else return e.lanes=t.lanes,tn(t,e,i)}return Jl(t,e,n,s,i)}function mm(t,e,n){var s=e.pendingProps,i=s.children,r=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Ns,ot),ot|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(Ns,ot),ot|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:n,ce(Ns,ot),ot|=s}else r!==null?(s=r.baseLanes|n,e.memoizedState=null):s=n,ce(Ns,ot),ot|=s;return Xe(t,e,i,n),e.child}function gm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jl(t,e,n,s,i){var r=it(n)?qn:Ue.current;return r=zs(e,r),Ds(e,i),n=Gc(t,e,n,s,r,i),s=Zc(),t!==null&&!tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tn(t,e,i)):(fe&&s&&zc(e),e.flags|=1,Xe(t,e,n,i),e.child)}function qd(t,e,n,s,i){if(it(n)){var r=!0;jo(e)}else r=!1;if(Ds(e,i),e.stateNode===null)io(t,e),dm(e,n,s),Gl(e,n,s,i),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=vt(u):(u=it(n)?qn:Ue.current,u=zs(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||c!==u)&&Xd(e,o,s,u),dn=!1;var f=e.memoizedState;o.state=f,Mo(e,s,o,i),c=e.memoizedState,a!==s||f!==c||st.current||dn?(typeof d=="function"&&(Ql(e,n,d,s),c=e.memoizedState),(a=dn||Yd(e,n,a,s,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,Vp(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:St(e.type,a),o.props=u,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=vt(c):(c=it(n)?qn:Ue.current,c=zs(e,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&Xd(e,o,s,c),dn=!1,f=e.memoizedState,o.state=f,Mo(e,s,o,i);var y=e.memoizedState;a!==h||f!==y||st.current||dn?(typeof g=="function"&&(Ql(e,n,g,s),y=e.memoizedState),(u=dn||Yd(e,n,u,s,f,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),o.props=s,o.state=y,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return ql(t,e,n,s,r,i)}function ql(t,e,n,s,i,r){gm(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&zd(e,n,!1),tn(t,e,r);s=e.stateNode,qx.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=Bs(e,t.child,null,r),e.child=Bs(e,null,a,r)):Xe(t,e,a,r),e.memoizedState=s.state,i&&zd(e,n,!0),e.child}function xm(t){var e=t.stateNode;e.pendingContext?Fd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fd(t,e.context,!1),Yc(t,e.containerInfo)}function eh(t,e,n,s,i){return Is(),Bc(i),e.flags|=256,Xe(t,e,n,s),e.child}var ec={dehydrated:null,treeContext:null,retryLane:0};function tc(t){return{baseLanes:t,cachePool:null,transitions:null}}function ym(t,e,n){var s=e.pendingProps,i=me.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ce(me,i&1),t===null)return Xl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,r?(s=e.mode,r=e.child,o={mode:"hidden",children:o},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=oa(o,s,0,null),t=Zn(t,s,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=tc(n),e.memoizedState=ec,t):eu(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ey(t,e,o,s,a,i,n);if(r){r=s.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=Nn(i,c),s.subtreeFlags=i.subtreeFlags&14680064),a!==null?r=Nn(a,r):(r=Zn(r,o,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,o=t.child.memoizedState,o=o===null?tc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=ec,s}return r=t.child,t=r.sibling,s=Nn(r,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function eu(t,e){return e=oa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tr(t,e,n,s){return s!==null&&Bc(s),Bs(e,t.child,null,n),t=eu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ey(t,e,n,s,i,r,o){if(n)return e.flags&256?(e.flags&=-257,s=qa(Error(T(422))),Tr(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=s.fallback,i=e.mode,s=oa({mode:"visible",children:s.children},i,0,null),r=Zn(r,i,o,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,e.mode&1&&Bs(e,t.child,null,o),e.child.memoizedState=tc(o),e.memoizedState=ec,r);if(!(e.mode&1))return Tr(t,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var a=s.dgst;return s=a,r=Error(T(419)),s=qa(r,s,void 0),Tr(t,e,o,s)}if(a=(o&t.childLanes)!==0,tt||a){if(s=Re,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,en(t,i),Lt(s,t,i,-1))}return ou(),s=qa(Error(T(421))),Tr(t,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fy.bind(null,t),i._reactRetry=e,null):(t=r.treeContext,at=kn(i.nextSibling),lt=e,fe=!0,Ct=null,t!==null&&(pt[mt++]=Kt,pt[mt++]=Qt,pt[mt++]=es,Kt=t.id,Qt=t.overflow,es=e),e=eu(e,s.children),e.flags|=4096,e)}function th(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Kl(t.return,e,n)}function el(t,e,n,s,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=i)}function vm(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(Xe(t,e,s.children,n),s=me.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&th(t,n,e);else if(t.tag===19)th(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ce(me,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lo(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),el(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lo(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}el(e,!0,n,null,r);break;case"together":el(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function io(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function tn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ns|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=Nn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ty(t,e,n){switch(e.tag){case 3:xm(e),Is();break;case 5:Up(e);break;case 1:it(e.type)&&jo(e);break;case 4:Yc(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;ce(No,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(ce(me,me.current&1),e.flags|=128,null):n&e.child.childLanes?ym(t,e,n):(ce(me,me.current&1),t=tn(t,e,n),t!==null?t.sibling:null);ce(me,me.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return vm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(me,me.current),s)break;return null;case 22:case 23:return e.lanes=0,mm(t,e,n)}return tn(t,e,n)}var bm,nc,wm,km;bm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nc=function(){};wm=function(t,e,n,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,Kn(Wt.current);var r=null;switch(n){case"input":i=_l(t,i),s=_l(t,s),r=[];break;case"select":i=xe({},i,{value:void 0}),s=xe({},s,{value:void 0}),r=[];break;case"textarea":i=Cl(t,i),s=Cl(t,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=wo)}Ll(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Oi.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in s){var c=s[u];if(a=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(r||(r=[]),r.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(r=r||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Oi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ue("scroll",t),r||a===c||(r=[])):(r=r||[]).push(u,c))}n&&(r=r||[]).push("style",n);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};km=function(t,e,n,s){n!==s&&(e.flags|=4)};function ai(t,e){if(!fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function We(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function ny(t,e,n){var s=e.pendingProps;switch(Ic(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(e),null;case 1:return it(e.type)&&ko(),We(e),null;case 3:return s=e.stateNode,Ws(),he(st),he(Ue),Kc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Pr(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ct!==null&&(uc(Ct),Ct=null))),nc(t,e),We(e),null;case 5:Xc(e);var i=Kn(Xi.current);if(n=e.type,t!==null&&e.stateNode!=null)wm(t,e,n,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(T(166));return We(e),null}if(t=Kn(Wt.current),Pr(e)){s=e.stateNode,n=e.type;var r=e.memoizedProps;switch(s[It]=e,s[Ui]=r,t=(e.mode&1)!==0,n){case"dialog":ue("cancel",s),ue("close",s);break;case"iframe":case"object":case"embed":ue("load",s);break;case"video":case"audio":for(i=0;i<xi.length;i++)ue(xi[i],s);break;case"source":ue("error",s);break;case"img":case"image":case"link":ue("error",s),ue("load",s);break;case"details":ue("toggle",s);break;case"input":ud(s,r),ue("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},ue("invalid",s);break;case"textarea":hd(s,r),ue("invalid",s)}Ll(n,r),i=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?s.textContent!==a&&(r.suppressHydrationWarning!==!0&&Er(s.textContent,a,t),i=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Er(s.textContent,a,t),i=["children",""+a]):Oi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ue("scroll",s)}switch(n){case"input":kr(s),dd(s,r,!0);break;case"textarea":kr(s),fd(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=wo)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Gf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[It]=e,t[Ui]=s,bm(t,e,!1,!1),e.stateNode=t;e:{switch(o=El(n,s),n){case"dialog":ue("cancel",t),ue("close",t),i=s;break;case"iframe":case"object":case"embed":ue("load",t),i=s;break;case"video":case"audio":for(i=0;i<xi.length;i++)ue(xi[i],t);i=s;break;case"source":ue("error",t),i=s;break;case"img":case"image":case"link":ue("error",t),ue("load",t),i=s;break;case"details":ue("toggle",t),i=s;break;case"input":ud(t,s),i=_l(t,s),ue("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=xe({},s,{value:void 0}),ue("invalid",t);break;case"textarea":hd(t,s),i=Cl(t,s),ue("invalid",t);break;default:i=s}Ll(n,i),a=i;for(r in a)if(a.hasOwnProperty(r)){var c=a[r];r==="style"?qf(t,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Zf(t,c)):r==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ri(t,c):typeof c=="number"&&Ri(t,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Oi.hasOwnProperty(r)?c!=null&&r==="onScroll"&&ue("scroll",t):c!=null&&_c(t,r,c,o))}switch(n){case"input":kr(t),dd(t,s,!1);break;case"textarea":kr(t),fd(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Ln(s.value));break;case"select":t.multiple=!!s.multiple,r=s.value,r!=null?Ms(t,!!s.multiple,r,!1):s.defaultValue!=null&&Ms(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=wo)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return We(e),null;case 6:if(t&&e.stateNode!=null)km(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(T(166));if(n=Kn(Xi.current),Kn(Wt.current),Pr(e)){if(s=e.stateNode,n=e.memoizedProps,s[It]=e,(r=s.nodeValue!==n)&&(t=lt,t!==null))switch(t.tag){case 3:Er(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Er(s.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[It]=e,e.stateNode=s}return We(e),null;case 13:if(he(me),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fe&&at!==null&&e.mode&1&&!(e.flags&128))Bp(),Is(),e.flags|=98560,r=!1;else if(r=Pr(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(T(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(T(317));r[It]=e}else Is(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;We(e),r=!1}else Ct!==null&&(uc(Ct),Ct=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||me.current&1?De===0&&(De=3):ou())),e.updateQueue!==null&&(e.flags|=4),We(e),null);case 4:return Ws(),nc(t,e),t===null&&Hi(e.stateNode.containerInfo),We(e),null;case 10:return Hc(e.type._context),We(e),null;case 17:return it(e.type)&&ko(),We(e),null;case 19:if(he(me),r=e.memoizedState,r===null)return We(e),null;if(s=(e.flags&128)!==0,o=r.rendering,o===null)if(s)ai(r,!1);else{if(De!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Lo(t),o!==null){for(e.flags|=128,ai(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)r=n,t=s,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ce(me,me.current&1|2),e.child}t=t.sibling}r.tail!==null&&je()>Hs&&(e.flags|=128,s=!0,ai(r,!1),e.lanes=4194304)}else{if(!s)if(t=Lo(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ai(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!fe)return We(e),null}else 2*je()-r.renderingStartTime>Hs&&n!==1073741824&&(e.flags|=128,s=!0,ai(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=je(),e.sibling=null,n=me.current,ce(me,s?n&1|2:n&1),e):(We(e),null);case 22:case 23:return ru(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?ot&1073741824&&(We(e),e.subtreeFlags&6&&(e.flags|=8192)):We(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function sy(t,e){switch(Ic(e),e.tag){case 1:return it(e.type)&&ko(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ws(),he(st),he(Ue),Kc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xc(e),null;case 13:if(he(me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Is()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(me),null;case 4:return Ws(),null;case 10:return Hc(e.type._context),null;case 22:case 23:return ru(),null;case 24:return null;default:return null}}var Ar=!1,He=!1,iy=typeof WeakSet=="function"?WeakSet:Set,I=null;function Ss(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ye(t,e,s)}else n.current=null}function sc(t,e,n){try{n()}catch(s){ye(t,e,s)}}var nh=!1;function ry(t,e){if(Bl=yo,t=Cp(),Fc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==r||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===r&&++d===s&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wl={focusedElem:t,selectionRange:n},yo=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,w=y.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?x:St(e.type,x),w);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(k){ye(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return y=nh,nh=!1,y}function Mi(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,r!==void 0&&sc(e,n,r)}i=i.next}while(i!==s)}}function ia(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function ic(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jm(t){var e=t.alternate;e!==null&&(t.alternate=null,jm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[It],delete e[Ui],delete e[Vl],delete e[Wx],delete e[$x])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _m(t){return t.tag===5||t.tag===3||t.tag===4}function sh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_m(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rc(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wo));else if(s!==4&&(t=t.child,t!==null))for(rc(t,e,n),t=t.sibling;t!==null;)rc(t,e,n),t=t.sibling}function oc(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(oc(t,e,n),t=t.sibling;t!==null;)oc(t,e,n),t=t.sibling}var Fe=null,Nt=!1;function ln(t,e,n){for(n=n.child;n!==null;)Sm(t,e,n),n=n.sibling}function Sm(t,e,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Go,n)}catch{}switch(n.tag){case 5:He||Ss(n,e);case 6:var s=Fe,i=Nt;Fe=null,ln(t,e,n),Fe=s,Nt=i,Fe!==null&&(Nt?(t=Fe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(Nt?(t=Fe,n=n.stateNode,t.nodeType===8?Xa(t.parentNode,n):t.nodeType===1&&Xa(t,n),Bi(t)):Xa(Fe,n.stateNode));break;case 4:s=Fe,i=Nt,Fe=n.stateNode.containerInfo,Nt=!0,ln(t,e,n),Fe=s,Nt=i;break;case 0:case 11:case 14:case 15:if(!He&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&sc(n,e,o),i=i.next}while(i!==s)}ln(t,e,n);break;case 1:if(!He&&(Ss(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){ye(n,e,a)}ln(t,e,n);break;case 21:ln(t,e,n);break;case 22:n.mode&1?(He=(s=He)||n.memoizedState!==null,ln(t,e,n),He=s):ln(t,e,n);break;default:ln(t,e,n)}}function ih(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new iy),e.forEach(function(s){var i=py.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}}function _t(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fe=a.stateNode,Nt=!1;break e;case 3:Fe=a.stateNode.containerInfo,Nt=!0;break e;case 4:Fe=a.stateNode.containerInfo,Nt=!0;break e}a=a.return}if(Fe===null)throw Error(T(160));Sm(r,o,i),Fe=null,Nt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ye(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Nm(e,t),e=e.sibling}function Nm(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_t(e,t),Tt(t),s&4){try{Mi(3,t,t.return),ia(3,t)}catch(x){ye(t,t.return,x)}try{Mi(5,t,t.return)}catch(x){ye(t,t.return,x)}}break;case 1:_t(e,t),Tt(t),s&512&&n!==null&&Ss(n,n.return);break;case 5:if(_t(e,t),Tt(t),s&512&&n!==null&&Ss(n,n.return),t.flags&32){var i=t.stateNode;try{Ri(i,"")}catch(x){ye(t,t.return,x)}}if(s&4&&(i=t.stateNode,i!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&Kf(i,r),El(a,o);var u=El(a,r);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?qf(i,h):d==="dangerouslySetInnerHTML"?Zf(i,h):d==="children"?Ri(i,h):_c(i,d,h,u)}switch(a){case"input":Sl(i,r);break;case"textarea":Qf(i,r);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var g=r.value;g!=null?Ms(i,!!r.multiple,g,!1):f!==!!r.multiple&&(r.defaultValue!=null?Ms(i,!!r.multiple,r.defaultValue,!0):Ms(i,!!r.multiple,r.multiple?[]:"",!1))}i[Ui]=r}catch(x){ye(t,t.return,x)}}break;case 6:if(_t(e,t),Tt(t),s&4){if(t.stateNode===null)throw Error(T(162));i=t.stateNode,r=t.memoizedProps;try{i.nodeValue=r}catch(x){ye(t,t.return,x)}}break;case 3:if(_t(e,t),Tt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Bi(e.containerInfo)}catch(x){ye(t,t.return,x)}break;case 4:_t(e,t),Tt(t);break;case 13:_t(e,t),Tt(t),i=t.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(su=je())),s&4&&ih(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(He=(u=He)||d,_t(e,t),He=u):_t(e,t),Tt(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(I=t,d=t.child;d!==null;){for(h=I=d;I!==null;){switch(f=I,g=f.child,f.tag){case 0:case 11:case 14:case 15:Mi(4,f,f.return);break;case 1:Ss(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){s=f,n=f.return;try{e=s,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){ye(s,n,x)}}break;case 5:Ss(f,f.return);break;case 22:if(f.memoizedState!==null){oh(h);continue}}g!==null?(g.return=f,I=g):oh(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Jf("display",o))}catch(x){ye(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){ye(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_t(e,t),Tt(t),s&4&&ih(t);break;case 21:break;default:_t(e,t),Tt(t)}}function Tt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_m(n)){var s=n;break e}n=n.return}throw Error(T(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Ri(i,""),s.flags&=-33);var r=sh(t);oc(t,r,i);break;case 3:case 4:var o=s.stateNode.containerInfo,a=sh(t);rc(t,a,o);break;default:throw Error(T(161))}}catch(c){ye(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oy(t,e,n){I=t,Cm(t)}function Cm(t,e,n){for(var s=(t.mode&1)!==0;I!==null;){var i=I,r=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Ar;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||He;a=Ar;var u=He;if(Ar=o,(He=c)&&!u)for(I=i;I!==null;)o=I,c=o.child,o.tag===22&&o.memoizedState!==null?ah(i):c!==null?(c.return=o,I=c):ah(i);for(;r!==null;)I=r,Cm(r),r=r.sibling;I=i,Ar=a,He=u}rh(t)}else i.subtreeFlags&8772&&r!==null?(r.return=i,I=r):rh(t)}}function rh(t){for(;I!==null;){var e=I;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:He||ia(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!He)if(n===null)s.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:St(e.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Hd(e,r,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hd(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Bi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}He||e.flags&512&&ic(e)}catch(f){ye(e,e.return,f)}}if(e===t){I=null;break}if(n=e.sibling,n!==null){n.return=e.return,I=n;break}I=e.return}}function oh(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var n=e.sibling;if(n!==null){n.return=e.return,I=n;break}I=e.return}}function ah(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ia(4,e)}catch(c){ye(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(c){ye(e,i,c)}}var r=e.return;try{ic(e)}catch(c){ye(e,r,c)}break;case 5:var o=e.return;try{ic(e)}catch(c){ye(e,o,c)}}}catch(c){ye(e,e.return,c)}if(e===t){I=null;break}var a=e.sibling;if(a!==null){a.return=e.return,I=a;break}I=e.return}}var ay=Math.ceil,Do=sn.ReactCurrentDispatcher,tu=sn.ReactCurrentOwner,yt=sn.ReactCurrentBatchConfig,te=0,Re=null,Ce=null,ze=0,ot=0,Ns=Tn(0),De=0,Zi=null,ns=0,ra=0,nu=0,Li=null,qe=null,su=0,Hs=1/0,Ut=null,To=!1,ac=null,_n=null,Or=!1,mn=null,Ao=0,Ei=0,lc=null,ro=-1,oo=0;function Ke(){return te&6?je():ro!==-1?ro:ro=je()}function Sn(t){return t.mode&1?te&2&&ze!==0?ze&-ze:Vx.transition!==null?(oo===0&&(oo=dp()),oo):(t=re,t!==0||(t=window.event,t=t===void 0?16:yp(t.type)),t):1}function Lt(t,e,n,s){if(50<Ei)throw Ei=0,lc=null,Error(T(185));ir(t,n,s),(!(te&2)||t!==Re)&&(t===Re&&(!(te&2)&&(ra|=n),De===4&&fn(t,ze)),rt(t,s),n===1&&te===0&&!(e.mode&1)&&(Hs=je()+500,ta&&An()))}function rt(t,e){var n=t.callbackNode;V0(t,e);var s=xo(t,t===Re?ze:0);if(s===0)n!==null&&gd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&gd(n),e===1)t.tag===0?Hx(lh.bind(null,t)):Fp(lh.bind(null,t)),Ix(function(){!(te&6)&&An()}),n=null;else{switch(hp(s)){case 1:n=Lc;break;case 4:n=cp;break;case 16:n=go;break;case 536870912:n=up;break;default:n=go}n=Om(n,Mm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Mm(t,e){if(ro=-1,oo=0,te&6)throw Error(T(327));var n=t.callbackNode;if(Ts()&&t.callbackNode!==n)return null;var s=xo(t,t===Re?ze:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Oo(t,s);else{e=s;var i=te;te|=2;var r=Em();(Re!==t||ze!==e)&&(Ut=null,Hs=je()+500,Gn(t,e));do try{uy();break}catch(a){Lm(t,a)}while(!0);$c(),Do.current=r,te=i,Ce!==null?e=0:(Re=null,ze=0,e=De)}if(e!==0){if(e===2&&(i=Ol(t),i!==0&&(s=i,e=cc(t,i))),e===1)throw n=Zi,Gn(t,0),fn(t,s),rt(t,je()),n;if(e===6)fn(t,s);else{if(i=t.current.alternate,!(s&30)&&!ly(i)&&(e=Oo(t,s),e===2&&(r=Ol(t),r!==0&&(s=r,e=cc(t,r))),e===1))throw n=Zi,Gn(t,0),fn(t,s),rt(t,je()),n;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(T(345));case 2:Vn(t,qe,Ut);break;case 3:if(fn(t,s),(s&130023424)===s&&(e=su+500-je(),10<e)){if(xo(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){Ke(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hl(Vn.bind(null,t,qe,Ut),e);break}Vn(t,qe,Ut);break;case 4:if(fn(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var o=31-Mt(s);r=1<<o,o=e[o],o>i&&(i=o),s&=~r}if(s=i,s=je()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*ay(s/1960))-s,10<s){t.timeoutHandle=Hl(Vn.bind(null,t,qe,Ut),s);break}Vn(t,qe,Ut);break;case 5:Vn(t,qe,Ut);break;default:throw Error(T(329))}}}return rt(t,je()),t.callbackNode===n?Mm.bind(null,t):null}function cc(t,e){var n=Li;return t.current.memoizedState.isDehydrated&&(Gn(t,e).flags|=256),t=Oo(t,e),t!==2&&(e=qe,qe=n,e!==null&&uc(e)),t}function uc(t){qe===null?qe=t:qe.push.apply(qe,t)}function ly(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!Et(r(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fn(t,e){for(e&=~nu,e&=~ra,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mt(e),s=1<<n;t[n]=-1,e&=~s}}function lh(t){if(te&6)throw Error(T(327));Ts();var e=xo(t,0);if(!(e&1))return rt(t,je()),null;var n=Oo(t,e);if(t.tag!==0&&n===2){var s=Ol(t);s!==0&&(e=s,n=cc(t,s))}if(n===1)throw n=Zi,Gn(t,0),fn(t,e),rt(t,je()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vn(t,qe,Ut),rt(t,je()),null}function iu(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(Hs=je()+500,ta&&An())}}function ss(t){mn!==null&&mn.tag===0&&!(te&6)&&Ts();var e=te;te|=1;var n=yt.transition,s=re;try{if(yt.transition=null,re=1,t)return t()}finally{re=s,yt.transition=n,te=e,!(te&6)&&An()}}function ru(){ot=Ns.current,he(Ns)}function Gn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zx(n)),Ce!==null)for(n=Ce.return;n!==null;){var s=n;switch(Ic(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ko();break;case 3:Ws(),he(st),he(Ue),Kc();break;case 5:Xc(s);break;case 4:Ws();break;case 13:he(me);break;case 19:he(me);break;case 10:Hc(s.type._context);break;case 22:case 23:ru()}n=n.return}if(Re=t,Ce=t=Nn(t.current,null),ze=ot=e,De=0,Zi=null,nu=ra=ns=0,qe=Li=null,Xn!==null){for(e=0;e<Xn.length;e++)if(n=Xn[e],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,r=n.pending;if(r!==null){var o=r.next;r.next=i,s.next=o}n.pending=s}Xn=null}return t}function Lm(t,e){do{var n=Ce;try{if($c(),no.current=Po,Eo){for(var s=ge.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Eo=!1}if(ts=0,Oe=Ee=ge=null,Ci=!1,Ki=0,tu.current=null,n===null||n.return===null){De=1,Zi=e,Ce=null;break}e:{var r=t,o=n.return,a=n,c=e;if(e=ze,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Qd(o);if(g!==null){g.flags&=-257,Gd(g,o,a,r,e),g.mode&1&&Kd(r,u,e),e=g,c=u;var y=e.updateQueue;if(y===null){var x=new Set;x.add(c),e.updateQueue=x}else y.add(c);break e}else{if(!(e&1)){Kd(r,u,e),ou();break e}c=Error(T(426))}}else if(fe&&a.mode&1){var w=Qd(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Gd(w,o,a,r,e),Bc($s(c,a));break e}}r=c=$s(c,a),De!==4&&(De=2),Li===null?Li=[r]:Li.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var p=hm(r,c,e);$d(r,p);break e;case 1:a=c;var m=r.type,v=r.stateNode;if(!(r.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(_n===null||!_n.has(v)))){r.flags|=65536,e&=-e,r.lanes|=e;var k=fm(r,a,e);$d(r,k);break e}}r=r.return}while(r!==null)}Dm(n)}catch(j){e=j,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(!0)}function Em(){var t=Do.current;return Do.current=Po,t===null?Po:t}function ou(){(De===0||De===3||De===2)&&(De=4),Re===null||!(ns&268435455)&&!(ra&268435455)||fn(Re,ze)}function Oo(t,e){var n=te;te|=2;var s=Em();(Re!==t||ze!==e)&&(Ut=null,Gn(t,e));do try{cy();break}catch(i){Lm(t,i)}while(!0);if($c(),te=n,Do.current=s,Ce!==null)throw Error(T(261));return Re=null,ze=0,De}function cy(){for(;Ce!==null;)Pm(Ce)}function uy(){for(;Ce!==null&&!O0();)Pm(Ce)}function Pm(t){var e=Am(t.alternate,t,ot);t.memoizedProps=t.pendingProps,e===null?Dm(t):Ce=e,tu.current=null}function Dm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sy(n,e),n!==null){n.flags&=32767,Ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{De=6,Ce=null;return}}else if(n=ny(n,e,ot),n!==null){Ce=n;return}if(e=e.sibling,e!==null){Ce=e;return}Ce=e=t}while(e!==null);De===0&&(De=5)}function Vn(t,e,n){var s=re,i=yt.transition;try{yt.transition=null,re=1,dy(t,e,n,s)}finally{yt.transition=i,re=s}return null}function dy(t,e,n,s){do Ts();while(mn!==null);if(te&6)throw Error(T(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(U0(t,r),t===Re&&(Ce=Re=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Or||(Or=!0,Om(go,function(){return Ts(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=yt.transition,yt.transition=null;var o=re;re=1;var a=te;te|=4,tu.current=null,ry(t,n),Nm(n,t),Px(Wl),yo=!!Bl,Wl=Bl=null,t.current=n,oy(n),R0(),te=a,re=o,yt.transition=r}else t.current=n;if(Or&&(Or=!1,mn=t,Ao=i),r=t.pendingLanes,r===0&&(_n=null),I0(n.stateNode),rt(t,je()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(To)throw To=!1,t=ac,ac=null,t;return Ao&1&&t.tag!==0&&Ts(),r=t.pendingLanes,r&1?t===lc?Ei++:(Ei=0,lc=t):Ei=0,An(),null}function Ts(){if(mn!==null){var t=hp(Ao),e=yt.transition,n=re;try{if(yt.transition=null,re=16>t?16:t,mn===null)var s=!1;else{if(t=mn,mn=null,Ao=0,te&6)throw Error(T(331));var i=te;for(te|=4,I=t.current;I!==null;){var r=I,o=r.child;if(I.flags&16){var a=r.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(I=u;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:Mi(8,d,r)}var h=d.child;if(h!==null)h.return=d,I=h;else for(;I!==null;){d=I;var f=d.sibling,g=d.return;if(jm(d),d===u){I=null;break}if(f!==null){f.return=g,I=f;break}I=g}}}var y=r.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}I=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,I=o;else e:for(;I!==null;){if(r=I,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Mi(9,r,r.return)}var p=r.sibling;if(p!==null){p.return=r.return,I=p;break e}I=r.return}}var m=t.current;for(I=m;I!==null;){o=I;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,I=v;else e:for(o=m;I!==null;){if(a=I,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ia(9,a)}}catch(j){ye(a,a.return,j)}if(a===o){I=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,I=k;break e}I=a.return}}if(te=i,An(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Go,t)}catch{}s=!0}return s}finally{re=n,yt.transition=e}}return!1}function ch(t,e,n){e=$s(n,e),e=hm(t,e,1),t=jn(t,e,1),e=Ke(),t!==null&&(ir(t,1,e),rt(t,e))}function ye(t,e,n){if(t.tag===3)ch(t,t,n);else for(;e!==null;){if(e.tag===3){ch(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(_n===null||!_n.has(s))){t=$s(n,t),t=fm(e,t,1),e=jn(e,t,1),t=Ke(),e!==null&&(ir(e,1,t),rt(e,t));break}}e=e.return}}function hy(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Ke(),t.pingedLanes|=t.suspendedLanes&n,Re===t&&(ze&n)===n&&(De===4||De===3&&(ze&130023424)===ze&&500>je()-su?Gn(t,0):nu|=n),rt(t,e)}function Tm(t,e){e===0&&(t.mode&1?(e=Sr,Sr<<=1,!(Sr&130023424)&&(Sr=4194304)):e=1);var n=Ke();t=en(t,e),t!==null&&(ir(t,e,n),rt(t,n))}function fy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Tm(t,n)}function py(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(T(314))}s!==null&&s.delete(e),Tm(t,n)}var Am;Am=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||st.current)tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tt=!1,ty(t,e,n);tt=!!(t.flags&131072)}else tt=!1,fe&&e.flags&1048576&&zp(e,So,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;io(t,e),t=e.pendingProps;var i=zs(e,Ue.current);Ds(e,n),i=Gc(null,e,s,t,i,n);var r=Zc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,it(s)?(r=!0,jo(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Uc(e),i.updater=sa,e.stateNode=i,i._reactInternals=e,Gl(e,s,t,n),e=ql(null,e,s,!0,r,n)):(e.tag=0,fe&&r&&zc(e),Xe(null,e,i,n),e=e.child),e;case 16:s=e.elementType;e:{switch(io(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=gy(s),t=St(s,t),i){case 0:e=Jl(null,e,s,t,n);break e;case 1:e=qd(null,e,s,t,n);break e;case 11:e=Zd(null,e,s,t,n);break e;case 14:e=Jd(null,e,s,St(s.type,t),n);break e}throw Error(T(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:St(s,i),Jl(t,e,s,i,n);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:St(s,i),qd(t,e,s,i,n);case 3:e:{if(xm(e),t===null)throw Error(T(387));s=e.pendingProps,r=e.memoizedState,i=r.element,Vp(t,e),Mo(e,s,null,n);var o=e.memoizedState;if(s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=$s(Error(T(423)),e),e=eh(t,e,s,n,i);break e}else if(s!==i){i=$s(Error(T(424)),e),e=eh(t,e,s,n,i);break e}else for(at=kn(e.stateNode.containerInfo.firstChild),lt=e,fe=!0,Ct=null,n=$p(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Is(),s===i){e=tn(t,e,n);break e}Xe(t,e,s,n)}e=e.child}return e;case 5:return Up(e),t===null&&Xl(e),s=e.type,i=e.pendingProps,r=t!==null?t.memoizedProps:null,o=i.children,$l(s,i)?o=null:r!==null&&$l(s,r)&&(e.flags|=32),gm(t,e),Xe(t,e,o,n),e.child;case 6:return t===null&&Xl(e),null;case 13:return ym(t,e,n);case 4:return Yc(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Bs(e,null,s,n):Xe(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:St(s,i),Zd(t,e,s,i,n);case 7:return Xe(t,e,e.pendingProps,n),e.child;case 8:return Xe(t,e,e.pendingProps.children,n),e.child;case 12:return Xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,r=e.memoizedProps,o=i.value,ce(No,s._currentValue),s._currentValue=o,r!==null)if(Et(r.value,o)){if(r.children===i.children&&!st.current){e=tn(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var c=a.firstContext;c!==null;){if(c.context===s){if(r.tag===1){c=Zt(-1,n&-n),c.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}r.lanes|=n,c=r.alternate,c!==null&&(c.lanes|=n),Kl(r.return,n,e),a.lanes|=n;break}c=c.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Kl(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Xe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,Ds(e,n),i=vt(i),s=s(i),e.flags|=1,Xe(t,e,s,n),e.child;case 14:return s=e.type,i=St(s,e.pendingProps),i=St(s.type,i),Jd(t,e,s,i,n);case 15:return pm(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:St(s,i),io(t,e),e.tag=1,it(s)?(t=!0,jo(e)):t=!1,Ds(e,n),dm(e,s,i),Gl(e,s,i,n),ql(null,e,s,!0,t,n);case 19:return vm(t,e,n);case 22:return mm(t,e,n)}throw Error(T(156,e.tag))};function Om(t,e){return lp(t,e)}function my(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(t,e,n,s){return new my(t,e,n,s)}function au(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gy(t){if(typeof t=="function")return au(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Nc)return 11;if(t===Cc)return 14}return 2}function Nn(t,e){var n=t.alternate;return n===null?(n=gt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ao(t,e,n,s,i,r){var o=2;if(s=t,typeof t=="function")au(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gs:return Zn(n.children,i,r,e);case Sc:o=8,i|=8;break;case bl:return t=gt(12,n,e,i|2),t.elementType=bl,t.lanes=r,t;case wl:return t=gt(13,n,e,i),t.elementType=wl,t.lanes=r,t;case kl:return t=gt(19,n,e,i),t.elementType=kl,t.lanes=r,t;case Uf:return oa(n,i,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hf:o=10;break e;case Vf:o=9;break e;case Nc:o=11;break e;case Cc:o=14;break e;case un:o=16,s=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=gt(o,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function Zn(t,e,n,s){return t=gt(7,t,s,e),t.lanes=n,t}function oa(t,e,n,s){return t=gt(22,t,s,e),t.elementType=Uf,t.lanes=n,t.stateNode={isHidden:!1},t}function tl(t,e,n){return t=gt(6,t,null,e),t.lanes=n,t}function nl(t,e,n){return e=gt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xy(t,e,n,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ra(0),this.expirationTimes=Ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lu(t,e,n,s,i,r,o,a,c){return t=new xy(t,e,n,a,c),e===1?(e=1,r===!0&&(e|=8)):e=0,r=gt(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uc(r),t}function yy(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function Rm(t){if(!t)return En;t=t._reactInternals;e:{if(as(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(it(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(it(n))return Rp(t,n,e)}return e}function Fm(t,e,n,s,i,r,o,a,c){return t=lu(n,s,!0,t,i,r,o,a,c),t.context=Rm(null),n=t.current,s=Ke(),i=Sn(n),r=Zt(s,i),r.callback=e??null,jn(n,r,i),t.current.lanes=i,ir(t,i,s),rt(t,s),t}function aa(t,e,n,s){var i=e.current,r=Ke(),o=Sn(i);return n=Rm(n),e.context===null?e.context=n:e.pendingContext=n,e=Zt(r,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=jn(i,e,o),t!==null&&(Lt(t,i,o,r),to(t,i,o)),o}function Ro(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function uh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cu(t,e){uh(t,e),(t=t.alternate)&&uh(t,e)}function vy(){return null}var zm=typeof reportError=="function"?reportError:function(t){console.error(t)};function uu(t){this._internalRoot=t}la.prototype.render=uu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));aa(t,e,null,null)};la.prototype.unmount=uu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ss(function(){aa(null,t,null,null)}),e[qt]=null}};function la(t){this._internalRoot=t}la.prototype.unstable_scheduleHydration=function(t){if(t){var e=mp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hn.length&&e!==0&&e<hn[n].priority;n++);hn.splice(n,0,t),n===0&&xp(t)}};function du(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ca(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dh(){}function by(t,e,n,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var u=Ro(o);r.call(u)}}var o=Fm(e,s,t,0,null,!1,!1,"",dh);return t._reactRootContainer=o,t[qt]=o.current,Hi(t.nodeType===8?t.parentNode:t),ss(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var a=s;s=function(){var u=Ro(c);a.call(u)}}var c=lu(t,0,!1,null,null,!1,!1,"",dh);return t._reactRootContainer=c,t[qt]=c.current,Hi(t.nodeType===8?t.parentNode:t),ss(function(){aa(e,c,n,s)}),c}function ua(t,e,n,s,i){var r=n._reactRootContainer;if(r){var o=r;if(typeof i=="function"){var a=i;i=function(){var c=Ro(o);a.call(c)}}aa(e,o,t,i)}else o=by(n,e,t,i,s);return Ro(o)}fp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gi(e.pendingLanes);n!==0&&(Ec(e,n|1),rt(e,je()),!(te&6)&&(Hs=je()+500,An()))}break;case 13:ss(function(){var s=en(t,1);if(s!==null){var i=Ke();Lt(s,t,1,i)}}),cu(t,1)}};Pc=function(t){if(t.tag===13){var e=en(t,134217728);if(e!==null){var n=Ke();Lt(e,t,134217728,n)}cu(t,134217728)}};pp=function(t){if(t.tag===13){var e=Sn(t),n=en(t,e);if(n!==null){var s=Ke();Lt(n,t,e,s)}cu(t,e)}};mp=function(){return re};gp=function(t,e){var n=re;try{return re=t,e()}finally{re=n}};Dl=function(t,e,n){switch(e){case"input":if(Sl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=ea(s);if(!i)throw Error(T(90));Xf(s),Sl(s,i)}}}break;case"textarea":Qf(t,n);break;case"select":e=n.value,e!=null&&Ms(t,!!n.multiple,e,!1)}};np=iu;sp=ss;var wy={usingClientEntryPoint:!1,Events:[or,bs,ea,ep,tp,iu]},li={findFiberByHostInstance:Yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ky={bundleType:li.bundleType,version:li.version,rendererPackageName:li.rendererPackageName,rendererConfig:li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=op(t),t===null?null:t.stateNode},findFiberByHostInstance:li.findFiberByHostInstance||vy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rr.isDisabled&&Rr.supportsFiber)try{Go=Rr.inject(ky),Bt=Rr}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wy;ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!du(e))throw Error(T(200));return yy(t,e,null,n)};ut.createRoot=function(t,e){if(!du(t))throw Error(T(299));var n=!1,s="",i=zm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=lu(t,1,!1,null,null,n,!1,s,i),t[qt]=e.current,Hi(t.nodeType===8?t.parentNode:t),new uu(e)};ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=op(e),t=t===null?null:t.stateNode,t};ut.flushSync=function(t){return ss(t)};ut.hydrate=function(t,e,n){if(!ca(e))throw Error(T(200));return ua(null,t,e,!0,n)};ut.hydrateRoot=function(t,e,n){if(!du(t))throw Error(T(405));var s=n!=null&&n.hydratedSources||null,i=!1,r="",o=zm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Fm(e,null,t,1,n??null,i,!1,r,o),t[qt]=e.current,Hi(t),s)for(t=0;t<s.length;t++)n=s[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new la(e)};ut.render=function(t,e,n){if(!ca(e))throw Error(T(200));return ua(null,t,e,!1,n)};ut.unmountComponentAtNode=function(t){if(!ca(t))throw Error(T(40));return t._reactRootContainer?(ss(function(){ua(null,null,t,!1,function(){t._reactRootContainer=null,t[qt]=null})}),!0):!1};ut.unstable_batchedUpdates=iu;ut.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!ca(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return ua(t,e,n,!1,s)};ut.version="18.3.1-next-f1338f8080-20240426";function Im(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Im)}catch(t){console.error(t)}}Im(),If.exports=ut;var jy=If.exports,hh=jy;yl.createRoot=hh.createRoot,yl.hydrateRoot=hh.hydrateRoot;function _y({onLogin:t,error:e}){const[n,s]=L.useState(""),[i,r]=L.useState(""),[o,a]=L.useState(""),[c,u]=L.useState(!1),[d,h]=L.useState(null),[f,g]=L.useState(!1),y=async w=>{if(w.preventDefault(),h(null),u(!0),!n.trim()){h("Username is required"),u(!1);return}if(!i){h("Password is required"),u(!1);return}if(!o.trim()){h("Department ID is required"),u(!1);return}if(!/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(o.trim())){h("Invalid Department ID format. Please enter a valid GUID."),u(!1);return}const m=await t({username:n.trim(),password:i,departmentId:o.trim()});m.success||h(m.error),u(!1)},x=d||e;return l.jsx("div",{className:"login-bg min-h-screen flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md animate-fadeIn",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("img",{src:"/logo.png",alt:"JustInsurance",className:"h-20 mx-auto mb-4",onError:w=>{w.target.style.display="none"}}),l.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Progress Dashboard"}),l.jsx("p",{className:"text-ji-blue-light mt-2",children:"Track your students' pre-licensing progress"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[l.jsxs("form",{onSubmit:y,children:[x&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{className:"text-red-700 text-sm",children:x})]})}),l.jsxs("div",{className:"mb-5",children:[l.jsx("label",{className:"input-label",htmlFor:"username",children:"Absorb LMS Username"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),l.jsx("input",{type:"text",id:"username",className:"input pl-10",placeholder:"Enter your username or email",value:n,onChange:w=>s(w.target.value),disabled:c,autoComplete:"username"})]})]}),l.jsxs("div",{className:"mb-5",children:[l.jsx("label",{className:"input-label",htmlFor:"password",children:"Absorb LMS Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),l.jsx("input",{type:f?"text":"password",id:"password",className:"input pl-10 pr-10",placeholder:"Enter your password",value:i,onChange:w=>r(w.target.value),disabled:c,autoComplete:"current-password"}),l.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>g(!f),children:f?l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):l.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"input-label",htmlFor:"departmentId",children:"Agency Department ID"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),l.jsx("input",{type:"text",id:"departmentId",className:"input pl-10 font-mono text-sm",placeholder:"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",value:o,onChange:w=>a(w.target.value.toUpperCase()),disabled:c})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Contact your agency admin or JustInsurance for your Department ID"})]}),l.jsx("button",{type:"submit",className:"w-full btn btn-primary py-3 text-lg font-semibold",disabled:c,style:{backgroundColor:c?"#94a3b8":"#3182ce"},children:c?l.jsxs("span",{className:"flex items-center justify-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Authenticating..."]}):"Access Dashboard"})]}),l.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:l.jsxs("p",{className:"text-center text-sm text-gray-500",children:["Need help?"," ",l.jsx("a",{href:"mailto:support@justinsuranceco.com",className:"text-ji-blue-bright hover:underline",children:"Contact Support"})]})})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-ji-blue-light text-sm",children:[" ",new Date().getFullYear()," JustInsurance. All rights reserved."]})})]})})}function Sy({summary:t}){const e=[{title:"Complete",value:t.completeCount||0,subtitle:"Finished course",emoji:"",bgColor:"bg-blue-50",iconBg:"bg-blue-100",textColor:"text-blue-800",borderColor:"border-l-4 border-blue-500"},{title:"Active",value:t.activeCount,subtitle:"Last 24 hours",emoji:"",bgColor:"bg-green-50",iconBg:"bg-green-100",textColor:"text-green-800",borderColor:"border-l-4 border-green-500"},{title:"Warning",value:t.warningCount,subtitle:"24-72 hours ago",emoji:"",bgColor:"bg-orange-50",iconBg:"bg-orange-100",textColor:"text-orange-800",borderColor:"border-l-4 border-orange-500"},{title:"Re-engage",value:t.reengageCount,subtitle:"72+ hours ago",emoji:"",bgColor:"bg-red-50",iconBg:"bg-red-100",textColor:"text-red-800",borderColor:"border-l-4 border-red-500"},{title:"Total Students",value:t.totalStudents,subtitle:"In department",emoji:"",bgColor:"bg-gray-50",iconBg:"bg-gray-100",textColor:"text-gray-800",borderColor:"border-l-4 border-gray-500"},{title:"Avg Progress",value:`${t.averageProgress}%`,subtitle:"Course completion",emoji:"",bgColor:"bg-purple-50",iconBg:"bg-purple-100",textColor:"text-purple-800",borderColor:"border-l-4 border-purple-500"}];return l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:e.map((n,s)=>l.jsx("div",{className:`kpi-card ${n.bgColor} ${n.borderColor} animate-fadeIn`,style:{animationDelay:`${s*50}ms`},children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${n.textColor} mb-1`,children:n.title}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.value}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.subtitle})]}),l.jsx("div",{className:`kpi-icon ${n.iconBg} text-2xl`,children:n.emoji})]})},s))})}function da({status:t}){const e=()=>{switch(t.class){case"blue":return"badge-complete";case"green":return"badge-active";case"orange":return"badge-warning";case"red":return"badge-reengage";case"gray":return"badge-abandoned";case"expired":return"badge-expired";default:return"badge-reengage"}};return l.jsxs("span",{className:`badge ${e()}`,children:[l.jsx("span",{className:"mr-1",children:t.emoji}),t.status]})}function lr({progress:t,showLabel:e=!0}){const n=()=>{switch(t.colorClass){case"high":return"progress-high";case"med":return"progress-med";case"low":return"progress-low";default:return"progress-low"}};return l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"flex-1 progress-bar",children:l.jsx("div",{className:`progress-fill ${n()}`,style:{width:`${t.value}%`}})}),e&&l.jsx("span",{className:"text-sm font-medium text-gray-700 w-12 text-right",children:t.display})]})}function Ny({students:t,onViewStudent:e,showDepartment:n=!1,onHideStudent:s,showHidden:i=!1}){const[r,o]=L.useState("status"),[a,c]=L.useState("asc"),u=f=>{r===f?c(a==="asc"?"desc":"asc"):(o(f),c("asc"))},d=[...t].sort((f,g)=>{let y,x;switch(r){case"name":y=f.fullName.toLowerCase(),x=g.fullName.toLowerCase();break;case"status":y=f.status.priority,x=g.status.priority;break;case"lastLogin":y=f.lastLogin.raw?new Date(f.lastLogin.raw).getTime():0,x=g.lastLogin.raw?new Date(g.lastLogin.raw).getTime():0;break;case"progress":y=f.progress.value,x=g.progress.value;break;case"course":y=f.courseName.toLowerCase(),x=g.courseName.toLowerCase();break;case"department":y=(f.departmentName||"").toLowerCase(),x=(g.departmentName||"").toLowerCase();break;default:y=f.status.priority,x=g.status.priority}return y<x?a==="asc"?-1:1:y>x?a==="asc"?1:-1:0}),h=({field:f})=>r!==f?l.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}):a==="asc"?l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}):l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})});return t.length===0?l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No students found"}),l.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]}):l.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>u("name"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Student"}),l.jsx(h,{field:"name"})]})}),n&&l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 hidden lg:table-cell",onClick:()=>u("department"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Dept"}),l.jsx(h,{field:"department"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>u("status"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Status"}),l.jsx(h,{field:"status"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>u("lastLogin"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Last Login"}),l.jsx(h,{field:"lastLogin"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 hidden md:table-cell",onClick:()=>u("course"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Course"}),l.jsx(h,{field:"course"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>u("progress"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Progress"}),l.jsx(h,{field:"progress"})]})}),l.jsx("th",{className:"sticky right-0 bg-gray-50 min-w-[80px] whitespace-nowrap",children:"Action"})]})}),l.jsx("tbody",{children:d.map((f,g)=>{var y,x;return l.jsxs("tr",{className:"animate-fadeIn",style:{animationDelay:`${g*20}ms`},children:[l.jsx("td",{children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:f.fullName}),l.jsx("p",{className:"text-sm text-gray-500",children:f.email})]})}),n&&l.jsx("td",{className:"hidden lg:table-cell",children:l.jsx("p",{className:"text-gray-700 text-sm truncate max-w-[220px]",title:f.departmentName||"",children:f.departmentName||"-"})}),l.jsx("td",{children:l.jsx(da,{status:f.status})}),l.jsx("td",{children:l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-900",children:f.lastLogin.relative}),l.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:f.lastLogin.formatted})]})}),l.jsx("td",{className:"hidden md:table-cell",children:l.jsx("p",{className:"text-gray-900 truncate max-w-sm",title:f.courseName,children:f.courseName})}),l.jsx("td",{children:l.jsxs("div",{className:"w-36",children:[l.jsx(lr,{progress:f.progress}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Course: ",((y=f.timeSpent)==null?void 0:y.formatted)||"0m"]}),((x=f.examPrepTime)==null?void 0:x.minutes)>0&&l.jsxs("p",{className:"text-xs text-purple-500",children:["Prep: ",f.examPrepTime.formatted]})]})}),l.jsx("td",{className:"sticky right-0 bg-white",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>e(f),className:"btn btn-secondary text-sm py-1 px-3 whitespace-nowrap",children:"View"}),s&&l.jsx("button",{onClick:()=>s(f.email),className:`p-1.5 rounded transition-colors ${i?"text-green-600 hover:bg-green-50":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,title:i?"Unhide student":"Hide student",children:i?l.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})})})]})})]},f.id||`${f.email}-${g}`)})})]})})})}function Cy({students:t,onViewStudent:e,adminMode:n,onHideStudent:s,showHidden:i=!1}){const[r,o]=L.useState("examDate"),[a,c]=L.useState("asc"),u=S=>{r===S?c(a==="asc"?"desc":"asc"):(o(S),c("asc"))},d=S=>{if(!S)return 0;const C=S.trim(),z=C.split("/");if(z.length===3){let Y=parseInt(z[2],10);Y<100&&(Y+=2e3);const X=new Date(Y,parseInt(z[0],10)-1,parseInt(z[1],10));if(!isNaN(X.getTime()))return X.getTime()}const H=C.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(H){const Y=new Date(parseInt(H[1],10),parseInt(H[2],10)-1,parseInt(H[3],10));if(!isNaN(Y.getTime()))return Y.getTime()}const $=new Date(C);return isNaN($.getTime())?0:new Date($.getFullYear(),$.getMonth(),$.getDate()).getTime()},h=S=>{const C=d(S.examDateRaw||S.examDate);if(!C)return"upcoming";const z=new Date(C),H=new Date,$=z.getFullYear(),Y=z.getMonth(),X=z.getDate(),D=H.getFullYear(),R=H.getMonth(),W=H.getDate();return $===D&&Y===R&&X===W?"today":new Date($,Y,X)>new Date(D,R,W)?"upcoming":"past"},f=S=>[...S].sort((C,z)=>{var Y,X,D,R;let H,$;switch(r){case"name":H=(C.fullName||"").toLowerCase(),$=(z.fullName||"").toLowerCase();break;case"status":H=((Y=C.status)==null?void 0:Y.priority)??99,$=((X=z.status)==null?void 0:X.priority)??99;break;case"examDate":H=d(C.examDateRaw||C.examDate),$=d(z.examDateRaw||z.examDate);break;case"department":H=(C.departmentName||"").toLowerCase(),$=(z.departmentName||"").toLowerCase();break;case"progress":H=((D=C.progress)==null?void 0:D.value)??0,$=((R=z.progress)==null?void 0:R.value)??0;break;case"result":H=(C.passFail||"").toUpperCase()==="PASS"?1:(C.passFail||"").toUpperCase()==="FAIL"?3:2,$=(z.passFail||"").toUpperCase()==="PASS"?1:(z.passFail||"").toUpperCase()==="FAIL"?3:2;break;case"state":H=(C.examState||"").toLowerCase(),$=(z.examState||"").toLowerCase();break;case"course":H=(C.courseName||"").toLowerCase(),$=(z.courseName||"").toLowerCase();break;default:H=d(C.examDateRaw||C.examDate),$=d(z.examDateRaw||z.examDate)}return H<$?a==="asc"?-1:1:H>$?a==="asc"?1:-1:0}),g=t.filter(S=>h(S)==="today"),y=t.filter(S=>h(S)==="upcoming"),x=t.filter(S=>h(S)==="past"),w=f(g),p=f(y),m=r==="examDate"?[...x].sort((S,C)=>{const z=d(S.examDateRaw||S.examDate),H=d(C.examDateRaw||C.examDate);return a==="asc"?H-z:z-H}):f(x),v=[];w.length>0&&v.push({label:"Today's Exams",color:"blue",icon:"calendar-today",students:w}),p.length>0&&v.push({label:"Upcoming Exams",color:"green",icon:"calendar-upcoming",students:p}),m.length>0&&v.push({label:"Past Exams",color:"gray",icon:"calendar-past",students:m});const k=9,j=({field:S})=>r!==S?l.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}):a==="asc"?l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}):l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),N=S=>{const C=d(S);if(!C)return!1;const z=new Date(C),H=new Date;return H.setHours(0,0,0,0),z<H},M=S=>{const C=(S.passFail||"").toUpperCase();return C==="PASS"?"green":C==="FAIL"?"red":"gray"};if(t.length===0)return l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No exam students found"}),l.jsx("p",{className:"text-gray-500",children:"No students with scheduled exams"})]});const _=(S,C,z)=>{var W,Z,J,ve;const H=N(S.examDateRaw||S.examDate),$=((W=S.passFail)==null?void 0:W.toUpperCase())==="PASS",Y=((Z=S.passFail)==null?void 0:Z.toUpperCase())==="FAIL",X=M(S),D=X==="green"?"bg-green-500":X==="yellow"?"bg-yellow-400":X==="gray"?"bg-gray-400":"bg-red-500",R=h(S)==="today";return l.jsxs("tr",{className:`animate-fadeIn ${R?"bg-blue-50/40":""}`,style:{animationDelay:`${(z+C)*20}ms`},children:[l.jsx("td",{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-2.5 h-2.5 rounded-full flex-shrink-0 ${D}`,title:`Readiness: ${X}`}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:S.fullName}),l.jsx("p",{className:"text-sm text-gray-500",children:S.email})]})]})}),n&&l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",title:S.departmentName,children:S.departmentName||"Unknown"})}),l.jsx("td",{children:S.matched!==!1?l.jsx(da,{status:S.status}):l.jsx("span",{className:"badge bg-gray-100 text-gray-600",children:"N/A"})}),l.jsx("td",{children:l.jsxs("div",{children:[l.jsxs("p",{className:`font-medium ${H?"text-gray-400":R?"text-blue-700 font-semibold":"text-gray-900"}`,children:[S.examDate||"TBD",R&&l.jsx("span",{className:"ml-1.5 text-xs font-medium text-blue-500",children:"TODAY"})]}),S.examTime&&l.jsx("p",{className:"text-xs text-gray-500",children:S.examTime})]})}),l.jsx("td",{children:l.jsxs("div",{className:"min-w-[180px]",children:[l.jsx(lr,{progress:S.progress}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Course: ",((J=S.timeSpent)==null?void 0:J.formatted)||"0m"]}),((ve=S.examPrepTime)==null?void 0:ve.minutes)>0&&l.jsxs("p",{className:"text-xs text-purple-500",children:["Prep: ",S.examPrepTime.formatted]})]})}),l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",title:S.courseName,children:S.courseName})}),l.jsx("td",{children:$?l.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-sm font-bold bg-green-100 text-green-800 border border-green-300",children:"PASS"}):Y?l.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-sm font-bold bg-red-100 text-red-800 border border-red-300",children:"FAIL"}):l.jsx("span",{className:"text-gray-400 text-sm",children:""})}),!n&&l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",title:S.departmentName,children:S.departmentName||"Unknown"})}),l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",children:S.examState||""})}),l.jsx("td",{className:"sticky right-0 bg-white",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>e(S),className:"btn btn-secondary text-sm py-1 px-3 whitespace-nowrap",children:"View"}),s&&l.jsx("button",{onClick:()=>s(S.email),className:`p-1.5 rounded transition-colors ${i?"text-green-600 hover:bg-green-50":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,title:i?"Unhide student":"Hide student",children:i?l.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})})})]})})]},`${S.email}-${S.examDateRaw||C}`)},F={blue:{bg:"bg-blue-600",text:"text-white",border:"border-blue-700"},green:{bg:"bg-emerald-50",text:"text-emerald-700",border:"border-emerald-200"},gray:{bg:"bg-gray-100",text:"text-gray-500",border:"border-gray-200"}};let A=0;return l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[l.jsxs("div",{className:"bg-blue-50 border-b border-blue-100 px-4 py-2 text-xs text-blue-700 flex items-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("span",{children:["Scroll horizontally to see all columns ","",' Click "View" to edit exam dates']})]}),l.jsx("div",{className:"table-scroll-wrapper",children:l.jsxs("table",{className:"data-table min-w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[200px]",onClick:()=>u("name"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Student"}),l.jsx(j,{field:"name"})]})}),n&&l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[130px]",onClick:()=>u("department"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Department"}),l.jsx(j,{field:"department"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[100px]",onClick:()=>u("status"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Status"}),l.jsx(j,{field:"status"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[120px]",onClick:()=>u("examDate"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Exam Date"}),l.jsx(j,{field:"examDate"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[200px]",onClick:()=>u("progress"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Progress"}),l.jsx(j,{field:"progress"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[180px]",onClick:()=>u("course"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Course"}),l.jsx(j,{field:"course"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[80px]",onClick:()=>u("result"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Result"}),l.jsx(j,{field:"result"})]})}),!n&&l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[130px]",onClick:()=>u("department"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Department"}),l.jsx(j,{field:"department"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[70px]",onClick:()=>u("state"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"State"}),l.jsx(j,{field:"state"})]})}),l.jsx("th",{className:"sticky right-0 bg-gray-50 min-w-[80px] whitespace-nowrap",children:"Action"})]})}),l.jsx("tbody",{children:v.map((S,C)=>{const z=F[S.color],H=A;return A+=S.students.length,l.jsxs(Ff.Fragment,{children:[l.jsx("tr",{children:l.jsx("td",{colSpan:k,className:`${z.bg} ${z.text} ${z.border} border-y px-4 py-2`,children:l.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[S.color==="blue"&&l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),S.color==="green"&&l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),S.color==="gray"&&l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{children:S.label}),l.jsxs("span",{className:`text-xs font-normal ${S.color==="blue"?"text-blue-200":"opacity-60"}`,children:["(",S.students.length," student",S.students.length!==1?"s":"",")"]})]})})}),S.students.map(($,Y)=>_($,Y,H))]},S.label)})})]})})]})}const fh="/api";function sl(t){if(!t||t<=0)return"0m";const e=Math.round(t*60),n=Math.floor(e/60),s=e%60;return n===0?`${s}m`:s===0?`${n}h`:`${n}h ${s}m`}function My(t){const e=t.toLowerCase();return e.includes("pre-licens")||e.includes("prelicens")||e.includes("pre licens")}function Ly(t){const e=t.toLowerCase();return e.includes("module")||e.includes("chapter")||e.includes("lesson")||e.includes("unit")}function Ey(t){const e=t.toLowerCase();return e.includes("practice")||e.includes("prep")||e.includes("study")}function Py(t){const e=[],n=[],s=[];for(const i of t){const r=i.courseName||"";My(r)||Ly(r)?e.push(i):Ey(r)?n.push(i):s.push(i)}return{preLicensing:e,examPrep:n,other:s}}function ph({enrollment:t,isModule:e=!1}){var n,s;return l.jsxs("div",{className:`border border-gray-200 rounded-lg p-4 ${e?"ml-4 bg-gray-50":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("p",{className:`font-medium text-gray-900 ${e?"text-sm":""}`,children:[e&&l.jsx("span",{className:"text-gray-400 mr-2",children:"|--"}),t.courseName]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t.status===2?"bg-green-100 text-green-800":t.status===1?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:t.statusText})]}),l.jsx(lr,{progress:t.progress}),l.jsxs("div",{className:"flex items-center justify-between mt-2 text-sm text-gray-500",children:[l.jsxs("span",{children:["Time: ",((n=t.timeSpent)==null?void 0:n.formatted)||"0m"]}),l.jsxs("span",{children:["Last accessed: ",((s=t.lastAccessed)==null?void 0:s.relative)||"Never"]})]})]})}function il({title:t,icon:e,color:n,enrollments:s,defaultExpanded:i=!0}){var d;const[r,o]=L.useState(i);if(!s.length)return null;const a=s.find(h=>{const f=(h.courseName||"").toLowerCase();return!f.includes("module")&&!f.includes("chapter")&&!f.includes("lesson")})||s[0],c=Math.round(((d=a.progress)==null?void 0:d.value)??a.progress??0),u=s.filter(h=>h.id!==a.id);return l.jsxs("div",{className:`border-2 rounded-xl overflow-hidden ${n}`,children:[l.jsxs("div",{className:"px-4 py-3 cursor-pointer flex items-center justify-between",onClick:()=>o(!r),children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:e}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-900",children:t}),l.jsxs("p",{className:"text-sm text-gray-600",children:[s.length," course",s.length>1?"s":""]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[c,"%"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Overall Progress"})]}),l.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]}),r&&l.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[l.jsx(ph,{enrollment:a}),u.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide ml-4",children:["Modules (",u.length,")"]}),u.map(h=>l.jsx(ph,{enrollment:h,isModule:!0},h.id))]})]})]})}function Dy({enrollments:t}){const{preLicensing:e,examPrep:n,other:s}=L.useMemo(()=>Py(t),[t]);return l.jsxs("div",{className:"space-y-4",children:[l.jsx(il,{title:"Pre-Licensing Course",icon:"",color:"border-blue-200 bg-blue-50/50",enrollments:e,defaultExpanded:!0}),l.jsx(il,{title:"Exam Prep",icon:"",color:"border-purple-200 bg-purple-50/50",enrollments:n,defaultExpanded:!0}),s.length>0&&l.jsx(il,{title:"Other Courses",icon:"",color:"border-gray-200 bg-gray-50/50",enrollments:s,defaultExpanded:!1})]})}function Fr(t){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t)}function Ty({studentId:t,examInfo:e,onClose:n,onSessionExpired:s,onUpdateResult:i,onUpdateExamDate:r,onUpdateStudentContact:o}){var R,W,Z,J,ve,be;const[a,c]=L.useState(null),[u,d]=L.useState(!0),[h,f]=L.useState(null),[g,y]=L.useState(!1),[x,w]=L.useState(""),[p,m]=L.useState(""),[v,k]=L.useState(!1),[j,N]=L.useState({firstName:"",lastName:"",emailAddress:"",phone:""}),[M,_]=L.useState(""),[F,A]=L.useState(!1),[S,C]=L.useState([]),[z,H]=L.useState(!1),[$,Y]=L.useState(!1);L.useEffect(()=>{X()},[t]);const X=async()=>{var O;d(!0),f(null);try{const V=new URLSearchParams;e!=null&&e.examCourse&&V.set("courseType",e.examCourse);const se=V.toString()?`?${V.toString()}`:"",Le=await fetch(`${fh}/students/${t}${se}`,{credentials:"include"});if(!Le.ok){if(Le.status===401){s();return}throw new Error("Failed to fetch student details")}const we=await Le.json();if(we.success)c(we.student),(O=we.student)!=null&&O.email&&fetch(`${fh}/exam/snapshots/${encodeURIComponent(we.student.email)}`,{credentials:"include"}).then(ke=>ke.ok?ke.json():null).then(ke=>{ke!=null&&ke.success&&C(ke.snapshots||[])}).catch(()=>{});else throw new Error(we.error||"Failed to load student")}catch(V){f(V.message)}finally{d(!1)}},D=async()=>{if(_(""),!j.firstName.trim()||!j.lastName.trim()){_("First and last name are required");return}if(!Fr(j.emailAddress)){_("Please enter a valid email address");return}A(!0);try{const O=await o(t,{firstName:j.firstName.trim(),lastName:j.lastName.trim(),emailAddress:j.emailAddress.trim(),phone:j.phone.trim()});O.success?(c(V=>({...V,firstName:O.student.firstName,lastName:O.student.lastName,fullName:`${O.student.firstName} ${O.student.lastName}`.trim(),email:O.student.emailAddress,phone:O.student.phone})),k(!1)):_(O.error||"Update failed")}catch{_("Failed to save changes")}finally{A(!1)}};return L.useEffect(()=>{const O=V=>{V.key==="Escape"&&n()};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[n]),L.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),l.jsx("div",{className:"modal-overlay",onClick:n,children:l.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),children:[l.jsx("div",{className:"header px-6 py-4 rounded-t-xl",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Student Details"}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:l.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"p-6",children:u?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"spinner mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Loading student details..."})]}):h?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("svg",{className:"w-12 h-12 mx-auto text-red-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("p",{className:"text-red-600",children:h}),l.jsx("button",{onClick:X,className:"mt-4 btn btn-secondary",children:"Try Again"})]}):a?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[v?l.jsxs("div",{className:"flex-1 mr-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"First Name"}),l.jsx("input",{type:"text",value:j.firstName,onChange:O=>N(V=>({...V,firstName:O.target.value})),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Last Name"}),l.jsx("input",{type:"text",value:j.lastName,onChange:O=>N(V=>({...V,lastName:O.target.value})),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Email"}),l.jsx("input",{type:"email",value:j.emailAddress,onChange:O=>N(V=>({...V,emailAddress:O.target.value})),className:`w-full px-3 py-1.5 border rounded-lg text-sm focus:outline-none focus:ring-2 ${j.emailAddress&&!Fr(j.emailAddress)?"border-red-300 focus:ring-red-400":"border-gray-300 focus:ring-blue-500"}`}),j.emailAddress&&!Fr(j.emailAddress)&&l.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Invalid email format"})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Phone"}),l.jsx("input",{type:"tel",value:j.phone,onChange:O=>N(V=>({...V,phone:O.target.value})),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional"})]}),M&&l.jsx("p",{className:"text-xs text-red-500 mb-2",children:M}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:D,disabled:F||j.emailAddress&&!Fr(j.emailAddress),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg text-xs font-medium hover:bg-green-700 transition-colors disabled:opacity-50",children:F?"Saving...":"Save"}),l.jsx("button",{onClick:()=>{k(!1),_("")},className:"px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg text-xs hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:a.fullName}),l.jsx("p",{className:"text-gray-500",children:a.email}),a.phone&&l.jsx("p",{className:"text-gray-400 text-sm",children:a.phone})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[!v&&o&&l.jsxs("button",{onClick:()=>{k(!0),N({firstName:a.firstName||"",lastName:a.lastName||"",emailAddress:a.email||"",phone:a.phone||""}),_("")},className:"text-xs px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-1 shadow-sm",children:[l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),l.jsx(da,{status:a.status})]})]}),e&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2 text-sm",children:[l.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Exam Scheduling",r&&!g&&l.jsxs("button",{onClick:()=>{y(!0),w(e.examDateRaw||""),m(e.examTime||"")},className:"ml-auto text-xs px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-1 shadow-sm",children:[l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Date"]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[g&&r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Exam Date"}),l.jsx("input",{type:"date",value:x,onChange:O=>w(O.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Time"}),l.jsx("input",{type:"text",value:p,onChange:O=>m(O.target.value),placeholder:"e.g., 2:00 PM",className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"col-span-2 flex gap-2",children:[l.jsx("button",{onClick:()=>{x&&e.email&&(r(e.email,x,p),y(!1))},className:"px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 transition-colors",children:"Save"}),l.jsx("button",{onClick:()=>y(!1),className:"px-2 py-1 bg-gray-200 text-gray-700 rounded text-xs hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Exam Date"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.examDate||"TBD"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Time"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.examTime||"N/A"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"State"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.examState||"N/A"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Result"}),i&&e.email?l.jsxs("div",{className:"flex gap-1.5 mt-0.5",children:[l.jsx("button",{onClick:()=>i(e.email,(e.passFail||"").toUpperCase()==="PASS"?"":"PASS"),className:`px-2 py-0.5 rounded text-xs font-medium transition-colors ${(e.passFail||"").toUpperCase()==="PASS"?"bg-green-600 text-white shadow-sm":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200"}`,children:"PASS"}),l.jsx("button",{onClick:()=>i(e.email,(e.passFail||"").toUpperCase()==="FAIL"?"":"FAIL"),className:`px-2 py-0.5 rounded text-xs font-medium transition-colors ${(e.passFail||"").toUpperCase()==="FAIL"?"bg-red-600 text-white shadow-sm":"bg-red-50 text-red-700 hover:bg-red-100 border border-red-200"}`,children:"FAIL"})]}):l.jsxs("p",{className:"font-semibold text-sm",children:[(e.passFail||"").toUpperCase()==="PASS"&&l.jsx("span",{className:"text-green-700 bg-green-100 px-2 py-0.5 rounded text-xs",children:"PASS"}),(e.passFail||"").toUpperCase()==="FAIL"&&l.jsx("span",{className:"text-red-700 bg-red-100 px-2 py-0.5 rounded text-xs",children:"FAIL"}),!(e.passFail||"").trim()&&l.jsx("span",{className:"text-gray-500",children:"Pending"})]})]})]}),(e.departmentName||e.agencyOwner)&&l.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[e.departmentName&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Department"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.departmentName})]}),e.agencyOwner&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Agency Owner"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.agencyOwner})]})]}),e.sheetTracking&&(e.sheetTracking.studyHoursAtExam||e.sheetTracking.finalPractice)&&l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-3 pt-3 border-t border-blue-200",children:[e.sheetTracking.studyHoursAtExam&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-purple-700",children:e.sheetTracking.studyHoursAtExam}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Hours"})]}),e.sheetTracking.finalPractice&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-blue-700",children:e.sheetTracking.finalPractice}),l.jsx("p",{className:"text-xs text-gray-500",children:"Practice %"})]}),e.sheetTracking.chaptersComplete&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-green-700",children:e.sheetTracking.chaptersComplete}),l.jsx("p",{className:"text-xs text-gray-500",children:"Chapters"})]}),e.sheetTracking.studyConsistency&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-gray-700",children:e.sheetTracking.studyConsistency}),l.jsx("p",{className:"text-xs text-gray-500",children:"Consistency"})]})]})]}),a.readiness&&l.jsxs("div",{className:`border-2 rounded-xl p-4 ${a.readiness.status==="GREEN"?"border-green-300 bg-green-50":a.readiness.status==="YELLOW"?"border-yellow-300 bg-yellow-50":"border-red-300 bg-red-50"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2 text-sm",children:[l.jsx("span",{className:`w-3 h-3 rounded-full ${a.readiness.status==="GREEN"?"bg-green-500":a.readiness.status==="YELLOW"?"bg-yellow-400":"bg-red-500"}`}),"Exam Readiness"]}),l.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${a.readiness.status==="GREEN"?"bg-green-200 text-green-800":a.readiness.status==="YELLOW"?"bg-yellow-200 text-yellow-800":"bg-red-200 text-red-800"}`,children:[a.readiness.status," (",a.readiness.criteriaMet,"/",a.readiness.criteriaTotal,")"]})]}),l.jsxs("div",{className:"space-y-2",children:[a.readiness.criteria.practiceExams&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.practiceExams.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.practiceExams.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Practice Exams"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[a.readiness.criteria.practiceExams.consecutivePassing,"/3 consecutive passing","  ",a.readiness.criteria.practiceExams.totalExams," exam",a.readiness.criteria.practiceExams.totalExams!==1?"s":""," found","  ",sl(a.readiness.criteria.practiceExams.hoursSpent)," total time"]})]})]}),((R=a.readiness.criteria.practiceExams.details)==null?void 0:R.length)>0&&l.jsx("div",{className:"mt-2 ml-7 space-y-1",children:a.readiness.criteria.practiceExams.details.map((O,V)=>l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx("span",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${O.score>=80?"bg-green-500":"bg-red-400"}`}),l.jsxs("span",{className:`font-medium ${O.score>=80?"text-green-700":"text-red-600"}`,children:[Math.round(O.score*10)/10,"%"]}),l.jsxs("span",{className:"text-gray-400",children:[O.minutes,"m"]}),l.jsx("span",{className:"text-gray-400 truncate",title:O.name,children:O.name})]},V))})]}),a.readiness.criteria.timeInCourse&&l.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg p-2.5",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.timeInCourse.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.timeInCourse.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Time in Course"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[sl(a.readiness.criteria.timeInCourse.hoursLogged)," / ",a.readiness.criteria.timeInCourse.hoursRequired,"h required (",a.readiness.criteria.timeInCourse.courseType,")"]})]})]}),a.readiness.criteria.stateLaws&&l.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg p-2.5",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.stateLaws.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.stateLaws.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"State Laws"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[a.readiness.criteria.stateLaws.completions," completion",a.readiness.criteria.stateLaws.completions!==1?"s":"",", ",sl(a.readiness.criteria.stateLaws.hoursSpent)," spent (need 1 completion + 1h 30m)"]})]})]}),a.readiness.criteria.videos&&l.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg p-2.5",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.videos.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.videos.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Videos"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[((W=a.readiness.criteria.videos.details)==null?void 0:W.life)&&l.jsxs("span",{children:["Life: ",a.readiness.criteria.videos.details.life.minutes,"m/30m",a.readiness.criteria.videos.details.life.met?" ":""," "]}),((Z=a.readiness.criteria.videos.details)==null?void 0:Z.health)&&l.jsxs("span",{children:["Health: ",a.readiness.criteria.videos.details.health.minutes,"m/30m",a.readiness.criteria.videos.details.health.met?" ":""]}),!((J=a.readiness.criteria.videos.details)!=null&&J.life)&&!((ve=a.readiness.criteria.videos.details)!=null&&ve.health)&&l.jsxs("span",{children:[a.readiness.criteria.videos.totalCourses," video course",a.readiness.criteria.videos.totalCourses!==1?"s":""]})]})]})]})]})]}),a.gapMetrics&&a.gapMetrics.study_gap_count>0&&l.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4",children:[l.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2 text-sm mb-3",children:[l.jsx("svg",{className:"w-4 h-4 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Study Consistency"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:`text-lg font-bold ${a.gapMetrics.study_gap_count>5?"text-red-600":a.gapMetrics.study_gap_count>2?"text-orange-600":"text-green-600"}`,children:a.gapMetrics.study_gap_count}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Gaps"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-gray-700",children:a.gapMetrics.total_gap_days}),l.jsx("p",{className:"text-xs text-gray-500",children:"Total Gap Days"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:`text-lg font-bold ${a.gapMetrics.largest_gap_days>7?"text-red-600":a.gapMetrics.largest_gap_days>3?"text-orange-600":"text-green-600"}`,children:a.gapMetrics.largest_gap_days}),l.jsx("p",{className:"text-xs text-gray-500",children:"Largest Gap (days)"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-sm font-bold text-gray-700",children:a.gapMetrics.last_gap_date||"N/A"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Last Gap Date"})]})]}),a.gapMetrics.timeline&&a.gapMetrics.timeline.length>0&&l.jsxs("div",{className:"mt-3",children:[l.jsx("button",{onClick:()=>Y(!$),className:"text-xs text-orange-600 hover:text-orange-800 font-medium mb-2",children:$?"Hide Timeline":"Show Timeline"}),$&&l.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:a.gapMetrics.timeline.map((O,V)=>{const se=new Date(O.start+"T00:00:00"),Le=new Date(O.end+"T00:00:00"),we=dr=>dr.toLocaleDateString("en-US",{month:"short",day:"numeric"}),ke=O.days===1?we(se):`${we(se)} - ${we(Le)}`,Pt=O.type==="gap",Gs=Pt&&O.days>=4;return l.jsxs("div",{className:`flex items-center gap-2 px-2.5 py-1.5 rounded-lg text-xs ${Pt?Gs?"bg-red-50 border border-red-200":"bg-orange-50 border border-orange-200":"bg-green-50 border border-green-200"}`,children:[l.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${Pt?Gs?"bg-red-400":"bg-orange-400":"bg-green-400"}`}),l.jsx("span",{className:"font-medium text-gray-700 min-w-[120px]",children:ke}),l.jsxs("span",{className:"text-gray-500",children:["(",O.days,"d)"]}),l.jsx("span",{className:`font-medium ${Pt?Gs?"text-red-600":"text-orange-600":"text-green-600"}`,children:Pt?"Gap":"Studied"})]},V)})})]})]}),S.length>0&&l.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-xl p-4",children:[l.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2 text-sm mb-3 cursor-pointer",onClick:()=>H(!z),children:[l.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Study History",l.jsxs("span",{className:"text-xs font-normal text-gray-500 ml-1",children:["(",S.length," snapshot",S.length!==1?"s":"",")"]}),l.jsx("svg",{className:`w-4 h-4 ml-auto text-gray-400 transition-transform ${z?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),(()=>{const O=S[0],V=S[S.length-1],se=O.total_time_min-V.total_time_min,Le=O.prelicense_progress-V.prelicense_progress,we=ke=>ke>=60?`${Math.floor(ke/60)}h ${Math.round(ke%60)}m`:`${Math.round(ke)}m`;return l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-indigo-700",children:we(O.total_time_min)}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Time"}),S.length>1&&se>0&&l.jsxs("p",{className:"text-xs text-green-600",children:["+",we(se)]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsxs("p",{className:"text-lg font-bold text-indigo-700",children:[O.prelicense_progress,"%"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Pre-License"}),S.length>1&&Le!==0&&l.jsxs("p",{className:`text-xs ${Le>0?"text-green-600":"text-red-500"}`,children:[Le>0?"+":"",Le.toFixed(1),"%"]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-indigo-700",children:O.consecutive_passing}),l.jsx("p",{className:"text-xs text-gray-500",children:"Consec. Passing"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("span",{className:`inline-block w-3 h-3 rounded-full mr-1 ${O.readiness==="GREEN"?"bg-green-500":O.readiness==="YELLOW"?"bg-yellow-400":"bg-red-500"}`}),l.jsx("span",{className:"text-sm font-bold text-gray-700",children:O.criteria_met}),l.jsx("p",{className:"text-xs text-gray-500",children:"Readiness"})]})]})})(),S.length>1&&l.jsxs("div",{className:"bg-white rounded-lg p-3 mb-3",children:[l.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Study Time Progression"}),l.jsx("div",{className:"flex items-end gap-1",style:{height:"48px"},children:(()=>{const O=[...S].reverse(),V=Math.max(...O.map(se=>se.total_time_min),1);return O.map((se,Le)=>{const we=Math.max(se.total_time_min/V*100,4),ke=se.readiness==="GREEN"?"bg-green-400":se.readiness==="YELLOW"?"bg-yellow-400":"bg-red-400";return l.jsx("div",{className:`flex-1 rounded-t ${ke} transition-all`,style:{height:`${we}%`,minWidth:"4px",maxWidth:"24px"},title:`${new Date(se.snapshot_time).toLocaleDateString()} - ${Math.round(se.total_time_min)}min (${se.readiness})`},se.id||Le)})})()}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[l.jsx("span",{children:new Date(S[S.length-1].snapshot_time).toLocaleDateString()}),l.jsx("span",{children:new Date(S[0].snapshot_time).toLocaleDateString()})]})]}),z&&l.jsx("div",{className:"bg-white rounded-lg overflow-hidden",children:l.jsxs("table",{className:"w-full text-xs",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-indigo-100 text-gray-600",children:[l.jsx("th",{className:"px-2 py-1.5 text-left",children:"Date"}),l.jsx("th",{className:"px-2 py-1.5 text-right",children:"Time"}),l.jsx("th",{className:"px-2 py-1.5 text-right",children:"Progress"}),l.jsx("th",{className:"px-2 py-1.5 text-right",children:"Passing"}),l.jsx("th",{className:"px-2 py-1.5 text-center",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:S.map((O,V)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"px-2 py-1.5 text-gray-600",children:[new Date(O.snapshot_time).toLocaleDateString()," ",new Date(O.snapshot_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),l.jsx("td",{className:"px-2 py-1.5 text-right font-medium",children:O.total_time_min>=60?`${Math.floor(O.total_time_min/60)}h ${Math.round(O.total_time_min%60)}m`:`${Math.round(O.total_time_min)}m`}),l.jsxs("td",{className:"px-2 py-1.5 text-right",children:[O.prelicense_progress,"%"]}),l.jsxs("td",{className:"px-2 py-1.5 text-right",children:[O.consecutive_passing,"/3"]}),l.jsx("td",{className:"px-2 py-1.5 text-center",children:l.jsx("span",{className:`inline-block w-2.5 h-2.5 rounded-full ${O.readiness==="GREEN"?"bg-green-500":O.readiness==="YELLOW"?"bg-yellow-400":"bg-red-500"}`,title:`${O.readiness} (${O.criteria_met})`})})]},O.id||V))})]})})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Last Login"}),l.jsx("p",{className:"font-semibold text-gray-900",children:a.lastLogin.relative})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Course Time"}),l.jsx("p",{className:"font-semibold text-gray-900",children:a.timeSpent.formatted})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam Prep Time"}),l.jsx("p",{className:"font-semibold text-purple-700",children:((be=a.examPrepTime)==null?void 0:be.formatted)||"0m"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Total Study Time"}),l.jsx("p",{className:"font-semibold text-gray-900",children:(()=>{var Le,we;const O=((Le=a.timeSpent)==null?void 0:Le.minutes)||0,V=((we=a.examPrepTime)==null?void 0:we.minutes)||0,se=O+V;return se>=60?`${Math.floor(se/60)}h ${se%60}m`:`${se}m`})()})]})]}),l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"font-medium text-gray-900",children:a.courseName}),l.jsx("span",{className:"text-sm text-gray-500",children:a.enrollmentStatusText})]}),l.jsx(lr,{progress:a.progress})]}),a.enrollments&&a.enrollments.length>0&&l.jsx(Dy,{enrollments:a.enrollments})]}):null}),l.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:l.jsx("button",{onClick:n,className:"btn btn-secondary",children:"Close"})})]})})}function Ay({student:t,adminMode:e,onClose:n,onUpdateResult:s,onUpdateExamDate:i,onUpdateContact:r}){var A,S;const[o,a]=L.useState(!1),[c,u]=L.useState(""),[d,h]=L.useState(""),[f,g]=L.useState(!1),[y,x]=L.useState(""),[w,p]=L.useState(""),[m,v]=L.useState(""),[k,j]=L.useState(!1);L.useEffect(()=>{const C=z=>{z.key==="Escape"&&n()};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[n]),L.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const N=(t.passFail||"").toUpperCase()==="PASS",M=(t.passFail||"").toUpperCase()==="FAIL",_=t.sheetTracking||{},F=C=>{const z=(C||"").toUpperCase();return z==="GREEN"?"bg-green-100 text-green-700":z==="YELLOW"?"bg-yellow-100 text-yellow-700":z==="RED"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"};return l.jsx("div",{className:"modal-overlay",onClick:n,children:l.jsxs("div",{className:"modal-content",onClick:C=>C.stopPropagation(),children:[l.jsx("div",{className:`${e?"bg-gradient-to-r from-purple-700 to-purple-900":"header"} px-6 py-4 rounded-t-xl`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Student Details"}),e&&l.jsx("span",{className:"px-2 py-0.5 bg-white/20 rounded text-xs text-white font-medium",children:"Admin"})]}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:l.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"p-6 max-h-[80vh] overflow-y-auto",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("div",{children:f?l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"text",value:y,onChange:C=>x(C.target.value),placeholder:"Full Name",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("input",{type:"email",value:w,onChange:C=>p(C.target.value),placeholder:"Email",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("input",{type:"tel",value:m,onChange:C=>v(C.target.value),placeholder:"Phone",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{disabled:k,onClick:async()=>{j(!0),await r(t.email,y,w,m),j(!1),g(!1)},className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors disabled:opacity-50",children:k?"Saving...":"Save"}),l.jsx("button",{onClick:()=>g(!1),className:"px-3 py-1 bg-gray-200 text-gray-700 rounded text-sm hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:t.fullName}),l.jsx("p",{className:"text-gray-500",children:t.email}),(_.phone||t.phone)&&l.jsx("p",{className:"text-gray-500 text-sm",children:_.phone||t.phone})]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[e&&r&&!f&&l.jsx("button",{onClick:()=>{x(t.fullName||""),p(t.email||""),v(_.phone||t.phone||""),g(!0)},className:"text-xs px-2 py-1 text-purple-600 hover:bg-purple-50 rounded border border-purple-200 transition-colors",children:"Edit"}),t.matched!==!1?l.jsx(da,{status:t.status}):!e&&l.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-600",children:"Not in department"})]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-5",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Exam Information",i&&!o&&l.jsxs("button",{onClick:()=>{a(!0),u(t.examDateRaw||""),h(t.examTime||"")},className:"ml-auto text-xs px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-1 shadow-sm",children:[l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Date"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o&&i?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Exam Date"}),l.jsx("input",{type:"date",value:c,onChange:C=>u(C.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Exam Time"}),l.jsx("input",{type:"text",value:d,onChange:C=>h(C.target.value),placeholder:"e.g., 2:00 PM",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"col-span-2 flex gap-2 justify-end",children:[l.jsx("button",{onClick:()=>{c&&(i(t.email,c,d),a(!1))},className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors",children:"Save"}),l.jsx("button",{onClick:()=>a(!1),className:"px-3 py-1 bg-gray-200 text-gray-700 rounded text-sm hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam Date"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examDate||"TBD"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam Time"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examTime||"N/A"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"State"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examState||"N/A"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Result"}),s?l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsx("button",{onClick:()=>s(t.email,N?"":"PASS"),className:`px-3 py-1 rounded text-xs font-medium transition-colors ${N?"bg-green-600 text-white shadow-sm":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200"}`,children:"PASS"}),l.jsx("button",{onClick:()=>s(t.email,M?"":"FAIL"),className:`px-3 py-1 rounded text-xs font-medium transition-colors ${M?"bg-red-600 text-white shadow-sm":"bg-red-50 text-red-700 hover:bg-red-100 border border-red-200"}`,children:"FAIL"})]}):l.jsxs("p",{className:"font-semibold",children:[N&&l.jsx("span",{className:"text-green-700 bg-green-100 px-2 py-0.5 rounded",children:"PASS"}),M&&l.jsx("span",{className:"text-red-700 bg-red-100 px-2 py-0.5 rounded",children:"FAIL"}),!N&&!M&&l.jsx("span",{className:"text-gray-600",children:"Pending"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Course"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examCourse||t.courseName||"N/A"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Agency Owner"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.agencyOwner||"N/A"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Department"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.departmentName||"N/A"})]}),t.finalOutcome&&l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Final Outcome"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.finalOutcome})]})]}),e&&(_.studyHoursAtExam||_.finalPractice||_.chaptersComplete)&&l.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-5",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Study Stats at Exam"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[_.studyHoursAtExam&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-purple-700",children:_.studyHoursAtExam}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Hours"})]}),_.finalPractice&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-700",children:_.finalPractice}),l.jsx("p",{className:"text-xs text-gray-500",children:"Final Practice %"})]}),_.chaptersComplete&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:_.chaptersComplete}),l.jsx("p",{className:"text-xs text-gray-500",children:"Chapters Complete"})]}),_.videosWatched&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-indigo-700",children:_.videosWatched}),l.jsx("p",{className:"text-xs text-gray-500",children:"Videos Watched"})]}),_.stateLawsDone&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-amber-700",children:_.stateLawsDone}),l.jsx("p",{className:"text-xs text-gray-500",children:"State Laws Done"})]}),_.studyConsistency&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-gray-700",children:_.studyConsistency}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Consistency"})]})]})]}),e&&_.weeklyTracking&&_.weeklyTracking.length>0&&l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-5",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Weekly Tracking",_.t0Sent&&l.jsxs("span",{className:"text-xs font-normal text-gray-500 ml-2",children:["T-0 Sent: ",_.t0Sent]})]}),l.jsx("div",{className:"space-y-3",children:_.weeklyTracking.map(C=>l.jsxs("div",{className:"bg-white rounded-lg p-3 flex items-center gap-4",children:[l.jsx("div",{className:"w-12 text-center",children:l.jsx("span",{className:"font-bold text-gray-700 text-sm",children:C.week})}),l.jsxs("div",{className:"flex-1 flex items-center gap-3 flex-wrap",children:[C.status&&l.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${F(C.status)}`,children:C.status}),C.hours&&l.jsxs("span",{className:"text-sm text-gray-700",children:[l.jsx("span",{className:"text-gray-500",children:"Hours:"})," ",C.hours]}),C.practice&&l.jsxs("span",{className:"text-sm text-gray-700",children:[l.jsx("span",{className:"text-gray-500",children:"Practice:"})," ",C.practice]})]}),C.notes&&l.jsx("p",{className:"text-xs text-gray-500 italic max-w-[200px] truncate",title:C.notes,children:C.notes})]},C.week))})]}),t.matched!==!1&&l.jsx(l.Fragment,{children:l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx("p",{className:"font-medium text-gray-900",children:t.courseName})}),l.jsx(lr,{progress:t.progress}),l.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[l.jsxs("span",{children:["Course: ",((A=t.timeSpent)==null?void 0:A.formatted)||"0m"]}),((S=t.examPrepTime)==null?void 0:S.minutes)>0&&l.jsxs("span",{className:"text-purple-600",children:["Prep: ",t.examPrepTime.formatted]})]})]})}),t.matched===!1&&!e&&l.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[l.jsx("svg",{className:"w-5 h-5 text-amber-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-amber-800",children:"Student not in your department"}),l.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Course progress and study time data from Absorb is only available for students in your department. Log in as their department admin to see full details."})]})]})]})}),l.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:l.jsx("button",{onClick:n,className:"btn btn-secondary",children:"Close"})})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function cr(t){return t+.5|0}const gn=(t,e,n)=>Math.max(Math.min(t,n),e);function yi(t){return gn(cr(t*2.55),0,255)}function Cn(t){return gn(cr(t*255),0,255)}function Xt(t){return gn(cr(t/2.55)/100,0,1)}function mh(t){return gn(cr(t*100),0,100)}const ft={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},dc=[..."0123456789ABCDEF"],Oy=t=>dc[t&15],Ry=t=>dc[(t&240)>>4]+dc[t&15],zr=t=>(t&240)>>4===(t&15),Fy=t=>zr(t.r)&&zr(t.g)&&zr(t.b)&&zr(t.a);function zy(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ft[t[1]]*17,g:255&ft[t[2]]*17,b:255&ft[t[3]]*17,a:e===5?ft[t[4]]*17:255}:(e===7||e===9)&&(n={r:ft[t[1]]<<4|ft[t[2]],g:ft[t[3]]<<4|ft[t[4]],b:ft[t[5]]<<4|ft[t[6]],a:e===9?ft[t[7]]<<4|ft[t[8]]:255})),n}const Iy=(t,e)=>t<255?e(t):"";function By(t){var e=Fy(t)?Oy:Ry;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Iy(t.a,e):void 0}const Wy=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Bm(t,e,n){const s=e*Math.min(n,1-n),i=(r,o=(r+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function $y(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function Hy(t,e,n){const s=Bm(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function Vy(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function hu(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let c,u,d;return r!==o&&(d=r-o,u=a>.5?d/(2-r-o):d/(r+o),c=Vy(n,s,i,d,r),c=c*60+.5),[c|0,u||0,a]}function fu(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Cn)}function pu(t,e,n){return fu(Bm,t,e,n)}function Uy(t,e,n){return fu(Hy,t,e,n)}function Yy(t,e,n){return fu($y,t,e,n)}function Wm(t){return(t%360+360)%360}function Xy(t){const e=Wy.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?yi(+e[5]):Cn(+e[5]));const i=Wm(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=Uy(i,r,o):e[1]==="hsv"?s=Yy(i,r,o):s=pu(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function Ky(t,e){var n=hu(t);n[0]=Wm(n[0]+e),n=pu(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Qy(t){if(!t)return;const e=hu(t),n=e[0],s=mh(e[1]),i=mh(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${Xt(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const gh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},xh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Gy(){const t={},e=Object.keys(xh),n=Object.keys(gh);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,gh[r]);r=parseInt(xh[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let Ir;function Zy(t){Ir||(Ir=Gy(),Ir.transparent=[0,0,0,0]);const e=Ir[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Jy=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function qy(t){const e=Jy.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?yi(o):gn(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?yi(s):gn(s,0,255)),i=255&(e[4]?yi(i):gn(i,0,255)),r=255&(e[6]?yi(r):gn(r,0,255)),{r:s,g:i,b:r,a:n}}}function ev(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Xt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const rl=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,fs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function tv(t,e,n){const s=fs(Xt(t.r)),i=fs(Xt(t.g)),r=fs(Xt(t.b));return{r:Cn(rl(s+n*(fs(Xt(e.r))-s))),g:Cn(rl(i+n*(fs(Xt(e.g))-i))),b:Cn(rl(r+n*(fs(Xt(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Br(t,e,n){if(t){let s=hu(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=pu(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function $m(t,e){return t&&Object.assign(e||{},t)}function yh(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Cn(t[3]))):(e=$m(t,{r:0,g:0,b:0,a:1}),e.a=Cn(e.a)),e}function nv(t){return t.charAt(0)==="r"?qy(t):Xy(t)}class Ji{constructor(e){if(e instanceof Ji)return e;const n=typeof e;let s;n==="object"?s=yh(e):n==="string"&&(s=zy(e)||Zy(e)||nv(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=$m(this._rgb);return e&&(e.a=Xt(e.a)),e}set rgb(e){this._rgb=yh(e)}rgbString(){return this._valid?ev(this._rgb):void 0}hexString(){return this._valid?By(this._rgb):void 0}hslString(){return this._valid?Qy(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,c=s.a-i.a,u=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;r=1-u,s.r=255&u*s.r+r*i.r+.5,s.g=255&u*s.g+r*i.g+.5,s.b=255&u*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=tv(this._rgb,e._rgb,n)),this}clone(){return new Ji(this.rgb)}alpha(e){return this._rgb.a=Cn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=cr(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Br(this._rgb,2,e),this}darken(e){return Br(this._rgb,2,-e),this}saturate(e){return Br(this._rgb,1,e),this}desaturate(e){return Br(this._rgb,1,-e),this}rotate(e){return Ky(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function $t(){}const sv=(()=>{let t=0;return()=>t++})();function le(t){return t==null}function Pe(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ne(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function wt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function At(t,e){return wt(t)?t:e}function ee(t,e){return typeof t>"u"?e:t}const iv=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Hm=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function de(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ie(t,e,n,s){let i,r,o;if(Pe(t))for(r=t.length,i=0;i<r;i++)e.call(n,t[i],i);else if(ne(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(n,t[o[i]],o[i])}function Fo(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function zo(t){if(Pe(t))return t.map(zo);if(ne(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=zo(t[n[i]]);return e}return t}function Vm(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function rv(t,e,n,s){if(!Vm(t))return;const i=e[t],r=n[t];ne(i)&&ne(r)?qi(i,r,s):e[t]=zo(r)}function qi(t,e,n){const s=Pe(e)?e:[e],i=s.length;if(!ne(t))return t;n=n||{};const r=n.merger||rv;let o;for(let a=0;a<i;++a){if(o=s[a],!ne(o))continue;const c=Object.keys(o);for(let u=0,d=c.length;u<d;++u)r(c[u],t,o,n)}return t}function Pi(t,e){return qi(t,e,{merger:ov})}function ov(t,e,n){if(!Vm(t))return;const s=e[t],i=n[t];ne(s)&&ne(i)?Pi(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=zo(i))}const vh={"":t=>t,x:t=>t.x,y:t=>t.y};function av(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function lv(t){const e=av(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function is(t,e){return(vh[e]||(vh[e]=lv(e)))(t)}function mu(t){return t.charAt(0).toUpperCase()+t.slice(1)}const er=t=>typeof t<"u",Pn=t=>typeof t=="function",bh=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function cv(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ae=Math.PI,Me=2*ae,Io=Number.POSITIVE_INFINITY,uv=ae/180,Te=ae/2,Bn=ae/4,wh=ae*2/3,Um=Math.log10,Mn=Math.sign;function lo(t,e,n){return Math.abs(t-e)<n}function kh(t){const e=Math.round(t);t=lo(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Um(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function dv(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function hv(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Bo(t){return!hv(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function fv(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function pv(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Gt(t){return t*(ae/180)}function mv(t){return t*(180/ae)}function jh(t){if(!wt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Ym(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*ae&&(r+=Me),{angle:r,distance:i}}function gv(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function zt(t){return(t%Me+Me)%Me}function Wo(t,e,n,s){const i=zt(t),r=zt(e),o=zt(n),a=zt(r-i),c=zt(o-i),u=zt(i-r),d=zt(i-o);return i===r||i===o||s&&r===o||a>c&&u<d}function nt(t,e,n){return Math.max(e,Math.min(n,t))}function xv(t){return nt(t,-32768,32767)}function Qn(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function gu(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const hc=(t,e,n,s)=>gu(t,n,s?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),yv=(t,e,n)=>gu(t,n,s=>t[s][e]>=n);function vv(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const Xm=["push","pop","shift","splice","unshift"];function bv(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Xm.forEach(n=>{const s="_onData"+mu(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function _h(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(Xm.forEach(r=>{delete t[r]}),delete t._chartjs)}function Km(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Qm=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Gm(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,Qm.call(window,()=>{s=!1,t.apply(e,n)}))}}function wv(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const xu=t=>t==="start"?"left":t==="end"?"right":"center",$e=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,kv=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e,Wr=t=>t===0||t===1,Sh=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Me/n)),Nh=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Me/n)+1,Di={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Te)+1,easeOutSine:t=>Math.sin(t*Te),easeInOutSine:t=>-.5*(Math.cos(ae*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Wr(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Wr(t)?t:Sh(t,.075,.3),easeOutElastic:t=>Wr(t)?t:Nh(t,.075,.3),easeInOutElastic(t){return Wr(t)?t:t<.5?.5*Sh(t*2,.1125,.45):.5+.5*Nh(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Di.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Di.easeInBounce(t*2)*.5:Di.easeOutBounce(t*2-1)*.5+.5};function Zm(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Ch(t){return Zm(t)?t:new Ji(t)}function ol(t){return Zm(t)?t:new Ji(t).saturate(.5).darken(.1).hexString()}const jv=["x","y","borderWidth","radius","tension"],_v=["color","borderColor","backgroundColor"];function Sv(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:_v},numbers:{type:"number",properties:jv}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Nv(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Mh=new Map;function Cv(t,e){e=e||{};const n=t+JSON.stringify(e);let s=Mh.get(n);return s||(s=new Intl.NumberFormat(t,e),Mh.set(n,s)),s}function yu(t,e,n){return Cv(e,n).format(t)}const Mv={values(t){return Pe(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),r=Lv(t,n)}const o=Um(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),yu(t,s,c)}};function Lv(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Jm={formatters:Mv};function Ev(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Jm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const rs=Object.create(null),fc=Object.create(null);function Ti(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function al(t,e,n){return typeof e=="string"?qi(Ti(t,e),n):qi(Ti(t,""),e)}class Pv{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>ol(i.backgroundColor),this.hoverBorderColor=(s,i)=>ol(i.borderColor),this.hoverColor=(s,i)=>ol(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return al(this,e,n)}get(e){return Ti(this,e)}describe(e,n){return al(fc,e,n)}override(e,n){return al(rs,e,n)}route(e,n,s,i){const r=Ti(this,e),o=Ti(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[a],u=o[i];return ne(c)?Object.assign({},u,c):ee(c,u)},set(c){this[a]=c}}})}apply(e){e.forEach(n=>n(this))}}var _e=new Pv({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Sv,Nv,Ev]);function Dv(t){return!t||le(t.size)||le(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Lh(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function Wn(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function Eh(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Ph(t,e,n,s){qm(t,e,n,s,null)}function qm(t,e,n,s,i){let r,o,a,c,u,d,h,f;const g=e.pointStyle,y=e.rotation,x=e.radius;let w=(y||0)*uv;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(w),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),g){default:i?t.ellipse(n,s,i/2,x,0,0,Me):t.arc(n,s,x,0,Me),t.closePath();break;case"triangle":d=i?i/2:x,t.moveTo(n+Math.sin(w)*d,s-Math.cos(w)*x),w+=wh,t.lineTo(n+Math.sin(w)*d,s-Math.cos(w)*x),w+=wh,t.lineTo(n+Math.sin(w)*d,s-Math.cos(w)*x),t.closePath();break;case"rectRounded":u=x*.516,c=x-u,o=Math.cos(w+Bn)*c,h=Math.cos(w+Bn)*(i?i/2-u:c),a=Math.sin(w+Bn)*c,f=Math.sin(w+Bn)*(i?i/2-u:c),t.arc(n-h,s-a,u,w-ae,w-Te),t.arc(n+f,s-o,u,w-Te,w),t.arc(n+h,s+a,u,w,w+Te),t.arc(n-f,s+o,u,w+Te,w+ae),t.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*x,d=i?i/2:c,t.rect(n-d,s-c,2*d,2*c);break}w+=Bn;case"rectRot":h=Math.cos(w)*(i?i/2:x),o=Math.cos(w)*x,a=Math.sin(w)*x,f=Math.sin(w)*(i?i/2:x),t.moveTo(n-h,s-a),t.lineTo(n+f,s-o),t.lineTo(n+h,s+a),t.lineTo(n-f,s+o),t.closePath();break;case"crossRot":w+=Bn;case"cross":h=Math.cos(w)*(i?i/2:x),o=Math.cos(w)*x,a=Math.sin(w)*x,f=Math.sin(w)*(i?i/2:x),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"star":h=Math.cos(w)*(i?i/2:x),o=Math.cos(w)*x,a=Math.sin(w)*x,f=Math.sin(w)*(i?i/2:x),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o),w+=Bn,h=Math.cos(w)*(i?i/2:x),o=Math.cos(w)*x,a=Math.sin(w)*x,f=Math.sin(w)*(i?i/2:x),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"line":o=i?i/2:Math.cos(w)*x,a=Math.sin(w)*x,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(w)*(i?i/2:x),s+Math.sin(w)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function eg(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function vu(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function bu(t){t.restore()}function Tv(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),le(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Av(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,c=n-r.actualBoundingBoxAscent,u=n+r.actualBoundingBoxDescent,d=i.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function Ov(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function tr(t,e,n,s,i,r={}){const o=Pe(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let c,u;for(t.save(),t.font=i.string,Tv(t,r),c=0;c<o.length;++c)u=o[c],r.backdrop&&Ov(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),le(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(u,n,s,r.maxWidth)),t.fillText(u,n,s,r.maxWidth),Av(t,n,s,u,r),s+=Number(i.lineHeight);t.restore()}function $o(t,e){const{x:n,y:s,w:i,h:r,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*ae,ae,!0),t.lineTo(n,s+r-o.bottomLeft),t.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,ae,Te,!0),t.lineTo(n+i-o.bottomRight,s+r),t.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,Te,0,!0),t.lineTo(n+i,s+o.topRight),t.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-Te,!0),t.lineTo(n+o.topLeft,s)}const Rv=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Fv=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function zv(t,e){const n=(""+t).match(Rv);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Iv=t=>+t||0;function wu(t,e){const n={},s=ne(e),i=s?Object.keys(e):e,r=ne(t)?s?o=>ee(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=Iv(r(o));return n}function tg(t){return wu(t,{top:"y",right:"x",bottom:"y",left:"x"})}function As(t){return wu(t,["topLeft","topRight","bottomLeft","bottomRight"])}function kt(t){const e=tg(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ve(t,e){t=t||{},e=e||_e.font;let n=ee(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=ee(t.style,e.style);s&&!(""+s).match(Fv)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:ee(t.family,e.family),lineHeight:zv(ee(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:ee(t.weight,e.weight),string:""};return i.string=Dv(i),i}function $r(t,e,n,s){let i,r,o;for(i=0,r=t.length;i<r;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function Bv(t,e,n){const{min:s,max:i}=t,r=Hm(e,(i-s)/2),o=(a,c)=>n&&a===0?0:a+c;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function Ks(t,e){return Object.assign(Object.create(t),e)}function ku(t,e=[""],n,s,i=()=>t[0]){const r=n||t;typeof s>"u"&&(s=rg("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>ku([a,...t],e,r,s)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete t[0][c],!0},get(a,c){return sg(a,c,()=>Kv(c,e,t,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,c){return Th(a).includes(c)},ownKeys(a){return Th(a)},set(a,c,u){const d=a._storage||(a._storage=i());return a[c]=d[c]=u,delete a._keys,!0}})}function Vs(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:ng(t,s),setContext:r=>Vs(t,r,n,s),override:r=>Vs(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return sg(r,o,()=>$v(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function ng(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:Pn(n)?n:()=>n,isIndexable:Pn(s)?s:()=>s}}const Wv=(t,e)=>t?t+mu(e):e,ju=(t,e)=>ne(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function sg(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function $v(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=t;let a=s[e];return Pn(a)&&o.isScriptable(e)&&(a=Hv(e,a,t,n)),Pe(a)&&a.length&&(a=Vv(e,a,t,o.isIndexable)),ju(e,a)&&(a=Vs(a,i,r&&r[e],o)),a}function Hv(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let c=e(r,o||s);return a.delete(t),ju(t,c)&&(c=_u(i._scopes,i,t,c)),c}function Vv(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(t))return e[r.index%e.length];if(ne(e[0])){const c=e,u=i._scopes.filter(d=>d!==c);e=[];for(const d of c){const h=_u(u,i,t,d);e.push(Vs(h,r,o&&o[t],a))}}return e}function ig(t,e,n){return Pn(t)?t(e,n):t}const Uv=(t,e)=>t===!0?e:typeof t=="string"?is(e,t):void 0;function Yv(t,e,n,s,i){for(const r of e){const o=Uv(n,r);if(o){t.add(o);const a=ig(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function _u(t,e,n,s){const i=e._rootScopes,r=ig(e._fallback,n,s),o=[...t,...i],a=new Set;a.add(s);let c=Dh(a,o,n,r||n,s);return c===null||typeof r<"u"&&r!==n&&(c=Dh(a,o,r,c,s),c===null)?!1:ku(Array.from(a),[""],i,r,()=>Xv(e,n,s))}function Dh(t,e,n,s,i){for(;n;)n=Yv(t,e,n,s,i);return n}function Xv(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return Pe(i)&&ne(n)?n:i||{}}function Kv(t,e,n,s){let i;for(const r of e)if(i=rg(Wv(r,t),n),typeof i<"u")return ju(t,i)?_u(n,s,t,i):i}function rg(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Th(t){let e=t._keys;return e||(e=t._keys=Qv(t._scopes)),e}function Qv(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}function Su(){return typeof window<"u"&&typeof document<"u"}function Nu(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ho(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const ha=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Gv(t,e){return ha(t).getPropertyValue(e)}const Zv=["top","right","bottom","left"];function Jn(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=Zv[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const Jv=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function qv(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let o=!1,a,c;if(Jv(i,r,t.target))a=i,c=r;else{const u=e.getBoundingClientRect();a=s.clientX-u.left,c=s.clientY-u.top,o=!0}return{x:a,y:c,box:o}}function Un(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=ha(n),r=i.boxSizing==="border-box",o=Jn(i,"padding"),a=Jn(i,"border","width"),{x:c,y:u,box:d}=qv(t,n),h=o.left+(d&&a.left),f=o.top+(d&&a.top);let{width:g,height:y}=e;return r&&(g-=o.width+a.width,y-=o.height+a.height),{x:Math.round((c-h)/g*n.width/s),y:Math.round((u-f)/y*n.height/s)}}function e1(t,e,n){let s,i;if(e===void 0||n===void 0){const r=t&&Nu(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=ha(r),c=Jn(a,"border","width"),u=Jn(a,"padding");e=o.width-u.width-c.width,n=o.height-u.height-c.height,s=Ho(a.maxWidth,r,"clientWidth"),i=Ho(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||Io,maxHeight:i||Io}}const xn=t=>Math.round(t*10)/10;function t1(t,e,n,s){const i=ha(t),r=Jn(i,"margin"),o=Ho(i.maxWidth,t,"clientWidth")||Io,a=Ho(i.maxHeight,t,"clientHeight")||Io,c=e1(t,e,n);let{width:u,height:d}=c;if(i.boxSizing==="content-box"){const f=Jn(i,"border","width"),g=Jn(i,"padding");u-=g.width+f.width,d-=g.height+f.height}return u=Math.max(0,u-r.width),d=Math.max(0,s?u/s:d-r.height),u=xn(Math.min(u,o,c.maxWidth)),d=xn(Math.min(d,a,c.maxHeight)),u&&!d&&(d=xn(u/2)),(e!==void 0||n!==void 0)&&s&&c.height&&d>c.height&&(d=c.height,u=xn(Math.floor(d*s))),{width:u,height:d}}function Ah(t,e,n){const s=e||1,i=xn(t.height*s),r=xn(t.width*s);t.height=xn(t.height),t.width=xn(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=s,o.height=i,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const n1=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Su()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Oh(t,e){const n=Gv(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const s1=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},i1=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Os(t,e,n){return t?s1(e,n):i1()}function og(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function ag(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Hr(t,e,n){return t.options.clip?t[n]:e[n]}function r1(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Hr(n,e,"left"),right:Hr(n,e,"right"),top:Hr(s,e,"top"),bottom:Hr(s,e,"bottom")}:e}function o1(t,e){const n=e._clip;if(n.disabled)return!1;const s=r1(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class a1{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Qm.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,c;for(;o>=0;--o)c=r[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ht=new a1;const Rh="transparent",l1={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=Ch(t||Rh),i=s.valid&&Ch(e||Rh);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class c1{constructor(e,n,s,i){const r=n[s];i=$r([e.to,i,r,e.from]);const o=$r([e.from,r,i]);this._active=!0,this._fn=e.fn||l1[e.type||typeof o],this._easing=Di[e.easing]||Di.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=$r([e.to,n,i,e.from]),this._from=$r([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let c;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}c=n/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(r,a,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class lg{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ne(e))return;const n=Object.keys(_e.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!ne(r))return;const o={};for(const a of n)o[a]=r[a];(Pe(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,i=d1(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&u1(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let c;for(c=o.length-1;c>=0;--c){const u=o[c];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,n));continue}const d=n[u];let h=r[u];const f=s.get(u);if(h)if(f&&h.active()){h.update(f,d,a);continue}else h.cancel();if(!f||!f.duration){e[u]=d;continue}r[u]=h=new c1(f,e,u,d),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Ht.add(this._chart,s),!0}}function u1(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function d1(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Fh(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function h1(t,e,n){if(n===!1)return!1;const s=Fh(t,n),i=Fh(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function f1(t){let e,n,s,i;return ne(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function cg(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function zh(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let o,a,c,u;if(e===null)return;let d=!1;for(o=0,a=i.length;o<a;++o){if(c=+i[o],c===n){if(d=!0,s.all)continue;break}u=t.values[c],wt(u)&&(r||e===0||Mn(e)===Mn(u))&&(e+=u)}return!d&&!s.all?0:e}function p1(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let c,u,d;for(c=0,u=o.length;c<u;++c)d=o[c],a[c]={[i]:d,[r]:t[d]};return a}function ll(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function m1(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function g1(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function x1(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function Ih(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function Bh(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,c=r.axis,u=o.axis,d=m1(r,o,s),h=e.length;let f;for(let g=0;g<h;++g){const y=e[g],{[c]:x,[u]:w}=y,p=y._stacks||(y._stacks={});f=p[u]=x1(i,d,x),f[a]=w,f._top=Ih(f,o,!0,s.type),f._bottom=Ih(f,o,!1,s.type);const m=f._visualValues||(f._visualValues={});m[a]=w}}function cl(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function y1(t,e){return Ks(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function v1(t,e,n){return Ks(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ci(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const ul=t=>t==="reset"||t==="none",Wh=(t,e)=>e?t:Object.assign({},t),b1=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:cg(n,!0),values:null};class Rs{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ll(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ci(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(h,f,g,y)=>h==="x"?f:h==="r"?y:g,r=n.xAxisID=ee(s.xAxisID,cl(e,"x")),o=n.yAxisID=ee(s.yAxisID,cl(e,"y")),a=n.rAxisID=ee(s.rAxisID,cl(e,"r")),c=n.indexAxis,u=n.iAxisID=i(c,r,o,a),d=n.vAxisID=i(c,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&_h(this._data,this),e._stacked&&ci(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(ne(n)){const i=this._cachedMeta;this._data=p1(n,i)}else if(s!==n){if(s){_h(s,this);const i=this._cachedMeta;ci(i),i._parsed=[]}n&&Object.isExtensible(n)&&bv(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=ll(n.vScale,n),n.stack!==s.stack&&(i=!0,ci(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&(Bh(this,n._parsed),n._stacked=ll(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let c=e===0&&n===i.length?!0:s._sorted,u=e>0&&s._parsed[e-1],d,h,f;if(this._parsing===!1)s._parsed=i,s._sorted=!0,f=i;else{Pe(i[e])?f=this.parseArrayData(s,i,e,n):ne(i[e])?f=this.parseObjectData(s,i,e,n):f=this.parsePrimitiveData(s,i,e,n);const g=()=>h[a]===null||u&&h[a]<u[a];for(d=0;d<n;++d)s._parsed[d+e]=h=f[d],c&&(g()&&(c=!1),u=h);s._sorted=c}o&&Bh(this,f)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:o}=e,a=r.axis,c=o.axis,u=r.getLabels(),d=r===o,h=new Array(i);let f,g,y;for(f=0,g=i;f<g;++f)y=f+s,h[f]={[a]:d||r.parse(u[y],y),[c]:o.parse(n[y],y)};return h}parseArrayData(e,n,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let c,u,d,h;for(c=0,u=i;c<u;++c)d=c+s,h=n[d],a[c]={x:r.parse(h[0],d),y:o.parse(h[1],d)};return a}parseObjectData(e,n,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,u=new Array(i);let d,h,f,g;for(d=0,h=i;d<h;++d)f=d+s,g=n[f],u[d]={x:r.parse(is(g,a),f),y:o.parse(is(g,c),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:cg(i,!0),values:n._stacks[e.axis]._visualValues};return zh(a,o,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=zh(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),c=b1(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=g1(a);let f,g;function y(){g=i[f];const x=g[a.axis];return!wt(g[e.axis])||d>x||h<x}for(f=0;f<o&&!(!y()&&(this.updateRangeFromParsed(u,e,g,c),r));++f);if(r){for(f=o-1;f>=0;--f)if(!y()){this.updateRangeFromParsed(u,e,g,c);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][e.axis],wt(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=f1(ee(this.options.clip,h1(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,c=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(e,r,a,c),d=a;d<a+c;++d){const h=i[d];h.hidden||(h.active&&u?o.push(h):h.draw(e,r))}for(d=0;d<o.length;++d)o[d].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=v1(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=y1(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],c=this.enableOptionSharing&&er(s);if(a)return Wh(a,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),d),g=Object.keys(_e.elements[e]),y=()=>this.getContext(s,i,n),x=u.resolveNamedOptions(f,g,y,h);return x.$shared&&(x.$shared=c,r[o]=Object.freeze(Wh(x,c))),x}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let c;if(i.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(e,s,n))}const u=new lg(i,c&&c.animations);return c&&c._cacheable&&(r[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||ul(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(e,n,s,i){ul(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!ul(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,c,u]of this._syncList)this[a](c,u);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,o=e+n;let a;const c=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(c(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&ci(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}K(Rs,"defaults",{}),K(Rs,"datasetElementType",null),K(Rs,"dataElementType",null);function w1(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=Km(s.sort((i,r)=>i-r))}return t._cache.$bar}function k1(t){const e=t.iScale,n=w1(e,t.type);let s=e._length,i,r,o,a;const c=()=>{o===32767||o===-32768||(er(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=e.getPixelForValue(n[i]),c();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),c();return s}function j1(t,e,n,s){const i=n.barThickness;let r,o;return le(i)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[t]-r/2}}function _1(t,e,n,s){const i=e.pixels,r=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const c=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const u=r-(r-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/s,ratio:n.barPercentage,start:u}}function S1(t,e,n,s){const i=n.parse(t[0],s),r=n.parse(t[1],s),o=Math.min(i,r),a=Math.max(i,r);let c=o,u=a;Math.abs(o)>Math.abs(a)&&(c=a,u=o),e[n.axis]=u,e._custom={barStart:c,barEnd:u,start:i,end:r,min:o,max:a}}function ug(t,e,n,s){return Pe(t)?S1(t,e,n,s):e[n.axis]=n.parse(t,s),e}function $h(t,e,n,s){const i=t.iScale,r=t.vScale,o=i.getLabels(),a=i===r,c=[];let u,d,h,f;for(u=n,d=n+s;u<d;++u)f=e[u],h={},h[i.axis]=a||i.parse(o[u],u),c.push(ug(f,h,r,u));return c}function dl(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function N1(t,e,n){return t!==0?Mn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function C1(t){let e,n,s,i,r;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:e,top:i,bottom:r}}function M1(t,e,n,s){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:c,top:u,bottom:d}=C1(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=u:(n._bottom||0)===s?i=d:(r[Hh(d,o,a,c)]=!0,i=u)),r[Hh(i,o,a,c)]=!0,t.borderSkipped=r}function Hh(t,e,n,s){return s?(t=L1(t,e,n),t=Vh(t,n,e)):t=Vh(t,e,n),t}function L1(t,e,n){return t===e?n:t===n?e:t}function Vh(t,e,n){return t==="start"?e:t==="end"?n:t}function E1(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class co extends Rs{parsePrimitiveData(e,n,s,i){return $h(e,n,s,i)}parseArrayData(e,n,s,i){return $h(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,u=r.axis==="x"?a:c,d=o.axis==="x"?a:c,h=[];let f,g,y,x;for(f=s,g=s+i;f<g;++f)x=n[f],y={},y[r.axis]=r.parse(is(x,u),f),h.push(ug(is(x,d),y,o,f));return h}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(e),o=r._custom,a=dl(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,c=a.getBasePixel(),u=a.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,i);for(let g=n;g<n+s;g++){const y=this.getParsed(g),x=r||le(y[a.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),w=this._calculateBarIndexPixels(g,d),p=(y._stacks||{})[a.axis],m={horizontal:u,base:x.base,enableBorderRadius:!p||dl(y._custom)||o===p._top||o===p._bottom,x:u?x.head:w.center,y:u?w.center:x.head,height:u?w.size:Math.abs(x.size),width:u?Math.abs(x.size):w.size};f&&(m.options=h||this.resolveDataElementOptions(g,e[g].active?"active":i));const v=m.options||e[g].options;M1(m,v,p,o),E1(m,v,d.ratio),this.updateElement(e[g],g,m,i)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),c=a&&a[s.axis],u=d=>{const h=d._parsed.find(g=>g[s.axis]===c),f=h&&h[d.vScale.axis];if(le(f)||isNaN(f))return!0};for(const d of i)if(!(n!==void 0&&u(d))&&((r===!1||o.indexOf(d.stack)===-1||r===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[ee(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const i=this._getStacks(e,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=e.barThickness;return{min:a||k1(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,c=this.getParsed(e),u=c._custom,d=dl(u);let h=c[n.axis],f=0,g=s?this.applyStack(n,c,s):h,y,x;g!==h&&(f=g-h,g=h),d&&(h=u.barStart,g=u.barEnd-u.barStart,h!==0&&Mn(h)!==Mn(u.barEnd)&&(f=0),f+=h);const w=!le(r)&&!d?r:f;let p=n.getPixelForValue(w);if(this.chart.getDataVisibility(e)?y=n.getPixelForValue(f+g):y=p,x=y-p,Math.abs(x)<o){x=N1(x,n,a)*o,h===a&&(p-=x/2);const m=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),k=Math.min(m,v),j=Math.max(m,v);p=Math.max(Math.min(p,j),k),y=p+x,s&&!d&&(c._stacks[n.axis]._visualValues[i]=n.getValueForPixel(y)-n.getValueForPixel(p))}if(p===n.getPixelForValue(a)){const m=Mn(x)*n.getLineWidthForValue(a)/2;p+=m,x-=m}return{size:x,base:p,head:y,center:y+x/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,r=i.skipNull,o=ee(i.maxBarThickness,1/0);let a,c;const u=this._getAxisCount();if(n.grouped){const d=r?this._getStackCount(e):n.stackCount,h=i.barThickness==="flex"?_1(e,n,i,d*u):j1(e,n,i,d*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(ee(f,this.getFirstScaleIdForIndexAxis())),y=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+g;a=h.start+h.chunk*y+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(o,n.min*n.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}K(co,"id","bar"),K(co,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),K(co,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function P1(t,e,n){let s=1,i=1,r=0,o=0;if(e<Me){const a=t,c=a+e,u=Math.cos(a),d=Math.sin(a),h=Math.cos(c),f=Math.sin(c),g=(v,k,j)=>Wo(v,a,c,!0)?1:Math.max(k,k*n,j,j*n),y=(v,k,j)=>Wo(v,a,c,!0)?-1:Math.min(k,k*n,j,j*n),x=g(0,u,h),w=g(Te,d,f),p=y(ae,u,h),m=y(ae+Te,d,f);s=(x-p)/2,i=(w-m)/2,r=-(x+p)/2,o=-(w+m)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class vi extends Rs{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=c=>+s[c];if(ne(s[e])){const{key:c="value"}=this._parsing;r=u=>+is(s[u],c)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return Gt(this.options.rotation-90)}_getCircumference(){return Gt(this.options.circumference)}_getRotationExtents(){let e=Me,n=-Me;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),c=Math.min(iv(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:y,offsetY:x}=P1(h,d,c),w=(s.width-o)/f,p=(s.height-o)/g,m=Math.max(Math.min(w,p)/2,0),v=Hm(this.options.radius,m),k=Math.max(v*c,0),j=(v-k)/this._getVisibleDatasetWeightTotal();this.offsetX=y*v,this.offsetY=x*v,i.total=this.calculateTotal(),this.outerRadius=v-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/Me)}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,d=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&u.animateScale,g=f?0:this.innerRadius,y=f?0:this.outerRadius,{sharedOptions:x,includeOptions:w}=this._getSharedOptions(n,i);let p=this._getRotation(),m;for(m=0;m<n;++m)p+=this._circumference(m,r);for(m=n;m<n+s;++m){const v=this._circumference(m,r),k=e[m],j={x:d+this.offsetX,y:h+this.offsetY,startAngle:p,endAngle:p+v,circumference:v,outerRadius:y,innerRadius:g};w&&(j.options=x||this.resolveDataElementOptions(m,k.active?"active":i)),p+=v,this.updateElement(k,m,j,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Me*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=yu(n._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,r,o,a,c;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)c=a.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(ee(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}K(vi,"id","doughnut"),K(vi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),K(vi,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),K(vi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((c,u)=>{const h=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:h.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:s,borderRadius:o&&(a||h.borderRadius),index:u}}):[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});function $n(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Cu{constructor(e){K(this,"options");this.options=e||{}}static override(e){Object.assign(Cu.prototype,e)}init(){}formats(){return $n()}parse(){return $n()}format(){return $n()}add(){return $n()}diff(){return $n()}startOf(){return $n()}endOf(){return $n()}}var D1={_date:Cu};function T1(t,e,n,s){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const u=a._reversePixels?yv:hc;if(s){if(i._sharedOptions){const d=r[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const f=u(r,e,n-h),g=u(r,e,n+h);return{lo:f.lo,hi:g.hi}}}}else{const d=u(r,e,n);if(c){const{vScale:h}=i._cachedMeta,{_parsed:f}=t,g=f.slice(0,d.lo+1).reverse().findIndex(x=>!le(x[h.axis]));d.lo-=Math.max(0,g);const y=f.slice(d.hi).findIndex(x=>!le(x[h.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:r.length-1}}function fa(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,c=r.length;a<c;++a){const{index:u,data:d}=r[a],{lo:h,hi:f}=T1(r[a],e,o,i);for(let g=h;g<=f;++g){const y=d[g];y.skip||s(y,u,g)}}}function A1(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function hl(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||fa(t,n,e,function(a,c,u){!i&&!eg(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:c,index:u})},!0),r}function O1(t,e,n,s){let i=[];function r(o,a,c){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],s),{angle:h}=Ym(o,{x:e.x,y:e.y});Wo(h,u,d)&&i.push({element:o,datasetIndex:a,index:c})}return fa(t,n,e,r),i}function R1(t,e,n,s,i,r){let o=[];const a=A1(n);let c=Number.POSITIVE_INFINITY;function u(d,h,f){const g=d.inRange(e.x,e.y,i);if(s&&!g)return;const y=d.getCenterPoint(i);if(!(!!r||t.isPointInArea(y))&&!g)return;const w=a(e,y);w<c?(o=[{element:d,datasetIndex:h,index:f}],c=w):w===c&&o.push({element:d,datasetIndex:h,index:f})}return fa(t,n,e,u),o}function fl(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?O1(t,e,n,i):R1(t,e,n,s,i,r)}function Uh(t,e,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return fa(t,n,e,(c,u,d)=>{c[o]&&c[o](e[n],i)&&(r.push({element:c,datasetIndex:u,index:d}),a=a||c.inRange(e.x,e.y,i))}),s&&!a?[]:r}var F1={modes:{index(t,e,n,s){const i=Un(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?hl(t,i,r,s,o):fl(t,i,r,!1,s,o),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,h=u.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,n,s){const i=Un(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?hl(t,i,r,s,o):fl(t,i,r,!1,s,o);if(a.length>0){const c=a[0].datasetIndex,u=t.getDatasetMeta(c).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:c,index:d})}return a},point(t,e,n,s){const i=Un(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return hl(t,i,r,s,o)},nearest(t,e,n,s){const i=Un(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return fl(t,i,r,n.intersect,s,o)},x(t,e,n,s){const i=Un(e,t);return Uh(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=Un(e,t);return Uh(t,i,"y",n.intersect,s)}}};const dg=["left","top","right","bottom"];function ui(t,e){return t.filter(n=>n.pos===e)}function Yh(t,e){return t.filter(n=>dg.indexOf(n.pos)===-1&&n.box.axis===e)}function di(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function z1(t){const e=[];let n,s,i,r,o,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function I1(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!dg.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function B1(t,e){const n=I1(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:c}=a.box,u=n[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*s:c&&e.availableWidth,a.height=i):(a.width=s,a.height=d?d*i:c&&e.availableHeight)}return n}function W1(t){const e=z1(t),n=di(e.filter(u=>u.box.fullSize),!0),s=di(ui(e,"left"),!0),i=di(ui(e,"right")),r=di(ui(e,"top"),!0),o=di(ui(e,"bottom")),a=Yh(e,"x"),c=Yh(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(c).concat(o).concat(a),chartArea:ui(e,"chartArea"),vertical:s.concat(i).concat(c),horizontal:r.concat(o).concat(a)}}function Xh(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function hg(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function $1(t,e,n,s){const{pos:i,box:r}=n,o=t.maxPadding;if(!ne(i)){n.size&&(t[i]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[i]+=n.size}r.getPadding&&hg(o,r.getPadding());const a=Math.max(0,e.outerWidth-Xh(o,t,"left","right")),c=Math.max(0,e.outerHeight-Xh(o,t,"top","bottom")),u=a!==t.w,d=c!==t.h;return t.w=a,t.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function H1(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function V1(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return s(t?["left","right"]:["top","bottom"])}function bi(t,e,n,s){const i=[];let r,o,a,c,u,d;for(r=0,o=t.length,u=0;r<o;++r){a=t[r],c=a.box,c.update(a.width||e.w,a.height||e.h,V1(a.horizontal,e));const{same:h,other:f}=$1(e,n,a,s);u|=h&&i.length,d=d||f,c.fullSize||i.push(a)}return u&&bi(i,e,n,s)||d}function Vr(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function Kh(t,e,n,s){const i=n.padding;let{x:r,y:o}=e;for(const a of t){const c=a.box,u=s[a.stack]||{placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const h=e.w*d,f=u.size||c.height;er(u.start)&&(o=u.start),c.fullSize?Vr(c,i.left,o,n.outerWidth-i.right-i.left,f):Vr(c,e.left+u.placed,o,h,f),u.start=o,u.placed+=h,o=c.bottom}else{const h=e.h*d,f=u.size||c.width;er(u.start)&&(r=u.start),c.fullSize?Vr(c,r,i.top,f,n.outerHeight-i.bottom-i.top):Vr(c,r,e.top+u.placed,f,h),u.start=r,u.placed+=h,r=c.right}}e.x=r,e.y=o}var xt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=kt(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=W1(t.boxes),c=a.vertical,u=a.horizontal;ie(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const d=c.reduce((x,w)=>w.box.options&&w.box.options.display===!1?x:x+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},i);hg(f,kt(s));const g=Object.assign({maxPadding:f,w:r,h:o,x:i.left,y:i.top},i),y=B1(c.concat(u),h);bi(a.fullSize,g,h,y),bi(c,g,h,y),bi(u,g,h,y)&&bi(c,g,h,y),H1(g),Kh(a.leftAndTop,g,h,y),g.x+=g.w,g.y+=g.h,Kh(a.rightAndBottom,g,h,y),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},ie(a.chartArea,x=>{const w=x.box;Object.assign(w,t.chartArea),w.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class fg{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class U1 extends fg{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const uo="$chartjs",Y1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Qh=t=>t===null||t==="";function X1(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[uo]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Qh(i)){const r=Oh(t,"width");r!==void 0&&(t.width=r)}if(Qh(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=Oh(t,"height");r!==void 0&&(t.height=r)}return t}const pg=n1?{passive:!0}:!1;function K1(t,e,n){t&&t.addEventListener(e,n,pg)}function Q1(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,pg)}function G1(t,e){const n=Y1[t.type]||t.type,{x:s,y:i}=Un(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Vo(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Z1(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Vo(a.addedNodes,s),o=o&&!Vo(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function J1(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Vo(a.removedNodes,s),o=o&&!Vo(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const nr=new Map;let Gh=0;function mg(){const t=window.devicePixelRatio;t!==Gh&&(Gh=t,nr.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function q1(t,e){nr.size||window.addEventListener("resize",mg),nr.set(t,e)}function e2(t){nr.delete(t),nr.size||window.removeEventListener("resize",mg)}function t2(t,e,n){const s=t.canvas,i=s&&Nu(s);if(!i)return;const r=Gm((a,c)=>{const u=i.clientWidth;n(a,c),u<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const c=a[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||r(u,d)});return o.observe(i),q1(t,r),o}function pl(t,e,n){n&&n.disconnect(),e==="resize"&&e2(t)}function n2(t,e,n){const s=t.canvas,i=Gm(r=>{t.ctx!==null&&n(G1(r,t))},t);return K1(s,e,i),i}class s2 extends fg{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(X1(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[uo])return!1;const s=n[uo].initial;["height","width"].forEach(r=>{const o=s[r];le(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[uo],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:Z1,detach:J1,resize:t2}[n]||n2;i[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:pl,detach:pl,resize:pl}[n]||Q1)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return t1(e,n,s,i)}isAttached(e){const n=e&&Nu(e);return!!(n&&n.isConnected)}}function i2(t){return!Su()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?U1:s2}class nn{constructor(){K(this,"x");K(this,"y");K(this,"active",!1);K(this,"options");K(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Bo(this.x)&&Bo(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}}K(nn,"defaults",{}),K(nn,"defaultRoutes");function r2(t,e){const n=t.options.ticks,s=o2(t),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?l2(e):[],o=r.length,a=r[0],c=r[o-1],u=[];if(o>i)return c2(e,u,r,o/i),u;const d=a2(r,e,i);if(o>0){let h,f;const g=o>1?Math.round((c-a)/(o-1)):null;for(Ur(e,u,d,le(g)?0:a-g,a),h=0,f=o-1;h<f;h++)Ur(e,u,d,r[h],r[h+1]);return Ur(e,u,d,c,le(g)?e.length:c+g),u}return Ur(e,u,d),u}function o2(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function a2(t,e,n){const s=u2(t),i=e.length/n;if(!s)return Math.max(i,1);const r=dv(s);for(let o=0,a=r.length-1;o<a;o++){const c=r[o];if(c>i)return c}return Math.max(i,1)}function l2(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function c2(t,e,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=n[i*s])}function Ur(t,e,n,s,i){const r=ee(s,0),o=Math.min(ee(i,t.length),t.length);let a=0,c,u,d;for(n=Math.ceil(n),i&&(c=i-s,n=c/Math.floor(c/n)),d=r;d<0;)a++,d=Math.round(r+a*n);for(u=Math.max(r,0);u<o;u++)u===d&&(e.push(t[u]),a++,d=Math.round(r+a*n))}function u2(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const d2=t=>t==="left"?"right":t==="right"?"left":t,Zh=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Jh=(t,e)=>Math.min(e||t,t);function qh(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function h2(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let c=t.getPixelForTick(i),u;if(!(n&&(s===1?u=Math.max(c-r,o-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(i-1))/2,c+=i<e?u:-u,c<r-a||c>o+a)))return c}function f2(t,e){ie(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function hi(t){return t.drawTicks?t.tickLength:0}function ef(t,e){if(!t.display)return 0;const n=Ve(t.font,e),s=kt(t.padding);return(Pe(t.text)?t.text.length:1)*n.lineHeight+s.height}function p2(t,e){return Ks(t,{scale:e,type:"scale"})}function m2(t,e,n){return Ks(t,{tick:n,index:e,type:"tick"})}function g2(t,e,n){let s=xu(t);return(n&&e!=="right"||!n&&e==="right")&&(s=d2(s)),s}function x2(t,e,n,s){const{top:i,left:r,bottom:o,right:a,chart:c}=t,{chartArea:u,scales:d}=c;let h=0,f,g,y;const x=o-i,w=a-r;if(t.isHorizontal()){if(g=$e(s,r,a),ne(n)){const p=Object.keys(n)[0],m=n[p];y=d[p].getPixelForValue(m)+x-e}else n==="center"?y=(u.bottom+u.top)/2+x-e:y=Zh(t,n,e);f=a-r}else{if(ne(n)){const p=Object.keys(n)[0],m=n[p];g=d[p].getPixelForValue(m)-w+e}else n==="center"?g=(u.left+u.right)/2-w+e:g=Zh(t,n,e);y=$e(s,o,i),h=n==="left"?-Te:Te}return{titleX:g,titleY:y,maxWidth:f,rotation:h}}class Qs extends nn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=At(e,Number.POSITIVE_INFINITY),n=At(n,Number.NEGATIVE_INFINITY),s=At(s,Number.POSITIVE_INFINITY),i=At(i,Number.NEGATIVE_INFINITY),{min:At(e,s),max:At(n,i),minDefined:wt(e),maxDefined:wt(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let c=0,u=a.length;c<u;++c)o=a[c].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:At(n,At(s,n)),max:At(s,At(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){de(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Bv(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?qh(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=r2(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){de(this.options.afterUpdate,[this])}beforeSetDimensions(){de(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){de(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),de(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){de(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=de(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){de(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){de(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=Jh(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,c,u;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,g=nt(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/s:g/(s-1),h+6>a&&(a=g/(s-(e.offset?.5:1)),c=this.maxHeight-hi(e.grid)-n.padding-ef(e.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),o=mv(Math.min(Math.asin(nt((d.highest.height+6)/a,-1,1)),Math.asin(nt(c/u,-1,1))-Math.asin(nt(f/u,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){de(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){de(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const c=ef(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=hi(r)+c):(e.height=this.maxHeight,e.width=hi(r)+c),s.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),g=s.padding*2,y=Gt(this.labelRotation),x=Math.cos(y),w=Math.sin(y);if(a){const p=s.mirror?0:w*h.width+x*f.height;e.height=Math.min(this.maxHeight,e.height+p+g)}else{const p=s.mirror?0:x*h.width+w*f.height;e.width=Math.min(this.maxWidth,e.width+p+g)}this._calculatePadding(u,d,w,x)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,c=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;c?u?(f=i*e.width,g=s*n.height):(f=s*e.height,g=i*n.width):r==="start"?g=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,g=n.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-h+o)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;r==="start"?(d=0,h=e.height):r==="end"&&(d=n.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){de(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)le(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=qh(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],c=Math.floor(n/Jh(n,s));let u=0,d=0,h,f,g,y,x,w,p,m,v,k,j;for(h=0;h<n;h+=c){if(y=e[h].label,x=this._resolveTickFontOptions(h),i.font=w=x.string,p=r[w]=r[w]||{data:{},gc:[]},m=x.lineHeight,v=k=0,!le(y)&&!Pe(y))v=Lh(i,p.data,p.gc,v,y),k=m;else if(Pe(y))for(f=0,g=y.length;f<g;++f)j=y[f],!le(j)&&!Pe(j)&&(v=Lh(i,p.data,p.gc,v,j),k+=m);o.push(v),a.push(k),u=Math.max(v,u),d=Math.max(k,d)}f2(r,n);const N=o.indexOf(u),M=a.indexOf(d),_=F=>({width:o[F]||0,height:a[F]||0});return{first:_(0),last:_(n-1),widest:_(N),highest:_(M),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return xv(this._alignToPixels?Wn(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=m2(this.getContext(),e,s))}return this.$context||(this.$context=p2(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Gt(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,c=r?r.highest.height+o:0;return this.isHorizontal()?c*s>a*i?a/s:c/i:c*i<a*s?c/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,c=r.offset,u=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=hi(r),g=[],y=a.setContext(this.getContext()),x=y.display?y.width:0,w=x/2,p=function(Y){return Wn(s,Y,x)};let m,v,k,j,N,M,_,F,A,S,C,z;if(o==="top")m=p(this.bottom),M=this.bottom-f,F=m-w,S=p(e.top)+w,z=e.bottom;else if(o==="bottom")m=p(this.top),S=e.top,z=p(e.bottom)-w,M=m+w,F=this.top+f;else if(o==="left")m=p(this.right),N=this.right-f,_=m-w,A=p(e.left)+w,C=e.right;else if(o==="right")m=p(this.left),A=e.left,C=p(e.right)-w,N=m+w,_=this.left+f;else if(n==="x"){if(o==="center")m=p((e.top+e.bottom)/2+.5);else if(ne(o)){const Y=Object.keys(o)[0],X=o[Y];m=p(this.chart.scales[Y].getPixelForValue(X))}S=e.top,z=e.bottom,M=m+w,F=M+f}else if(n==="y"){if(o==="center")m=p((e.left+e.right)/2);else if(ne(o)){const Y=Object.keys(o)[0],X=o[Y];m=p(this.chart.scales[Y].getPixelForValue(X))}N=m-w,_=N-f,A=e.left,C=e.right}const H=ee(i.ticks.maxTicksLimit,h),$=Math.max(1,Math.ceil(h/H));for(v=0;v<h;v+=$){const Y=this.getContext(v),X=r.setContext(Y),D=a.setContext(Y),R=X.lineWidth,W=X.color,Z=D.dash||[],J=D.dashOffset,ve=X.tickWidth,be=X.tickColor,O=X.tickBorderDash||[],V=X.tickBorderDashOffset;k=h2(this,v,c),k!==void 0&&(j=Wn(s,k,R),u?N=_=A=C=j:M=F=S=z=j,g.push({tx1:N,ty1:M,tx2:_,ty2:F,x1:A,y1:S,x2:C,y2:z,width:R,color:W,borderDash:Z,borderDashOffset:J,tickWidth:ve,tickColor:be,tickBorderDash:O,tickBorderDashOffset:V}))}return this._ticksLength=h,this._borderValue=m,g}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:u,padding:d,mirror:h}=r,f=hi(s.grid),g=f+d,y=h?-d:g,x=-Gt(this.labelRotation),w=[];let p,m,v,k,j,N,M,_,F,A,S,C,z="middle";if(i==="top")N=this.bottom-y,M=this._getXAxisLabelAlignment();else if(i==="bottom")N=this.top+y,M=this._getXAxisLabelAlignment();else if(i==="left"){const $=this._getYAxisLabelAlignment(f);M=$.textAlign,j=$.x}else if(i==="right"){const $=this._getYAxisLabelAlignment(f);M=$.textAlign,j=$.x}else if(n==="x"){if(i==="center")N=(e.top+e.bottom)/2+g;else if(ne(i)){const $=Object.keys(i)[0],Y=i[$];N=this.chart.scales[$].getPixelForValue(Y)+g}M=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")j=(e.left+e.right)/2-g;else if(ne(i)){const $=Object.keys(i)[0],Y=i[$];j=this.chart.scales[$].getPixelForValue(Y)}M=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?z="top":c==="end"&&(z="bottom"));const H=this._getLabelSizes();for(p=0,m=a.length;p<m;++p){v=a[p],k=v.label;const $=r.setContext(this.getContext(p));_=this.getPixelForTick(p)+r.labelOffset,F=this._resolveTickFontOptions(p),A=F.lineHeight,S=Pe(k)?k.length:1;const Y=S/2,X=$.color,D=$.textStrokeColor,R=$.textStrokeWidth;let W=M;o?(j=_,M==="inner"&&(p===m-1?W=this.options.reverse?"left":"right":p===0?W=this.options.reverse?"right":"left":W="center"),i==="top"?u==="near"||x!==0?C=-S*A+A/2:u==="center"?C=-H.highest.height/2-Y*A+A:C=-H.highest.height+A/2:u==="near"||x!==0?C=A/2:u==="center"?C=H.highest.height/2-Y*A:C=H.highest.height-S*A,h&&(C*=-1),x!==0&&!$.showLabelBackdrop&&(j+=A/2*Math.sin(x))):(N=_,C=(1-S)*A/2);let Z;if($.showLabelBackdrop){const J=kt($.backdropPadding),ve=H.heights[p],be=H.widths[p];let O=C-J.top,V=0-J.left;switch(z){case"middle":O-=ve/2;break;case"bottom":O-=ve;break}switch(M){case"center":V-=be/2;break;case"right":V-=be;break;case"inner":p===m-1?V-=be:p>0&&(V-=be/2);break}Z={left:V,top:O,width:be+J.width,height:ve+J.height,color:$.backdropColor}}w.push({label:k,font:F,textOffset:C,options:{rotation:x,color:X,strokeColor:D,strokeWidth:R,textAlign:W,textBaseline:z,translation:[j,N],backdrop:Z}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Gt(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,c=o.widest.width;let u,d;return n==="left"?i?(d=this.right+r,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-a,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?i?(d=this.left+r,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+a,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(c,u,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const c=i[r];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,h,f;this.isHorizontal()?(u=Wn(e,this.left,o)-o/2,d=Wn(e,this.right,a)+a/2,h=f=c):(h=Wn(e,this.top,o)-o/2,f=Wn(e,this.bottom,a)+a/2,u=d=c),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(u,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&vu(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,c=o.font,u=o.label,d=o.textOffset;tr(s,u,0,d,c,a)}i&&bu(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=Ve(s.font),o=kt(s.padding),a=s.align;let c=r.lineHeight/2;n==="bottom"||n==="center"||ne(n)?(c+=o.bottom,Pe(s.text)&&(c+=r.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=x2(this,c,n,a);tr(e,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:f,textAlign:g2(a,n,i),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=ee(e.grid&&e.grid.z,-1),i=ee(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Qs.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ve(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Yr{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;b2(n)&&(s=this.register(n));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,y2(e,o,s),this.override&&_e.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in _e[i]&&(delete _e[i][s],this.override&&delete rs[s])}}function y2(t,e,n){const s=qi(Object.create(null),[n?_e.get(n):{},_e.get(e),t.defaults]);_e.set(e,s),t.defaultRoutes&&v2(e,t.defaultRoutes),t.descriptors&&_e.describe(e,t.descriptors)}function v2(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),c=o.join(".");_e.route(r,i,c,a)})}function b2(t){return"id"in t&&"defaults"in t}class w2{constructor(){this.controllers=new Yr(Rs,"datasets",!0),this.elements=new Yr(nn,"elements"),this.plugins=new Yr(Object,"plugins"),this.scales=new Yr(Qs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):ie(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const i=mu(e);de(s["before"+i],[],s),n[e](s),de(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var Ft=new w2;class k2{constructor(){this._init=void 0}notify(e,n,s,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],c=[n,i,r.options];if(de(a,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){le(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=ee(s.options&&s.options.plugins,{}),r=j2(s);return i===!1&&!n?[]:S2(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function j2(t){const e={},n=[],s=Object.keys(Ft.plugins.items);for(let r=0;r<s.length;r++)n.push(Ft.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function _2(t,e){return!e&&t===!1?null:t===!0?{}:t}function S2(t,{plugins:e,localIds:n},s,i){const r=[],o=t.getContext();for(const a of e){const c=a.id,u=_2(s[c],i);u!==null&&r.push({plugin:a,options:N2(t.config,{plugin:a,local:n[c]},u,o)})}return r}function N2(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(s,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function pc(t,e){const n=_e.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function C2(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function M2(t,e){return t===e?"_index_":"_value_"}function tf(t){if(t==="x"||t==="y"||t==="r")return t}function L2(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function mc(t,...e){if(tf(t))return t;for(const n of e){const s=n.axis||L2(n.position)||t.length>1&&tf(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function nf(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function E2(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return nf(t,"x",n[0])||nf(t,"y",n[0])}return{}}function P2(t,e){const n=rs[t.type]||{scales:{}},s=e.scales||{},i=pc(t.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!ne(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=mc(o,a,E2(o,t),_e.scales[a.type]),u=M2(c,i),d=n.scales||{};r[o]=Pi(Object.create(null),[{axis:c},a,d[c],d[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,c=o.indexAxis||pc(a,e),d=(rs[a]||{}).scales||{};Object.keys(d).forEach(h=>{const f=C2(h,c),g=o[f+"AxisID"]||f;r[g]=r[g]||Object.create(null),Pi(r[g],[{axis:f},s[g],d[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];Pi(a,[_e.scales[a.type],_e.scale])}),r}function gg(t){const e=t.options||(t.options={});e.plugins=ee(e.plugins,{}),e.scales=P2(t,e)}function xg(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function D2(t){return t=t||{},t.data=xg(t.data),gg(t),t}const sf=new Map,yg=new Set;function Xr(t,e){let n=sf.get(t);return n||(n=e(),sf.set(t,n),yg.add(n)),n}const fi=(t,e,n)=>{const s=is(e,n);s!==void 0&&t.add(s)};class T2{constructor(e){this._config=D2(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=xg(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),gg(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Xr(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Xr(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Xr(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Xr(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const c=new Set;n.forEach(d=>{e&&(c.add(e),d.forEach(h=>fi(c,e,h))),d.forEach(h=>fi(c,i,h)),d.forEach(h=>fi(c,rs[r]||{},h)),d.forEach(h=>fi(c,_e,h)),d.forEach(h=>fi(c,fc,h))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),yg.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,rs[n]||{},_e.datasets[n]||{},{type:n},_e,fc]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=rf(this._resolverCache,e,i);let c=o;if(O2(o,n)){r.$shared=!1,s=Pn(s)?s():s;const u=this.createResolver(e,s,a);c=Vs(o,s,u)}for(const u of n)r[u]=c[u];return r}createResolver(e,n,s=[""],i){const{resolver:r}=rf(this._resolverCache,e,s);return ne(n)?Vs(r,n,void 0,i):r}}function rf(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:ku(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const A2=t=>ne(t)&&Object.getOwnPropertyNames(t).some(e=>Pn(t[e]));function O2(t,e){const{isScriptable:n,isIndexable:s}=ng(t);for(const i of e){const r=n(i),o=s(i),a=(o||r)&&t[i];if(r&&(Pn(a)||A2(a))||o&&Pe(a))return!0}return!1}var R2="4.5.1";const F2=["top","bottom","left","right","chartArea"];function of(t,e){return t==="top"||t==="bottom"||F2.indexOf(t)===-1&&e==="x"}function af(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function lf(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),de(n&&n.onComplete,[t],e)}function z2(t){const e=t.chart,n=e.options.animation;de(n&&n.onProgress,[t],e)}function vg(t){return Su()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ho={},cf=t=>{const e=vg(t);return Object.values(ho).filter(n=>n.canvas===e).pop()};function I2(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function B2(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var cn;let ur=(cn=class{static register(...e){Ft.add(...e),uf()}static unregister(...e){Ft.remove(...e),uf()}constructor(e,n){const s=this.config=new T2(n),i=vg(e),r=cf(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||i2(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),c=a&&a.canvas,u=c&&c.height,d=c&&c.width;if(this.id=sv(),this.ctx=a,this.canvas=c,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new k2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=wv(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],ho[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ht.listen(this,"complete",lf),Ht.listen(this,"progress",z2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return le(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ft}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ah(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Eh(this.canvas,this.ctx),this}stop(){return Ht.stop(this),this}resize(e,n){Ht.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ah(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),de(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ie(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],c=mc(o,a),u=c==="r",d=c==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),ie(r,o=>{const a=o.options,c=a.id,u=mc(c,a),d=ee(a.type,o.dtype);(a.position===void 0||of(a.position,u)!==of(o.dposition))&&(a.position=o.dposition),i[c]=!0;let h=null;if(c in s&&s[c].type===d)h=s[c];else{const f=Ft.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,e)}),ie(i,(o,a)=>{o||delete s[a]}),ie(s,o=>{xt.configure(this,o,o.options),xt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(af("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||pc(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=Ft.getController(a),{datasetElementType:u,dataElementType:d}=_e.datasets[a];Object.assign(c,{dataElementType:Ft.getElement(d),datasetElementType:u&&Ft.getElement(u)}),o.controller=new c(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ie(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||ie(r,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(af("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ie(this.scales,e=>{xt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!bh(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;I2(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!bh(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xt.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],ie(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Pn(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ht.has(this)?this.attached&&!Ht.running(this)&&Ht.start(this):(this.draw(),lf({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=o1(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&vu(n,i),e.controller.draw(),i&&bu(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return eg(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=F1.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Ks(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);er(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ht.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Eh(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete ho[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};ie(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},i=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},r=(c,u)=>{this.canvas&&this.resize(c,u)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ie(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ie(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,o,a,c;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,c=e.length;a<c;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Fo(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),o=r(n,e),a=s?e:r(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(e,i,s,o),c=cv(e),u=B2(e,this._lastEvent,s,c);s&&(this._lastEvent=null,de(r.onHover,[e,a,this],this),c&&de(r.onClick,[e,a,this],this));const d=!Fo(a,i);return(d||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,d}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},K(cn,"defaults",_e),K(cn,"instances",ho),K(cn,"overrides",rs),K(cn,"registry",Ft),K(cn,"version",R2),K(cn,"getChart",cf),cn);function uf(){return ie(ur.instances,t=>t._plugins.invalidate())}function W2(t,e,n){const{startAngle:s,x:i,y:r,outerRadius:o,innerRadius:a,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,h=Math.min(u/o,zt(s-n));if(t.beginPath(),t.arc(i,r,o-u/2,s+h/2,n-h/2),a>0){const f=Math.min(u/a,zt(s-n));t.arc(i,r,a+u/2,n-f/2,s+f/2,!0)}else{const f=Math.min(u/2,o*zt(s-n));if(d==="round")t.arc(i,r,f,n-ae/2,s+ae/2,!0);else if(d==="bevel"){const g=2*f*f,y=-g*Math.cos(n+ae/2)+i,x=-g*Math.sin(n+ae/2)+r,w=g*Math.cos(s+ae/2)+i,p=g*Math.sin(s+ae/2)+r;t.lineTo(y,x),t.lineTo(w,p)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function $2(t,e,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:c}=e;let u=i/a;t.beginPath(),t.arc(r,o,a,s-u,n+u),c>i?(u=i/c,t.arc(r,o,c,n+u,s-u,!0)):t.arc(r,o,i,n+Te,s-Te),t.closePath(),t.clip()}function H2(t){return wu(t,["outerStart","outerEnd","innerStart","innerEnd"])}function V2(t,e,n,s){const i=H2(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,s*e/2),a=c=>{const u=(n-Math.min(r,c))*s/2;return nt(c,0,Math.min(r,u))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:nt(i.innerStart,0,o),innerEnd:nt(i.innerEnd,0,o)}}function ps(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Uo(t,e,n,s,i,r){const{x:o,y:a,startAngle:c,pixelMargin:u,innerRadius:d}=e,h=Math.max(e.outerRadius+s+n-u,0),f=d>0?d+s+n+u:0;let g=0;const y=i-c;if(s){const $=d>0?d-s:0,Y=h>0?h-s:0,X=($+Y)/2,D=X!==0?y*X/(X+s):y;g=(y-D)/2}const x=Math.max(.001,y*h-n/ae)/h,w=(y-x)/2,p=c+w+g,m=i-w-g,{outerStart:v,outerEnd:k,innerStart:j,innerEnd:N}=V2(e,f,h,m-p),M=h-v,_=h-k,F=p+v/M,A=m-k/_,S=f+j,C=f+N,z=p+j/S,H=m-N/C;if(t.beginPath(),r){const $=(F+A)/2;if(t.arc(o,a,h,F,$),t.arc(o,a,h,$,A),k>0){const R=ps(_,A,o,a);t.arc(R.x,R.y,k,A,m+Te)}const Y=ps(C,m,o,a);if(t.lineTo(Y.x,Y.y),N>0){const R=ps(C,H,o,a);t.arc(R.x,R.y,N,m+Te,H+Math.PI)}const X=(m-N/f+(p+j/f))/2;if(t.arc(o,a,f,m-N/f,X,!0),t.arc(o,a,f,X,p+j/f,!0),j>0){const R=ps(S,z,o,a);t.arc(R.x,R.y,j,z+Math.PI,p-Te)}const D=ps(M,p,o,a);if(t.lineTo(D.x,D.y),v>0){const R=ps(M,F,o,a);t.arc(R.x,R.y,v,p-Te,F)}}else{t.moveTo(o,a);const $=Math.cos(F)*h+o,Y=Math.sin(F)*h+a;t.lineTo($,Y);const X=Math.cos(A)*h+o,D=Math.sin(A)*h+a;t.lineTo(X,D)}t.closePath()}function U2(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let c=e.endAngle;if(r){Uo(t,e,n,s,c,i);for(let u=0;u<r;++u)t.fill();isNaN(a)||(c=o+(a%Me||Me))}return Uo(t,e,n,s,c,i),t.fill(),c}function Y2(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:h,borderDashOffset:f,borderRadius:g}=c,y=c.borderAlign==="inner";if(!u)return;t.setLineDash(h||[]),t.lineDashOffset=f,y?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let x=e.endAngle;if(r){Uo(t,e,n,s,x,i);for(let w=0;w<r;++w)t.stroke();isNaN(a)||(x=o+(a%Me||Me))}y&&$2(t,e,x),c.selfJoin&&x-o>=ae&&g===0&&d!=="miter"&&W2(t,e,x),r||(Uo(t,e,n,s,x,i),t.stroke())}class Cs extends nn{constructor(n){super();K(this,"circumference");K(this,"endAngle");K(this,"fullCircles");K(this,"innerRadius");K(this,"outerRadius");K(this,"pixelMargin");K(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.getProps(["x","y"],i),{angle:o,distance:a}=Ym(r,{x:n,y:s}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,y=ee(f,u-c),x=Wo(o,c,u)&&c!==u,w=y>=Me||x,p=Qn(a,d+g,h+g);return w&&p}getCenterPoint(n){const{x:s,y:i,startAngle:r,endAngle:o,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,h=(r+o)/2,f=(a+c+d+u)/2;return{x:s+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:i}=this,r=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>Me?Math.floor(i/Me):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*r,Math.sin(c)*r);const u=1-Math.sin(Math.min(ae,i||0)),d=r*u;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,U2(n,this,d,o,a),Y2(n,this,d,o,a),n.restore()}}K(Cs,"id","arc"),K(Cs,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),K(Cs,"defaultRoutes",{backgroundColor:"backgroundColor"}),K(Cs,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function bg(t,e){const{x:n,y:s,base:i,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,c,u,d,h;return t.horizontal?(h=o/2,a=Math.min(n,i),c=Math.max(n,i),u=s-h,d=s+h):(h=r/2,a=n-h,c=n+h,u=Math.min(s,i),d=Math.max(s,i)),{left:a,top:u,right:c,bottom:d}}function yn(t,e,n,s){return t?0:nt(e,n,s)}function X2(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,r=tg(s);return{t:yn(i.top,r.top,0,n),r:yn(i.right,r.right,0,e),b:yn(i.bottom,r.bottom,0,n),l:yn(i.left,r.left,0,e)}}function K2(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=As(i),o=Math.min(e,n),a=t.borderSkipped,c=s||ne(i);return{topLeft:yn(!c||a.top||a.left,r.topLeft,0,o),topRight:yn(!c||a.top||a.right,r.topRight,0,o),bottomLeft:yn(!c||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:yn(!c||a.bottom||a.right,r.bottomRight,0,o)}}function Q2(t){const e=bg(t),n=e.right-e.left,s=e.bottom-e.top,i=X2(t,n/2,s/2),r=K2(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function ml(t,e,n,s){const i=e===null,r=n===null,a=t&&!(i&&r)&&bg(t,s);return a&&(i||Qn(e,a.left,a.right))&&(r||Qn(n,a.top,a.bottom))}function G2(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Z2(t,e){t.rect(e.x,e.y,e.w,e.h)}function gl(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+r,h:t.h+o,radius:t.radius}}class Ai extends nn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=Q2(this),a=G2(o.radius)?$o:Z2;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,gl(o,n,r)),e.clip(),a(e,gl(r,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,gl(r,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return ml(this,e,n,s)}inXRange(e,n){return ml(this,e,null,n)}inYRange(e,n){return ml(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}K(Ai,"id","bar"),K(Ai,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),K(Ai,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const df=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},J2=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class hf extends nn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=de(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=Ve(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=df(s,r);let u,d;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,r,a,c)+10):(d=this.maxHeight,u=this._fitCols(o,i,a,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=i+a;let h=e;r.textAlign="left",r.textBaseline="middle";let f=-1,g=-d;return this.legendItems.forEach((y,x)=>{const w=s+n/2+r.measureText(y.text).width;(x===0||u[u.length-1]+w+2*a>o)&&(h+=d,u[u.length-(x>0?0:1)]=0,g+=d,f++),c[x]={left:0,top:g,row:f,width:w,height:i},u[u.length-1]+=w+a}),h}_fitCols(e,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-e;let h=a,f=0,g=0,y=0,x=0;return this.legendItems.forEach((w,p)=>{const{itemWidth:m,itemHeight:v}=q2(s,n,r,w,i);p>0&&g+v+2*a>d&&(h+=f+a,u.push({width:f,height:g}),y+=f+a,x++,f=g=0),c[p]={left:y,top:g,col:x,width:m,height:v},f=Math.max(f,m),g+=v+a}),h+=f,u.push({width:f,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=Os(r,this.left,this.width);if(this.isHorizontal()){let a=0,c=$e(s,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,c=$e(s,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(c),u.width),c+=u.width+i}else{let a=0,c=$e(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,c=$e(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),u.top=c,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),c+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;vu(e,this),this._draw(),bu(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=_e.color,c=Os(e.rtl,this.left,this.width),u=Ve(o.font),{padding:d}=o,h=u.size,f=h/2;let g;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:y,boxHeight:x,itemHeight:w}=df(o,h),p=function(N,M,_){if(isNaN(y)||y<=0||isNaN(x)||x<0)return;i.save();const F=ee(_.lineWidth,1);if(i.fillStyle=ee(_.fillStyle,a),i.lineCap=ee(_.lineCap,"butt"),i.lineDashOffset=ee(_.lineDashOffset,0),i.lineJoin=ee(_.lineJoin,"miter"),i.lineWidth=F,i.strokeStyle=ee(_.strokeStyle,a),i.setLineDash(ee(_.lineDash,[])),o.usePointStyle){const A={radius:x*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:F},S=c.xPlus(N,y/2),C=M+f;qm(i,A,S,C,o.pointStyleWidth&&y)}else{const A=M+Math.max((h-x)/2,0),S=c.leftForLtr(N,y),C=As(_.borderRadius);i.beginPath(),Object.values(C).some(z=>z!==0)?$o(i,{x:S,y:A,w:y,h:x,radius:C}):i.rect(S,A,y,x),i.fill(),F!==0&&i.stroke()}i.restore()},m=function(N,M,_){tr(i,_.text,N,M+w/2,u,{strikethrough:_.hidden,textAlign:c.textAlign(_.textAlign)})},v=this.isHorizontal(),k=this._computeTitleHeight();v?g={x:$e(r,this.left+d,this.right-s[0]),y:this.top+d+k,line:0}:g={x:this.left+d,y:$e(r,this.top+k+d,this.bottom-n[0].height),line:0},og(this.ctx,e.textDirection);const j=w+d;this.legendItems.forEach((N,M)=>{i.strokeStyle=N.fontColor,i.fillStyle=N.fontColor;const _=i.measureText(N.text).width,F=c.textAlign(N.textAlign||(N.textAlign=o.textAlign)),A=y+f+_;let S=g.x,C=g.y;c.setWidth(this.width),v?M>0&&S+A+d>this.right&&(C=g.y+=j,g.line++,S=g.x=$e(r,this.left+d,this.right-s[g.line])):M>0&&C+j>this.bottom&&(S=g.x=S+n[g.line].width+d,g.line++,C=g.y=$e(r,this.top+k+d,this.bottom-n[g.line].height));const z=c.x(S);if(p(z,C,N),S=kv(F,S+y+f,v?S+A:this.right,e.rtl),m(c.x(S),C,N),v)g.x+=A+d;else if(typeof N.text!="string"){const H=u.lineHeight;g.y+=wg(N,H)+d}else g.y+=j}),ag(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Ve(n.font),i=kt(n.padding);if(!n.display)return;const r=Os(e.rtl,this.left,this.width),o=this.ctx,a=n.position,c=s.size/2,u=i.top+c;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=$e(e.align,h,this.right-f);else{const y=this.columnSizes.reduce((x,w)=>Math.max(x,w.height),0);d=u+$e(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const g=$e(a,h,h+f);o.textAlign=r.textAlign(xu(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,tr(o,n.text,g,d,s)}_computeTitleHeight(){const e=this.options.title,n=Ve(e.font),s=kt(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if(Qn(e,this.left,this.right)&&Qn(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],Qn(e,i.left,i.left+i.width)&&Qn(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!nb(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=J2(i,s);i&&!r&&de(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&de(n.onHover,[e,s,this],this)}else s&&de(n.onClick,[e,s,this],this)}}function q2(t,e,n,s,i){const r=eb(s,t,e,n),o=tb(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function eb(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+s.measureText(i).width}function tb(t,e,n){let s=t;return typeof e.text!="string"&&(s=wg(e,n)),s}function wg(t,e){const n=t.text?t.text.length:0;return e*n}function nb(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var kg={id:"legend",_element:hf,start(t,e,n){const s=t.legend=new hf({ctx:t.ctx,options:n,chart:t});xt.configure(t,s,n),xt.addBox(t,s)},stop(t){xt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;xt.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=kt(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class jg extends nn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Pe(s.text)?s.text.length:1;this._padding=kt(s.padding);const r=i*Ve(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let c=0,u,d,h;return this.isHorizontal()?(d=$e(a,s,r),h=n+e,u=r-s):(o.position==="left"?(d=s+e,h=$e(a,i,n),c=ae*-.5):(d=r-e,h=$e(a,n,i),c=ae*.5),u=i-n),{titleX:d,titleY:h,maxWidth:u,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Ve(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:u}=this._drawArgs(r);tr(e,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:u,textAlign:xu(n.align),textBaseline:"middle",translation:[o,a]})}}function sb(t,e){const n=new jg({ctx:t.ctx,options:e,chart:t});xt.configure(t,n,e),xt.addBox(t,n),t.titleBlock=n}var _g={id:"title",_element:jg,start(t,e,n){sb(t,n)},stop(t){const e=t.titleBlock;xt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;xt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wi={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const c=a.tooltipPosition();s.add(c.x),i+=c.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,c)=>a+c)/s.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const c=t[r].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=gv(e,u);d<i&&(i=d,a=c)}}if(a){const c=a.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function Ot(t,e){return e&&(Pe(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Vt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function ib(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function ff(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,c=Ve(e.bodyFont),u=Ve(e.titleFont),d=Ve(e.footerFont),h=r.length,f=i.length,g=s.length,y=kt(e.padding);let x=y.height,w=0,p=s.reduce((k,j)=>k+j.before.length+j.lines.length+j.after.length,0);if(p+=t.beforeBody.length+t.afterBody.length,h&&(x+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),p){const k=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;x+=g*k+(p-g)*c.lineHeight+(p-1)*e.bodySpacing}f&&(x+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let m=0;const v=function(k){w=Math.max(w,n.measureText(k).width+m)};return n.save(),n.font=u.string,ie(t.title,v),n.font=c.string,ie(t.beforeBody.concat(t.afterBody),v),m=e.displayColors?o+2+e.boxPadding:0,ie(s,k=>{ie(k.before,v),ie(k.lines,v),ie(k.after,v)}),m=0,n.font=d.string,ie(t.footer,v),n.restore(),w+=y.width,{width:w,height:x}}function rb(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function ob(t,e,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function ab(t,e,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:c}}=t;let u="center";return s==="center"?u=i<=(a+c)/2?"left":"right":i<=r/2?u="left":i>=o-r/2&&(u="right"),ob(u,t,e,n)&&(u="center"),u}function pf(t,e,n){const s=n.yAlign||e.yAlign||rb(t,n);return{xAlign:n.xAlign||e.xAlign||ab(t,e,n,s),yAlign:s}}function lb(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function cb(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function mf(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:c}=n,u=i+r,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:g}=As(o);let y=lb(e,a);const x=cb(e,c,u);return c==="center"?a==="left"?y+=u:a==="right"&&(y-=u):a==="left"?y-=Math.max(d,f)+i:a==="right"&&(y+=Math.max(h,g)+i),{x:nt(y,0,s.width-e.width),y:nt(x,0,s.height-e.height)}}function Kr(t,e,n){const s=kt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function gf(t){return Ot([],Vt(t))}function ub(t,e,n){return Ks(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function xf(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Sg={beforeTitle:$t,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:$t,beforeBody:$t,beforeLabel:$t,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return le(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:$t,afterBody:$t,beforeFooter:$t,footer:$t,afterFooter:$t};function Je(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?Sg[e].call(n,s):i}class gc extends nn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new lg(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=ub(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=Je(s,"beforeTitle",this,e),r=Je(s,"title",this,e),o=Je(s,"afterTitle",this,e);let a=[];return a=Ot(a,Vt(i)),a=Ot(a,Vt(r)),a=Ot(a,Vt(o)),a}getBeforeBody(e,n){return gf(Je(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return ie(e,r=>{const o={before:[],lines:[],after:[]},a=xf(s,r);Ot(o.before,Vt(Je(a,"beforeLabel",this,r))),Ot(o.lines,Je(a,"label",this,r)),Ot(o.after,Vt(Je(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,n){return gf(Je(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=Je(s,"beforeFooter",this,e),r=Je(s,"footer",this,e),o=Je(s,"afterFooter",this,e);let a=[];return a=Ot(a,Vt(i)),a=Ot(a,Vt(r)),a=Ot(a,Vt(o)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],c,u;for(c=0,u=n.length;c<u;++c)a.push(ib(this.chart,n[c]));return e.filter&&(a=a.filter((d,h,f)=>e.filter(d,h,f,s))),e.itemSort&&(a=a.sort((d,h)=>e.itemSort(d,h,s))),ie(a,d=>{const h=xf(e.callbacks,d);i.push(Je(h,"labelColor",this,d)),r.push(Je(h,"labelPointStyle",this,d)),o.push(Je(h,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=wi[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=ff(this,s),u=Object.assign({},a,c),d=pf(this.chart,s,u),h=mf(s,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,r={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=As(a),{x:f,y:g}=e,{width:y,height:x}=n;let w,p,m,v,k,j;return r==="center"?(k=g+x/2,i==="left"?(w=f,p=w-o,v=k+o,j=k-o):(w=f+y,p=w+o,v=k-o,j=k+o),m=w):(i==="left"?p=f+Math.max(c,d)+o:i==="right"?p=f+y-Math.max(u,h)-o:p=this.caretX,r==="top"?(v=g,k=v-o,w=p-o,m=p+o):(v=g+x,k=v+o,w=p+o,m=p-o),j=v),{x1:w,x2:p,x3:m,y1:v,y2:k,y3:j}}drawTitle(e,n,s){const i=this.title,r=i.length;let o,a,c;if(r){const u=Os(s.rtl,this.x,this.width);for(e.x=Kr(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",o=Ve(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,c=0;c<r;++c)n.fillText(i[c],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,c+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:c,boxWidth:u}=r,d=Ve(r.bodyFont),h=Kr(this,"left",r),f=i.x(h),g=c<d.lineHeight?(d.lineHeight-c)/2:0,y=n.y+g;if(r.usePointStyle){const x={radius:Math.min(u,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},w=i.leftForLtr(f,u)+u/2,p=y+c/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Ph(e,x,w,p),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Ph(e,x,w,p)}else{e.lineWidth=ne(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const x=i.leftForLtr(f,u),w=i.leftForLtr(i.xPlus(f,1),u-2),p=As(o.borderRadius);Object.values(p).some(m=>m!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,$o(e,{x,y,w:u,h:c,radius:p}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),$o(e,{x:w,y:y+1,w:u-2,h:c-2,radius:p}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(x,y,u,c),e.strokeRect(x,y,u,c),e.fillStyle=o.backgroundColor,e.fillRect(w,y+1,u-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:c,boxWidth:u,boxPadding:d}=s,h=Ve(s.bodyFont);let f=h.lineHeight,g=0;const y=Os(s.rtl,this.x,this.width),x=function(_){n.fillText(_,y.x(e.x+g),e.y+f/2),e.y+=f+r},w=y.textAlign(o);let p,m,v,k,j,N,M;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Kr(this,w,s),n.fillStyle=s.bodyColor,ie(this.beforeBody,x),g=a&&w!=="right"?o==="center"?u/2+d:u+2+d:0,k=0,N=i.length;k<N;++k){for(p=i[k],m=this.labelTextColors[k],n.fillStyle=m,ie(p.before,x),v=p.lines,a&&v.length&&(this._drawColorBox(n,e,k,y,s),f=Math.max(h.lineHeight,c)),j=0,M=v.length;j<M;++j)x(v[j]),f=h.lineHeight;ie(p.after,x)}g=0,f=h.lineHeight,ie(this.afterBody,x),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let o,a;if(r){const c=Os(s.rtl,this.x,this.width);for(e.x=Kr(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",o=Ve(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:c}=e,{width:u,height:d}=s,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:y}=As(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,c),o==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+u-f,c),n.quadraticCurveTo(a+u,c,a+u,c+f),o==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+u,c+d-y),n.quadraticCurveTo(a+u,c+d,a+u-y,c+d),o==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+g,c+d),n.quadraticCurveTo(a,c+d,a,c+d-g),o==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,c+h),n.quadraticCurveTo(a,c,a+h,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=wi[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=ff(this,e),c=Object.assign({},o,this._size),u=pf(n,e,c),d=mf(e,c,u,n);(i._to!==d.x||r._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=kt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),og(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),ag(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:c})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[c],index:c}}),r=!Fo(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,s),a=this._positionChanged(o,e),c=n||!Fo(o,r)||a;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,o=wi[r.position].call(this,e,n);return o!==!1&&(s!==o.x||i!==o.y)}}K(gc,"positioners",wi);var Ng={id:"tooltip",_element:gc,positioners:wi,afterInit(t,e,n){n&&(t.tooltip=new gc({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Sg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const db=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function hb(t,e,n,s){const i=t.indexOf(e);if(i===-1)return db(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const fb=(t,e)=>t===null?null:nt(Math.round(t),0,e);function yf(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Yo extends Qs{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(le(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:hb(s,e,ee(n,e),this._addedLabels),fb(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return yf.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}K(Yo,"id","category"),K(Yo,"defaults",{ticks:{callback:yf}});function pb(t,e){const n=[],{bounds:i,step:r,min:o,max:a,precision:c,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=t,g=r||1,y=d-1,{min:x,max:w}=e,p=!le(o),m=!le(a),v=!le(u),k=(w-x)/(h+1);let j=kh((w-x)/y/g)*g,N,M,_,F;if(j<1e-14&&!p&&!m)return[{value:x},{value:w}];F=Math.ceil(w/j)-Math.floor(x/j),F>y&&(j=kh(F*j/y/g)*g),le(c)||(N=Math.pow(10,c),j=Math.ceil(j*N)/N),i==="ticks"?(M=Math.floor(x/j)*j,_=Math.ceil(w/j)*j):(M=x,_=w),p&&m&&r&&fv((a-o)/r,j/1e3)?(F=Math.round(Math.min((a-o)/j,d)),j=(a-o)/F,M=o,_=a):v?(M=p?o:M,_=m?a:_,F=u-1,j=(_-M)/F):(F=(_-M)/j,lo(F,Math.round(F),j/1e3)?F=Math.round(F):F=Math.ceil(F));const A=Math.max(jh(j),jh(M));N=Math.pow(10,le(c)?A:c),M=Math.round(M*N)/N,_=Math.round(_*N)/N;let S=0;for(p&&(f&&M!==o?(n.push({value:o}),M<o&&S++,lo(Math.round((M+S*j)*N)/N,o,vf(o,k,t))&&S++):M<o&&S++);S<F;++S){const C=Math.round((M+S*j)*N)/N;if(m&&C>a)break;n.push({value:C})}return m&&f&&_!==a?n.length&&lo(n[n.length-1].value,a,vf(a,k,t))?n[n.length-1].value=a:n.push({value:a}):(!m||_===a)&&n.push({value:_}),n}function vf(t,e,{horizontal:n,minRotation:s}){const i=Gt(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class mb extends Qs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return le(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=c=>i=n?i:c,a=c=>r=s?r:c;if(e){const c=Mn(i),u=Mn(r);c<0&&u<0?a(0):c>0&&u>0&&o(0)}if(i===r){let c=r===0?1:Math.abs(r*.05);a(r+c),e||o(i-c)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=pb(i,r);return e.bounds==="ticks"&&pv(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return yu(e,this.chart.options.locale,this.options.ticks.format)}}class Xo extends mb{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=wt(e)?e:0,this.max=wt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Gt(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}K(Xo,"id","linear"),K(Xo,"defaults",{ticks:{callback:Jm.formatters.numeric}});const pa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},et=Object.keys(pa);function bf(t,e){return t-e}function wf(t,e){if(le(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),wt(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Bo(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function kf(t,e,n,s){const i=et.length;for(let r=et.indexOf(t);r<i-1;++r){const o=pa[et[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return et[r]}return et[i-1]}function gb(t,e,n,s,i){for(let r=et.length-1;r>=et.indexOf(n);r--){const o=et[r];if(pa[o].common&&t._adapter.diff(i,s,o)>=e-1)return o}return et[n?et.indexOf(n):0]}function xb(t){for(let e=et.indexOf(t)+1,n=et.length;e<n;++e)if(pa[et[e]].common)return et[e]}function jf(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=gu(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function yb(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,c;for(a=r;a<=o;a=+i.add(a,1,s))c=n[a],c>=0&&(e[c].major=!0);return e}function _f(t,e,n){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:yb(t,s,i,n)}class Ko extends Qs{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new D1._date(e.adapters.date);i.init(n),Pi(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:wf(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function c(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(r=Math.max(r,u.max))}(!o||!a)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=wt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=wt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=vv(i,r,o);return this._unit=n.unit||(s.autoSkip?kf(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):gb(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:xb(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),_f(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=nt(n,0,o),s=nt(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||kf(r.minUnit,n,s,this._getLabelCapacity(n)),a=ee(i.ticks.stepSize,1),c=o==="week"?r.isoWeekday:!1,u=Bo(c)||c===!0,d={};let h=n,f,g;if(u&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,u?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const y=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,g=0;f<s;f=+e.add(f,a,o),g++)jf(d,f,y);return(f===s||i.bounds==="ticks"||g===1)&&jf(d,f,y),Object.keys(d).sort(bf).map(x=>+x)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return de(o,[e,n,s],this);const a=r.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&a[c],h=u&&a[u],f=s[n],g=u&&h&&f&&f.major;return this._adapter.format(e,i||(g?h:d))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=Gt(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,_f(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(wf(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Km(e.sort(bf))}}K(Ko,"id","time"),K(Ko,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Qr(t,e,n){let s=0,i=t.length-1,r,o,a,c;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=hc(t,"pos",e)),{pos:r,time:a}=t[s],{pos:o,time:c}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=hc(t,"time",e)),{time:r,pos:a}=t[s],{time:o,pos:c}=t[i]);const u=o-r;return u?a+(c-a)*(e-r)/u:a}class Sf extends Ko{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Qr(n,this.min),this._tableRange=Qr(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let o,a,c,u,d;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=s&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)d=i[o+1],c=i[o-1],u=i[o],Math.round((d+c)/2)!==u&&r.push({time:u,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Qr(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Qr(this._table,s*this._tableRange+this._minPos,!0)}}K(Sf,"id","timeseries"),K(Sf,"defaults",Ko.defaults);const Cg="label";function Nf(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function vb(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Mg(t,e){t.labels=e}function Lg(t,e,n=Cg){const s=[];t.datasets=e.map(i=>{const r=t.datasets.find(o=>o[n]===i[n]);return!r||!i.data||s.includes(r)?{...i}:(s.push(r),Object.assign(r,i),r)})}function bb(t,e=Cg){const n={labels:[],datasets:[]};return Mg(n,t.labels),Lg(n,t.datasets,e),n}function wb(t,e){const{height:n=150,width:s=300,redraw:i=!1,datasetIdKey:r,type:o,data:a,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...f}=t,g=L.useRef(null),y=L.useRef(null),x=()=>{g.current&&(y.current=new ur(g.current,{type:o,data:bb(a,r),options:c&&{...c},plugins:u}),Nf(e,y.current))},w=()=>{Nf(e,null),y.current&&(y.current.destroy(),y.current=null)};return L.useEffect(()=>{!i&&y.current&&c&&vb(y.current,c)},[i,c]),L.useEffect(()=>{!i&&y.current&&Mg(y.current.config.data,a.labels)},[i,a.labels]),L.useEffect(()=>{!i&&y.current&&a.datasets&&Lg(y.current.config.data,a.datasets,r)},[i,a.datasets]),L.useEffect(()=>{y.current&&(i?(w(),setTimeout(x)):y.current.update(h))},[i,c,a.labels,a.datasets,h]),L.useEffect(()=>{y.current&&(w(),setTimeout(x))},[o]),L.useEffect(()=>(x(),()=>w()),[]),l.jsx("canvas",{ref:g,role:"img",height:n,width:s,...f,children:d})}const kb=L.forwardRef(wb);function Eg(t,e){return ur.register(e),L.forwardRef((n,s)=>l.jsx(kb,{...n,ref:s,type:t}))}const xc=Eg("bar",co),Pg=Eg("doughnut",vi);ur.register(Cs,Yo,Xo,Ai,_g,Ng,kg);function jb({summary:t,students:e}){const n={labels:["Complete","Active","Warning","Re-engage"],datasets:[{data:[t.completeCount||0,t.activeCount,t.warningCount,t.reengageCount],backgroundColor:["#3b82f6","#22c55e","#f97316","#ef4444"],borderColor:["#ffffff","#ffffff","#ffffff","#ffffff"],borderWidth:2}]},s={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,font:{size:12}}},tooltip:{callbacks:{label:d=>{const h=d.dataset.data.reduce((g,y)=>g+y,0),f=(d.raw/h*100).toFixed(1);return`${d.label}: ${d.raw} (${f}%)`}}}}},i=[{label:"0-25%",min:0,max:25,count:0,color:"#ef4444"},{label:"26-50%",min:26,max:50,count:0,color:"#f97316"},{label:"51-75%",min:51,max:75,count:0,color:"#3b82f6"},{label:"76-100%",min:76,max:100,count:0,color:"#22c55e"}];e.forEach(d=>{const h=d.progress.value;for(const f of i)if(h>=f.min&&h<=f.max){f.count++;break}});const r={labels:i.map(d=>d.label),datasets:[{label:"Students",data:i.map(d=>d.count),backgroundColor:i.map(d=>d.color),borderRadius:6}]},o={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:d=>`${d.raw} students`}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}},a=e.filter(d=>d.progress.value>=100).length,c=e.filter(d=>d.progress.value>0&&d.progress.value<100).length,u=e.filter(d=>d.progress.value===0).length;return l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Student Status"}),l.jsx("div",{className:"h-64",children:l.jsx(Pg,{data:n,options:s})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Progress Distribution"}),l.jsx("div",{className:"h-64",children:l.jsx(xc,{data:r,options:o})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Course Status"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Completed"})]}),l.jsx("span",{className:"text-2xl font-bold text-green-600",children:a})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"In Progress"})]}),l.jsx("span",{className:"text-2xl font-bold text-blue-600",children:c})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Not Started"})]}),l.jsx("span",{className:"text-2xl font-bold text-gray-600",children:u})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm text-gray-500",children:"Average Progress"}),l.jsxs("span",{className:"font-bold text-gray-900",children:[t.averageProgress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:"h-3 rounded-full transition-all duration-500",style:{width:`${t.averageProgress}%`,backgroundColor:t.averageProgress>=75?"#22c55e":t.averageProgress>=40?"#3b82f6":"#f97316"}})})]})]})]})]})}ur.register(Cs,Yo,Xo,Ai,_g,Ng,kg);function _b({examSummary:t,students:e}){const n={labels:["Passed","Failed","Upcoming","Pending"],datasets:[{data:[t.passed,t.failed,t.upcoming,t.noResult],backgroundColor:["#22c55e","#ef4444","#3b82f6","#f97316"],borderColor:["#ffffff","#ffffff","#ffffff","#ffffff"],borderWidth:2}]},s={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,usePointStyle:!0,font:{size:12}}},tooltip:{callbacks:{label:p=>{const m=p.dataset.data.reduce((k,j)=>k+j,0),v=m>0?(p.raw/m*100).toFixed(1):0;return`${p.label}: ${p.raw} (${v}%)`}}}}},i=t.courseTypes||{},r=Object.keys(i).filter(p=>p!=="Unknown"&&p),o=r.map(p=>{const m=i[p],v=m.passed+m.failed;return v>0?Math.round(m.passed/v*100):0}),a=r.map(p=>{const m=i[p];return m.passed+m.failed}),c={labels:r,datasets:[{label:"Pass Rate %",data:o,backgroundColor:o.map(p=>p>=70?"#22c55e":p>=50?"#f97316":"#ef4444"),borderRadius:6}]},u={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:p=>{const m=p.dataIndex;return`Pass rate: ${p.raw}% (${a[m]} taken)`}}}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:p=>p+"%"}},x:{ticks:{font:{size:11}}}}},d={labels:["Passed","Failed","All Students"],datasets:[{label:"Avg Study Time (minutes)",data:[t.avgStudyPassed||0,t.avgStudyFailed||0,t.avgStudyTime||0],backgroundColor:["#22c55e","#ef4444","#6366f1"],borderRadius:6}]},h=p=>p>=60?`${Math.floor(p/60)}h ${p%60}m`:`${p}m`,f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:p=>`Avg: ${h(p.raw)}`}}},scales:{y:{beginAtZero:!0,ticks:{callback:p=>h(p)}}}},g=e.filter(p=>p.matched!==!1),y=e.filter(p=>(p.passFail||"").toUpperCase()==="PASS"),x=e.filter(p=>(p.passFail||"").toUpperCase()==="FAIL"),w=[{label:"0-25%",min:0,max:25,count:0,color:"#ef4444"},{label:"26-50%",min:26,max:50,count:0,color:"#f97316"},{label:"51-75%",min:51,max:75,count:0,color:"#3b82f6"},{label:"76-100%",min:76,max:100,count:0,color:"#22c55e"}];return g.forEach(p=>{var v;const m=((v=p.progress)==null?void 0:v.value)||0;for(const k of w)if(m>=k.min&&m<=k.max){k.count++;break}}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Exam Results"}),l.jsx("div",{className:"h-64",children:l.jsx(Pg,{data:n,options:s})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pass Rate by Course"}),l.jsx("div",{className:"h-64",children:r.length>0?l.jsx(xc,{data:c,options:u}):l.jsx("div",{className:"h-full flex items-center justify-center text-gray-400",children:"No exam results yet"})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Avg Study Time"}),t.avgStudyPassed>0||t.avgStudyFailed>0?l.jsx("div",{className:"h-64",children:l.jsx(xc,{data:d,options:f})}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Passed"})]}),l.jsx("span",{className:"text-2xl font-bold text-green-600",children:y.length})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Failed"})]}),l.jsx("span",{className:"text-2xl font-bold text-red-600",children:x.length})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Tracked"})]}),l.jsx("span",{className:"text-2xl font-bold text-blue-600",children:g.length})]}),l.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Study time data available for students in your department"})]})]})]})}const pe="/api";function Sb({user:t,department:e,onLogout:n,initialData:s}){const[i,r]=L.useState((s==null?void 0:s.students)||[]),[o,a]=L.useState((s==null?void 0:s.summary)||null),[c,u]=L.useState(!s),[d,h]=L.useState(!1),[f,g]=L.useState((s==null?void 0:s.isQuick)||!1),[y,x]=L.useState(null),[w,p]=L.useState(s?new Date:null),[m,v]=L.useState(null),[k,j]=L.useState(!1),[N,M]=L.useState(!1),[_,F]=L.useState("students"),[A,S]=L.useState([]),[C,z]=L.useState(null),[H,$]=L.useState(!1),[Y,X]=L.useState(!1),[D,R]=L.useState(!1),[W,Z]=L.useState(""),[J,ve]=L.useState(!1),[be,O]=L.useState(""),[V,se]=L.useState(null),[Le,we]=L.useState(!1),[ke,Pt]=L.useState([]),[Gs,dr]=L.useState(!1),[Zs,Mu]=L.useState(!1),[ma,Lu]=L.useState(""),[Eu,Pu]=L.useState(""),[Du,Js]=L.useState(""),[ga,hr]=L.useState(!1),[Se,xa]=L.useState([]),Tu=L.useRef(!1),[fr,Dg]=L.useState(!1),[Au,Ou]=L.useState(""),[Ru,rn]=L.useState(""),[Fu,ya]=L.useState([]),[On,va]=L.useState([]),[ba,zu]=L.useState(!1),[ht,wa]=L.useState([]),Iu=L.useRef(!1),[Ze,Bu]=L.useState(!1),[Rn,ka]=L.useState(""),[ja,Tg]=L.useState("all"),[pr,Wu]=L.useState("no-result"),[mr,$u]=L.useState("all"),[on,_a]=L.useState([]),[Sa,Hu]=L.useState(!1),[gr,Vu]=L.useState("all"),[xr,Uu]=L.useState("all"),[Na,Yu]=L.useState("all");L.useEffect(()=>{s?(console.log("[DASHBOARD] Using pre-fetched data"),s.isQuick&&(console.log("[DASHBOARD] Loading full data in background..."),Ag())):(console.log("[DASHBOARD] Component mounted, fetching data..."),Zu())},[]),L.useEffect(()=>{if(!(t!=null&&t.email))return;(async()=>{var E;try{const P=await fetch(`${pe}/dashboard/dept-prefs`,{credentials:"include"});if(P.ok){const B=await P.json();B.success&&((E=B.departmentIds)==null?void 0:E.length)>0&&xa(B.departmentIds)}}catch(P){console.error("[DEPT] Failed to load dept prefs:",P)}Tu.current=!0})()},[t==null?void 0:t.email]),L.useEffect(()=>{!(t!=null&&t.email)||!Tu.current||fetch(`${pe}/dashboard/dept-prefs`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({departmentIds:Se})}).catch(b=>console.error("[DEPT] Failed to save dept prefs:",b))},[Se]),L.useEffect(()=>{if(!(t!=null&&t.email))return;(async()=>{var E;try{const P=await fetch(`${pe}/dashboard/hidden-students`,{credentials:"include"});if(P.ok){const B=await P.json();B.success&&((E=B.hiddenEmails)==null?void 0:E.length)>0&&wa(B.hiddenEmails)}}catch(P){console.error("[HIDDEN] Failed to load hidden prefs:",P)}Iu.current=!0})()},[t==null?void 0:t.email]),L.useEffect(()=>{!(t!=null&&t.email)||!Iu.current||fetch(`${pe}/dashboard/hidden-students`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({hiddenEmails:ht})}).catch(b=>console.error("[HIDDEN] Failed to save hidden prefs:",b))},[ht]),L.useEffect(()=>{Se.length>0?Og():(ya([]),va([]),Zu()),X(!1)},[Se.length]),L.useEffect(()=>{_==="exam"&&!Y&&!H&&qs()},[_]);const qs=async b=>{$(!0);try{const E=b||W,P=new URLSearchParams;E&&P.set("adminKey",E),Se.length>0&&P.set("departments",Se.join(","));const B=P.toString(),U=B?`${pe}/exam/students?${B}`:`${pe}/exam/students`;console.log("[EXAM] Fetching with URL:",U,"extraDepts:",Se);const Q=await fetch(U,{credentials:"include"});if(!Q.ok){if(Q.status===401){n();return}throw new Error("Failed to fetch exam data")}const Ye=await Q.json();Ye.success&&(S(Ye.students),z(Ye.examSummary),we(!1),X(!0),E&&fetch(`${pe}/exam/sync-scheduler/status`,{credentials:"include"}).then(q=>q.ok?q.json():null).then(q=>{q!=null&&q.success&&se(q.scheduler)}).catch(()=>{}))}catch(E){x("Failed to load exam data. Please try again."),console.error("[DASHBOARD] Exam data error:",E)}finally{$(!1)}},Ag=async()=>{try{const[b,E]=await Promise.all([fetch(`${pe}/dashboard/summary`,{credentials:"include"}),fetch(`${pe}/dashboard/students`,{credentials:"include"})]);if(b.ok&&E.ok){const[P,B]=await Promise.all([b.json(),E.json()]);P.success&&B.success&&(console.log("[DASHBOARD] Full data loaded, updating..."),a(P.summary),r(B.students),p(new Date))}}catch(b){console.error("[DASHBOARD] Background load failed:",b)}finally{g(!1)}},Og=async()=>{u(!0),x(null);try{const b=Se.join(","),E=await fetch(`${pe}/dashboard/students/multi?departments=${encodeURIComponent(b)}`,{credentials:"include"});if(!E.ok){if(E.status===401){n();return}throw new Error("Failed to fetch multi-department data")}const P=await E.json();if(P.success){r(P.students),a(P.summary),ya(P.departments||[]),p(new Date);const B=(P.departments||[]).filter(U=>U.status==="error");B.length>0&&rn(`Could not load ${B.length} department(s): ${B.map(U=>U.error||U.id).join(", ")}`)}}catch(b){x("Failed to load multi-department data. Please try again."),console.error("[DASHBOARD] Multi-dept error:",b)}finally{u(!1)}},Xu=()=>{var P;const b=Au.trim();if(!/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(b)){rn("Invalid Department ID format (must be a GUID like xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx)");return}if(b.toLowerCase()===((P=e==null?void 0:e.id)==null?void 0:P.toLowerCase())){rn("This is already your primary department");return}if(Se.some(B=>B.toLowerCase()===b.toLowerCase())){rn("Department already added");return}if(Se.length>=10){rn("Maximum 10 additional departments");return}rn(""),Ou(""),xa(B=>[...B,b])},Ku=b=>{xa(E=>E.filter(P=>P!==b))},Qu=b=>{const E=b.toLowerCase().trim();wa(P=>P.includes(E)?P:[...P,E])},Gu=b=>{const E=b.toLowerCase().trim();wa(P=>P.filter(B=>B!==E))},Zu=L.useCallback(async()=>{u(!0),x(null);try{const[b,E]=await Promise.all([fetch(`${pe}/dashboard/summary`,{credentials:"include"}),fetch(`${pe}/dashboard/students`,{credentials:"include"})]);if(!b.ok||!E.ok){if(b.status===401||E.status===401){n();return}throw new Error("Failed to fetch data")}const P=await b.json(),B=await E.json();P.success&&a(P.summary),B.success&&r(B.students),p(new Date)}catch(b){x("Failed to load dashboard data. Please try again."),console.error("Dashboard error:",b)}finally{u(!1)}},[n]),Rg=async()=>{h(!0),x(null);try{const b=Se.length>0?JSON.stringify({extraDepartments:Se}):void 0,E=await fetch(`${pe}/dashboard/sync`,{method:"POST",credentials:"include",headers:b?{"Content-Type":"application/json"}:{},body:b});if(!E.ok){if(E.status===401){n();return}const B=await E.json().catch(()=>null);throw new Error((B==null?void 0:B.error)||`Sync failed (${E.status})`)}const P=await E.json();P.success&&(a(P.summary),r(P.students),P.departments&&ya(P.departments),p(new Date),Y&&(X(!1),_==="exam"&&qs()))}catch(b){console.error("[SYNC] Error:",b),x(b.message||"Failed to sync data. Please try again.")}finally{h(!1)}},Fg=async()=>{try{const b=Se.length>0?`${pe}/dashboard/export?departments=${encodeURIComponent(Se.join(","))}`:`${pe}/dashboard/export`,E=await fetch(b,{credentials:"include"});if(!E.ok)throw new Error("Export failed");const P=await E.blob(),B=window.URL.createObjectURL(P),U=document.createElement("a");U.href=B,U.download=`students_export_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(U),U.click(),window.URL.revokeObjectURL(B),U.remove()}catch{x("Failed to export data. Please try again.")}},zg=async b=>{try{(await(await fetch(`${pe}/exam/admin-verify`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({password:b})})).json()).success?(R(!0),Z(b),ve(!1),O(""),X(!1),qs(b),Ju(b)):O("Invalid password")}catch{O("Failed to verify")}},Ig=()=>{R(!1),Z(""),ve(!1),O(""),Pt([]),hr(!1),Mu(!1),X(!1),qs("")},Ju=async b=>{dr(!0);try{const P=await(await fetch(`${pe}/exam/allowlist?adminKey=${encodeURIComponent(b||W)}`,{credentials:"include"})).json();P.success&&(Pt(P.users),hr(P.enforcing))}catch(E){console.error("Failed to fetch allowlist:",E)}finally{dr(!1)}},Ca=async()=>{if(!ma.trim()){Js("Email is required");return}Js("");try{const E=await(await fetch(`${pe}/exam/allowlist/add`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:ma.trim(),name:Eu.trim(),adminKey:W})})).json();E.success?(Pt(E.users),hr(!0),Lu(""),Pu(""),E.autoAddedAdmin&&alert("Your admin account was automatically added to the allowlist to prevent lockout.")):Js(E.error||"Failed to add user")}catch{Js("Network error")}},Bg=async b=>{if(confirm(`Remove ${b} from allowed users? They will not be able to log in.`))try{const P=await(await fetch(`${pe}/exam/allowlist/remove`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:b,adminKey:W})})).json();P.success&&(Pt(P.users),hr(P.enforcing),P.warning&&alert(P.warning))}catch(E){console.error("Failed to remove from allowlist:",E)}},Ma=b=>b>=60?`${Math.floor(b/60)}h ${b%60}m`:`${b}m`,yr=b=>{const E=b.length,P=b.filter(oe=>(oe.passFail||"").toUpperCase()==="PASS"),B=b.filter(oe=>(oe.passFail||"").toUpperCase()==="FAIL"),U=P.length,Q=B.length,Ye=Date.now();let q=0,jt=0;b.forEach(oe=>{var sd;const Ae=Ea(oe.examDateRaw),Dt=(oe.passFail||"").trim()!=="";Ae>Ye&&!Dt&&(q++,oe.matched!==!1&&(((sd=oe.progress)==null?void 0:sd.value)||0)<80&&jt++)});const Fn=U+Q,zn=Fn>0?Math.round(U/Fn*1e3)/10:0,Ne=b.filter(oe=>oe.matched!==!1),an=P.filter(oe=>oe.matched!==!1),ls=B.filter(oe=>oe.matched!==!1),cs=oe=>{var Ae,Dt;return(((Ae=oe.timeSpent)==null?void 0:Ae.minutes)||0)+(((Dt=oe.examPrepTime)==null?void 0:Dt.minutes)||0)},us=Ne.length>0?Math.round(Ne.reduce((oe,Ae)=>oe+cs(Ae),0)/Ne.length):0,In=an.length>0?Math.round(an.reduce((oe,Ae)=>oe+cs(Ae),0)/an.length):0,nd=ls.length>0?Math.round(ls.reduce((oe,Ae)=>oe+cs(Ae),0)/ls.length):0,Kg=Ne.length>0?Math.round(Ne.reduce((oe,Ae)=>{var Dt;return oe+(((Dt=Ae.progress)==null?void 0:Dt.value)||0)},0)/Ne.length*10)/10:0,ds={};return b.forEach(oe=>{const Ae=(oe.examCourse||"Unknown").trim();ds[Ae]||(ds[Ae]={total:0,passed:0,failed:0}),ds[Ae].total++;const Dt=(oe.passFail||"").toUpperCase();Dt==="PASS"?ds[Ae].passed++:Dt==="FAIL"&&ds[Ae].failed++}),{total:E,passed:U,failed:Q,upcoming:q,atRisk:jt,passRate:zn,noResult:E-U-Q-q,avgStudyTime:us,avgStudyTimeFormatted:Ma(us),avgStudyPassed:In,avgStudyPassedFormatted:Ma(In),avgStudyFailed:nd,avgStudyFailedFormatted:Ma(nd),averageProgress:Kg,courseTypes:ds}},qu=async(b,E)=>{try{const B=await(await fetch(`${pe}/exam/update-result`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:b,result:E,adminKey:W})})).json();if(B.success){const U=A.map(Q=>Q.email===b?{...Q,passFail:E}:Q);S(U),z(yr(U)),v(Q=>Q&&Q.email===b?{...Q,passFail:E}:Q),B.sheetSaved||alert("Warning: Result saved locally but failed to save to Google Sheet. It may be lost after server restart. Check GOOGLE_SHEETS_CREDENTIALS_JSON env var.")}else alert("Failed to save result: "+(B.error||"Unknown error"))}catch(P){console.error("Failed to update result:",P),alert("Failed to save result. Check console for details.")}},ed=async(b,E,P)=>{try{const U=await(await fetch(`${pe}/exam/update-date`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:b,date:E,time:P||"",adminKey:W})})).json();if(U.success){const[Q,Ye,q]=E.split("-").map(Number),Fn=new Date(Q,Ye-1,q).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),zn=A.map(Ne=>Ne.email===b?{...Ne,examDateRaw:E,examDate:Fn,examTime:P||Ne.examTime}:Ne);S(zn),z(yr(zn)),v(Ne=>Ne&&Ne.email===b?{...Ne,examDateRaw:E,examDate:Fn,examTime:P||Ne.examTime}:Ne),U.sheetSaved||alert("Warning: Date saved locally but failed to save to Google Sheet. It may be lost after server restart.")}else alert("Failed to save date: "+(U.error||"Unknown error"))}catch(B){console.error("Failed to update exam date:",B),alert("Failed to save date. Check console for details.")}},Wg=async(b,E)=>{try{const B=await(await fetch(`${pe}/students/${b}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(E)})).json();if(B.success){const U=B.student;return r(Q=>Q.map(Ye=>Ye.id===b?{...Ye,firstName:U.firstName,lastName:U.lastName,fullName:`${U.firstName} ${U.lastName}`.trim(),email:U.emailAddress,phone:U.phone}:Ye)),{success:!0,student:U}}else return{success:!1,error:B.error||"Update failed"}}catch(P){return console.error("Failed to update student contact:",P),{success:!1,error:"Network error"}}},$g=async(b,E,P,B)=>{try{const Q=await(await fetch(`${pe}/exam/update-contact`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:b,name:E,newEmail:P,phone:B,adminKey:W})})).json();if(Q.success){const Ye=A.map(q=>{var jt;return q.email===b?{...q,fullName:E||q.fullName,email:P||q.email,phone:B||q.phone,sheetTracking:{...q.sheetTracking,phone:B||((jt=q.sheetTracking)==null?void 0:jt.phone)}}:q});S(Ye),v(q=>{var jt;return q&&q.email===b?{...q,fullName:E||q.fullName,email:P||q.email,phone:B||q.phone,sheetTracking:{...q.sheetTracking,phone:B||((jt=q.sheetTracking)==null?void 0:jt.phone)}}:q}),Q.sheetSaved||alert("Warning: Contact saved locally but failed to save to Google Sheet. Check GOOGLE_SHEETS_CREDENTIALS_JSON env var.")}else alert("Failed to save contact: "+(Q.error||"Unknown error"))}catch(U){console.error("Failed to update sheet contact:",U),alert("Failed to save contact. Check console for details.")}},td=[...new Set(i.map(b=>(b.departmentName||"").trim()).filter(Boolean))].sort(),La=i.filter(b=>{const E=ht.includes((b.email||"").toLowerCase().trim());if(Ze)return E;if(E)return!1;const P=Rn.toLowerCase(),B=!Rn||b.fullName.toLowerCase().includes(P)||b.email.toLowerCase().includes(P)||(b.departmentName||"").toLowerCase().includes(P),U=ja==="all"||b.status.status.toLowerCase()===ja.toLowerCase(),Q=On.length===0||On.includes((b.departmentName||"").trim());return B&&U&&Q}),Ea=b=>{if(!b)return 0;if(/^\d{4}-\d{2}-\d{2}$/.test(b))return new Date(b+"T00:00:00").getTime();const E=b.split("/");if(E.length===3)return new Date(E[2],E[0]-1,E[1]).getTime();const P=new Date(b);return isNaN(P.getTime())?0:P.getTime()},Hg=(b,E)=>{if(E==="all")return!0;const P=Ea(b.examDateRaw);if(!P)return E==="no-date";const B=new Date;B.setHours(0,0,0,0);const U=B.getTime(),Q=Math.ceil((P-U)/864e5);switch(E){case"overdue":return Q<0;case"today":return Q===0;case"tomorrow":return Q===1;case"2-days":return Q>=0&&Q<=2;case"3-days":return Q>=0&&Q<=3;case"this-week":return Q>=0&&Q<=7;case"next-week":return Q>7&&Q<=14;case"this-month":return Q>=0&&Q<=30;case"no-date":return!1;default:return!0}},ei=A.filter(b=>{var zn,Ne;const E=ht.includes((b.email||"").toLowerCase().trim());if(Ze)return E;if(E||!D&&b.matched===!1)return!1;const P=Rn.toLowerCase(),B=!Rn||(b.fullName||"").toLowerCase().includes(P)||(b.email||"").toLowerCase().includes(P)||(b.departmentName||"").toLowerCase().includes(P)||(b.agencyOwner||"").toLowerCase().includes(P);let U=!0;if(pr!=="all"){const an=(b.passFail||"").toUpperCase(),ls=Ea(b.examDateRaw),cs=new Date;cs.setHours(0,0,0,0);const us=ls&&ls<cs.getTime(),In=an==="PASS"||an==="FAIL";switch(pr){case"passed":U=an==="PASS";break;case"failed":U=an==="FAIL";break;case"no-result":U=!In;break;case"upcoming":U=!us&&!In;break;case"pending":U=us&&!In;break;case"at-risk":U=!us&&!In&&b.matched!==!1&&(((zn=b.progress)==null?void 0:zn.value)||0)<80;break;default:U=!0}}const Q=mr==="all"||(b.examCourse||"").toLowerCase()===mr.toLowerCase(),Ye=on.length===0||on.includes((b.departmentName||"").trim()),q=gr==="all"||(b.examState||"").toLowerCase()===gr.toLowerCase(),jt=xr==="all"||(((Ne=b.readiness)==null?void 0:Ne.status)||"GRAY")===xr,Fn=Hg(b,Na);return B&&U&&Q&&Ye&&q&&jt&&Fn}),vr=D?A:A.filter(b=>b.matched!==!1),Vg=[...new Set(vr.map(b=>(b.examCourse||"").trim()).filter(Boolean))].sort(),Ug=[...new Set(vr.map(b=>(b.departmentName||"").trim()).filter(Boolean))].sort(),Yg=[...new Set(vr.map(b=>(b.examState||"").trim()).filter(Boolean))].sort(),Xg=()=>{if(!w)return"Never";const E=Math.floor((new Date-w)/1e3);return E<60?"Just now":E<3600?`${Math.floor(E/60)} minutes ago`:E<86400?`${Math.floor(E/3600)} hours ago`:w.toLocaleDateString()};return c?l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx("header",{className:"header shadow-lg",children:l.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-10 w-32 bg-white/20 rounded animate-pulse"}),l.jsxs("div",{children:[l.jsx("div",{className:"h-5 w-40 bg-white/20 rounded animate-pulse mb-1"}),l.jsx("div",{className:"h-4 w-24 bg-white/10 rounded animate-pulse"})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-9 w-20 bg-white/10 rounded-lg animate-pulse"}),l.jsx("div",{className:"h-9 w-9 bg-white/10 rounded-lg animate-pulse"})]})]})})}),l.jsxs("main",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"spinner mx-auto mb-2"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Loading student data..."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(b=>l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 animate-pulse",children:[l.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded mb-3"}),l.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded"})]},b))}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b",children:l.jsx("div",{className:"h-10 w-64 bg-gray-200 rounded animate-pulse"})}),l.jsx("div",{className:"divide-y",children:[1,2,3,4,5].map(b=>l.jsx("div",{className:"p-4 animate-pulse",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),l.jsxs("div",{children:[l.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded mb-2"}),l.jsx("div",{className:"h-3 w-48 bg-gray-100 rounded"})]})]}),l.jsx("div",{className:"h-6 w-20 bg-gray-200 rounded-full"})]})},b))})]})]})]}):l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx("header",{className:"header shadow-lg",children:l.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("img",{src:"/logo.png",alt:"JustInsurance",className:"h-20 w-auto",onError:b=>{b.target.style.display="none"}}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white",children:"Student Dashboard"}),l.jsx("p",{className:"text-sm text-ji-blue-light",children:e==null?void 0:e.name})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{onClick:Rg,disabled:d,className:"flex items-center space-x-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",children:[l.jsx("svg",{className:`w-5 h-5 ${d?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),l.jsx("span",{children:d?"Syncing...":"Sync"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"text-right hidden sm:block",children:[l.jsx("p",{className:"text-white font-medium",children:t==null?void 0:t.name}),l.jsx("p",{className:"text-xs text-ji-blue-light",children:t==null?void 0:t.email})]}),l.jsx("button",{onClick:n,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",title:"Logout",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})]})})}),l.jsxs("main",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y&&l.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{className:"text-red-700",children:y})]}),l.jsx("button",{onClick:()=>x(null),className:"text-red-500 hover:text-red-700",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"flex space-x-1 mb-6 bg-white rounded-lg shadow-md p-1 max-w-xs",children:[l.jsx("button",{className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${_==="students"?"bg-ji-blue-bright text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,onClick:()=>F("students"),children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),l.jsx("span",{children:"Students"})]})}),l.jsx("button",{className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${_==="exam"?"bg-ji-blue-bright text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,onClick:()=>F("exam"),children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("span",{children:"Exam"})]})})]}),_==="students"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("p",{className:"text-sm text-gray-500",children:["Last updated: ",Xg()]}),f&&l.jsxs("span",{className:"text-xs text-ji-blue-bright flex items-center gap-1",children:[l.jsxs("svg",{className:"animate-spin h-3 w-3",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading progress data..."]})]}),l.jsxs("button",{onClick:()=>j(!k),className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center space-x-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),l.jsx("span",{children:k?"Hide Charts":"Show Charts"})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("svg",{className:"w-5 h-5 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Departments (",1+Se.length,")"]}),l.jsx("span",{className:"px-2 py-0.5 bg-ji-blue-bright/10 text-ji-blue-bright text-xs rounded-full font-medium",children:(e==null?void 0:e.name)||"Primary"}),Fu.filter(b=>b.status==="ok"&&b.id!==(e==null?void 0:e.id)).map(b=>l.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full flex items-center gap-1",children:[b.name," (",b.studentCount,")",l.jsx("button",{onClick:()=>Ku(b.id),className:"text-red-400 hover:text-red-600 ml-0.5",title:"Remove department",children:l.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},b.id)),Se.filter(b=>!Fu.some(E=>E.id===b&&E.status==="ok")).map(b=>l.jsxs("span",{className:"px-2 py-0.5 bg-yellow-50 text-yellow-700 text-xs rounded-full flex items-center gap-1",children:[b.substring(0,8),"...",l.jsx("button",{onClick:()=>Ku(b),className:"text-red-400 hover:text-red-600 ml-0.5",title:"Remove department",children:l.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},b))]}),l.jsxs("button",{onClick:()=>{Dg(!fr),rn("")},className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:fr?"M5 15l7-7 7 7":"M12 4v16m8-8H4"})}),l.jsx("span",{children:fr?"Close":"Add Department"})]})]}),fr&&l.jsxs("div",{className:"mt-3 flex gap-2 items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("input",{type:"text",placeholder:"Paste Department ID (e.g. a1b2c3d4-e5f6-7890-abcd-ef1234567890)",value:Au,onChange:b=>{Ou(b.target.value),rn("")},onKeyDown:b=>b.key==="Enter"&&Xu(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-ji-blue-bright"}),Ru&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:Ru})]}),l.jsx("button",{onClick:Xu,className:"btn btn-primary text-sm py-2 px-4 whitespace-nowrap",children:"Add"})]})]}),o&&l.jsx(Sy,{summary:o}),k&&o&&l.jsx("div",{className:"mb-8 animate-fadeIn",children:l.jsx(jb,{summary:o,students:i})}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),l.jsx("input",{type:"text",placeholder:"Search by name, email, or department...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright",value:Rn,onChange:b=>ka(b.target.value)})]}),l.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[Se.length>0&&td.length>1&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>zu(!ba),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright bg-white flex items-center gap-2 text-sm",children:[l.jsx("span",{children:On.length===0?"All Departments":`${On.length} dept${On.length>1?"s":""}`}),l.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:ba?"M5 15l7-7 7 7":"M19 9l-7 7-7-7"})})]}),ba&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>zu(!1)}),l.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-20 min-w-[200px] py-1",children:[l.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-50 cursor-pointer text-sm border-b border-gray-100",children:[l.jsx("input",{type:"checkbox",checked:On.length===0,onChange:()=>va([]),className:"rounded text-ji-blue-bright"}),l.jsx("span",{className:"font-medium",children:"All Departments"})]}),td.map(b=>l.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-50 cursor-pointer text-sm",children:[l.jsx("input",{type:"checkbox",checked:On.includes(b),onChange:()=>{va(E=>E.includes(b)?E.filter(P=>P!==b):[...E,b])},className:"rounded text-ji-blue-bright"}),l.jsx("span",{className:"truncate",children:b})]},b))]})]})]}),l.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright",value:ja,onChange:b=>Tg(b.target.value),children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"complete",children:"Complete"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"warning",children:"Warning"}),l.jsx("option",{value:"re-engage",children:"Re-engage"}),l.jsx("option",{value:"abandoned",children:"Abandoned"}),l.jsx("option",{value:"course expired",children:"Course Expired"})]}),l.jsxs("button",{onClick:Fg,className:"btn btn-secondary flex items-center space-x-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),l.jsx("span",{children:"Export CSV"})]}),ht.length>0&&l.jsxs("button",{onClick:()=>Bu(!Ze),className:`flex items-center space-x-1 px-3 py-2 rounded-lg text-sm border transition-colors ${Ze?"bg-amber-50 border-amber-300 text-amber-700":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}),l.jsxs("span",{children:["Hidden (",ht.length,")"]})]})]})]}),l.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:[Ze?`Showing ${La.length} hidden students`:`Showing ${La.length} of ${i.length} students`,!Ze&&ht.length>0&&` (${ht.length} hidden)`,Se.length>0&&` across ${1+Se.length} departments`]})]}),l.jsx(Ny,{students:La,onViewStudent:v,showDepartment:Se.length>0,onHideStudent:Ze?Gu:Qu,showHidden:Ze})]}),_==="exam"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-6 flex items-center justify-between flex-wrap gap-3",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam scheduling, pass rates & study tracking"}),l.jsxs("button",{onClick:()=>qs(),disabled:H,className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center space-x-1",children:[l.jsx("svg",{className:`w-4 h-4 ${H?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),l.jsx("span",{children:H?"Refreshing...":"Refresh"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[D?l.jsxs("div",{className:"flex items-center gap-2",children:[V&&l.jsx("span",{className:`text-xs px-2 py-1 rounded-lg border ${V.enabled?"text-green-600 border-green-200 bg-green-50":"text-gray-500 border-gray-200 bg-gray-50"}`,title:V.lastSync?`Last: ${new Date(V.lastSync).toLocaleString()}`:"No sync yet",children:V.enabled?`Auto-sync: every ${V.intervalHours}h${V.lastSync?` | Last: ${(()=>{const b=Math.round((Date.now()-new Date(V.lastSync).getTime())/6e4);return b<1?"just now":b<60?`${b}m ago`:`${Math.round(b/60)}h ago`})()}`:""}`:"Auto-sync: not configured"}),l.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700",children:[l.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Admin Mode"]}),l.jsx("button",{onClick:Ig,className:"text-xs text-gray-500 hover:text-red-500",children:"Exit"})]}):l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>ve(!J),className:"text-sm text-purple-500 hover:text-purple-700 flex items-center space-x-1 px-2.5 py-1 rounded-lg border border-purple-200 hover:border-purple-400 hover:bg-purple-50 transition-colors",title:"Admin Override",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),l.jsx("span",{children:"Admin"})]}),J&&l.jsxs("div",{className:"absolute right-0 top-8 bg-white rounded-lg shadow-lg border p-3 z-50 w-64",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter admin password to view all student data"}),l.jsxs("form",{onSubmit:b=>{b.preventDefault(),zg(b.target.password.value)},children:[l.jsx("input",{name:"password",type:"password",placeholder:"Admin password",className:"w-full px-3 py-1.5 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",autoFocus:!0}),be&&l.jsx("p",{className:"text-xs text-red-500 mt-1",children:be}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("button",{type:"submit",className:"flex-1 px-3 py-1.5 bg-purple-600 text-white rounded text-xs font-medium hover:bg-purple-700",children:"Unlock"}),l.jsx("button",{type:"button",onClick:()=>{ve(!1),O("")},className:"px-3 py-1.5 bg-gray-100 rounded text-xs text-gray-600 hover:bg-gray-200",children:"Cancel"})]})]})]})]}),l.jsxs("button",{onClick:()=>M(!N),className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center space-x-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),l.jsx("span",{children:N?"Hide Charts":"Show Charts"})]})]})]}),D&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6 border-l-4 border-purple-500",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),l.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Allowed Users"}),l.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full font-medium ${ga?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:ga?`Active (${ke.length} users)`:"Not enforcing"})]}),l.jsx("button",{onClick:()=>{Mu(!Zs),!Zs&&ke.length===0&&Ju()},className:"text-sm text-purple-600 hover:text-purple-800 font-medium",children:Zs?"Hide":"Manage"})]}),!ga&&!Zs&&l.jsx("p",{className:"text-xs text-gray-500",children:"No users in allowlist. All authenticated Absorb users can log in. Add a user to start restricting access."}),Zs&&l.jsxs("div",{className:"mt-3",children:[l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx("input",{type:"email",placeholder:"Email address",value:ma,onChange:b=>{Lu(b.target.value),Js("")},onKeyDown:b=>b.key==="Enter"&&Ca(),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("input",{type:"text",placeholder:"Name (optional)",value:Eu,onChange:b=>Pu(b.target.value),onKeyDown:b=>b.key==="Enter"&&Ca(),className:"w-40 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("button",{onClick:Ca,className:"px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700",children:"Add"})]}),Du&&l.jsx("p",{className:"text-xs text-red-500 mb-2",children:Du}),Gs?l.jsx("p",{className:"text-sm text-gray-400",children:"Loading..."}):ke.length>0?l.jsx("div",{className:"divide-y divide-gray-100 max-h-64 overflow-y-auto",children:ke.map(b=>l.jsxs("div",{className:"flex items-center justify-between py-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-800",children:b.name||b.email}),l.jsxs("p",{className:"text-xs text-gray-500",children:[b.email,"  Added ",new Date(b.added_at).toLocaleDateString()]})]}),l.jsx("button",{onClick:()=>Bg(b.email),className:"text-xs text-red-500 hover:text-red-700 px-2 py-1 rounded hover:bg-red-50",children:"Remove"})]},b.email))}):l.jsx("p",{className:"text-sm text-gray-400",children:"No users in allowlist yet."})]})]}),N&&C&&l.jsx("div",{className:"mb-8 animate-fadeIn",children:l.jsx(_b,{examSummary:C,students:A})}),C&&l.jsxs(l.Fragment,{children:[Le&&l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:[l.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"KPIs filtered (",C.total," students)"]})}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 mb-4",children:[l.jsxs("div",{className:"kpi-card bg-gray-50 border-l-4 border-gray-500 animate-fadeIn",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),l.jsx("p",{className:"kpi-value text-gray-800",children:C.total}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exam scheduled"})]}),l.jsxs("div",{className:"kpi-card bg-blue-50 border-l-4 border-blue-500 animate-fadeIn",style:{animationDelay:"50ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Upcoming"}),l.jsx("p",{className:"kpi-value text-blue-800",children:C.upcoming}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exams scheduled"})]}),l.jsxs("div",{className:"kpi-card bg-green-50 border-l-4 border-green-500 animate-fadeIn",style:{animationDelay:"100ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pass Rate"}),l.jsxs("p",{className:"kpi-value text-green-800",children:[C.passRate,"%"]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[C.passed," passed / ",C.passed+C.failed," taken"]})]}),l.jsxs("div",{className:"kpi-card bg-red-50 border-l-4 border-red-500 animate-fadeIn",style:{animationDelay:"150ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed"}),l.jsx("p",{className:"kpi-value text-red-800",children:C.failed}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exam result"})]}),l.jsxs("div",{className:"kpi-card bg-amber-50 border-l-4 border-amber-500 animate-fadeIn",style:{animationDelay:"200ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"At Risk"}),l.jsx("p",{className:"kpi-value text-amber-800",children:C.atRisk}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upcoming + <80% progress"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[l.jsxs("div",{className:"kpi-card bg-purple-50 border-l-4 border-purple-500 animate-fadeIn",style:{animationDelay:"250ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Study Time"}),l.jsx("p",{className:"kpi-value text-purple-800",children:C.avgStudyTimeFormatted}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All tracked students"})]}),l.jsxs("div",{className:"kpi-card bg-green-50 border-l-4 border-green-400 animate-fadeIn",style:{animationDelay:"300ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Time (Passed)"}),l.jsx("p",{className:"kpi-value text-green-700",children:C.avgStudyPassedFormatted}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students who passed"})]}),l.jsxs("div",{className:"kpi-card bg-red-50 border-l-4 border-red-400 animate-fadeIn",style:{animationDelay:"350ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Time (Failed)"}),l.jsx("p",{className:"kpi-value text-red-700",children:C.avgStudyFailedFormatted}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students who failed"})]}),l.jsxs("div",{className:"kpi-card bg-indigo-50 border-l-4 border-indigo-500 animate-fadeIn",style:{animationDelay:"400ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Progress"}),l.jsxs("p",{className:"kpi-value text-indigo-800",children:[C.averageProgress,"%"]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Course completion"})]})]}),C.courseTypes&&Object.keys(C.courseTypes).length>0&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Pass Rate by Course Type"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:Object.entries(C.courseTypes).map(([b,E])=>{const P=E.passed||0,B=E.failed||0,U=P+B,Q=U>0?Math.round(P/U*100):null;return l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900 text-sm",children:b}),l.jsxs("p",{className:"text-xs text-gray-500",children:[E.total," students"]})]}),l.jsx("div",{className:"text-right",children:Q!==null?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:`text-lg font-bold ${Q>=70?"text-green-600":Q>=50?"text-amber-600":"text-red-600"}`,children:[Q,"%"]}),l.jsxs("p",{className:"text-xs text-gray-500",children:[P,"P / ",B,"F"]})]}):l.jsx("p",{className:"text-sm text-gray-400",children:"No results"})})]},b)})})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),l.jsx("input",{type:"text",placeholder:"Search by name or email...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:Rn,onChange:b=>ka(b.target.value)})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:pr,onChange:b=>Wu(b.target.value),children:[l.jsx("option",{value:"no-result",children:"No Result"}),l.jsx("option",{value:"all",children:"All Results"}),l.jsx("option",{value:"upcoming",children:"Upcoming"}),l.jsx("option",{value:"passed",children:"Passed"}),l.jsx("option",{value:"failed",children:"Failed"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"at-risk",children:"At Risk"})]})]}),l.jsxs("div",{className:"flex items-center gap-3 flex-wrap mt-3",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>Hu(!Sa),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright bg-white flex items-center gap-2 text-sm",children:[l.jsx("span",{children:on.length===0?"All Departments":`${on.length} dept${on.length>1?"s":""}`}),l.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:Sa?"M5 15l7-7 7 7":"M19 9l-7 7-7-7"})})]}),Sa&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>Hu(!1)}),l.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-20 min-w-[200px] py-1",children:[l.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-50 cursor-pointer text-sm border-b border-gray-100",children:[l.jsx("input",{type:"checkbox",checked:on.length===0,onChange:()=>_a([]),className:"rounded text-ji-blue-bright"}),l.jsx("span",{className:"font-medium",children:"All Departments"})]}),Ug.map(b=>l.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-50 cursor-pointer text-sm",children:[l.jsx("input",{type:"checkbox",checked:on.includes(b),onChange:()=>{_a(E=>E.includes(b)?E.filter(P=>P!==b):[...E,b])},className:"rounded text-ji-blue-bright"}),l.jsx("span",{className:"truncate",children:b})]},b))]})]})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:xr,onChange:b=>Uu(b.target.value),children:[l.jsx("option",{value:"all",children:"All Readiness"}),l.jsx("option",{value:"GREEN",children:"Green - On Track"}),l.jsx("option",{value:"YELLOW",children:"Yellow - Needs Attention"}),l.jsx("option",{value:"RED",children:"Red - At Risk"})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:Na,onChange:b=>Yu(b.target.value),children:[l.jsx("option",{value:"all",children:"All Dates"}),l.jsx("option",{value:"overdue",children:"Overdue"}),l.jsx("option",{value:"today",children:"Today"}),l.jsx("option",{value:"tomorrow",children:"Tomorrow"}),l.jsx("option",{value:"2-days",children:"Within 2 Days"}),l.jsx("option",{value:"3-days",children:"Within 3 Days"}),l.jsx("option",{value:"this-week",children:"This Week"}),l.jsx("option",{value:"next-week",children:"Next 2 Weeks"}),l.jsx("option",{value:"this-month",children:"This Month"})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:gr,onChange:b=>Vu(b.target.value),children:[l.jsx("option",{value:"all",children:"All States"}),Yg.map(b=>l.jsx("option",{value:b,children:b},b))]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:mr,onChange:b=>$u(b.target.value),children:[l.jsx("option",{value:"all",children:"All Courses"}),Vg.map(b=>l.jsx("option",{value:b,children:b},b))]}),(on.length>0||xr!=="all"||Na!=="all"||gr!=="all"||mr!=="all"||pr!=="all"||Rn)&&l.jsx("button",{onClick:()=>{_a([]),Uu("all"),Yu("all"),Vu("all"),$u("all"),Wu("all"),ka("")},className:"px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors border border-red-200",children:"Clear All"}),ht.length>0&&l.jsxs("button",{onClick:()=>Bu(!Ze),className:`flex items-center space-x-1 px-3 py-2 rounded-lg text-sm border transition-colors ${Ze?"bg-amber-50 border-amber-300 text-amber-700":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}),l.jsxs("span",{children:["Hidden (",ht.length,")"]})]})]}),l.jsxs("div",{className:"mt-3 flex items-center gap-3 text-sm text-gray-500",children:[l.jsxs("span",{children:[Ze?`Showing ${ei.length} hidden exam students`:`Showing ${ei.length} of ${vr.length} exam students`,!Ze&&ht.length>0&&` (${ht.length} hidden)`]}),ei.length!==A.length&&!Le&&l.jsx("button",{onClick:()=>{z(yr(ei)),we(!0)},className:"px-3 py-1 bg-ji-blue-bright text-white rounded-lg text-xs font-medium hover:bg-ji-blue-medium transition-colors",children:"Calculate KPIs by Filter"}),Le&&l.jsx("button",{onClick:()=>{z(yr(A)),we(!1)},className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-300 transition-colors",children:"Reset KPIs to All"})]})]}),H&&!Y?l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[l.jsx("div",{className:"spinner mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Loading exam schedule..."})]}):l.jsx(Cy,{students:ei,onViewStudent:v,adminMode:D,onHideStudent:Ze?Gu:Qu,showHidden:Ze})]})]}),m&&m.id&&l.jsx(Ty,{studentId:m.id,examInfo:m.examDate?{examDate:m.examDate,examDateRaw:m.examDateRaw,examTime:m.examTime,examState:m.examState,examCourse:m.examCourse,agencyOwner:m.agencyOwner,passFail:m.passFail,finalOutcome:m.finalOutcome,departmentName:m.departmentName,sheetTracking:m.sheetTracking,email:m.email}:null,onClose:()=>v(null),onSessionExpired:n,onUpdateResult:_==="exam"?qu:null,onUpdateExamDate:_==="exam"?ed:null,onUpdateStudentContact:Wg}),m&&!m.id&&l.jsx(Ay,{student:m,adminMode:D,onClose:()=>v(null),onUpdateResult:qu,onUpdateExamDate:ed,onUpdateContact:$g})]})}const xl="/api";function Nb(){const[t,e]=L.useState(!1),[n,s]=L.useState(null),[i,r]=L.useState(null),[o,a]=L.useState(!0),[c,u]=L.useState(null),[d,h]=L.useState(!1),[f,g]=L.useState(null);L.useEffect(()=>{y()},[]);const y=async()=>{try{const p=await fetch(`${xl}/auth/session`,{credentials:"include"});if(p.ok){const m=await p.json();m.success&&(s(m.user),r(m.department),e(!0))}}catch{console.log("No existing session")}finally{a(!1)}},x=async p=>{u(null);try{const m=await fetch(`${xl}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(p)}),v=await m.json();if(m.ok&&v.success)return console.log("[APP] Login successful, pre-fetching dashboard data..."),s(v.user),r(v.department),h(!0),console.log("[APP] Skipping pre-fetch, Dashboard will load data"),h(!1),e(!0),{success:!0};{const k=v.error||"Login failed";return u(k),{success:!1,error:k}}}catch{const v="Unable to connect to server. Please try again.";return u(v),{success:!1,error:v}}},w=async()=>{try{await fetch(`${xl}/auth/logout`,{method:"POST",credentials:"include"})}catch(p){console.error("Logout error:",p)}finally{s(null),r(null),e(!1)}};return o?l.jsx("div",{className:"min-h-screen flex items-center justify-center login-bg",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"spinner mx-auto mb-4",style:{borderTopColor:"#63b3ed"}}),l.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):d?l.jsx("div",{className:"min-h-screen flex items-center justify-center login-bg",children:l.jsxs("div",{className:"text-center max-w-md px-6",children:[l.jsx("div",{className:"spinner mx-auto mb-4",style:{borderTopColor:"#63b3ed"}}),l.jsxs("p",{className:"text-white text-xl font-semibold mb-2",children:["Welcome, ",n==null?void 0:n.name,"!"]}),l.jsx("p",{className:"text-ji-blue-light",children:"Loading your dashboard..."}),l.jsx("p",{className:"text-ji-blue-light text-sm mt-2 opacity-75",children:"Fetching student data from Absorb LMS"})]})}):t?l.jsx(Sb,{user:n,department:i,onLogout:w,initialData:f}):l.jsx(_y,{onLogin:x,error:c})}yl.createRoot(document.getElementById("root")).render(l.jsx(Ff.StrictMode,{children:l.jsx(Nb,{})}));
//# sourceMappingURL=index-DcK2NoBc.js.map
