var $g=Object.defineProperty;var Hg=(t,e,n)=>e in t?$g(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var V=(t,e,n)=>Hg(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Vg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wf={exports:{}},Yo={},bf={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qi=Symbol.for("react.element"),Ug=Symbol.for("react.portal"),Yg=Symbol.for("react.fragment"),Xg=Symbol.for("react.strict_mode"),Kg=Symbol.for("react.profiler"),Qg=Symbol.for("react.provider"),Gg=Symbol.for("react.context"),Zg=Symbol.for("react.forward_ref"),Jg=Symbol.for("react.suspense"),qg=Symbol.for("react.memo"),e0=Symbol.for("react.lazy"),Zu=Symbol.iterator;function t0(t){return t===null||typeof t!="object"?null:(t=Zu&&t[Zu]||t["@@iterator"],typeof t=="function"?t:null)}var kf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jf=Object.assign,_f={};function $s(t,e,n){this.props=t,this.context=e,this.refs=_f,this.updater=n||kf}$s.prototype.isReactComponent={};$s.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$s.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sf(){}Sf.prototype=$s.prototype;function fc(t,e,n){this.props=t,this.context=e,this.refs=_f,this.updater=n||kf}var pc=fc.prototype=new Sf;pc.constructor=fc;jf(pc,$s.prototype);pc.isPureReactComponent=!0;var Ju=Array.isArray,Nf=Object.prototype.hasOwnProperty,mc={current:null},Cf={key:!0,ref:!0,__self:!0,__source:!0};function Mf(t,e,n){var s,i={},r=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)Nf.call(e,s)&&!Cf.hasOwnProperty(s)&&(i[s]=e[s]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return{$$typeof:qi,type:t,key:r,ref:o,props:i,_owner:mc.current}}function n0(t,e){return{$$typeof:qi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gc(t){return typeof t=="object"&&t!==null&&t.$$typeof===qi}function s0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qu=/\/+/g;function Na(t,e){return typeof t=="object"&&t!==null&&t.key!=null?s0(""+t.key):e.toString(36)}function Xr(t,e,n,s,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case qi:case Ug:o=!0}}if(o)return o=t,i=i(o),t=s===""?"."+Na(o,0):s,Ju(i)?(n="",t!=null&&(n=t.replace(qu,"$&/")+"/"),Xr(i,e,n,"",function(u){return u})):i!=null&&(gc(i)&&(i=n0(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(qu,"$&/")+"/")+t)),e.push(i)),1;if(o=0,s=s===""?".":s+":",Ju(t))for(var a=0;a<t.length;a++){r=t[a];var c=s+Na(r,a);o+=Xr(r,e,n,c,i)}else if(c=t0(t),typeof c=="function")for(t=c.call(t),a=0;!(r=t.next()).done;)r=r.value,c=s+Na(r,a++),o+=Xr(r,e,n,c,i);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xr(t,e,n){if(t==null)return t;var s=[],i=0;return Xr(t,s,"","",function(r){return e.call(n,r,i++)}),s}function i0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qe={current:null},Kr={transition:null},r0={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:Kr,ReactCurrentOwner:mc};function Lf(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:xr,forEach:function(t,e,n){xr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xr(t,function(){e++}),e},toArray:function(t){return xr(t,function(e){return e})||[]},only:function(t){if(!gc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=$s;G.Fragment=Yg;G.Profiler=Kg;G.PureComponent=fc;G.StrictMode=Xg;G.Suspense=Jg;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r0;G.act=Lf;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=jf({},t.props),i=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=mc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Nf.call(e,c)&&!Cf.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:qi,type:t.type,key:i,ref:r,props:s,_owner:o}};G.createContext=function(t){return t={$$typeof:Gg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Qg,_context:t},t.Consumer=t};G.createElement=Mf;G.createFactory=function(t){var e=Mf.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:Zg,render:t}};G.isValidElement=gc;G.lazy=function(t){return{$$typeof:e0,_payload:{_status:-1,_result:t},_init:i0}};G.memo=function(t,e){return{$$typeof:qg,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=Kr.transition;Kr.transition={};try{t()}finally{Kr.transition=e}};G.unstable_act=Lf;G.useCallback=function(t,e){return Qe.current.useCallback(t,e)};G.useContext=function(t){return Qe.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return Qe.current.useDeferredValue(t)};G.useEffect=function(t,e){return Qe.current.useEffect(t,e)};G.useId=function(){return Qe.current.useId()};G.useImperativeHandle=function(t,e,n){return Qe.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return Qe.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return Qe.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return Qe.current.useMemo(t,e)};G.useReducer=function(t,e,n){return Qe.current.useReducer(t,e,n)};G.useRef=function(t){return Qe.current.useRef(t)};G.useState=function(t){return Qe.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return Qe.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return Qe.current.useTransition()};G.version="18.3.1";bf.exports=G;var E=bf.exports;const Ef=Vg(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0=E,a0=Symbol.for("react.element"),l0=Symbol.for("react.fragment"),c0=Object.prototype.hasOwnProperty,u0=o0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d0={key:!0,ref:!0,__self:!0,__source:!0};function Pf(t,e,n){var s,i={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)c0.call(e,s)&&!d0.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:a0,type:t,key:r,ref:o,props:i,_owner:u0.current}}Yo.Fragment=l0;Yo.jsx=Pf;Yo.jsxs=Pf;wf.exports=Yo;var l=wf.exports,fl={},Df={exports:{}},ct={},Tf={exports:{}},Af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,F){var W=A.length;A.push(F);e:for(;0<W;){var Z=W-1>>>1,ne=A[Z];if(0<i(ne,F))A[Z]=F,A[W]=ne,W=Z;else break e}}function n(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var F=A[0],W=A.pop();if(W!==F){A[0]=W;e:for(var Z=0,ne=A.length,Te=ne>>>1;Z<Te;){var ve=2*(Z+1)-1,O=A[ve],$=ve+1,se=A[$];if(0>i(O,W))$<ne&&0>i(se,O)?(A[Z]=se,A[$]=W,Z=$):(A[Z]=O,A[ve]=W,Z=ve);else if($<ne&&0>i(se,W))A[Z]=se,A[$]=W,Z=$;else break e}}return F}function i(A,F){var W=A.sortIndex-F.sortIndex;return W!==0?W:A.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,f=3,g=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var F=n(u);F!==null;){if(F.callback===null)s(u);else if(F.startTime<=A)s(u),F.sortIndex=F.expirationTime,e(c,F);else break;F=n(u)}}function k(A){if(y=!1,x(A),!v)if(n(c)!==null)v=!0,K(j);else{var F=n(u);F!==null&&X(k,F.startTime-A)}}function j(A,F){v=!1,y&&(y=!1,p(_),_=-1),g=!0;var W=f;try{for(x(F),h=n(c);h!==null&&(!(h.expirationTime>F)||A&&!P());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var ne=Z(h.expirationTime<=F);F=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(c)&&s(c),x(F)}else s(c);h=n(c)}if(h!==null)var Te=!0;else{var ve=n(u);ve!==null&&X(k,ve.startTime-F),Te=!1}return Te}finally{h=null,f=W,g=!1}}var N=!1,L=null,_=-1,S=5,M=-1;function P(){return!(t.unstable_now()-M<S)}function C(){if(L!==null){var A=t.unstable_now();M=A;var F=!0;try{F=L(!0,A)}finally{F?B():(N=!1,L=null)}}else N=!1}var B;if(typeof m=="function")B=function(){m(C)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,H=Q.port2;Q.port1.onmessage=C,B=function(){H.postMessage(null)}}else B=function(){w(C,0)};function K(A){L=A,N||(N=!0,B())}function X(A,F){_=w(function(){A(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,K(j))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var W=f;f=F;try{return A()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,F){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=f;f=A;try{return F()}finally{f=W}},t.unstable_scheduleCallback=function(A,F,W){var Z=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Z+W:Z):W=Z,A){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=W+ne,A={id:d++,callback:F,priorityLevel:A,startTime:W,expirationTime:ne,sortIndex:-1},W>Z?(A.sortIndex=W,e(u,A),n(c)===null&&A===n(u)&&(y?(p(_),_=-1):y=!0,X(k,W-Z))):(A.sortIndex=ne,e(c,A),v||g||(v=!0,K(j))),A},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(A){var F=f;return function(){var W=f;f=F;try{return A.apply(this,arguments)}finally{f=W}}}})(Af);Tf.exports=Af;var h0=Tf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0=E,lt=h0;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Of=new Set,Pi={};function is(t,e){As(t,e),As(t+"Capture",e)}function As(t,e){for(Pi[t]=e,t=0;t<e.length;t++)Of.add(e[t])}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pl=Object.prototype.hasOwnProperty,p0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ed={},td={};function m0(t){return pl.call(td,t)?!0:pl.call(ed,t)?!1:p0.test(t)?td[t]=!0:(ed[t]=!0,!1)}function g0(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function x0(t,e,n,s){if(e===null||typeof e>"u"||g0(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ge(t,e,n,s,i,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ie[t]=new Ge(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ie[e]=new Ge(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ie[t]=new Ge(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ie[t]=new Ge(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ie[t]=new Ge(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ie[t]=new Ge(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ie[t]=new Ge(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ie[t]=new Ge(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ie[t]=new Ge(t,5,!1,t.toLowerCase(),null,!1,!1)});var xc=/[\-:]([a-z])/g;function yc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xc,yc);Ie[e]=new Ge(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xc,yc);Ie[e]=new Ge(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xc,yc);Ie[e]=new Ge(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ie[t]=new Ge(t,1,!1,t.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ie[t]=new Ge(t,1,!1,t.toLowerCase(),null,!0,!0)});function vc(t,e,n,s){var i=Ie.hasOwnProperty(e)?Ie[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(x0(e,n,i,s)&&(n=null),s||i===null?m0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,s=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var tn=f0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yr=Symbol.for("react.element"),hs=Symbol.for("react.portal"),fs=Symbol.for("react.fragment"),wc=Symbol.for("react.strict_mode"),ml=Symbol.for("react.profiler"),Rf=Symbol.for("react.provider"),Ff=Symbol.for("react.context"),bc=Symbol.for("react.forward_ref"),gl=Symbol.for("react.suspense"),xl=Symbol.for("react.suspense_list"),kc=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),zf=Symbol.for("react.offscreen"),nd=Symbol.iterator;function Zs(t){return t===null||typeof t!="object"?null:(t=nd&&t[nd]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,Ca;function ui(t){if(Ca===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ca=e&&e[1]||""}return`
`+Ca+t}var Ma=!1;function La(t,e){if(!t||Ma)return"";Ma=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),r=s.stack.split(`
`),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==r[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Ma=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ui(t):""}function y0(t){switch(t.tag){case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 2:case 15:return t=La(t.type,!1),t;case 11:return t=La(t.type.render,!1),t;case 1:return t=La(t.type,!0),t;default:return""}}function yl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fs:return"Fragment";case hs:return"Portal";case ml:return"Profiler";case wc:return"StrictMode";case gl:return"Suspense";case xl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ff:return(t.displayName||"Context")+".Consumer";case Rf:return(t._context.displayName||"Context")+".Provider";case bc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kc:return e=t.displayName||null,e!==null?e:yl(t.type)||"Memo";case ln:e=t._payload,t=t._init;try{return yl(t(e))}catch{}}return null}function v0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yl(e);case 8:return e===wc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function If(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function w0(t){var e=If(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vr(t){t._valueTracker||(t._valueTracker=w0(t))}function Bf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=If(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function co(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vl(t,e){var n=e.checked;return ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sd(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Cn(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Wf(t,e){e=e.checked,e!=null&&vc(t,"checked",e,!1)}function wl(t,e){Wf(t,e);var n=Cn(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bl(t,e.type,n):e.hasOwnProperty("defaultValue")&&bl(t,e.type,Cn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function id(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bl(t,e,n){(e!=="number"||co(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var di=Array.isArray;function Ss(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Cn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function kl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(di(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cn(n)}}function $f(t,e){var n=Cn(e.value),s=Cn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function od(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Hf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Hf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wr,Vf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wr=wr||document.createElement("div"),wr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Di(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},b0=["Webkit","ms","Moz","O"];Object.keys(yi).forEach(function(t){b0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yi[e]=yi[t]})});function Uf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yi.hasOwnProperty(t)&&yi[t]?(""+e).trim():e+"px"}function Yf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=Uf(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}var k0=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _l(t,e){if(e){if(k0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function Sl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nl=null;function jc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cl=null,Ns=null,Cs=null;function ad(t){if(t=nr(t)){if(typeof Cl!="function")throw Error(T(280));var e=t.stateNode;e&&(e=Zo(e),Cl(t.stateNode,t.type,e))}}function Xf(t){Ns?Cs?Cs.push(t):Cs=[t]:Ns=t}function Kf(){if(Ns){var t=Ns,e=Cs;if(Cs=Ns=null,ad(t),e)for(t=0;t<e.length;t++)ad(e[t])}}function Qf(t,e){return t(e)}function Gf(){}var Ea=!1;function Zf(t,e,n){if(Ea)return t(e,n);Ea=!0;try{return Qf(t,e,n)}finally{Ea=!1,(Ns!==null||Cs!==null)&&(Gf(),Kf())}}function Ti(t,e){var n=t.stateNode;if(n===null)return null;var s=Zo(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var Ml=!1;if(Gt)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){Ml=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{Ml=!1}function j0(t,e,n,s,i,r,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var vi=!1,uo=null,ho=!1,Ll=null,_0={onError:function(t){vi=!0,uo=t}};function S0(t,e,n,s,i,r,o,a,c){vi=!1,uo=null,j0.apply(_0,arguments)}function N0(t,e,n,s,i,r,o,a,c){if(S0.apply(this,arguments),vi){if(vi){var u=uo;vi=!1,uo=null}else throw Error(T(198));ho||(ho=!0,Ll=u)}}function rs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Jf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ld(t){if(rs(t)!==t)throw Error(T(188))}function C0(t){var e=t.alternate;if(!e){if(e=rs(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return ld(i),t;if(r===s)return ld(i),e;r=r.sibling}throw Error(T(188))}if(n.return!==s.return)n=i,s=r;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==s)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function qf(t){return t=C0(t),t!==null?ep(t):null}function ep(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ep(t);if(e!==null)return e;t=t.sibling}return null}var tp=lt.unstable_scheduleCallback,cd=lt.unstable_cancelCallback,M0=lt.unstable_shouldYield,L0=lt.unstable_requestPaint,je=lt.unstable_now,E0=lt.unstable_getCurrentPriorityLevel,_c=lt.unstable_ImmediatePriority,np=lt.unstable_UserBlockingPriority,fo=lt.unstable_NormalPriority,P0=lt.unstable_LowPriority,sp=lt.unstable_IdlePriority,Xo=null,zt=null;function D0(t){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Xo,t,void 0,(t.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:O0,T0=Math.log,A0=Math.LN2;function O0(t){return t>>>=0,t===0?32:31-(T0(t)/A0|0)|0}var br=64,kr=4194304;function hi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function po(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,i=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?s=hi(a):(r&=o,r!==0&&(s=hi(r)))}else o=n&~i,o!==0?s=hi(o):r!==0&&(s=hi(r));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Nt(e),i=1<<n,s|=t[n],e&=~i;return s}function R0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F0(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-Nt(r),a=1<<o,c=i[o];c===-1?(!(a&n)||a&s)&&(i[o]=R0(a,e)):c<=e&&(t.expiredLanes|=a),r&=~a}}function El(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ip(){var t=br;return br<<=1,!(br&4194240)&&(br=64),t}function Pa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function er(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nt(e),t[e]=n}function z0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Nt(n),r=1<<i;e[i]=0,s[i]=-1,t[i]=-1,n&=~r}}function Sc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Nt(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}var re=0;function rp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var op,Nc,ap,lp,cp,Pl=!1,jr=[],xn=null,yn=null,vn=null,Ai=new Map,Oi=new Map,un=[],I0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ud(t,e){switch(t){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":Ai.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(e.pointerId)}}function qs(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=nr(e),e!==null&&Nc(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function B0(t,e,n,s,i){switch(e){case"focusin":return xn=qs(xn,t,e,n,s,i),!0;case"dragenter":return yn=qs(yn,t,e,n,s,i),!0;case"mouseover":return vn=qs(vn,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return Ai.set(r,qs(Ai.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Oi.set(r,qs(Oi.get(r)||null,t,e,n,s,i)),!0}return!1}function up(t){var e=Vn(t.target);if(e!==null){var n=rs(e);if(n!==null){if(e=n.tag,e===13){if(e=Jf(n),e!==null){t.blockedOn=e,cp(t.priority,function(){ap(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Nl=s,n.target.dispatchEvent(s),Nl=null}else return e=nr(n),e!==null&&Nc(e),t.blockedOn=n,!1;e.shift()}return!0}function dd(t,e,n){Qr(t)&&n.delete(e)}function W0(){Pl=!1,xn!==null&&Qr(xn)&&(xn=null),yn!==null&&Qr(yn)&&(yn=null),vn!==null&&Qr(vn)&&(vn=null),Ai.forEach(dd),Oi.forEach(dd)}function ei(t,e){t.blockedOn===e&&(t.blockedOn=null,Pl||(Pl=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,W0)))}function Ri(t){function e(i){return ei(i,t)}if(0<jr.length){ei(jr[0],t);for(var n=1;n<jr.length;n++){var s=jr[n];s.blockedOn===t&&(s.blockedOn=null)}}for(xn!==null&&ei(xn,t),yn!==null&&ei(yn,t),vn!==null&&ei(vn,t),Ai.forEach(e),Oi.forEach(e),n=0;n<un.length;n++)s=un[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)up(n),n.blockedOn===null&&un.shift()}var Ms=tn.ReactCurrentBatchConfig,mo=!0;function $0(t,e,n,s){var i=re,r=Ms.transition;Ms.transition=null;try{re=1,Cc(t,e,n,s)}finally{re=i,Ms.transition=r}}function H0(t,e,n,s){var i=re,r=Ms.transition;Ms.transition=null;try{re=4,Cc(t,e,n,s)}finally{re=i,Ms.transition=r}}function Cc(t,e,n,s){if(mo){var i=Dl(t,e,n,s);if(i===null)Wa(t,e,s,go,n),ud(t,s);else if(B0(i,t,e,n,s))s.stopPropagation();else if(ud(t,s),e&4&&-1<I0.indexOf(t)){for(;i!==null;){var r=nr(i);if(r!==null&&op(r),r=Dl(t,e,n,s),r===null&&Wa(t,e,s,go,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else Wa(t,e,s,null,n)}}var go=null;function Dl(t,e,n,s){if(go=null,t=jc(s),t=Vn(t),t!==null)if(e=rs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Jf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return go=t,null}function dp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E0()){case _c:return 1;case np:return 4;case fo:case P0:return 16;case sp:return 536870912;default:return 16}default:return 16}}var hn=null,Mc=null,Gr=null;function hp(){if(Gr)return Gr;var t,e=Mc,n=e.length,s,i="value"in hn?hn.value:hn.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===i[r-s];s++);return Gr=i.slice(t,1<s?1-s:void 0)}function Zr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _r(){return!0}function hd(){return!1}function ut(t){function e(n,s,i,r,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?_r:hd,this.isPropagationStopped=hd,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),e}var Hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lc=ut(Hs),tr=ge({},Hs,{view:0,detail:0}),V0=ut(tr),Da,Ta,ti,Ko=ge({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ec,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ti&&(ti&&t.type==="mousemove"?(Da=t.screenX-ti.screenX,Ta=t.screenY-ti.screenY):Ta=Da=0,ti=t),Da)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),fd=ut(Ko),U0=ge({},Ko,{dataTransfer:0}),Y0=ut(U0),X0=ge({},tr,{relatedTarget:0}),Aa=ut(X0),K0=ge({},Hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Q0=ut(K0),G0=ge({},Hs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Z0=ut(G0),J0=ge({},Hs,{data:0}),pd=ut(J0),q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ex={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tx[t])?!!e[t]:!1}function Ec(){return nx}var sx=ge({},tr,{key:function(t){if(t.key){var e=q0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ex[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ec,charCode:function(t){return t.type==="keypress"?Zr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ix=ut(sx),rx=ge({},Ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),md=ut(rx),ox=ge({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ec}),ax=ut(ox),lx=ge({},Hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),cx=ut(lx),ux=ge({},Ko,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dx=ut(ux),hx=[9,13,27,32],Pc=Gt&&"CompositionEvent"in window,wi=null;Gt&&"documentMode"in document&&(wi=document.documentMode);var fx=Gt&&"TextEvent"in window&&!wi,fp=Gt&&(!Pc||wi&&8<wi&&11>=wi),gd=" ",xd=!1;function pp(t,e){switch(t){case"keyup":return hx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ps=!1;function px(t,e){switch(t){case"compositionend":return mp(e);case"keypress":return e.which!==32?null:(xd=!0,gd);case"textInput":return t=e.data,t===gd&&xd?null:t;default:return null}}function mx(t,e){if(ps)return t==="compositionend"||!Pc&&pp(t,e)?(t=hp(),Gr=Mc=hn=null,ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fp&&e.locale!=="ko"?null:e.data;default:return null}}var gx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gx[t.type]:e==="textarea"}function gp(t,e,n,s){Xf(s),e=xo(e,"onChange"),0<e.length&&(n=new Lc("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var bi=null,Fi=null;function xx(t){Cp(t,0)}function Qo(t){var e=xs(t);if(Bf(e))return t}function yx(t,e){if(t==="change")return e}var xp=!1;if(Gt){var Oa;if(Gt){var Ra="oninput"in document;if(!Ra){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),Ra=typeof vd.oninput=="function"}Oa=Ra}else Oa=!1;xp=Oa&&(!document.documentMode||9<document.documentMode)}function wd(){bi&&(bi.detachEvent("onpropertychange",yp),Fi=bi=null)}function yp(t){if(t.propertyName==="value"&&Qo(Fi)){var e=[];gp(e,Fi,t,jc(t)),Zf(xx,e)}}function vx(t,e,n){t==="focusin"?(wd(),bi=e,Fi=n,bi.attachEvent("onpropertychange",yp)):t==="focusout"&&wd()}function wx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qo(Fi)}function bx(t,e){if(t==="click")return Qo(e)}function kx(t,e){if(t==="input"||t==="change")return Qo(e)}function jx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mt=typeof Object.is=="function"?Object.is:jx;function zi(t,e){if(Mt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!pl.call(e,i)||!Mt(t[i],e[i]))return!1}return!0}function bd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kd(t,e){var n=bd(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bd(n)}}function vp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wp(){for(var t=window,e=co();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=co(t.document)}return e}function Dc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _x(t){var e=wp(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vp(n.ownerDocument.documentElement,n)){if(s!==null&&Dc(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!t.extend&&r>s&&(i=s,s=r,r=i),i=kd(n,r);var o=kd(n,s);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),r>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Sx=Gt&&"documentMode"in document&&11>=document.documentMode,ms=null,Tl=null,ki=null,Al=!1;function jd(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Al||ms==null||ms!==co(s)||(s=ms,"selectionStart"in s&&Dc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ki&&zi(ki,s)||(ki=s,s=xo(Tl,"onSelect"),0<s.length&&(e=new Lc("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ms)))}function Sr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gs={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},Fa={},bp={};Gt&&(bp=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Go(t){if(Fa[t])return Fa[t];if(!gs[t])return t;var e=gs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bp)return Fa[t]=e[n];return t}var kp=Go("animationend"),jp=Go("animationiteration"),_p=Go("animationstart"),Sp=Go("transitionend"),Np=new Map,_d="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(t,e){Np.set(t,e),is(e,[t])}for(var za=0;za<_d.length;za++){var Ia=_d[za],Nx=Ia.toLowerCase(),Cx=Ia[0].toUpperCase()+Ia.slice(1);En(Nx,"on"+Cx)}En(kp,"onAnimationEnd");En(jp,"onAnimationIteration");En(_p,"onAnimationStart");En("dblclick","onDoubleClick");En("focusin","onFocus");En("focusout","onBlur");En(Sp,"onTransitionEnd");As("onMouseEnter",["mouseout","mouseover"]);As("onMouseLeave",["mouseout","mouseover"]);As("onPointerEnter",["pointerout","pointerover"]);As("onPointerLeave",["pointerout","pointerover"]);is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));is("onBeforeInput",["compositionend","keypress","textInput","paste"]);is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mx=new Set("cancel close invalid load scroll toggle".split(" ").concat(fi));function Sd(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,N0(s,e,void 0,t),t.currentTarget=null}function Cp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==r&&i.isPropagationStopped())break e;Sd(i,a,u),r=c}else for(o=0;o<s.length;o++){if(a=s[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==r&&i.isPropagationStopped())break e;Sd(i,a,u),r=c}}}if(ho)throw t=Ll,ho=!1,Ll=null,t}function ue(t,e){var n=e[Il];n===void 0&&(n=e[Il]=new Set);var s=t+"__bubble";n.has(s)||(Mp(e,t,2,!1),n.add(s))}function Ba(t,e,n){var s=0;e&&(s|=4),Mp(n,t,s,e)}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Ii(t){if(!t[Nr]){t[Nr]=!0,Of.forEach(function(n){n!=="selectionchange"&&(Mx.has(n)||Ba(n,!1,t),Ba(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nr]||(e[Nr]=!0,Ba("selectionchange",!1,e))}}function Mp(t,e,n,s){switch(dp(e)){case 1:var i=$0;break;case 4:i=H0;break;default:i=Cc}n=i.bind(null,e,n,t),i=void 0,!Ml||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Wa(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Vn(a),o===null)return;if(c=o.tag,c===5||c===6){s=r=o;continue e}a=a.parentNode}}s=s.return}Zf(function(){var u=r,d=jc(n),h=[];e:{var f=Np.get(t);if(f!==void 0){var g=Lc,v=t;switch(t){case"keypress":if(Zr(n)===0)break e;case"keydown":case"keyup":g=ix;break;case"focusin":v="focus",g=Aa;break;case"focusout":v="blur",g=Aa;break;case"beforeblur":case"afterblur":g=Aa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Y0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ax;break;case kp:case jp:case _p:g=Q0;break;case Sp:g=cx;break;case"scroll":g=V0;break;case"wheel":g=dx;break;case"copy":case"cut":case"paste":g=Z0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=md}var y=(e&4)!==0,w=!y&&t==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var m=u,x;m!==null;){x=m;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,p!==null&&(k=Ti(m,p),k!=null&&y.push(Bi(m,k,x)))),w)break;m=m.return}0<y.length&&(f=new g(f,v,null,n,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Nl&&(v=n.relatedTarget||n.fromElement)&&(Vn(v)||v[Zt]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Vn(v):null,v!==null&&(w=rs(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=fd,k="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=md,k="onPointerLeave",p="onPointerEnter",m="pointer"),w=g==null?f:xs(g),x=v==null?f:xs(v),f=new y(k,m+"leave",g,n,d),f.target=w,f.relatedTarget=x,k=null,Vn(d)===u&&(y=new y(p,m+"enter",v,n,d),y.target=x,y.relatedTarget=w,k=y),w=k,g&&v)t:{for(y=g,p=v,m=0,x=y;x;x=cs(x))m++;for(x=0,k=p;k;k=cs(k))x++;for(;0<m-x;)y=cs(y),m--;for(;0<x-m;)p=cs(p),x--;for(;m--;){if(y===p||p!==null&&y===p.alternate)break t;y=cs(y),p=cs(p)}y=null}else y=null;g!==null&&Nd(h,f,g,y,!1),v!==null&&w!==null&&Nd(h,w,v,y,!0)}}e:{if(f=u?xs(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var j=yx;else if(yd(f))if(xp)j=kx;else{j=wx;var N=vx}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=bx);if(j&&(j=j(t,u))){gp(h,j,n,d);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&bl(f,"number",f.value)}switch(N=u?xs(u):window,t){case"focusin":(yd(N)||N.contentEditable==="true")&&(ms=N,Tl=u,ki=null);break;case"focusout":ki=Tl=ms=null;break;case"mousedown":Al=!0;break;case"contextmenu":case"mouseup":case"dragend":Al=!1,jd(h,n,d);break;case"selectionchange":if(Sx)break;case"keydown":case"keyup":jd(h,n,d)}var L;if(Pc)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ps?pp(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(fp&&n.locale!=="ko"&&(ps||_!=="onCompositionStart"?_==="onCompositionEnd"&&ps&&(L=hp()):(hn=d,Mc="value"in hn?hn.value:hn.textContent,ps=!0)),N=xo(u,_),0<N.length&&(_=new pd(_,t,null,n,d),h.push({event:_,listeners:N}),L?_.data=L:(L=mp(n),L!==null&&(_.data=L)))),(L=fx?px(t,n):mx(t,n))&&(u=xo(u,"onBeforeInput"),0<u.length&&(d=new pd("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=L))}Cp(h,e)})}function Bi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xo(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=Ti(t,n),r!=null&&s.unshift(Bi(t,r,i)),r=Ti(t,e),r!=null&&s.push(Bi(t,r,i))),t=t.return}return s}function cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nd(t,e,n,s,i){for(var r=e._reactName,o=[];n!==null&&n!==s;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===s)break;a.tag===5&&u!==null&&(a=u,i?(c=Ti(n,r),c!=null&&o.unshift(Bi(n,c,a))):i||(c=Ti(n,r),c!=null&&o.push(Bi(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Lx=/\r\n?/g,Ex=/\u0000|\uFFFD/g;function Cd(t){return(typeof t=="string"?t:""+t).replace(Lx,`
`).replace(Ex,"")}function Cr(t,e,n){if(e=Cd(e),Cd(t)!==e&&n)throw Error(T(425))}function yo(){}var Ol=null,Rl=null;function Fl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zl=typeof setTimeout=="function"?setTimeout:void 0,Px=typeof clearTimeout=="function"?clearTimeout:void 0,Md=typeof Promise=="function"?Promise:void 0,Dx=typeof queueMicrotask=="function"?queueMicrotask:typeof Md<"u"?function(t){return Md.resolve(null).then(t).catch(Tx)}:zl;function Tx(t){setTimeout(function(){throw t})}function $a(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){t.removeChild(i),Ri(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Ri(e)}function wn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ld(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vs=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Vs,Wi="__reactProps$"+Vs,Zt="__reactContainer$"+Vs,Il="__reactEvents$"+Vs,Ax="__reactListeners$"+Vs,Ox="__reactHandles$"+Vs;function Vn(t){var e=t[Ft];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zt]||n[Ft]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ld(t);t!==null;){if(n=t[Ft])return n;t=Ld(t)}return e}t=n,n=t.parentNode}return null}function nr(t){return t=t[Ft]||t[Zt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function Zo(t){return t[Wi]||null}var Bl=[],ys=-1;function Pn(t){return{current:t}}function he(t){0>ys||(t.current=Bl[ys],Bl[ys]=null,ys--)}function ce(t,e){ys++,Bl[ys]=t.current,t.current=e}var Mn={},Ue=Pn(Mn),nt=Pn(!1),Zn=Mn;function Os(t,e){var n=t.type.contextTypes;if(!n)return Mn;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=e[r];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function st(t){return t=t.childContextTypes,t!=null}function vo(){he(nt),he(Ue)}function Ed(t,e,n){if(Ue.current!==Mn)throw Error(T(168));ce(Ue,e),ce(nt,n)}function Lp(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(T(108,v0(t)||"Unknown",i));return ge({},n,s)}function wo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mn,Zn=Ue.current,ce(Ue,t),ce(nt,nt.current),!0}function Pd(t,e,n){var s=t.stateNode;if(!s)throw Error(T(169));n?(t=Lp(t,e,Zn),s.__reactInternalMemoizedMergedChildContext=t,he(nt),he(Ue),ce(Ue,t)):he(nt),ce(nt,n)}var Vt=null,Jo=!1,Ha=!1;function Ep(t){Vt===null?Vt=[t]:Vt.push(t)}function Rx(t){Jo=!0,Ep(t)}function Dn(){if(!Ha&&Vt!==null){Ha=!0;var t=0,e=re;try{var n=Vt;for(re=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Vt=null,Jo=!1}catch(i){throw Vt!==null&&(Vt=Vt.slice(t+1)),tp(_c,Dn),i}finally{re=e,Ha=!1}}return null}var vs=[],ws=0,bo=null,ko=0,ht=[],ft=0,Jn=null,Yt=1,Xt="";function Wn(t,e){vs[ws++]=ko,vs[ws++]=bo,bo=t,ko=e}function Pp(t,e,n){ht[ft++]=Yt,ht[ft++]=Xt,ht[ft++]=Jn,Jn=t;var s=Yt;t=Xt;var i=32-Nt(s)-1;s&=~(1<<i),n+=1;var r=32-Nt(e)+i;if(30<r){var o=i-i%5;r=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Yt=1<<32-Nt(e)+i|n<<i|s,Xt=r+t}else Yt=1<<r|n<<i|s,Xt=t}function Tc(t){t.return!==null&&(Wn(t,1),Pp(t,1,0))}function Ac(t){for(;t===bo;)bo=vs[--ws],vs[ws]=null,ko=vs[--ws],vs[ws]=null;for(;t===Jn;)Jn=ht[--ft],ht[ft]=null,Xt=ht[--ft],ht[ft]=null,Yt=ht[--ft],ht[ft]=null}var at=null,ot=null,fe=!1,St=null;function Dp(t,e){var n=pt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,at=t,ot=wn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,at=t,ot=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jn!==null?{id:Yt,overflow:Xt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,at=t,ot=null,!0):!1;default:return!1}}function Wl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $l(t){if(fe){var e=ot;if(e){var n=e;if(!Dd(t,e)){if(Wl(t))throw Error(T(418));e=wn(n.nextSibling);var s=at;e&&Dd(t,e)?Dp(s,n):(t.flags=t.flags&-4097|2,fe=!1,at=t)}}else{if(Wl(t))throw Error(T(418));t.flags=t.flags&-4097|2,fe=!1,at=t}}}function Td(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;at=t}function Mr(t){if(t!==at)return!1;if(!fe)return Td(t),fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fl(t.type,t.memoizedProps)),e&&(e=ot)){if(Wl(t))throw Tp(),Error(T(418));for(;e;)Dp(t,e),e=wn(e.nextSibling)}if(Td(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ot=wn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ot=null}}else ot=at?wn(t.stateNode.nextSibling):null;return!0}function Tp(){for(var t=ot;t;)t=wn(t.nextSibling)}function Rs(){ot=at=null,fe=!1}function Oc(t){St===null?St=[t]:St.push(t)}var Fx=tn.ReactCurrentBatchConfig;function ni(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var s=n.stateNode}if(!s)throw Error(T(147,t));var i=s,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=i.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function Lr(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ad(t){var e=t._init;return e(t._payload)}function Ap(t){function e(p,m){if(t){var x=p.deletions;x===null?(p.deletions=[m],p.flags|=16):x.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function s(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function i(p,m){return p=_n(p,m),p.index=0,p.sibling=null,p}function r(p,m,x){return p.index=x,t?(x=p.alternate,x!==null?(x=x.index,x<m?(p.flags|=2,m):x):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,m,x,k){return m===null||m.tag!==6?(m=Ga(x,p.mode,k),m.return=p,m):(m=i(m,x),m.return=p,m)}function c(p,m,x,k){var j=x.type;return j===fs?d(p,m,x.props.children,k,x.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ln&&Ad(j)===m.type)?(k=i(m,x.props),k.ref=ni(p,m,x),k.return=p,k):(k=io(x.type,x.key,x.props,null,p.mode,k),k.ref=ni(p,m,x),k.return=p,k)}function u(p,m,x,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=Za(x,p.mode,k),m.return=p,m):(m=i(m,x.children||[]),m.return=p,m)}function d(p,m,x,k,j){return m===null||m.tag!==7?(m=Qn(x,p.mode,k,j),m.return=p,m):(m=i(m,x),m.return=p,m)}function h(p,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ga(""+m,p.mode,x),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case yr:return x=io(m.type,m.key,m.props,null,p.mode,x),x.ref=ni(p,null,m),x.return=p,x;case hs:return m=Za(m,p.mode,x),m.return=p,m;case ln:var k=m._init;return h(p,k(m._payload),x)}if(di(m)||Zs(m))return m=Qn(m,p.mode,x,null),m.return=p,m;Lr(p,m)}return null}function f(p,m,x,k){var j=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:a(p,m,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yr:return x.key===j?c(p,m,x,k):null;case hs:return x.key===j?u(p,m,x,k):null;case ln:return j=x._init,f(p,m,j(x._payload),k)}if(di(x)||Zs(x))return j!==null?null:d(p,m,x,k,null);Lr(p,x)}return null}function g(p,m,x,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(x)||null,a(m,p,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case yr:return p=p.get(k.key===null?x:k.key)||null,c(m,p,k,j);case hs:return p=p.get(k.key===null?x:k.key)||null,u(m,p,k,j);case ln:var N=k._init;return g(p,m,x,N(k._payload),j)}if(di(k)||Zs(k))return p=p.get(x)||null,d(m,p,k,j,null);Lr(m,k)}return null}function v(p,m,x,k){for(var j=null,N=null,L=m,_=m=0,S=null;L!==null&&_<x.length;_++){L.index>_?(S=L,L=null):S=L.sibling;var M=f(p,L,x[_],k);if(M===null){L===null&&(L=S);break}t&&L&&M.alternate===null&&e(p,L),m=r(M,m,_),N===null?j=M:N.sibling=M,N=M,L=S}if(_===x.length)return n(p,L),fe&&Wn(p,_),j;if(L===null){for(;_<x.length;_++)L=h(p,x[_],k),L!==null&&(m=r(L,m,_),N===null?j=L:N.sibling=L,N=L);return fe&&Wn(p,_),j}for(L=s(p,L);_<x.length;_++)S=g(L,p,_,x[_],k),S!==null&&(t&&S.alternate!==null&&L.delete(S.key===null?_:S.key),m=r(S,m,_),N===null?j=S:N.sibling=S,N=S);return t&&L.forEach(function(P){return e(p,P)}),fe&&Wn(p,_),j}function y(p,m,x,k){var j=Zs(x);if(typeof j!="function")throw Error(T(150));if(x=j.call(x),x==null)throw Error(T(151));for(var N=j=null,L=m,_=m=0,S=null,M=x.next();L!==null&&!M.done;_++,M=x.next()){L.index>_?(S=L,L=null):S=L.sibling;var P=f(p,L,M.value,k);if(P===null){L===null&&(L=S);break}t&&L&&P.alternate===null&&e(p,L),m=r(P,m,_),N===null?j=P:N.sibling=P,N=P,L=S}if(M.done)return n(p,L),fe&&Wn(p,_),j;if(L===null){for(;!M.done;_++,M=x.next())M=h(p,M.value,k),M!==null&&(m=r(M,m,_),N===null?j=M:N.sibling=M,N=M);return fe&&Wn(p,_),j}for(L=s(p,L);!M.done;_++,M=x.next())M=g(L,p,_,M.value,k),M!==null&&(t&&M.alternate!==null&&L.delete(M.key===null?_:M.key),m=r(M,m,_),N===null?j=M:N.sibling=M,N=M);return t&&L.forEach(function(C){return e(p,C)}),fe&&Wn(p,_),j}function w(p,m,x,k){if(typeof x=="object"&&x!==null&&x.type===fs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case yr:e:{for(var j=x.key,N=m;N!==null;){if(N.key===j){if(j=x.type,j===fs){if(N.tag===7){n(p,N.sibling),m=i(N,x.props.children),m.return=p,p=m;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ln&&Ad(j)===N.type){n(p,N.sibling),m=i(N,x.props),m.ref=ni(p,N,x),m.return=p,p=m;break e}n(p,N);break}else e(p,N);N=N.sibling}x.type===fs?(m=Qn(x.props.children,p.mode,k,x.key),m.return=p,p=m):(k=io(x.type,x.key,x.props,null,p.mode,k),k.ref=ni(p,m,x),k.return=p,p=k)}return o(p);case hs:e:{for(N=x.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(p,m.sibling),m=i(m,x.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=Za(x,p.mode,k),m.return=p,p=m}return o(p);case ln:return N=x._init,w(p,m,N(x._payload),k)}if(di(x))return v(p,m,x,k);if(Zs(x))return y(p,m,x,k);Lr(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(p,m.sibling),m=i(m,x),m.return=p,p=m):(n(p,m),m=Ga(x,p.mode,k),m.return=p,p=m),o(p)):n(p,m)}return w}var Fs=Ap(!0),Op=Ap(!1),jo=Pn(null),_o=null,bs=null,Rc=null;function Fc(){Rc=bs=_o=null}function zc(t){var e=jo.current;he(jo),t._currentValue=e}function Hl(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Ls(t,e){_o=t,Rc=bs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(et=!0),t.firstContext=null)}function xt(t){var e=t._currentValue;if(Rc!==t)if(t={context:t,memoizedValue:e,next:null},bs===null){if(_o===null)throw Error(T(308));bs=t,_o.dependencies={lanes:0,firstContext:t}}else bs=bs.next=t;return e}var Un=null;function Ic(t){Un===null?Un=[t]:Un.push(t)}function Rp(t,e,n,s){var i=e.interleaved;return i===null?(n.next=n,Ic(e)):(n.next=i.next,i.next=n),e.interleaved=n,Jt(t,s)}function Jt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var cn=!1;function Bc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,ee&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,Jt(t,n)}return i=s.interleaved,i===null?(e.next=e,Ic(s)):(e.next=i.next,i.next=e),s.interleaved=e,Jt(t,n)}function Jr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Sc(t,n)}}function Od(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function So(t,e,n,s){var i=t.updateQueue;cn=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?r=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(r!==null){var h=i.baseState;o=0,d=u=c=null,a=r;do{var f=a.lane,g=a.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(f=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(g,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(g,h,f):v,f==null)break e;h=ge({},h,f);break e;case 2:cn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);es|=o,t.lanes=o,t.memoizedState=h}}function Rd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(T(191,i));i.call(s)}}}var sr={},It=Pn(sr),$i=Pn(sr),Hi=Pn(sr);function Yn(t){if(t===sr)throw Error(T(174));return t}function Wc(t,e){switch(ce(Hi,e),ce($i,t),ce(It,sr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jl(e,t)}he(It),ce(It,e)}function zs(){he(It),he($i),he(Hi)}function zp(t){Yn(Hi.current);var e=Yn(It.current),n=jl(e,t.type);e!==n&&(ce($i,t),ce(It,n))}function $c(t){$i.current===t&&(he(It),he($i))}var pe=Pn(0);function No(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Va=[];function Hc(){for(var t=0;t<Va.length;t++)Va[t]._workInProgressVersionPrimary=null;Va.length=0}var qr=tn.ReactCurrentDispatcher,Ua=tn.ReactCurrentBatchConfig,qn=0,me=null,Le=null,Oe=null,Co=!1,ji=!1,Vi=0,zx=0;function Be(){throw Error(T(321))}function Vc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mt(t[n],e[n]))return!1;return!0}function Uc(t,e,n,s,i,r){if(qn=r,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qr.current=t===null||t.memoizedState===null?$x:Hx,t=n(s,i),ji){r=0;do{if(ji=!1,Vi=0,25<=r)throw Error(T(301));r+=1,Oe=Le=null,e.updateQueue=null,qr.current=Vx,t=n(s,i)}while(ji)}if(qr.current=Mo,e=Le!==null&&Le.next!==null,qn=0,Oe=Le=me=null,Co=!1,e)throw Error(T(300));return t}function Yc(){var t=Vi!==0;return Vi=0,t}function At(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?me.memoizedState=Oe=t:Oe=Oe.next=t,Oe}function yt(){if(Le===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=Oe===null?me.memoizedState:Oe.next;if(e!==null)Oe=e,Le=t;else{if(t===null)throw Error(T(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Oe===null?me.memoizedState=Oe=t:Oe=Oe.next=t}return Oe}function Ui(t,e){return typeof e=="function"?e(t):e}function Ya(t){var e=yt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var s=Le,i=s.baseQueue,r=n.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}s.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,s=s.baseState;var a=o=null,c=null,u=r;do{var d=u.lane;if((qn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=s):c=c.next=h,me.lanes|=d,es|=d}u=u.next}while(u!==null&&u!==r);c===null?o=s:c.next=a,Mt(s,e.memoizedState)||(et=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){i=t;do r=i.lane,me.lanes|=r,es|=r,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xa(t){var e=yt(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do r=t(r,o.action),o=o.next;while(o!==i);Mt(r,e.memoizedState)||(et=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function Ip(){}function Bp(t,e){var n=me,s=yt(),i=e(),r=!Mt(s.memoizedState,i);if(r&&(s.memoizedState=i,et=!0),s=s.queue,Xc(Hp.bind(null,n,s,t),[t]),s.getSnapshot!==e||r||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,Yi(9,$p.bind(null,n,s,i,e),void 0,null),Re===null)throw Error(T(349));qn&30||Wp(n,e,i)}return i}function Wp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $p(t,e,n,s){e.value=n,e.getSnapshot=s,Vp(e)&&Up(t)}function Hp(t,e,n){return n(function(){Vp(e)&&Up(t)})}function Vp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mt(t,n)}catch{return!0}}function Up(t){var e=Jt(t,1);e!==null&&Ct(e,t,1,-1)}function Fd(t){var e=At();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},e.queue=t,t=t.dispatch=Wx.bind(null,me,t),[e.memoizedState,t]}function Yi(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function Yp(){return yt().memoizedState}function eo(t,e,n,s){var i=At();me.flags|=t,i.memoizedState=Yi(1|e,n,void 0,s===void 0?null:s)}function qo(t,e,n,s){var i=yt();s=s===void 0?null:s;var r=void 0;if(Le!==null){var o=Le.memoizedState;if(r=o.destroy,s!==null&&Vc(s,o.deps)){i.memoizedState=Yi(e,n,r,s);return}}me.flags|=t,i.memoizedState=Yi(1|e,n,r,s)}function zd(t,e){return eo(8390656,8,t,e)}function Xc(t,e){return qo(2048,8,t,e)}function Xp(t,e){return qo(4,2,t,e)}function Kp(t,e){return qo(4,4,t,e)}function Qp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gp(t,e,n){return n=n!=null?n.concat([t]):null,qo(4,4,Qp.bind(null,e,t),n)}function Kc(){}function Zp(t,e){var n=yt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Vc(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function Jp(t,e){var n=yt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Vc(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function qp(t,e,n){return qn&21?(Mt(n,e)||(n=ip(),me.lanes|=n,es|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,et=!0),t.memoizedState=n)}function Ix(t,e){var n=re;re=n!==0&&4>n?n:4,t(!0);var s=Ua.transition;Ua.transition={};try{t(!1),e()}finally{re=n,Ua.transition=s}}function em(){return yt().memoizedState}function Bx(t,e,n){var s=jn(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},tm(t))nm(e,n);else if(n=Rp(t,e,n,s),n!==null){var i=Ke();Ct(n,t,s,i),sm(n,e,s)}}function Wx(t,e,n){var s=jn(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(tm(t))nm(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(i.hasEagerState=!0,i.eagerState=a,Mt(a,o)){var c=e.interleaved;c===null?(i.next=i,Ic(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Rp(t,e,i,s),n!==null&&(i=Ke(),Ct(n,t,s,i),sm(n,e,s))}}function tm(t){var e=t.alternate;return t===me||e!==null&&e===me}function nm(t,e){ji=Co=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sm(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Sc(t,n)}}var Mo={readContext:xt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},$x={readContext:xt,useCallback:function(t,e){return At().memoizedState=[t,e===void 0?null:e],t},useContext:xt,useEffect:zd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,eo(4194308,4,Qp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return eo(4194308,4,t,e)},useInsertionEffect:function(t,e){return eo(4,2,t,e)},useMemo:function(t,e){var n=At();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=At();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=Bx.bind(null,me,t),[s.memoizedState,t]},useRef:function(t){var e=At();return t={current:t},e.memoizedState=t},useState:Fd,useDebugValue:Kc,useDeferredValue:function(t){return At().memoizedState=t},useTransition:function(){var t=Fd(!1),e=t[0];return t=Ix.bind(null,t[1]),At().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=me,i=At();if(fe){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),Re===null)throw Error(T(349));qn&30||Wp(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,zd(Hp.bind(null,s,r,t),[t]),s.flags|=2048,Yi(9,$p.bind(null,s,r,n,e),void 0,null),n},useId:function(){var t=At(),e=Re.identifierPrefix;if(fe){var n=Xt,s=Yt;n=(s&~(1<<32-Nt(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Hx={readContext:xt,useCallback:Zp,useContext:xt,useEffect:Xc,useImperativeHandle:Gp,useInsertionEffect:Xp,useLayoutEffect:Kp,useMemo:Jp,useReducer:Ya,useRef:Yp,useState:function(){return Ya(Ui)},useDebugValue:Kc,useDeferredValue:function(t){var e=yt();return qp(e,Le.memoizedState,t)},useTransition:function(){var t=Ya(Ui)[0],e=yt().memoizedState;return[t,e]},useMutableSource:Ip,useSyncExternalStore:Bp,useId:em,unstable_isNewReconciler:!1},Vx={readContext:xt,useCallback:Zp,useContext:xt,useEffect:Xc,useImperativeHandle:Gp,useInsertionEffect:Xp,useLayoutEffect:Kp,useMemo:Jp,useReducer:Xa,useRef:Yp,useState:function(){return Xa(Ui)},useDebugValue:Kc,useDeferredValue:function(t){var e=yt();return Le===null?e.memoizedState=t:qp(e,Le.memoizedState,t)},useTransition:function(){var t=Xa(Ui)[0],e=yt().memoizedState;return[t,e]},useMutableSource:Ip,useSyncExternalStore:Bp,useId:em,unstable_isNewReconciler:!1};function jt(t,e){if(t&&t.defaultProps){e=ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vl(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ea={isMounted:function(t){return(t=t._reactInternals)?rs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Ke(),i=jn(t),r=Qt(s,i);r.payload=e,n!=null&&(r.callback=n),e=bn(t,r,i),e!==null&&(Ct(e,t,i,s),Jr(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Ke(),i=jn(t),r=Qt(s,i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=bn(t,r,i),e!==null&&(Ct(e,t,i,s),Jr(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ke(),s=jn(t),i=Qt(n,s);i.tag=2,e!=null&&(i.callback=e),e=bn(t,i,s),e!==null&&(Ct(e,t,s,n),Jr(e,t,s))}};function Id(t,e,n,s,i,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,o):e.prototype&&e.prototype.isPureReactComponent?!zi(n,s)||!zi(i,r):!0}function im(t,e,n){var s=!1,i=Mn,r=e.contextType;return typeof r=="object"&&r!==null?r=xt(r):(i=st(e)?Zn:Ue.current,s=e.contextTypes,r=(s=s!=null)?Os(t,i):Mn),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ea,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function Bd(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&ea.enqueueReplaceState(e,e.state,null)}function Ul(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Bc(t);var r=e.contextType;typeof r=="object"&&r!==null?i.context=xt(r):(r=st(e)?Zn:Ue.current,i.context=Os(t,r)),i.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Vl(t,e,r,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ea.enqueueReplaceState(i,i.state,null),So(t,n,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Is(t,e){try{var n="",s=e;do n+=y0(s),s=s.return;while(s);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:i,digest:null}}function Ka(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ux=typeof WeakMap=="function"?WeakMap:Map;function rm(t,e,n){n=Qt(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Eo||(Eo=!0,nc=s),Yl(t,e)},n}function om(t,e,n){n=Qt(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;n.payload=function(){return s(i)},n.callback=function(){Yl(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Yl(t,e),typeof s!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Wd(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new Ux;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(i.add(n),t=ry.bind(null,t,e,n),e.then(t,t))}function $d(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hd(t,e,n,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qt(-1,1),e.tag=2,bn(n,e,1))),n.lanes|=1),t)}var Yx=tn.ReactCurrentOwner,et=!1;function Xe(t,e,n,s){e.child=t===null?Op(e,null,n,s):Fs(e,t.child,n,s)}function Vd(t,e,n,s,i){n=n.render;var r=e.ref;return Ls(e,i),s=Uc(t,e,n,s,r,i),n=Yc(),t!==null&&!et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qt(t,e,i)):(fe&&n&&Tc(e),e.flags|=1,Xe(t,e,s,i),e.child)}function Ud(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!nu(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,am(t,e,r,s,i)):(t=io(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&i)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:zi,n(o,s)&&t.ref===e.ref)return qt(t,e,i)}return e.flags|=1,t=_n(r,s),t.ref=e.ref,t.return=e,e.child=t}function am(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if(zi(r,s)&&t.ref===e.ref)if(et=!1,e.pendingProps=s=r,(t.lanes&i)!==0)t.flags&131072&&(et=!0);else return e.lanes=t.lanes,qt(t,e,i)}return Xl(t,e,n,s,i)}function lm(t,e,n){var s=e.pendingProps,i=s.children,r=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(js,rt),rt|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(js,rt),rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:n,ce(js,rt),rt|=s}else r!==null?(s=r.baseLanes|n,e.memoizedState=null):s=n,ce(js,rt),rt|=s;return Xe(t,e,i,n),e.child}function cm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xl(t,e,n,s,i){var r=st(n)?Zn:Ue.current;return r=Os(e,r),Ls(e,i),n=Uc(t,e,n,s,r,i),s=Yc(),t!==null&&!et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qt(t,e,i)):(fe&&s&&Tc(e),e.flags|=1,Xe(t,e,n,i),e.child)}function Yd(t,e,n,s,i){if(st(n)){var r=!0;wo(e)}else r=!1;if(Ls(e,i),e.stateNode===null)to(t,e),im(e,n,s),Ul(e,n,s,i),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=xt(u):(u=st(n)?Zn:Ue.current,u=Os(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||c!==u)&&Bd(e,o,s,u),cn=!1;var f=e.memoizedState;o.state=f,So(e,s,o,i),c=e.memoizedState,a!==s||f!==c||nt.current||cn?(typeof d=="function"&&(Vl(e,n,d,s),c=e.memoizedState),(a=cn||Id(e,n,a,s,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,Fp(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:jt(e.type,a),o.props=u,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=xt(c):(c=st(n)?Zn:Ue.current,c=Os(e,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&Bd(e,o,s,c),cn=!1,f=e.memoizedState,o.state=f,So(e,s,o,i);var v=e.memoizedState;a!==h||f!==v||nt.current||cn?(typeof g=="function"&&(Vl(e,n,g,s),v=e.memoizedState),(u=cn||Id(e,n,u,s,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=v),o.props=s,o.state=v,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return Kl(t,e,n,s,r,i)}function Kl(t,e,n,s,i,r){cm(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&Pd(e,n,!1),qt(t,e,r);s=e.stateNode,Yx.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=Fs(e,t.child,null,r),e.child=Fs(e,null,a,r)):Xe(t,e,a,r),e.memoizedState=s.state,i&&Pd(e,n,!0),e.child}function um(t){var e=t.stateNode;e.pendingContext?Ed(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ed(t,e.context,!1),Wc(t,e.containerInfo)}function Xd(t,e,n,s,i){return Rs(),Oc(i),e.flags|=256,Xe(t,e,n,s),e.child}var Ql={dehydrated:null,treeContext:null,retryLane:0};function Gl(t){return{baseLanes:t,cachePool:null,transitions:null}}function dm(t,e,n){var s=e.pendingProps,i=pe.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ce(pe,i&1),t===null)return $l(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,r?(s=e.mode,r=e.child,o={mode:"hidden",children:o},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=sa(o,s,0,null),t=Qn(t,s,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Gl(n),e.memoizedState=Ql,t):Qc(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Xx(t,e,o,s,a,i,n);if(r){r=s.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=_n(i,c),s.subtreeFlags=i.subtreeFlags&14680064),a!==null?r=_n(a,r):(r=Qn(r,o,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,o=t.child.memoizedState,o=o===null?Gl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=Ql,s}return r=t.child,t=r.sibling,s=_n(r,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Qc(t,e){return e=sa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Er(t,e,n,s){return s!==null&&Oc(s),Fs(e,t.child,null,n),t=Qc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Xx(t,e,n,s,i,r,o){if(n)return e.flags&256?(e.flags&=-257,s=Ka(Error(T(422))),Er(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=s.fallback,i=e.mode,s=sa({mode:"visible",children:s.children},i,0,null),r=Qn(r,i,o,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,e.mode&1&&Fs(e,t.child,null,o),e.child.memoizedState=Gl(o),e.memoizedState=Ql,r);if(!(e.mode&1))return Er(t,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var a=s.dgst;return s=a,r=Error(T(419)),s=Ka(r,s,void 0),Er(t,e,o,s)}if(a=(o&t.childLanes)!==0,et||a){if(s=Re,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,Jt(t,i),Ct(s,t,i,-1))}return tu(),s=Ka(Error(T(421))),Er(t,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=oy.bind(null,t),i._reactRetry=e,null):(t=r.treeContext,ot=wn(i.nextSibling),at=e,fe=!0,St=null,t!==null&&(ht[ft++]=Yt,ht[ft++]=Xt,ht[ft++]=Jn,Yt=t.id,Xt=t.overflow,Jn=e),e=Qc(e,s.children),e.flags|=4096,e)}function Kd(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Hl(t.return,e,n)}function Qa(t,e,n,s,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=i)}function hm(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(Xe(t,e,s.children,n),s=pe.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kd(t,n,e);else if(t.tag===19)Kd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ce(pe,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&No(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qa(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&No(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qa(e,!0,n,null,r);break;case"together":Qa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function to(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),es|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=_n(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_n(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Kx(t,e,n){switch(e.tag){case 3:um(e),Rs();break;case 5:zp(e);break;case 1:st(e.type)&&wo(e);break;case 4:Wc(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;ce(jo,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(ce(pe,pe.current&1),e.flags|=128,null):n&e.child.childLanes?dm(t,e,n):(ce(pe,pe.current&1),t=qt(t,e,n),t!==null?t.sibling:null);ce(pe,pe.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return hm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(pe,pe.current),s)break;return null;case 22:case 23:return e.lanes=0,lm(t,e,n)}return qt(t,e,n)}var fm,Zl,pm,mm;fm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zl=function(){};pm=function(t,e,n,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,Yn(It.current);var r=null;switch(n){case"input":i=vl(t,i),s=vl(t,s),r=[];break;case"select":i=ge({},i,{value:void 0}),s=ge({},s,{value:void 0}),r=[];break;case"textarea":i=kl(t,i),s=kl(t,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=yo)}_l(n,s);var o;n=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pi.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in s){var c=s[u];if(a=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(r||(r=[]),r.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(r=r||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ue("scroll",t),r||a===c||(r=[])):(r=r||[]).push(u,c))}n&&(r=r||[]).push("style",n);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};mm=function(t,e,n,s){n!==s&&(e.flags|=4)};function si(t,e){if(!fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function We(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function Qx(t,e,n){var s=e.pendingProps;switch(Ac(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(e),null;case 1:return st(e.type)&&vo(),We(e),null;case 3:return s=e.stateNode,zs(),he(nt),he(Ue),Hc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Mr(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,St!==null&&(rc(St),St=null))),Zl(t,e),We(e),null;case 5:$c(e);var i=Yn(Hi.current);if(n=e.type,t!==null&&e.stateNode!=null)pm(t,e,n,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(T(166));return We(e),null}if(t=Yn(It.current),Mr(e)){s=e.stateNode,n=e.type;var r=e.memoizedProps;switch(s[Ft]=e,s[Wi]=r,t=(e.mode&1)!==0,n){case"dialog":ue("cancel",s),ue("close",s);break;case"iframe":case"object":case"embed":ue("load",s);break;case"video":case"audio":for(i=0;i<fi.length;i++)ue(fi[i],s);break;case"source":ue("error",s);break;case"img":case"image":case"link":ue("error",s),ue("load",s);break;case"details":ue("toggle",s);break;case"input":sd(s,r),ue("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},ue("invalid",s);break;case"textarea":rd(s,r),ue("invalid",s)}_l(n,r),i=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?s.textContent!==a&&(r.suppressHydrationWarning!==!0&&Cr(s.textContent,a,t),i=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Cr(s.textContent,a,t),i=["children",""+a]):Pi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ue("scroll",s)}switch(n){case"input":vr(s),id(s,r,!0);break;case"textarea":vr(s),od(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=yo)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Hf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[Ft]=e,t[Wi]=s,fm(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sl(n,s),n){case"dialog":ue("cancel",t),ue("close",t),i=s;break;case"iframe":case"object":case"embed":ue("load",t),i=s;break;case"video":case"audio":for(i=0;i<fi.length;i++)ue(fi[i],t);i=s;break;case"source":ue("error",t),i=s;break;case"img":case"image":case"link":ue("error",t),ue("load",t),i=s;break;case"details":ue("toggle",t),i=s;break;case"input":sd(t,s),i=vl(t,s),ue("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=ge({},s,{value:void 0}),ue("invalid",t);break;case"textarea":rd(t,s),i=kl(t,s),ue("invalid",t);break;default:i=s}_l(n,i),a=i;for(r in a)if(a.hasOwnProperty(r)){var c=a[r];r==="style"?Yf(t,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Vf(t,c)):r==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Di(t,c):typeof c=="number"&&Di(t,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Pi.hasOwnProperty(r)?c!=null&&r==="onScroll"&&ue("scroll",t):c!=null&&vc(t,r,c,o))}switch(n){case"input":vr(t),id(t,s,!1);break;case"textarea":vr(t),od(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Cn(s.value));break;case"select":t.multiple=!!s.multiple,r=s.value,r!=null?Ss(t,!!s.multiple,r,!1):s.defaultValue!=null&&Ss(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yo)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return We(e),null;case 6:if(t&&e.stateNode!=null)mm(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(T(166));if(n=Yn(Hi.current),Yn(It.current),Mr(e)){if(s=e.stateNode,n=e.memoizedProps,s[Ft]=e,(r=s.nodeValue!==n)&&(t=at,t!==null))switch(t.tag){case 3:Cr(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cr(s.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Ft]=e,e.stateNode=s}return We(e),null;case 13:if(he(pe),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fe&&ot!==null&&e.mode&1&&!(e.flags&128))Tp(),Rs(),e.flags|=98560,r=!1;else if(r=Mr(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(T(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(T(317));r[Ft]=e}else Rs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;We(e),r=!1}else St!==null&&(rc(St),St=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||pe.current&1?Pe===0&&(Pe=3):tu())),e.updateQueue!==null&&(e.flags|=4),We(e),null);case 4:return zs(),Zl(t,e),t===null&&Ii(e.stateNode.containerInfo),We(e),null;case 10:return zc(e.type._context),We(e),null;case 17:return st(e.type)&&vo(),We(e),null;case 19:if(he(pe),r=e.memoizedState,r===null)return We(e),null;if(s=(e.flags&128)!==0,o=r.rendering,o===null)if(s)si(r,!1);else{if(Pe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=No(t),o!==null){for(e.flags|=128,si(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)r=n,t=s,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ce(pe,pe.current&1|2),e.child}t=t.sibling}r.tail!==null&&je()>Bs&&(e.flags|=128,s=!0,si(r,!1),e.lanes=4194304)}else{if(!s)if(t=No(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),si(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!fe)return We(e),null}else 2*je()-r.renderingStartTime>Bs&&n!==1073741824&&(e.flags|=128,s=!0,si(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=je(),e.sibling=null,n=pe.current,ce(pe,s?n&1|2:n&1),e):(We(e),null);case 22:case 23:return eu(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?rt&1073741824&&(We(e),e.subtreeFlags&6&&(e.flags|=8192)):We(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function Gx(t,e){switch(Ac(e),e.tag){case 1:return st(e.type)&&vo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zs(),he(nt),he(Ue),Hc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $c(e),null;case 13:if(he(pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Rs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(pe),null;case 4:return zs(),null;case 10:return zc(e.type._context),null;case 22:case 23:return eu(),null;case 24:return null;default:return null}}var Pr=!1,He=!1,Zx=typeof WeakSet=="function"?WeakSet:Set,z=null;function ks(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ye(t,e,s)}else n.current=null}function Jl(t,e,n){try{n()}catch(s){ye(t,e,s)}}var Qd=!1;function Jx(t,e){if(Ol=mo,t=wp(),Dc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==r||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===r&&++d===s&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rl={focusedElem:t,selectionRange:n},mo=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:jt(e.type,y),w);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(k){ye(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return v=Qd,Qd=!1,v}function _i(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,r!==void 0&&Jl(e,n,r)}i=i.next}while(i!==s)}}function ta(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function ql(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gm(t){var e=t.alternate;e!==null&&(t.alternate=null,gm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ft],delete e[Wi],delete e[Il],delete e[Ax],delete e[Ox])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xm(t){return t.tag===5||t.tag===3||t.tag===4}function Gd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ec(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yo));else if(s!==4&&(t=t.child,t!==null))for(ec(t,e,n),t=t.sibling;t!==null;)ec(t,e,n),t=t.sibling}function tc(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(tc(t,e,n),t=t.sibling;t!==null;)tc(t,e,n),t=t.sibling}var Fe=null,_t=!1;function on(t,e,n){for(n=n.child;n!==null;)ym(t,e,n),n=n.sibling}function ym(t,e,n){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Xo,n)}catch{}switch(n.tag){case 5:He||ks(n,e);case 6:var s=Fe,i=_t;Fe=null,on(t,e,n),Fe=s,_t=i,Fe!==null&&(_t?(t=Fe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(_t?(t=Fe,n=n.stateNode,t.nodeType===8?$a(t.parentNode,n):t.nodeType===1&&$a(t,n),Ri(t)):$a(Fe,n.stateNode));break;case 4:s=Fe,i=_t,Fe=n.stateNode.containerInfo,_t=!0,on(t,e,n),Fe=s,_t=i;break;case 0:case 11:case 14:case 15:if(!He&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Jl(n,e,o),i=i.next}while(i!==s)}on(t,e,n);break;case 1:if(!He&&(ks(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){ye(n,e,a)}on(t,e,n);break;case 21:on(t,e,n);break;case 22:n.mode&1?(He=(s=He)||n.memoizedState!==null,on(t,e,n),He=s):on(t,e,n);break;default:on(t,e,n)}}function Zd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Zx),e.forEach(function(s){var i=ay.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}}function kt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fe=a.stateNode,_t=!1;break e;case 3:Fe=a.stateNode.containerInfo,_t=!0;break e;case 4:Fe=a.stateNode.containerInfo,_t=!0;break e}a=a.return}if(Fe===null)throw Error(T(160));ym(r,o,i),Fe=null,_t=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ye(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vm(e,t),e=e.sibling}function vm(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kt(e,t),Pt(t),s&4){try{_i(3,t,t.return),ta(3,t)}catch(y){ye(t,t.return,y)}try{_i(5,t,t.return)}catch(y){ye(t,t.return,y)}}break;case 1:kt(e,t),Pt(t),s&512&&n!==null&&ks(n,n.return);break;case 5:if(kt(e,t),Pt(t),s&512&&n!==null&&ks(n,n.return),t.flags&32){var i=t.stateNode;try{Di(i,"")}catch(y){ye(t,t.return,y)}}if(s&4&&(i=t.stateNode,i!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&Wf(i,r),Sl(a,o);var u=Sl(a,r);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Yf(i,h):d==="dangerouslySetInnerHTML"?Vf(i,h):d==="children"?Di(i,h):vc(i,d,h,u)}switch(a){case"input":wl(i,r);break;case"textarea":$f(i,r);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var g=r.value;g!=null?Ss(i,!!r.multiple,g,!1):f!==!!r.multiple&&(r.defaultValue!=null?Ss(i,!!r.multiple,r.defaultValue,!0):Ss(i,!!r.multiple,r.multiple?[]:"",!1))}i[Wi]=r}catch(y){ye(t,t.return,y)}}break;case 6:if(kt(e,t),Pt(t),s&4){if(t.stateNode===null)throw Error(T(162));i=t.stateNode,r=t.memoizedProps;try{i.nodeValue=r}catch(y){ye(t,t.return,y)}}break;case 3:if(kt(e,t),Pt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Ri(e.containerInfo)}catch(y){ye(t,t.return,y)}break;case 4:kt(e,t),Pt(t);break;case 13:kt(e,t),Pt(t),i=t.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(Jc=je())),s&4&&Zd(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(He=(u=He)||d,kt(e,t),He=u):kt(e,t),Pt(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(z=t,d=t.child;d!==null;){for(h=z=d;z!==null;){switch(f=z,g=f.child,f.tag){case 0:case 11:case 14:case 15:_i(4,f,f.return);break;case 1:ks(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){s=f,n=f.return;try{e=s,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){ye(s,n,y)}}break;case 5:ks(f,f.return);break;case 22:if(f.memoizedState!==null){qd(h);continue}}g!==null?(g.return=f,z=g):qd(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Uf("display",o))}catch(y){ye(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){ye(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:kt(e,t),Pt(t),s&4&&Zd(t);break;case 21:break;default:kt(e,t),Pt(t)}}function Pt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xm(n)){var s=n;break e}n=n.return}throw Error(T(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Di(i,""),s.flags&=-33);var r=Gd(t);tc(t,r,i);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Gd(t);ec(t,a,o);break;default:throw Error(T(161))}}catch(c){ye(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qx(t,e,n){z=t,wm(t)}function wm(t,e,n){for(var s=(t.mode&1)!==0;z!==null;){var i=z,r=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Pr;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||He;a=Pr;var u=He;if(Pr=o,(He=c)&&!u)for(z=i;z!==null;)o=z,c=o.child,o.tag===22&&o.memoizedState!==null?eh(i):c!==null?(c.return=o,z=c):eh(i);for(;r!==null;)z=r,wm(r),r=r.sibling;z=i,Pr=a,He=u}Jd(t)}else i.subtreeFlags&8772&&r!==null?(r.return=i,z=r):Jd(t)}}function Jd(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:He||ta(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!He)if(n===null)s.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:jt(e.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Rd(e,r,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Rd(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ri(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}He||e.flags&512&&ql(e)}catch(f){ye(e,e.return,f)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function qd(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function eh(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ta(4,e)}catch(c){ye(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(c){ye(e,i,c)}}var r=e.return;try{ql(e)}catch(c){ye(e,r,c)}break;case 5:var o=e.return;try{ql(e)}catch(c){ye(e,o,c)}}}catch(c){ye(e,e.return,c)}if(e===t){z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,z=a;break}z=e.return}}var ey=Math.ceil,Lo=tn.ReactCurrentDispatcher,Gc=tn.ReactCurrentOwner,gt=tn.ReactCurrentBatchConfig,ee=0,Re=null,Ne=null,ze=0,rt=0,js=Pn(0),Pe=0,Xi=null,es=0,na=0,Zc=0,Si=null,Je=null,Jc=0,Bs=1/0,Ht=null,Eo=!1,nc=null,kn=null,Dr=!1,fn=null,Po=0,Ni=0,sc=null,no=-1,so=0;function Ke(){return ee&6?je():no!==-1?no:no=je()}function jn(t){return t.mode&1?ee&2&&ze!==0?ze&-ze:Fx.transition!==null?(so===0&&(so=ip()),so):(t=re,t!==0||(t=window.event,t=t===void 0?16:dp(t.type)),t):1}function Ct(t,e,n,s){if(50<Ni)throw Ni=0,sc=null,Error(T(185));er(t,n,s),(!(ee&2)||t!==Re)&&(t===Re&&(!(ee&2)&&(na|=n),Pe===4&&dn(t,ze)),it(t,s),n===1&&ee===0&&!(e.mode&1)&&(Bs=je()+500,Jo&&Dn()))}function it(t,e){var n=t.callbackNode;F0(t,e);var s=po(t,t===Re?ze:0);if(s===0)n!==null&&cd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&cd(n),e===1)t.tag===0?Rx(th.bind(null,t)):Ep(th.bind(null,t)),Dx(function(){!(ee&6)&&Dn()}),n=null;else{switch(rp(s)){case 1:n=_c;break;case 4:n=np;break;case 16:n=fo;break;case 536870912:n=sp;break;default:n=fo}n=Mm(n,bm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bm(t,e){if(no=-1,so=0,ee&6)throw Error(T(327));var n=t.callbackNode;if(Es()&&t.callbackNode!==n)return null;var s=po(t,t===Re?ze:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Do(t,s);else{e=s;var i=ee;ee|=2;var r=jm();(Re!==t||ze!==e)&&(Ht=null,Bs=je()+500,Kn(t,e));do try{sy();break}catch(a){km(t,a)}while(!0);Fc(),Lo.current=r,ee=i,Ne!==null?e=0:(Re=null,ze=0,e=Pe)}if(e!==0){if(e===2&&(i=El(t),i!==0&&(s=i,e=ic(t,i))),e===1)throw n=Xi,Kn(t,0),dn(t,s),it(t,je()),n;if(e===6)dn(t,s);else{if(i=t.current.alternate,!(s&30)&&!ty(i)&&(e=Do(t,s),e===2&&(r=El(t),r!==0&&(s=r,e=ic(t,r))),e===1))throw n=Xi,Kn(t,0),dn(t,s),it(t,je()),n;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(T(345));case 2:$n(t,Je,Ht);break;case 3:if(dn(t,s),(s&130023424)===s&&(e=Jc+500-je(),10<e)){if(po(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){Ke(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zl($n.bind(null,t,Je,Ht),e);break}$n(t,Je,Ht);break;case 4:if(dn(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var o=31-Nt(s);r=1<<o,o=e[o],o>i&&(i=o),s&=~r}if(s=i,s=je()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*ey(s/1960))-s,10<s){t.timeoutHandle=zl($n.bind(null,t,Je,Ht),s);break}$n(t,Je,Ht);break;case 5:$n(t,Je,Ht);break;default:throw Error(T(329))}}}return it(t,je()),t.callbackNode===n?bm.bind(null,t):null}function ic(t,e){var n=Si;return t.current.memoizedState.isDehydrated&&(Kn(t,e).flags|=256),t=Do(t,e),t!==2&&(e=Je,Je=n,e!==null&&rc(e)),t}function rc(t){Je===null?Je=t:Je.push.apply(Je,t)}function ty(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!Mt(r(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function dn(t,e){for(e&=~Zc,e&=~na,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nt(e),s=1<<n;t[n]=-1,e&=~s}}function th(t){if(ee&6)throw Error(T(327));Es();var e=po(t,0);if(!(e&1))return it(t,je()),null;var n=Do(t,e);if(t.tag!==0&&n===2){var s=El(t);s!==0&&(e=s,n=ic(t,s))}if(n===1)throw n=Xi,Kn(t,0),dn(t,e),it(t,je()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$n(t,Je,Ht),it(t,je()),null}function qc(t,e){var n=ee;ee|=1;try{return t(e)}finally{ee=n,ee===0&&(Bs=je()+500,Jo&&Dn())}}function ts(t){fn!==null&&fn.tag===0&&!(ee&6)&&Es();var e=ee;ee|=1;var n=gt.transition,s=re;try{if(gt.transition=null,re=1,t)return t()}finally{re=s,gt.transition=n,ee=e,!(ee&6)&&Dn()}}function eu(){rt=js.current,he(js)}function Kn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Px(n)),Ne!==null)for(n=Ne.return;n!==null;){var s=n;switch(Ac(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&vo();break;case 3:zs(),he(nt),he(Ue),Hc();break;case 5:$c(s);break;case 4:zs();break;case 13:he(pe);break;case 19:he(pe);break;case 10:zc(s.type._context);break;case 22:case 23:eu()}n=n.return}if(Re=t,Ne=t=_n(t.current,null),ze=rt=e,Pe=0,Xi=null,Zc=na=es=0,Je=Si=null,Un!==null){for(e=0;e<Un.length;e++)if(n=Un[e],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,r=n.pending;if(r!==null){var o=r.next;r.next=i,s.next=o}n.pending=s}Un=null}return t}function km(t,e){do{var n=Ne;try{if(Fc(),qr.current=Mo,Co){for(var s=me.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Co=!1}if(qn=0,Oe=Le=me=null,ji=!1,Vi=0,Gc.current=null,n===null||n.return===null){Pe=1,Xi=e,Ne=null;break}e:{var r=t,o=n.return,a=n,c=e;if(e=ze,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=$d(o);if(g!==null){g.flags&=-257,Hd(g,o,a,r,e),g.mode&1&&Wd(r,u,e),e=g,c=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(c),e.updateQueue=y}else v.add(c);break e}else{if(!(e&1)){Wd(r,u,e),tu();break e}c=Error(T(426))}}else if(fe&&a.mode&1){var w=$d(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Hd(w,o,a,r,e),Oc(Is(c,a));break e}}r=c=Is(c,a),Pe!==4&&(Pe=2),Si===null?Si=[r]:Si.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var p=rm(r,c,e);Od(r,p);break e;case 1:a=c;var m=r.type,x=r.stateNode;if(!(r.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(kn===null||!kn.has(x)))){r.flags|=65536,e&=-e,r.lanes|=e;var k=om(r,a,e);Od(r,k);break e}}r=r.return}while(r!==null)}Sm(n)}catch(j){e=j,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function jm(){var t=Lo.current;return Lo.current=Mo,t===null?Mo:t}function tu(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Re===null||!(es&268435455)&&!(na&268435455)||dn(Re,ze)}function Do(t,e){var n=ee;ee|=2;var s=jm();(Re!==t||ze!==e)&&(Ht=null,Kn(t,e));do try{ny();break}catch(i){km(t,i)}while(!0);if(Fc(),ee=n,Lo.current=s,Ne!==null)throw Error(T(261));return Re=null,ze=0,Pe}function ny(){for(;Ne!==null;)_m(Ne)}function sy(){for(;Ne!==null&&!M0();)_m(Ne)}function _m(t){var e=Cm(t.alternate,t,rt);t.memoizedProps=t.pendingProps,e===null?Sm(t):Ne=e,Gc.current=null}function Sm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Gx(n,e),n!==null){n.flags&=32767,Ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pe=6,Ne=null;return}}else if(n=Qx(n,e,rt),n!==null){Ne=n;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);Pe===0&&(Pe=5)}function $n(t,e,n){var s=re,i=gt.transition;try{gt.transition=null,re=1,iy(t,e,n,s)}finally{gt.transition=i,re=s}return null}function iy(t,e,n,s){do Es();while(fn!==null);if(ee&6)throw Error(T(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(z0(t,r),t===Re&&(Ne=Re=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dr||(Dr=!0,Mm(fo,function(){return Es(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=gt.transition,gt.transition=null;var o=re;re=1;var a=ee;ee|=4,Gc.current=null,Jx(t,n),vm(n,t),_x(Rl),mo=!!Ol,Rl=Ol=null,t.current=n,qx(n),L0(),ee=a,re=o,gt.transition=r}else t.current=n;if(Dr&&(Dr=!1,fn=t,Po=i),r=t.pendingLanes,r===0&&(kn=null),D0(n.stateNode),it(t,je()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(Eo)throw Eo=!1,t=nc,nc=null,t;return Po&1&&t.tag!==0&&Es(),r=t.pendingLanes,r&1?t===sc?Ni++:(Ni=0,sc=t):Ni=0,Dn(),null}function Es(){if(fn!==null){var t=rp(Po),e=gt.transition,n=re;try{if(gt.transition=null,re=16>t?16:t,fn===null)var s=!1;else{if(t=fn,fn=null,Po=0,ee&6)throw Error(T(331));var i=ee;for(ee|=4,z=t.current;z!==null;){var r=z,o=r.child;if(z.flags&16){var a=r.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(z=u;z!==null;){var d=z;switch(d.tag){case 0:case 11:case 15:_i(8,d,r)}var h=d.child;if(h!==null)h.return=d,z=h;else for(;z!==null;){d=z;var f=d.sibling,g=d.return;if(gm(d),d===u){z=null;break}if(f!==null){f.return=g,z=f;break}z=g}}}var v=r.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}z=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,z=o;else e:for(;z!==null;){if(r=z,r.flags&2048)switch(r.tag){case 0:case 11:case 15:_i(9,r,r.return)}var p=r.sibling;if(p!==null){p.return=r.return,z=p;break e}z=r.return}}var m=t.current;for(z=m;z!==null;){o=z;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,z=x;else e:for(o=m;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ta(9,a)}}catch(j){ye(a,a.return,j)}if(a===o){z=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,z=k;break e}z=a.return}}if(ee=i,Dn(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Xo,t)}catch{}s=!0}return s}finally{re=n,gt.transition=e}}return!1}function nh(t,e,n){e=Is(n,e),e=rm(t,e,1),t=bn(t,e,1),e=Ke(),t!==null&&(er(t,1,e),it(t,e))}function ye(t,e,n){if(t.tag===3)nh(t,t,n);else for(;e!==null;){if(e.tag===3){nh(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(kn===null||!kn.has(s))){t=Is(n,t),t=om(e,t,1),e=bn(e,t,1),t=Ke(),e!==null&&(er(e,1,t),it(e,t));break}}e=e.return}}function ry(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Ke(),t.pingedLanes|=t.suspendedLanes&n,Re===t&&(ze&n)===n&&(Pe===4||Pe===3&&(ze&130023424)===ze&&500>je()-Jc?Kn(t,0):Zc|=n),it(t,e)}function Nm(t,e){e===0&&(t.mode&1?(e=kr,kr<<=1,!(kr&130023424)&&(kr=4194304)):e=1);var n=Ke();t=Jt(t,e),t!==null&&(er(t,e,n),it(t,n))}function oy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Nm(t,n)}function ay(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(T(314))}s!==null&&s.delete(e),Nm(t,n)}var Cm;Cm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nt.current)et=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return et=!1,Kx(t,e,n);et=!!(t.flags&131072)}else et=!1,fe&&e.flags&1048576&&Pp(e,ko,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;to(t,e),t=e.pendingProps;var i=Os(e,Ue.current);Ls(e,n),i=Uc(null,e,s,t,i,n);var r=Yc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,st(s)?(r=!0,wo(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Bc(e),i.updater=ea,e.stateNode=i,i._reactInternals=e,Ul(e,s,t,n),e=Kl(null,e,s,!0,r,n)):(e.tag=0,fe&&r&&Tc(e),Xe(null,e,i,n),e=e.child),e;case 16:s=e.elementType;e:{switch(to(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=cy(s),t=jt(s,t),i){case 0:e=Xl(null,e,s,t,n);break e;case 1:e=Yd(null,e,s,t,n);break e;case 11:e=Vd(null,e,s,t,n);break e;case 14:e=Ud(null,e,s,jt(s.type,t),n);break e}throw Error(T(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:jt(s,i),Xl(t,e,s,i,n);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:jt(s,i),Yd(t,e,s,i,n);case 3:e:{if(um(e),t===null)throw Error(T(387));s=e.pendingProps,r=e.memoizedState,i=r.element,Fp(t,e),So(e,s,null,n);var o=e.memoizedState;if(s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=Is(Error(T(423)),e),e=Xd(t,e,s,n,i);break e}else if(s!==i){i=Is(Error(T(424)),e),e=Xd(t,e,s,n,i);break e}else for(ot=wn(e.stateNode.containerInfo.firstChild),at=e,fe=!0,St=null,n=Op(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rs(),s===i){e=qt(t,e,n);break e}Xe(t,e,s,n)}e=e.child}return e;case 5:return zp(e),t===null&&$l(e),s=e.type,i=e.pendingProps,r=t!==null?t.memoizedProps:null,o=i.children,Fl(s,i)?o=null:r!==null&&Fl(s,r)&&(e.flags|=32),cm(t,e),Xe(t,e,o,n),e.child;case 6:return t===null&&$l(e),null;case 13:return dm(t,e,n);case 4:return Wc(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Fs(e,null,s,n):Xe(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:jt(s,i),Vd(t,e,s,i,n);case 7:return Xe(t,e,e.pendingProps,n),e.child;case 8:return Xe(t,e,e.pendingProps.children,n),e.child;case 12:return Xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,r=e.memoizedProps,o=i.value,ce(jo,s._currentValue),s._currentValue=o,r!==null)if(Mt(r.value,o)){if(r.children===i.children&&!nt.current){e=qt(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var c=a.firstContext;c!==null;){if(c.context===s){if(r.tag===1){c=Qt(-1,n&-n),c.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}r.lanes|=n,c=r.alternate,c!==null&&(c.lanes|=n),Hl(r.return,n,e),a.lanes|=n;break}c=c.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(T(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Hl(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Xe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,Ls(e,n),i=xt(i),s=s(i),e.flags|=1,Xe(t,e,s,n),e.child;case 14:return s=e.type,i=jt(s,e.pendingProps),i=jt(s.type,i),Ud(t,e,s,i,n);case 15:return am(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:jt(s,i),to(t,e),e.tag=1,st(s)?(t=!0,wo(e)):t=!1,Ls(e,n),im(e,s,i),Ul(e,s,i,n),Kl(null,e,s,!0,t,n);case 19:return hm(t,e,n);case 22:return lm(t,e,n)}throw Error(T(156,e.tag))};function Mm(t,e){return tp(t,e)}function ly(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(t,e,n,s){return new ly(t,e,n,s)}function nu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cy(t){if(typeof t=="function")return nu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bc)return 11;if(t===kc)return 14}return 2}function _n(t,e){var n=t.alternate;return n===null?(n=pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function io(t,e,n,s,i,r){var o=2;if(s=t,typeof t=="function")nu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fs:return Qn(n.children,i,r,e);case wc:o=8,i|=8;break;case ml:return t=pt(12,n,e,i|2),t.elementType=ml,t.lanes=r,t;case gl:return t=pt(13,n,e,i),t.elementType=gl,t.lanes=r,t;case xl:return t=pt(19,n,e,i),t.elementType=xl,t.lanes=r,t;case zf:return sa(n,i,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rf:o=10;break e;case Ff:o=9;break e;case bc:o=11;break e;case kc:o=14;break e;case ln:o=16,s=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=pt(o,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function Qn(t,e,n,s){return t=pt(7,t,s,e),t.lanes=n,t}function sa(t,e,n,s){return t=pt(22,t,s,e),t.elementType=zf,t.lanes=n,t.stateNode={isHidden:!1},t}function Ga(t,e,n){return t=pt(6,t,null,e),t.lanes=n,t}function Za(t,e,n){return e=pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uy(t,e,n,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pa(0),this.expirationTimes=Pa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pa(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function su(t,e,n,s,i,r,o,a,c){return t=new uy(t,e,n,a,c),e===1?(e=1,r===!0&&(e|=8)):e=0,r=pt(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bc(r),t}function dy(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hs,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function Lm(t){if(!t)return Mn;t=t._reactInternals;e:{if(rs(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(st(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(st(n))return Lp(t,n,e)}return e}function Em(t,e,n,s,i,r,o,a,c){return t=su(n,s,!0,t,i,r,o,a,c),t.context=Lm(null),n=t.current,s=Ke(),i=jn(n),r=Qt(s,i),r.callback=e??null,bn(n,r,i),t.current.lanes=i,er(t,i,s),it(t,s),t}function ia(t,e,n,s){var i=e.current,r=Ke(),o=jn(i);return n=Lm(n),e.context===null?e.context=n:e.pendingContext=n,e=Qt(r,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=bn(i,e,o),t!==null&&(Ct(t,i,o,r),Jr(t,i,o)),o}function To(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function iu(t,e){sh(t,e),(t=t.alternate)&&sh(t,e)}function hy(){return null}var Pm=typeof reportError=="function"?reportError:function(t){console.error(t)};function ru(t){this._internalRoot=t}ra.prototype.render=ru.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));ia(t,e,null,null)};ra.prototype.unmount=ru.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ts(function(){ia(null,t,null,null)}),e[Zt]=null}};function ra(t){this._internalRoot=t}ra.prototype.unstable_scheduleHydration=function(t){if(t){var e=lp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<un.length&&e!==0&&e<un[n].priority;n++);un.splice(n,0,t),n===0&&up(t)}};function ou(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function oa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ih(){}function fy(t,e,n,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var u=To(o);r.call(u)}}var o=Em(e,s,t,0,null,!1,!1,"",ih);return t._reactRootContainer=o,t[Zt]=o.current,Ii(t.nodeType===8?t.parentNode:t),ts(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var a=s;s=function(){var u=To(c);a.call(u)}}var c=su(t,0,!1,null,null,!1,!1,"",ih);return t._reactRootContainer=c,t[Zt]=c.current,Ii(t.nodeType===8?t.parentNode:t),ts(function(){ia(e,c,n,s)}),c}function aa(t,e,n,s,i){var r=n._reactRootContainer;if(r){var o=r;if(typeof i=="function"){var a=i;i=function(){var c=To(o);a.call(c)}}ia(e,o,t,i)}else o=fy(n,e,t,i,s);return To(o)}op=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hi(e.pendingLanes);n!==0&&(Sc(e,n|1),it(e,je()),!(ee&6)&&(Bs=je()+500,Dn()))}break;case 13:ts(function(){var s=Jt(t,1);if(s!==null){var i=Ke();Ct(s,t,1,i)}}),iu(t,1)}};Nc=function(t){if(t.tag===13){var e=Jt(t,134217728);if(e!==null){var n=Ke();Ct(e,t,134217728,n)}iu(t,134217728)}};ap=function(t){if(t.tag===13){var e=jn(t),n=Jt(t,e);if(n!==null){var s=Ke();Ct(n,t,e,s)}iu(t,e)}};lp=function(){return re};cp=function(t,e){var n=re;try{return re=t,e()}finally{re=n}};Cl=function(t,e,n){switch(e){case"input":if(wl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=Zo(s);if(!i)throw Error(T(90));Bf(s),wl(s,i)}}}break;case"textarea":$f(t,n);break;case"select":e=n.value,e!=null&&Ss(t,!!n.multiple,e,!1)}};Qf=qc;Gf=ts;var py={usingClientEntryPoint:!1,Events:[nr,xs,Zo,Xf,Kf,qc]},ii={findFiberByHostInstance:Vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},my={bundleType:ii.bundleType,version:ii.version,rendererPackageName:ii.rendererPackageName,rendererConfig:ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qf(t),t===null?null:t.stateNode},findFiberByHostInstance:ii.findFiberByHostInstance||hy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tr.isDisabled&&Tr.supportsFiber)try{Xo=Tr.inject(my),zt=Tr}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=py;ct.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ou(e))throw Error(T(200));return dy(t,e,null,n)};ct.createRoot=function(t,e){if(!ou(t))throw Error(T(299));var n=!1,s="",i=Pm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=su(t,1,!1,null,null,n,!1,s,i),t[Zt]=e.current,Ii(t.nodeType===8?t.parentNode:t),new ru(e)};ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=qf(e),t=t===null?null:t.stateNode,t};ct.flushSync=function(t){return ts(t)};ct.hydrate=function(t,e,n){if(!oa(e))throw Error(T(200));return aa(null,t,e,!0,n)};ct.hydrateRoot=function(t,e,n){if(!ou(t))throw Error(T(405));var s=n!=null&&n.hydratedSources||null,i=!1,r="",o=Pm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Em(e,null,t,1,n??null,i,!1,r,o),t[Zt]=e.current,Ii(t),s)for(t=0;t<s.length;t++)n=s[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ra(e)};ct.render=function(t,e,n){if(!oa(e))throw Error(T(200));return aa(null,t,e,!1,n)};ct.unmountComponentAtNode=function(t){if(!oa(t))throw Error(T(40));return t._reactRootContainer?(ts(function(){aa(null,null,t,!1,function(){t._reactRootContainer=null,t[Zt]=null})}),!0):!1};ct.unstable_batchedUpdates=qc;ct.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!oa(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return aa(t,e,n,!1,s)};ct.version="18.3.1-next-f1338f8080-20240426";function Dm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dm)}catch(t){console.error(t)}}Dm(),Df.exports=ct;var gy=Df.exports,rh=gy;fl.createRoot=rh.createRoot,fl.hydrateRoot=rh.hydrateRoot;function xy({onLogin:t,error:e}){const[n,s]=E.useState(""),[i,r]=E.useState(""),[o,a]=E.useState(""),[c,u]=E.useState(!1),[d,h]=E.useState(null),[f,g]=E.useState(!1),v=async w=>{if(w.preventDefault(),h(null),u(!0),!n.trim()){h("Username is required"),u(!1);return}if(!i){h("Password is required"),u(!1);return}if(!o.trim()){h("Department ID is required"),u(!1);return}if(!/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(o.trim())){h("Invalid Department ID format. Please enter a valid GUID."),u(!1);return}const m=await t({username:n.trim(),password:i,departmentId:o.trim()});m.success||h(m.error),u(!1)},y=d||e;return l.jsx("div",{className:"login-bg min-h-screen flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md animate-fadeIn",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("img",{src:"/logo.png",alt:"JustInsurance",className:"h-20 mx-auto mb-4",onError:w=>{w.target.style.display="none"}}),l.jsx("h1",{className:"text-2xl font-bold text-white",children:"Student Progress Dashboard"}),l.jsx("p",{className:"text-ji-blue-light mt-2",children:"Track your students' pre-licensing progress"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[l.jsxs("form",{onSubmit:v,children:[y&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{className:"text-red-700 text-sm",children:y})]})}),l.jsxs("div",{className:"mb-5",children:[l.jsx("label",{className:"input-label",htmlFor:"username",children:"Absorb LMS Username"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),l.jsx("input",{type:"text",id:"username",className:"input pl-10",placeholder:"Enter your username or email",value:n,onChange:w=>s(w.target.value),disabled:c,autoComplete:"username"})]})]}),l.jsxs("div",{className:"mb-5",children:[l.jsx("label",{className:"input-label",htmlFor:"password",children:"Absorb LMS Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),l.jsx("input",{type:f?"text":"password",id:"password",className:"input pl-10 pr-10",placeholder:"Enter your password",value:i,onChange:w=>r(w.target.value),disabled:c,autoComplete:"current-password"}),l.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>g(!f),children:f?l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):l.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"input-label",htmlFor:"departmentId",children:"Agency Department ID"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),l.jsx("input",{type:"text",id:"departmentId",className:"input pl-10 font-mono text-sm",placeholder:"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",value:o,onChange:w=>a(w.target.value.toUpperCase()),disabled:c})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Contact your agency admin or JustInsurance for your Department ID"})]}),l.jsx("button",{type:"submit",className:"w-full btn btn-primary py-3 text-lg font-semibold",disabled:c,style:{backgroundColor:c?"#94a3b8":"#3182ce"},children:c?l.jsxs("span",{className:"flex items-center justify-center",children:[l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Authenticating..."]}):"Access Dashboard"})]}),l.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:l.jsxs("p",{className:"text-center text-sm text-gray-500",children:["Need help?"," ",l.jsx("a",{href:"mailto:support@justinsuranceco.com",className:"text-ji-blue-bright hover:underline",children:"Contact Support"})]})})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-ji-blue-light text-sm",children:[" ",new Date().getFullYear()," JustInsurance. All rights reserved."]})})]})})}function yy({summary:t}){const e=[{title:"Complete",value:t.completeCount||0,subtitle:"Finished course",emoji:"",bgColor:"bg-blue-50",iconBg:"bg-blue-100",textColor:"text-blue-800",borderColor:"border-l-4 border-blue-500"},{title:"Active",value:t.activeCount,subtitle:"Last 24 hours",emoji:"",bgColor:"bg-green-50",iconBg:"bg-green-100",textColor:"text-green-800",borderColor:"border-l-4 border-green-500"},{title:"Warning",value:t.warningCount,subtitle:"24-72 hours ago",emoji:"",bgColor:"bg-orange-50",iconBg:"bg-orange-100",textColor:"text-orange-800",borderColor:"border-l-4 border-orange-500"},{title:"Re-engage",value:t.reengageCount,subtitle:"72+ hours ago",emoji:"",bgColor:"bg-red-50",iconBg:"bg-red-100",textColor:"text-red-800",borderColor:"border-l-4 border-red-500"},{title:"Total Students",value:t.totalStudents,subtitle:"In department",emoji:"",bgColor:"bg-gray-50",iconBg:"bg-gray-100",textColor:"text-gray-800",borderColor:"border-l-4 border-gray-500"},{title:"Avg Progress",value:`${t.averageProgress}%`,subtitle:"Course completion",emoji:"",bgColor:"bg-purple-50",iconBg:"bg-purple-100",textColor:"text-purple-800",borderColor:"border-l-4 border-purple-500"}];return l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:e.map((n,s)=>l.jsx("div",{className:`kpi-card ${n.bgColor} ${n.borderColor} animate-fadeIn`,style:{animationDelay:`${s*50}ms`},children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:`text-sm font-medium ${n.textColor} mb-1`,children:n.title}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.value}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n.subtitle})]}),l.jsx("div",{className:`kpi-icon ${n.iconBg} text-2xl`,children:n.emoji})]})},s))})}function la({status:t}){const e=()=>{switch(t.class){case"blue":return"badge-complete";case"green":return"badge-active";case"orange":return"badge-warning";case"red":return"badge-reengage";case"gray":return"badge-abandoned";case"expired":return"badge-expired";default:return"badge-reengage"}};return l.jsxs("span",{className:`badge ${e()}`,children:[l.jsx("span",{className:"mr-1",children:t.emoji}),t.status]})}function ir({progress:t,showLabel:e=!0}){const n=()=>{switch(t.colorClass){case"high":return"progress-high";case"med":return"progress-med";case"low":return"progress-low";default:return"progress-low"}};return l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"flex-1 progress-bar",children:l.jsx("div",{className:`progress-fill ${n()}`,style:{width:`${t.value}%`}})}),e&&l.jsx("span",{className:"text-sm font-medium text-gray-700 w-12 text-right",children:t.display})]})}function vy({students:t,onViewStudent:e,showDepartment:n=!1}){const[s,i]=E.useState("status"),[r,o]=E.useState("asc"),a=d=>{s===d?o(r==="asc"?"desc":"asc"):(i(d),o("asc"))},c=[...t].sort((d,h)=>{let f,g;switch(s){case"name":f=d.fullName.toLowerCase(),g=h.fullName.toLowerCase();break;case"status":f=d.status.priority,g=h.status.priority;break;case"lastLogin":f=d.lastLogin.raw?new Date(d.lastLogin.raw).getTime():0,g=h.lastLogin.raw?new Date(h.lastLogin.raw).getTime():0;break;case"progress":f=d.progress.value,g=h.progress.value;break;case"course":f=d.courseName.toLowerCase(),g=h.courseName.toLowerCase();break;case"department":f=(d.departmentName||"").toLowerCase(),g=(h.departmentName||"").toLowerCase();break;default:f=d.status.priority,g=h.status.priority}return f<g?r==="asc"?-1:1:f>g?r==="asc"?1:-1:0}),u=({field:d})=>s!==d?l.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}):r==="asc"?l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}):l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})});return t.length===0?l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No students found"}),l.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]}):l.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>a("name"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Student"}),l.jsx(u,{field:"name"})]})}),n&&l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 hidden lg:table-cell",onClick:()=>a("department"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Dept"}),l.jsx(u,{field:"department"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>a("status"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Status"}),l.jsx(u,{field:"status"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>a("lastLogin"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Last Login"}),l.jsx(u,{field:"lastLogin"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 hidden md:table-cell",onClick:()=>a("course"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Course"}),l.jsx(u,{field:"course"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100",onClick:()=>a("progress"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Progress"}),l.jsx(u,{field:"progress"})]})}),l.jsx("th",{className:"sticky right-0 bg-gray-50 min-w-[80px] whitespace-nowrap",children:"Action"})]})}),l.jsx("tbody",{children:c.map((d,h)=>{var f,g;return l.jsxs("tr",{className:"animate-fadeIn",style:{animationDelay:`${h*20}ms`},children:[l.jsx("td",{children:l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:d.fullName}),l.jsx("p",{className:"text-sm text-gray-500",children:d.email})]})}),n&&l.jsx("td",{className:"hidden lg:table-cell",children:l.jsx("p",{className:"text-gray-700 text-sm truncate max-w-[220px]",title:d.departmentName||"",children:d.departmentName||"-"})}),l.jsx("td",{children:l.jsx(la,{status:d.status})}),l.jsx("td",{children:l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-900",children:d.lastLogin.relative}),l.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:d.lastLogin.formatted})]})}),l.jsx("td",{className:"hidden md:table-cell",children:l.jsx("p",{className:"text-gray-900 truncate max-w-sm",title:d.courseName,children:d.courseName})}),l.jsx("td",{children:l.jsxs("div",{className:"w-36",children:[l.jsx(ir,{progress:d.progress}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Course: ",((f=d.timeSpent)==null?void 0:f.formatted)||"0m"]}),((g=d.examPrepTime)==null?void 0:g.minutes)>0&&l.jsxs("p",{className:"text-xs text-purple-500",children:["Prep: ",d.examPrepTime.formatted]})]})}),l.jsx("td",{className:"sticky right-0 bg-white",children:l.jsx("button",{onClick:()=>e(d),className:"btn btn-secondary text-sm py-1 px-3 whitespace-nowrap",children:"View"})})]},d.id||`${d.email}-${h}`)})})]})})})}function wy({students:t,onViewStudent:e,adminMode:n}){const[s,i]=E.useState("examDate"),[r,o]=E.useState("asc"),a=S=>{s===S?o(r==="asc"?"desc":"asc"):(i(S),o("asc"))},c=S=>{if(!S)return 0;const M=S.trim(),P=M.split("/");if(P.length===3){let Q=parseInt(P[2],10);Q<100&&(Q+=2e3);const H=new Date(Q,parseInt(P[0],10)-1,parseInt(P[1],10));if(!isNaN(H.getTime()))return H.getTime()}const C=M.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(C){const Q=new Date(parseInt(C[1],10),parseInt(C[2],10)-1,parseInt(C[3],10));if(!isNaN(Q.getTime()))return Q.getTime()}const B=new Date(M);return isNaN(B.getTime())?0:new Date(B.getFullYear(),B.getMonth(),B.getDate()).getTime()},u=S=>{const M=c(S.examDateRaw||S.examDate);if(!M)return"upcoming";const P=new Date(M),C=new Date,B=P.getFullYear(),Q=P.getMonth(),H=P.getDate(),K=C.getFullYear(),X=C.getMonth(),A=C.getDate();return B===K&&Q===X&&H===A?"today":new Date(B,Q,H)>new Date(K,X,A)?"upcoming":"past"},d=S=>[...S].sort((M,P)=>{var Q,H,K,X;let C,B;switch(s){case"name":C=(M.fullName||"").toLowerCase(),B=(P.fullName||"").toLowerCase();break;case"status":C=((Q=M.status)==null?void 0:Q.priority)??99,B=((H=P.status)==null?void 0:H.priority)??99;break;case"examDate":C=c(M.examDateRaw||M.examDate),B=c(P.examDateRaw||P.examDate);break;case"department":C=(M.departmentName||"").toLowerCase(),B=(P.departmentName||"").toLowerCase();break;case"progress":C=((K=M.progress)==null?void 0:K.value)??0,B=((X=P.progress)==null?void 0:X.value)??0;break;case"result":C=(M.passFail||"").toUpperCase()==="PASS"?1:(M.passFail||"").toUpperCase()==="FAIL"?3:2,B=(P.passFail||"").toUpperCase()==="PASS"?1:(P.passFail||"").toUpperCase()==="FAIL"?3:2;break;case"state":C=(M.examState||"").toLowerCase(),B=(P.examState||"").toLowerCase();break;case"course":C=(M.courseName||"").toLowerCase(),B=(P.courseName||"").toLowerCase();break;default:C=c(M.examDateRaw||M.examDate),B=c(P.examDateRaw||P.examDate)}return C<B?r==="asc"?-1:1:C>B?r==="asc"?1:-1:0}),h=t.filter(S=>u(S)==="today"),f=t.filter(S=>u(S)==="upcoming"),g=t.filter(S=>u(S)==="past"),v=d(h),y=d(f),w=s==="examDate"?[...g].sort((S,M)=>{const P=c(S.examDateRaw||S.examDate),C=c(M.examDateRaw||M.examDate);return r==="asc"?C-P:P-C}):d(g),p=[];v.length>0&&p.push({label:"Today's Exams",color:"blue",icon:"calendar-today",students:v}),y.length>0&&p.push({label:"Upcoming Exams",color:"green",icon:"calendar-upcoming",students:y}),w.length>0&&p.push({label:"Past Exams",color:"gray",icon:"calendar-past",students:w});const m=9,x=({field:S})=>s!==S?l.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}):r==="asc"?l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}):l.jsx("svg",{className:"w-4 h-4 text-ji-blue-bright",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),k=S=>{const M=c(S);if(!M)return!1;const P=new Date(M),C=new Date;return C.setHours(0,0,0,0),P<C},j=S=>{const M=(S.passFail||"").toUpperCase();return M==="PASS"?"green":M==="FAIL"?"red":"gray"};if(t.length===0)return l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No exam students found"}),l.jsx("p",{className:"text-gray-500",children:"No students with scheduled exams"})]});const N=(S,M,P)=>{var A,F,W,Z;const C=k(S.examDateRaw||S.examDate),B=((A=S.passFail)==null?void 0:A.toUpperCase())==="PASS",Q=((F=S.passFail)==null?void 0:F.toUpperCase())==="FAIL",H=j(S),K=H==="green"?"bg-green-500":H==="yellow"?"bg-yellow-400":H==="gray"?"bg-gray-400":"bg-red-500",X=u(S)==="today";return l.jsxs("tr",{className:`animate-fadeIn ${X?"bg-blue-50/40":""}`,style:{animationDelay:`${(P+M)*20}ms`},children:[l.jsx("td",{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-2.5 h-2.5 rounded-full flex-shrink-0 ${K}`,title:`Readiness: ${H}`}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:S.fullName}),l.jsx("p",{className:"text-sm text-gray-500",children:S.email})]})]})}),n&&l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",title:S.departmentName,children:S.departmentName||"Unknown"})}),l.jsx("td",{children:S.matched!==!1?l.jsx(la,{status:S.status}):l.jsx("span",{className:"badge bg-gray-100 text-gray-600",children:"N/A"})}),l.jsx("td",{children:l.jsxs("div",{children:[l.jsxs("p",{className:`font-medium ${C?"text-gray-400":X?"text-blue-700 font-semibold":"text-gray-900"}`,children:[S.examDate||"TBD",X&&l.jsx("span",{className:"ml-1.5 text-xs font-medium text-blue-500",children:"TODAY"})]}),S.examTime&&l.jsx("p",{className:"text-xs text-gray-500",children:S.examTime})]})}),l.jsx("td",{children:l.jsxs("div",{className:"min-w-[180px]",children:[l.jsx(ir,{progress:S.progress}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Course: ",((W=S.timeSpent)==null?void 0:W.formatted)||"0m"]}),((Z=S.examPrepTime)==null?void 0:Z.minutes)>0&&l.jsxs("p",{className:"text-xs text-purple-500",children:["Prep: ",S.examPrepTime.formatted]})]})}),l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",title:S.courseName,children:S.courseName})}),l.jsx("td",{children:B?l.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-sm font-bold bg-green-100 text-green-800 border border-green-300",children:"PASS"}):Q?l.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-sm font-bold bg-red-100 text-red-800 border border-red-300",children:"FAIL"}):l.jsx("span",{className:"text-gray-400 text-sm",children:""})}),!n&&l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",title:S.departmentName,children:S.departmentName||"Unknown"})}),l.jsx("td",{children:l.jsx("p",{className:"text-gray-900 text-sm",children:S.examState||""})}),l.jsx("td",{className:"sticky right-0 bg-white",children:l.jsx("button",{onClick:()=>e(S),className:"btn btn-secondary text-sm py-1 px-3 whitespace-nowrap",children:"View"})})]},`${S.email}-${S.examDateRaw||M}`)},L={blue:{bg:"bg-blue-600",text:"text-white",border:"border-blue-700"},green:{bg:"bg-emerald-50",text:"text-emerald-700",border:"border-emerald-200"},gray:{bg:"bg-gray-100",text:"text-gray-500",border:"border-gray-200"}};let _=0;return l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[l.jsxs("div",{className:"bg-blue-50 border-b border-blue-100 px-4 py-2 text-xs text-blue-700 flex items-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("span",{children:["Scroll horizontally to see all columns ","",' Click "View" to edit exam dates']})]}),l.jsx("div",{className:"table-scroll-wrapper",children:l.jsxs("table",{className:"data-table min-w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[200px]",onClick:()=>a("name"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Student"}),l.jsx(x,{field:"name"})]})}),n&&l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[130px]",onClick:()=>a("department"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Department"}),l.jsx(x,{field:"department"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[100px]",onClick:()=>a("status"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Status"}),l.jsx(x,{field:"status"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[120px]",onClick:()=>a("examDate"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Exam Date"}),l.jsx(x,{field:"examDate"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[200px]",onClick:()=>a("progress"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Progress"}),l.jsx(x,{field:"progress"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[180px]",onClick:()=>a("course"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Course"}),l.jsx(x,{field:"course"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[80px]",onClick:()=>a("result"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Result"}),l.jsx(x,{field:"result"})]})}),!n&&l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[130px]",onClick:()=>a("department"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"Department"}),l.jsx(x,{field:"department"})]})}),l.jsx("th",{className:"cursor-pointer hover:bg-gray-100 min-w-[70px]",onClick:()=>a("state"),children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{children:"State"}),l.jsx(x,{field:"state"})]})}),l.jsx("th",{className:"sticky right-0 bg-gray-50 min-w-[80px] whitespace-nowrap",children:"Action"})]})}),l.jsx("tbody",{children:p.map((S,M)=>{const P=L[S.color],C=_;return _+=S.students.length,l.jsxs(Ef.Fragment,{children:[l.jsx("tr",{children:l.jsx("td",{colSpan:m,className:`${P.bg} ${P.text} ${P.border} border-y px-4 py-2`,children:l.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[S.color==="blue"&&l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),S.color==="green"&&l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),S.color==="gray"&&l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{children:S.label}),l.jsxs("span",{className:`text-xs font-normal ${S.color==="blue"?"text-blue-200":"opacity-60"}`,children:["(",S.students.length," student",S.students.length!==1?"s":"",")"]})]})})}),S.students.map((B,Q)=>N(B,Q,C))]},S.label)})})]})})]})}const oh="/api";function Ja(t){if(!t||t<=0)return"0m";const e=Math.round(t*60),n=Math.floor(e/60),s=e%60;return n===0?`${s}m`:s===0?`${n}h`:`${n}h ${s}m`}function by(t){const e=t.toLowerCase();return e.includes("pre-licens")||e.includes("prelicens")||e.includes("pre licens")}function ky(t){const e=t.toLowerCase();return e.includes("module")||e.includes("chapter")||e.includes("lesson")||e.includes("unit")}function jy(t){const e=t.toLowerCase();return e.includes("practice")||e.includes("prep")||e.includes("study")}function _y(t){const e=[],n=[],s=[];for(const i of t){const r=i.courseName||"";by(r)||ky(r)?e.push(i):jy(r)?n.push(i):s.push(i)}return{preLicensing:e,examPrep:n,other:s}}function ah({enrollment:t,isModule:e=!1}){var n,s;return l.jsxs("div",{className:`border border-gray-200 rounded-lg p-4 ${e?"ml-4 bg-gray-50":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("p",{className:`font-medium text-gray-900 ${e?"text-sm":""}`,children:[e&&l.jsx("span",{className:"text-gray-400 mr-2",children:"|--"}),t.courseName]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t.status===2?"bg-green-100 text-green-800":t.status===1?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:t.statusText})]}),l.jsx(ir,{progress:t.progress}),l.jsxs("div",{className:"flex items-center justify-between mt-2 text-sm text-gray-500",children:[l.jsxs("span",{children:["Time: ",((n=t.timeSpent)==null?void 0:n.formatted)||"0m"]}),l.jsxs("span",{children:["Last accessed: ",((s=t.lastAccessed)==null?void 0:s.relative)||"Never"]})]})]})}function qa({title:t,icon:e,color:n,enrollments:s,defaultExpanded:i=!0}){var d;const[r,o]=E.useState(i);if(!s.length)return null;const a=s.find(h=>{const f=(h.courseName||"").toLowerCase();return!f.includes("module")&&!f.includes("chapter")&&!f.includes("lesson")})||s[0],c=Math.round(((d=a.progress)==null?void 0:d.value)??a.progress??0),u=s.filter(h=>h.id!==a.id);return l.jsxs("div",{className:`border-2 rounded-xl overflow-hidden ${n}`,children:[l.jsxs("div",{className:"px-4 py-3 cursor-pointer flex items-center justify-between",onClick:()=>o(!r),children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:e}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-900",children:t}),l.jsxs("p",{className:"text-sm text-gray-600",children:[s.length," course",s.length>1?"s":""]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[c,"%"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Overall Progress"})]}),l.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]}),r&&l.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[l.jsx(ah,{enrollment:a}),u.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide ml-4",children:["Modules (",u.length,")"]}),u.map(h=>l.jsx(ah,{enrollment:h,isModule:!0},h.id))]})]})]})}function Sy({enrollments:t}){const{preLicensing:e,examPrep:n,other:s}=E.useMemo(()=>_y(t),[t]);return l.jsxs("div",{className:"space-y-4",children:[l.jsx(qa,{title:"Pre-Licensing Course",icon:"",color:"border-blue-200 bg-blue-50/50",enrollments:e,defaultExpanded:!0}),l.jsx(qa,{title:"Exam Prep",icon:"",color:"border-purple-200 bg-purple-50/50",enrollments:n,defaultExpanded:!0}),s.length>0&&l.jsx(qa,{title:"Other Courses",icon:"",color:"border-gray-200 bg-gray-50/50",enrollments:s,defaultExpanded:!1})]})}function Ar(t){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t)}function Ny({studentId:t,examInfo:e,onClose:n,onSessionExpired:s,onUpdateResult:i,onUpdateExamDate:r,onUpdateStudentContact:o}){var F,W,Z,ne,Te,ve;const[a,c]=E.useState(null),[u,d]=E.useState(!0),[h,f]=E.useState(null),[g,v]=E.useState(!1),[y,w]=E.useState(""),[p,m]=E.useState(""),[x,k]=E.useState(!1),[j,N]=E.useState({firstName:"",lastName:"",emailAddress:"",phone:""}),[L,_]=E.useState(""),[S,M]=E.useState(!1),[P,C]=E.useState([]),[B,Q]=E.useState(!1),[H,K]=E.useState(!1);E.useEffect(()=>{X()},[t]);const X=async()=>{var O;d(!0),f(null);try{const $=new URLSearchParams;e!=null&&e.examCourse&&$.set("courseType",e.examCourse);const se=$.toString()?`?${$.toString()}`:"",Me=await fetch(`${oh}/students/${t}${se}`,{credentials:"include"});if(!Me.ok){if(Me.status===401){s();return}throw new Error("Failed to fetch student details")}const we=await Me.json();if(we.success)c(we.student),(O=we.student)!=null&&O.email&&fetch(`${oh}/exam/snapshots/${encodeURIComponent(we.student.email)}`,{credentials:"include"}).then(be=>be.ok?be.json():null).then(be=>{be!=null&&be.success&&C(be.snapshots||[])}).catch(()=>{});else throw new Error(we.error||"Failed to load student")}catch($){f($.message)}finally{d(!1)}},A=async()=>{if(_(""),!j.firstName.trim()||!j.lastName.trim()){_("First and last name are required");return}if(!Ar(j.emailAddress)){_("Please enter a valid email address");return}M(!0);try{const O=await o(t,{firstName:j.firstName.trim(),lastName:j.lastName.trim(),emailAddress:j.emailAddress.trim(),phone:j.phone.trim()});O.success?(c($=>({...$,firstName:O.student.firstName,lastName:O.student.lastName,fullName:`${O.student.firstName} ${O.student.lastName}`.trim(),email:O.student.emailAddress,phone:O.student.phone})),k(!1)):_(O.error||"Update failed")}catch{_("Failed to save changes")}finally{M(!1)}};return E.useEffect(()=>{const O=$=>{$.key==="Escape"&&n()};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[n]),E.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),l.jsx("div",{className:"modal-overlay",onClick:n,children:l.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),children:[l.jsx("div",{className:"header px-6 py-4 rounded-t-xl",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Student Details"}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:l.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"p-6",children:u?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"spinner mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Loading student details..."})]}):h?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("svg",{className:"w-12 h-12 mx-auto text-red-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("p",{className:"text-red-600",children:h}),l.jsx("button",{onClick:X,className:"mt-4 btn btn-secondary",children:"Try Again"})]}):a?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[x?l.jsxs("div",{className:"flex-1 mr-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"First Name"}),l.jsx("input",{type:"text",value:j.firstName,onChange:O=>N($=>({...$,firstName:O.target.value})),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Last Name"}),l.jsx("input",{type:"text",value:j.lastName,onChange:O=>N($=>({...$,lastName:O.target.value})),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Email"}),l.jsx("input",{type:"email",value:j.emailAddress,onChange:O=>N($=>({...$,emailAddress:O.target.value})),className:`w-full px-3 py-1.5 border rounded-lg text-sm focus:outline-none focus:ring-2 ${j.emailAddress&&!Ar(j.emailAddress)?"border-red-300 focus:ring-red-400":"border-gray-300 focus:ring-blue-500"}`}),j.emailAddress&&!Ar(j.emailAddress)&&l.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Invalid email format"})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:"Phone"}),l.jsx("input",{type:"tel",value:j.phone,onChange:O=>N($=>({...$,phone:O.target.value})),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional"})]}),L&&l.jsx("p",{className:"text-xs text-red-500 mb-2",children:L}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:A,disabled:S||j.emailAddress&&!Ar(j.emailAddress),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg text-xs font-medium hover:bg-green-700 transition-colors disabled:opacity-50",children:S?"Saving...":"Save"}),l.jsx("button",{onClick:()=>{k(!1),_("")},className:"px-3 py-1.5 bg-gray-200 text-gray-700 rounded-lg text-xs hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:a.fullName}),l.jsx("p",{className:"text-gray-500",children:a.email}),a.phone&&l.jsx("p",{className:"text-gray-400 text-sm",children:a.phone})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[!x&&o&&l.jsxs("button",{onClick:()=>{k(!0),N({firstName:a.firstName||"",lastName:a.lastName||"",emailAddress:a.email||"",phone:a.phone||""}),_("")},className:"text-xs px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-1 shadow-sm",children:[l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),l.jsx(la,{status:a.status})]})]}),e&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2 text-sm",children:[l.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Exam Scheduling",r&&!g&&l.jsxs("button",{onClick:()=>{v(!0),w(e.examDateRaw||""),m(e.examTime||"")},className:"ml-auto text-xs px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-1 shadow-sm",children:[l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Date"]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[g&&r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Exam Date"}),l.jsx("input",{type:"date",value:y,onChange:O=>w(O.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Time"}),l.jsx("input",{type:"text",value:p,onChange:O=>m(O.target.value),placeholder:"e.g., 2:00 PM",className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"col-span-2 flex gap-2",children:[l.jsx("button",{onClick:()=>{y&&e.email&&(r(e.email,y,p),v(!1))},className:"px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 transition-colors",children:"Save"}),l.jsx("button",{onClick:()=>v(!1),className:"px-2 py-1 bg-gray-200 text-gray-700 rounded text-xs hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Exam Date"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.examDate||"TBD"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Time"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.examTime||"N/A"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"State"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.examState||"N/A"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Result"}),i&&e.email?l.jsxs("div",{className:"flex gap-1.5 mt-0.5",children:[l.jsx("button",{onClick:()=>i(e.email,(e.passFail||"").toUpperCase()==="PASS"?"":"PASS"),className:`px-2 py-0.5 rounded text-xs font-medium transition-colors ${(e.passFail||"").toUpperCase()==="PASS"?"bg-green-600 text-white shadow-sm":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200"}`,children:"PASS"}),l.jsx("button",{onClick:()=>i(e.email,(e.passFail||"").toUpperCase()==="FAIL"?"":"FAIL"),className:`px-2 py-0.5 rounded text-xs font-medium transition-colors ${(e.passFail||"").toUpperCase()==="FAIL"?"bg-red-600 text-white shadow-sm":"bg-red-50 text-red-700 hover:bg-red-100 border border-red-200"}`,children:"FAIL"})]}):l.jsxs("p",{className:"font-semibold text-sm",children:[(e.passFail||"").toUpperCase()==="PASS"&&l.jsx("span",{className:"text-green-700 bg-green-100 px-2 py-0.5 rounded text-xs",children:"PASS"}),(e.passFail||"").toUpperCase()==="FAIL"&&l.jsx("span",{className:"text-red-700 bg-red-100 px-2 py-0.5 rounded text-xs",children:"FAIL"}),!(e.passFail||"").trim()&&l.jsx("span",{className:"text-gray-500",children:"Pending"})]})]})]}),(e.departmentName||e.agencyOwner)&&l.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[e.departmentName&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Department"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.departmentName})]}),e.agencyOwner&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Agency Owner"}),l.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e.agencyOwner})]})]}),e.sheetTracking&&(e.sheetTracking.studyHoursAtExam||e.sheetTracking.finalPractice)&&l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-3 pt-3 border-t border-blue-200",children:[e.sheetTracking.studyHoursAtExam&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-purple-700",children:e.sheetTracking.studyHoursAtExam}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Hours"})]}),e.sheetTracking.finalPractice&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-blue-700",children:e.sheetTracking.finalPractice}),l.jsx("p",{className:"text-xs text-gray-500",children:"Practice %"})]}),e.sheetTracking.chaptersComplete&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-green-700",children:e.sheetTracking.chaptersComplete}),l.jsx("p",{className:"text-xs text-gray-500",children:"Chapters"})]}),e.sheetTracking.studyConsistency&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-gray-700",children:e.sheetTracking.studyConsistency}),l.jsx("p",{className:"text-xs text-gray-500",children:"Consistency"})]})]})]}),a.readiness&&l.jsxs("div",{className:`border-2 rounded-xl p-4 ${a.readiness.status==="GREEN"?"border-green-300 bg-green-50":a.readiness.status==="YELLOW"?"border-yellow-300 bg-yellow-50":"border-red-300 bg-red-50"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2 text-sm",children:[l.jsx("span",{className:`w-3 h-3 rounded-full ${a.readiness.status==="GREEN"?"bg-green-500":a.readiness.status==="YELLOW"?"bg-yellow-400":"bg-red-500"}`}),"Exam Readiness"]}),l.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${a.readiness.status==="GREEN"?"bg-green-200 text-green-800":a.readiness.status==="YELLOW"?"bg-yellow-200 text-yellow-800":"bg-red-200 text-red-800"}`,children:[a.readiness.status," (",a.readiness.criteriaMet,"/",a.readiness.criteriaTotal,")"]})]}),l.jsxs("div",{className:"space-y-2",children:[a.readiness.criteria.practiceExams&&l.jsxs("div",{className:"bg-white rounded-lg p-2.5",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.practiceExams.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.practiceExams.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Practice Exams"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[a.readiness.criteria.practiceExams.consecutivePassing,"/3 consecutive passing","  ",a.readiness.criteria.practiceExams.totalExams," exam",a.readiness.criteria.practiceExams.totalExams!==1?"s":""," found","  ",Ja(a.readiness.criteria.practiceExams.hoursSpent)," total time"]})]})]}),((F=a.readiness.criteria.practiceExams.details)==null?void 0:F.length)>0&&l.jsx("div",{className:"mt-2 ml-7 space-y-1",children:a.readiness.criteria.practiceExams.details.map((O,$)=>l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx("span",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${O.score>=80?"bg-green-500":"bg-red-400"}`}),l.jsxs("span",{className:`font-medium ${O.score>=80?"text-green-700":"text-red-600"}`,children:[Math.round(O.score*10)/10,"%"]}),l.jsxs("span",{className:"text-gray-400",children:[O.minutes,"m"]}),l.jsx("span",{className:"text-gray-400 truncate",title:O.name,children:O.name})]},$))})]}),a.readiness.criteria.timeInCourse&&l.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg p-2.5",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.timeInCourse.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.timeInCourse.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Time in Course"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[Ja(a.readiness.criteria.timeInCourse.hoursLogged)," / ",a.readiness.criteria.timeInCourse.hoursRequired,"h required (",a.readiness.criteria.timeInCourse.courseType,")"]})]})]}),a.readiness.criteria.stateLaws&&l.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg p-2.5",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.stateLaws.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.stateLaws.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"State Laws"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[a.readiness.criteria.stateLaws.completions," completion",a.readiness.criteria.stateLaws.completions!==1?"s":"",", ",Ja(a.readiness.criteria.stateLaws.hoursSpent)," spent (need 1 completion + 1h 30m)"]})]})]}),a.readiness.criteria.videos&&l.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg p-2.5",children:[l.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${a.readiness.criteria.videos.met?"bg-green-500":"bg-red-400"}`,children:a.readiness.criteria.videos.met?l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Videos"}),l.jsxs("p",{className:"text-xs text-gray-500",children:[((W=a.readiness.criteria.videos.details)==null?void 0:W.life)&&l.jsxs("span",{children:["Life: ",a.readiness.criteria.videos.details.life.minutes,"m/30m",a.readiness.criteria.videos.details.life.met?" ":""," "]}),((Z=a.readiness.criteria.videos.details)==null?void 0:Z.health)&&l.jsxs("span",{children:["Health: ",a.readiness.criteria.videos.details.health.minutes,"m/30m",a.readiness.criteria.videos.details.health.met?" ":""]}),!((ne=a.readiness.criteria.videos.details)!=null&&ne.life)&&!((Te=a.readiness.criteria.videos.details)!=null&&Te.health)&&l.jsxs("span",{children:[a.readiness.criteria.videos.totalCourses," video course",a.readiness.criteria.videos.totalCourses!==1?"s":""]})]})]})]})]})]}),a.gapMetrics&&a.gapMetrics.study_gap_count>0&&l.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4",children:[l.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2 text-sm mb-3",children:[l.jsx("svg",{className:"w-4 h-4 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Study Consistency"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:`text-lg font-bold ${a.gapMetrics.study_gap_count>5?"text-red-600":a.gapMetrics.study_gap_count>2?"text-orange-600":"text-green-600"}`,children:a.gapMetrics.study_gap_count}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Gaps"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-gray-700",children:a.gapMetrics.total_gap_days}),l.jsx("p",{className:"text-xs text-gray-500",children:"Total Gap Days"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:`text-lg font-bold ${a.gapMetrics.largest_gap_days>7?"text-red-600":a.gapMetrics.largest_gap_days>3?"text-orange-600":"text-green-600"}`,children:a.gapMetrics.largest_gap_days}),l.jsx("p",{className:"text-xs text-gray-500",children:"Largest Gap (days)"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-sm font-bold text-gray-700",children:a.gapMetrics.last_gap_date||"N/A"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Last Gap Date"})]})]}),a.gapMetrics.timeline&&a.gapMetrics.timeline.length>0&&l.jsxs("div",{className:"mt-3",children:[l.jsx("button",{onClick:()=>K(!H),className:"text-xs text-orange-600 hover:text-orange-800 font-medium mb-2",children:H?"Hide Timeline":"Show Timeline"}),H&&l.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:a.gapMetrics.timeline.map((O,$)=>{const se=new Date(O.start+"T00:00:00"),Me=new Date(O.end+"T00:00:00"),we=ar=>ar.toLocaleDateString("en-US",{month:"short",day:"numeric"}),be=O.days===1?we(se):`${we(se)} - ${we(Me)}`,Lt=O.type==="gap",Xs=Lt&&O.days>=4;return l.jsxs("div",{className:`flex items-center gap-2 px-2.5 py-1.5 rounded-lg text-xs ${Lt?Xs?"bg-red-50 border border-red-200":"bg-orange-50 border border-orange-200":"bg-green-50 border border-green-200"}`,children:[l.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${Lt?Xs?"bg-red-400":"bg-orange-400":"bg-green-400"}`}),l.jsx("span",{className:"font-medium text-gray-700 min-w-[120px]",children:be}),l.jsxs("span",{className:"text-gray-500",children:["(",O.days,"d)"]}),l.jsx("span",{className:`font-medium ${Lt?Xs?"text-red-600":"text-orange-600":"text-green-600"}`,children:Lt?"Gap":"Studied"})]},$)})})]})]}),P.length>0&&l.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-xl p-4",children:[l.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2 text-sm mb-3 cursor-pointer",onClick:()=>Q(!B),children:[l.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Study History",l.jsxs("span",{className:"text-xs font-normal text-gray-500 ml-1",children:["(",P.length," snapshot",P.length!==1?"s":"",")"]}),l.jsx("svg",{className:`w-4 h-4 ml-auto text-gray-400 transition-transform ${B?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),(()=>{const O=P[0],$=P[P.length-1],se=O.total_time_min-$.total_time_min,Me=O.prelicense_progress-$.prelicense_progress,we=be=>be>=60?`${Math.floor(be/60)}h ${Math.round(be%60)}m`:`${Math.round(be)}m`;return l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-indigo-700",children:we(O.total_time_min)}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Time"}),P.length>1&&se>0&&l.jsxs("p",{className:"text-xs text-green-600",children:["+",we(se)]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsxs("p",{className:"text-lg font-bold text-indigo-700",children:[O.prelicense_progress,"%"]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Pre-License"}),P.length>1&&Me!==0&&l.jsxs("p",{className:`text-xs ${Me>0?"text-green-600":"text-red-500"}`,children:[Me>0?"+":"",Me.toFixed(1),"%"]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("p",{className:"text-lg font-bold text-indigo-700",children:O.consecutive_passing}),l.jsx("p",{className:"text-xs text-gray-500",children:"Consec. Passing"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-2.5 text-center",children:[l.jsx("span",{className:`inline-block w-3 h-3 rounded-full mr-1 ${O.readiness==="GREEN"?"bg-green-500":O.readiness==="YELLOW"?"bg-yellow-400":"bg-red-500"}`}),l.jsx("span",{className:"text-sm font-bold text-gray-700",children:O.criteria_met}),l.jsx("p",{className:"text-xs text-gray-500",children:"Readiness"})]})]})})(),P.length>1&&l.jsxs("div",{className:"bg-white rounded-lg p-3 mb-3",children:[l.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Study Time Progression"}),l.jsx("div",{className:"flex items-end gap-1",style:{height:"48px"},children:(()=>{const O=[...P].reverse(),$=Math.max(...O.map(se=>se.total_time_min),1);return O.map((se,Me)=>{const we=Math.max(se.total_time_min/$*100,4),be=se.readiness==="GREEN"?"bg-green-400":se.readiness==="YELLOW"?"bg-yellow-400":"bg-red-400";return l.jsx("div",{className:`flex-1 rounded-t ${be} transition-all`,style:{height:`${we}%`,minWidth:"4px",maxWidth:"24px"},title:`${new Date(se.snapshot_time).toLocaleDateString()} - ${Math.round(se.total_time_min)}min (${se.readiness})`},se.id||Me)})})()}),l.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[l.jsx("span",{children:new Date(P[P.length-1].snapshot_time).toLocaleDateString()}),l.jsx("span",{children:new Date(P[0].snapshot_time).toLocaleDateString()})]})]}),B&&l.jsx("div",{className:"bg-white rounded-lg overflow-hidden",children:l.jsxs("table",{className:"w-full text-xs",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-indigo-100 text-gray-600",children:[l.jsx("th",{className:"px-2 py-1.5 text-left",children:"Date"}),l.jsx("th",{className:"px-2 py-1.5 text-right",children:"Time"}),l.jsx("th",{className:"px-2 py-1.5 text-right",children:"Progress"}),l.jsx("th",{className:"px-2 py-1.5 text-right",children:"Passing"}),l.jsx("th",{className:"px-2 py-1.5 text-center",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-100",children:P.map((O,$)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"px-2 py-1.5 text-gray-600",children:[new Date(O.snapshot_time).toLocaleDateString()," ",new Date(O.snapshot_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),l.jsx("td",{className:"px-2 py-1.5 text-right font-medium",children:O.total_time_min>=60?`${Math.floor(O.total_time_min/60)}h ${Math.round(O.total_time_min%60)}m`:`${Math.round(O.total_time_min)}m`}),l.jsxs("td",{className:"px-2 py-1.5 text-right",children:[O.prelicense_progress,"%"]}),l.jsxs("td",{className:"px-2 py-1.5 text-right",children:[O.consecutive_passing,"/3"]}),l.jsx("td",{className:"px-2 py-1.5 text-center",children:l.jsx("span",{className:`inline-block w-2.5 h-2.5 rounded-full ${O.readiness==="GREEN"?"bg-green-500":O.readiness==="YELLOW"?"bg-yellow-400":"bg-red-500"}`,title:`${O.readiness} (${O.criteria_met})`})})]},O.id||$))})]})})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Last Login"}),l.jsx("p",{className:"font-semibold text-gray-900",children:a.lastLogin.relative})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Course Time"}),l.jsx("p",{className:"font-semibold text-gray-900",children:a.timeSpent.formatted})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam Prep Time"}),l.jsx("p",{className:"font-semibold text-purple-700",children:((ve=a.examPrepTime)==null?void 0:ve.formatted)||"0m"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Total Study Time"}),l.jsx("p",{className:"font-semibold text-gray-900",children:(()=>{var Me,we;const O=((Me=a.timeSpent)==null?void 0:Me.minutes)||0,$=((we=a.examPrepTime)==null?void 0:we.minutes)||0,se=O+$;return se>=60?`${Math.floor(se/60)}h ${se%60}m`:`${se}m`})()})]})]}),l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"font-medium text-gray-900",children:a.courseName}),l.jsx("span",{className:"text-sm text-gray-500",children:a.enrollmentStatusText})]}),l.jsx(ir,{progress:a.progress})]}),a.enrollments&&a.enrollments.length>0&&l.jsx(Sy,{enrollments:a.enrollments})]}):null}),l.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:l.jsx("button",{onClick:n,className:"btn btn-secondary",children:"Close"})})]})})}function Cy({student:t,adminMode:e,onClose:n,onUpdateResult:s,onUpdateExamDate:i,onUpdateContact:r}){var M,P;const[o,a]=E.useState(!1),[c,u]=E.useState(""),[d,h]=E.useState(""),[f,g]=E.useState(!1),[v,y]=E.useState(""),[w,p]=E.useState(""),[m,x]=E.useState(""),[k,j]=E.useState(!1);E.useEffect(()=>{const C=B=>{B.key==="Escape"&&n()};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[n]),E.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const N=(t.passFail||"").toUpperCase()==="PASS",L=(t.passFail||"").toUpperCase()==="FAIL",_=t.sheetTracking||{},S=C=>{const B=(C||"").toUpperCase();return B==="GREEN"?"bg-green-100 text-green-700":B==="YELLOW"?"bg-yellow-100 text-yellow-700":B==="RED"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"};return l.jsx("div",{className:"modal-overlay",onClick:n,children:l.jsxs("div",{className:"modal-content",onClick:C=>C.stopPropagation(),children:[l.jsx("div",{className:`${e?"bg-gradient-to-r from-purple-700 to-purple-900":"header"} px-6 py-4 rounded-t-xl`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Student Details"}),e&&l.jsx("span",{className:"px-2 py-0.5 bg-white/20 rounded text-xs text-white font-medium",children:"Admin"})]}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:l.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsx("div",{className:"p-6 max-h-[80vh] overflow-y-auto",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("div",{children:f?l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"text",value:v,onChange:C=>y(C.target.value),placeholder:"Full Name",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("input",{type:"email",value:w,onChange:C=>p(C.target.value),placeholder:"Email",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("input",{type:"tel",value:m,onChange:C=>x(C.target.value),placeholder:"Phone",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{disabled:k,onClick:async()=>{j(!0),await r(t.email,v,w,m),j(!1),g(!1)},className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors disabled:opacity-50",children:k?"Saving...":"Save"}),l.jsx("button",{onClick:()=>g(!1),className:"px-3 py-1 bg-gray-200 text-gray-700 rounded text-sm hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:t.fullName}),l.jsx("p",{className:"text-gray-500",children:t.email}),(_.phone||t.phone)&&l.jsx("p",{className:"text-gray-500 text-sm",children:_.phone||t.phone})]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[e&&r&&!f&&l.jsx("button",{onClick:()=>{y(t.fullName||""),p(t.email||""),x(_.phone||t.phone||""),g(!0)},className:"text-xs px-2 py-1 text-purple-600 hover:bg-purple-50 rounded border border-purple-200 transition-colors",children:"Edit"}),t.matched!==!1?l.jsx(la,{status:t.status}):!e&&l.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-600",children:"Not in department"})]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-5",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Exam Information",i&&!o&&l.jsxs("button",{onClick:()=>{a(!0),u(t.examDateRaw||""),h(t.examTime||"")},className:"ml-auto text-xs px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-1 shadow-sm",children:[l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Date"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o&&i?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Exam Date"}),l.jsx("input",{type:"date",value:c,onChange:C=>u(C.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Exam Time"}),l.jsx("input",{type:"text",value:d,onChange:C=>h(C.target.value),placeholder:"e.g., 2:00 PM",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"col-span-2 flex gap-2 justify-end",children:[l.jsx("button",{onClick:()=>{c&&(i(t.email,c,d),a(!1))},className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors",children:"Save"}),l.jsx("button",{onClick:()=>a(!1),className:"px-3 py-1 bg-gray-200 text-gray-700 rounded text-sm hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam Date"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examDate||"TBD"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam Time"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examTime||"N/A"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"State"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examState||"N/A"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Result"}),s?l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsx("button",{onClick:()=>s(t.email,N?"":"PASS"),className:`px-3 py-1 rounded text-xs font-medium transition-colors ${N?"bg-green-600 text-white shadow-sm":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200"}`,children:"PASS"}),l.jsx("button",{onClick:()=>s(t.email,L?"":"FAIL"),className:`px-3 py-1 rounded text-xs font-medium transition-colors ${L?"bg-red-600 text-white shadow-sm":"bg-red-50 text-red-700 hover:bg-red-100 border border-red-200"}`,children:"FAIL"})]}):l.jsxs("p",{className:"font-semibold",children:[N&&l.jsx("span",{className:"text-green-700 bg-green-100 px-2 py-0.5 rounded",children:"PASS"}),L&&l.jsx("span",{className:"text-red-700 bg-red-100 px-2 py-0.5 rounded",children:"FAIL"}),!N&&!L&&l.jsx("span",{className:"text-gray-600",children:"Pending"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Course"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.examCourse||t.courseName||"N/A"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Agency Owner"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.agencyOwner||"N/A"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Department"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.departmentName||"N/A"})]}),t.finalOutcome&&l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Final Outcome"}),l.jsx("p",{className:"font-semibold text-gray-900",children:t.finalOutcome})]})]}),e&&(_.studyHoursAtExam||_.finalPractice||_.chaptersComplete)&&l.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-5",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Study Stats at Exam"]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[_.studyHoursAtExam&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-purple-700",children:_.studyHoursAtExam}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Hours"})]}),_.finalPractice&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-700",children:_.finalPractice}),l.jsx("p",{className:"text-xs text-gray-500",children:"Final Practice %"})]}),_.chaptersComplete&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-700",children:_.chaptersComplete}),l.jsx("p",{className:"text-xs text-gray-500",children:"Chapters Complete"})]}),_.videosWatched&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-indigo-700",children:_.videosWatched}),l.jsx("p",{className:"text-xs text-gray-500",children:"Videos Watched"})]}),_.stateLawsDone&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-amber-700",children:_.stateLawsDone}),l.jsx("p",{className:"text-xs text-gray-500",children:"State Laws Done"})]}),_.studyConsistency&&l.jsxs("div",{className:"bg-white rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-gray-700",children:_.studyConsistency}),l.jsx("p",{className:"text-xs text-gray-500",children:"Study Consistency"})]})]})]}),e&&_.weeklyTracking&&_.weeklyTracking.length>0&&l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-5",children:[l.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Weekly Tracking",_.t0Sent&&l.jsxs("span",{className:"text-xs font-normal text-gray-500 ml-2",children:["T-0 Sent: ",_.t0Sent]})]}),l.jsx("div",{className:"space-y-3",children:_.weeklyTracking.map(C=>l.jsxs("div",{className:"bg-white rounded-lg p-3 flex items-center gap-4",children:[l.jsx("div",{className:"w-12 text-center",children:l.jsx("span",{className:"font-bold text-gray-700 text-sm",children:C.week})}),l.jsxs("div",{className:"flex-1 flex items-center gap-3 flex-wrap",children:[C.status&&l.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${S(C.status)}`,children:C.status}),C.hours&&l.jsxs("span",{className:"text-sm text-gray-700",children:[l.jsx("span",{className:"text-gray-500",children:"Hours:"})," ",C.hours]}),C.practice&&l.jsxs("span",{className:"text-sm text-gray-700",children:[l.jsx("span",{className:"text-gray-500",children:"Practice:"})," ",C.practice]})]}),C.notes&&l.jsx("p",{className:"text-xs text-gray-500 italic max-w-[200px] truncate",title:C.notes,children:C.notes})]},C.week))})]}),t.matched!==!1&&l.jsx(l.Fragment,{children:l.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx("p",{className:"font-medium text-gray-900",children:t.courseName})}),l.jsx(ir,{progress:t.progress}),l.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[l.jsxs("span",{children:["Course: ",((M=t.timeSpent)==null?void 0:M.formatted)||"0m"]}),((P=t.examPrepTime)==null?void 0:P.minutes)>0&&l.jsxs("span",{className:"text-purple-600",children:["Prep: ",t.examPrepTime.formatted]})]})]})}),t.matched===!1&&!e&&l.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[l.jsx("svg",{className:"w-5 h-5 text-amber-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-amber-800",children:"Student not in your department"}),l.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Course progress and study time data from Absorb is only available for students in your department. Log in as their department admin to see full details."})]})]})]})}),l.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:l.jsx("button",{onClick:n,className:"btn btn-secondary",children:"Close"})})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function rr(t){return t+.5|0}const pn=(t,e,n)=>Math.max(Math.min(t,n),e);function pi(t){return pn(rr(t*2.55),0,255)}function Sn(t){return pn(rr(t*255),0,255)}function Ut(t){return pn(rr(t/2.55)/100,0,1)}function lh(t){return pn(rr(t*100),0,100)}const dt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},oc=[..."0123456789ABCDEF"],My=t=>oc[t&15],Ly=t=>oc[(t&240)>>4]+oc[t&15],Or=t=>(t&240)>>4===(t&15),Ey=t=>Or(t.r)&&Or(t.g)&&Or(t.b)&&Or(t.a);function Py(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&dt[t[1]]*17,g:255&dt[t[2]]*17,b:255&dt[t[3]]*17,a:e===5?dt[t[4]]*17:255}:(e===7||e===9)&&(n={r:dt[t[1]]<<4|dt[t[2]],g:dt[t[3]]<<4|dt[t[4]],b:dt[t[5]]<<4|dt[t[6]],a:e===9?dt[t[7]]<<4|dt[t[8]]:255})),n}const Dy=(t,e)=>t<255?e(t):"";function Ty(t){var e=Ey(t)?My:Ly;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Dy(t.a,e):void 0}const Ay=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Tm(t,e,n){const s=e*Math.min(n,1-n),i=(r,o=(r+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Oy(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function Ry(t,e,n){const s=Tm(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function Fy(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function au(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let c,u,d;return r!==o&&(d=r-o,u=a>.5?d/(2-r-o):d/(r+o),c=Fy(n,s,i,d,r),c=c*60+.5),[c|0,u||0,a]}function lu(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Sn)}function cu(t,e,n){return lu(Tm,t,e,n)}function zy(t,e,n){return lu(Ry,t,e,n)}function Iy(t,e,n){return lu(Oy,t,e,n)}function Am(t){return(t%360+360)%360}function By(t){const e=Ay.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?pi(+e[5]):Sn(+e[5]));const i=Am(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=zy(i,r,o):e[1]==="hsv"?s=Iy(i,r,o):s=cu(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function Wy(t,e){var n=au(t);n[0]=Am(n[0]+e),n=cu(n),t.r=n[0],t.g=n[1],t.b=n[2]}function $y(t){if(!t)return;const e=au(t),n=e[0],s=lh(e[1]),i=lh(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${Ut(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const ch={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},uh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Hy(){const t={},e=Object.keys(uh),n=Object.keys(ch);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,ch[r]);r=parseInt(uh[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let Rr;function Vy(t){Rr||(Rr=Hy(),Rr.transparent=[0,0,0,0]);const e=Rr[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Uy=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Yy(t){const e=Uy.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?pi(o):pn(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?pi(s):pn(s,0,255)),i=255&(e[4]?pi(i):pn(i,0,255)),r=255&(e[6]?pi(r):pn(r,0,255)),{r:s,g:i,b:r,a:n}}}function Xy(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ut(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const el=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,us=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Ky(t,e,n){const s=us(Ut(t.r)),i=us(Ut(t.g)),r=us(Ut(t.b));return{r:Sn(el(s+n*(us(Ut(e.r))-s))),g:Sn(el(i+n*(us(Ut(e.g))-i))),b:Sn(el(r+n*(us(Ut(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Fr(t,e,n){if(t){let s=au(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=cu(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Om(t,e){return t&&Object.assign(e||{},t)}function dh(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Sn(t[3]))):(e=Om(t,{r:0,g:0,b:0,a:1}),e.a=Sn(e.a)),e}function Qy(t){return t.charAt(0)==="r"?Yy(t):By(t)}class Ki{constructor(e){if(e instanceof Ki)return e;const n=typeof e;let s;n==="object"?s=dh(e):n==="string"&&(s=Py(e)||Vy(e)||Qy(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Om(this._rgb);return e&&(e.a=Ut(e.a)),e}set rgb(e){this._rgb=dh(e)}rgbString(){return this._valid?Xy(this._rgb):void 0}hexString(){return this._valid?Ty(this._rgb):void 0}hslString(){return this._valid?$y(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,c=s.a-i.a,u=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;r=1-u,s.r=255&u*s.r+r*i.r+.5,s.g=255&u*s.g+r*i.g+.5,s.b=255&u*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=Ky(this._rgb,e._rgb,n)),this}clone(){return new Ki(this.rgb)}alpha(e){return this._rgb.a=Sn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=rr(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Fr(this._rgb,2,e),this}darken(e){return Fr(this._rgb,2,-e),this}saturate(e){return Fr(this._rgb,1,e),this}desaturate(e){return Fr(this._rgb,1,-e),this}rotate(e){return Wy(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Bt(){}const Gy=(()=>{let t=0;return()=>t++})();function le(t){return t==null}function Ee(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function te(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function vt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Dt(t,e){return vt(t)?t:e}function q(t,e){return typeof t>"u"?e:t}const Zy=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Rm=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function de(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ie(t,e,n,s){let i,r,o;if(Ee(t))for(r=t.length,i=0;i<r;i++)e.call(n,t[i],i);else if(te(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(n,t[o[i]],o[i])}function Ao(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function Oo(t){if(Ee(t))return t.map(Oo);if(te(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=Oo(t[n[i]]);return e}return t}function Fm(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Jy(t,e,n,s){if(!Fm(t))return;const i=e[t],r=n[t];te(i)&&te(r)?Qi(i,r,s):e[t]=Oo(r)}function Qi(t,e,n){const s=Ee(e)?e:[e],i=s.length;if(!te(t))return t;n=n||{};const r=n.merger||Jy;let o;for(let a=0;a<i;++a){if(o=s[a],!te(o))continue;const c=Object.keys(o);for(let u=0,d=c.length;u<d;++u)r(c[u],t,o,n)}return t}function Ci(t,e){return Qi(t,e,{merger:qy})}function qy(t,e,n){if(!Fm(t))return;const s=e[t],i=n[t];te(s)&&te(i)?Ci(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Oo(i))}const hh={"":t=>t,x:t=>t.x,y:t=>t.y};function ev(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function tv(t){const e=ev(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function ns(t,e){return(hh[e]||(hh[e]=tv(e)))(t)}function uu(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Gi=t=>typeof t<"u",Ln=t=>typeof t=="function",fh=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function nv(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ae=Math.PI,Ce=2*ae,Ro=Number.POSITIVE_INFINITY,sv=ae/180,De=ae/2,zn=ae/4,ph=ae*2/3,zm=Math.log10,Nn=Math.sign;function ro(t,e,n){return Math.abs(t-e)<n}function mh(t){const e=Math.round(t);t=ro(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(zm(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function iv(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function rv(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Fo(t){return!rv(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function ov(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function av(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Kt(t){return t*(ae/180)}function lv(t){return t*(180/ae)}function gh(t){if(!vt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Im(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*ae&&(r+=Ce),{angle:r,distance:i}}function cv(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Rt(t){return(t%Ce+Ce)%Ce}function zo(t,e,n,s){const i=Rt(t),r=Rt(e),o=Rt(n),a=Rt(r-i),c=Rt(o-i),u=Rt(i-r),d=Rt(i-o);return i===r||i===o||s&&r===o||a>c&&u<d}function tt(t,e,n){return Math.max(e,Math.min(n,t))}function uv(t){return tt(t,-32768,32767)}function Xn(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function du(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const ac=(t,e,n,s)=>du(t,n,s?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),dv=(t,e,n)=>du(t,n,s=>t[s][e]>=n);function hv(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const Bm=["push","pop","shift","splice","unshift"];function fv(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Bm.forEach(n=>{const s="_onData"+uu(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function xh(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(Bm.forEach(r=>{delete t[r]}),delete t._chartjs)}function Wm(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const $m=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Hm(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,$m.call(window,()=>{s=!1,t.apply(e,n)}))}}function pv(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const hu=t=>t==="start"?"left":t==="end"?"right":"center",$e=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,mv=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e,zr=t=>t===0||t===1,yh=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ce/n)),vh=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ce/n)+1,Mi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*De)+1,easeOutSine:t=>Math.sin(t*De),easeInOutSine:t=>-.5*(Math.cos(ae*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>zr(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>zr(t)?t:yh(t,.075,.3),easeOutElastic:t=>zr(t)?t:vh(t,.075,.3),easeInOutElastic(t){return zr(t)?t:t<.5?.5*yh(t*2,.1125,.45):.5+.5*vh(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Mi.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Mi.easeInBounce(t*2)*.5:Mi.easeOutBounce(t*2-1)*.5+.5};function Vm(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function wh(t){return Vm(t)?t:new Ki(t)}function tl(t){return Vm(t)?t:new Ki(t).saturate(.5).darken(.1).hexString()}const gv=["x","y","borderWidth","radius","tension"],xv=["color","borderColor","backgroundColor"];function yv(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:xv},numbers:{type:"number",properties:gv}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function vv(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const bh=new Map;function wv(t,e){e=e||{};const n=t+JSON.stringify(e);let s=bh.get(n);return s||(s=new Intl.NumberFormat(t,e),bh.set(n,s)),s}function fu(t,e,n){return wv(e,n).format(t)}const bv={values(t){return Ee(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),r=kv(t,n)}const o=zm(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),fu(t,s,c)}};function kv(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Um={formatters:bv};function jv(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Um.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ss=Object.create(null),lc=Object.create(null);function Li(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function nl(t,e,n){return typeof e=="string"?Qi(Li(t,e),n):Qi(Li(t,""),e)}class _v{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>tl(i.backgroundColor),this.hoverBorderColor=(s,i)=>tl(i.borderColor),this.hoverColor=(s,i)=>tl(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return nl(this,e,n)}get(e){return Li(this,e)}describe(e,n){return nl(lc,e,n)}override(e,n){return nl(ss,e,n)}route(e,n,s,i){const r=Li(this,e),o=Li(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[a],u=o[i];return te(c)?Object.assign({},u,c):q(c,u)},set(c){this[a]=c}}})}apply(e){e.forEach(n=>n(this))}}var _e=new _v({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[yv,vv,jv]);function Sv(t){return!t||le(t.size)||le(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function kh(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function In(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function jh(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function _h(t,e,n,s){Ym(t,e,n,s,null)}function Ym(t,e,n,s,i){let r,o,a,c,u,d,h,f;const g=e.pointStyle,v=e.rotation,y=e.radius;let w=(v||0)*sv;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(w),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),g){default:i?t.ellipse(n,s,i/2,y,0,0,Ce):t.arc(n,s,y,0,Ce),t.closePath();break;case"triangle":d=i?i/2:y,t.moveTo(n+Math.sin(w)*d,s-Math.cos(w)*y),w+=ph,t.lineTo(n+Math.sin(w)*d,s-Math.cos(w)*y),w+=ph,t.lineTo(n+Math.sin(w)*d,s-Math.cos(w)*y),t.closePath();break;case"rectRounded":u=y*.516,c=y-u,o=Math.cos(w+zn)*c,h=Math.cos(w+zn)*(i?i/2-u:c),a=Math.sin(w+zn)*c,f=Math.sin(w+zn)*(i?i/2-u:c),t.arc(n-h,s-a,u,w-ae,w-De),t.arc(n+f,s-o,u,w-De,w),t.arc(n+h,s+a,u,w,w+De),t.arc(n-f,s+o,u,w+De,w+ae),t.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*y,d=i?i/2:c,t.rect(n-d,s-c,2*d,2*c);break}w+=zn;case"rectRot":h=Math.cos(w)*(i?i/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,f=Math.sin(w)*(i?i/2:y),t.moveTo(n-h,s-a),t.lineTo(n+f,s-o),t.lineTo(n+h,s+a),t.lineTo(n-f,s+o),t.closePath();break;case"crossRot":w+=zn;case"cross":h=Math.cos(w)*(i?i/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,f=Math.sin(w)*(i?i/2:y),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"star":h=Math.cos(w)*(i?i/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,f=Math.sin(w)*(i?i/2:y),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o),w+=zn,h=Math.cos(w)*(i?i/2:y),o=Math.cos(w)*y,a=Math.sin(w)*y,f=Math.sin(w)*(i?i/2:y),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"line":o=i?i/2:Math.cos(w)*y,a=Math.sin(w)*y,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(w)*(i?i/2:y),s+Math.sin(w)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Xm(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function pu(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function mu(t){t.restore()}function Nv(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),le(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Cv(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,c=n-r.actualBoundingBoxAscent,u=n+r.actualBoundingBoxDescent,d=i.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function Mv(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Zi(t,e,n,s,i,r={}){const o=Ee(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let c,u;for(t.save(),t.font=i.string,Nv(t,r),c=0;c<o.length;++c)u=o[c],r.backdrop&&Mv(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),le(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(u,n,s,r.maxWidth)),t.fillText(u,n,s,r.maxWidth),Cv(t,n,s,u,r),s+=Number(i.lineHeight);t.restore()}function Io(t,e){const{x:n,y:s,w:i,h:r,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*ae,ae,!0),t.lineTo(n,s+r-o.bottomLeft),t.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,ae,De,!0),t.lineTo(n+i-o.bottomRight,s+r),t.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,De,0,!0),t.lineTo(n+i,s+o.topRight),t.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-De,!0),t.lineTo(n+o.topLeft,s)}const Lv=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ev=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Pv(t,e){const n=(""+t).match(Lv);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Dv=t=>+t||0;function gu(t,e){const n={},s=te(e),i=s?Object.keys(e):e,r=te(t)?s?o=>q(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=Dv(r(o));return n}function Km(t){return gu(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ps(t){return gu(t,["topLeft","topRight","bottomLeft","bottomRight"])}function wt(t){const e=Km(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ve(t,e){t=t||{},e=e||_e.font;let n=q(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=q(t.style,e.style);s&&!(""+s).match(Ev)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:q(t.family,e.family),lineHeight:Pv(q(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:q(t.weight,e.weight),string:""};return i.string=Sv(i),i}function Ir(t,e,n,s){let i,r,o;for(i=0,r=t.length;i<r;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function Tv(t,e,n){const{min:s,max:i}=t,r=Rm(e,(i-s)/2),o=(a,c)=>n&&a===0?0:a+c;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function Us(t,e){return Object.assign(Object.create(t),e)}function xu(t,e=[""],n,s,i=()=>t[0]){const r=n||t;typeof s>"u"&&(s=Jm("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>xu([a,...t],e,r,s)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete t[0][c],!0},get(a,c){return Gm(a,c,()=>Wv(c,e,t,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,c){return Nh(a).includes(c)},ownKeys(a){return Nh(a)},set(a,c,u){const d=a._storage||(a._storage=i());return a[c]=d[c]=u,delete a._keys,!0}})}function Ws(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Qm(t,s),setContext:r=>Ws(t,r,n,s),override:r=>Ws(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return Gm(r,o,()=>Ov(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function Qm(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:Ln(n)?n:()=>n,isIndexable:Ln(s)?s:()=>s}}const Av=(t,e)=>t?t+uu(e):e,yu=(t,e)=>te(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Gm(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function Ov(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=t;let a=s[e];return Ln(a)&&o.isScriptable(e)&&(a=Rv(e,a,t,n)),Ee(a)&&a.length&&(a=Fv(e,a,t,o.isIndexable)),yu(e,a)&&(a=Ws(a,i,r&&r[e],o)),a}function Rv(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let c=e(r,o||s);return a.delete(t),yu(t,c)&&(c=vu(i._scopes,i,t,c)),c}function Fv(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(t))return e[r.index%e.length];if(te(e[0])){const c=e,u=i._scopes.filter(d=>d!==c);e=[];for(const d of c){const h=vu(u,i,t,d);e.push(Ws(h,r,o&&o[t],a))}}return e}function Zm(t,e,n){return Ln(t)?t(e,n):t}const zv=(t,e)=>t===!0?e:typeof t=="string"?ns(e,t):void 0;function Iv(t,e,n,s,i){for(const r of e){const o=zv(n,r);if(o){t.add(o);const a=Zm(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function vu(t,e,n,s){const i=e._rootScopes,r=Zm(e._fallback,n,s),o=[...t,...i],a=new Set;a.add(s);let c=Sh(a,o,n,r||n,s);return c===null||typeof r<"u"&&r!==n&&(c=Sh(a,o,r,c,s),c===null)?!1:xu(Array.from(a),[""],i,r,()=>Bv(e,n,s))}function Sh(t,e,n,s,i){for(;n;)n=Iv(t,e,n,s,i);return n}function Bv(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return Ee(i)&&te(n)?n:i||{}}function Wv(t,e,n,s){let i;for(const r of e)if(i=Jm(Av(r,t),n),typeof i<"u")return yu(t,i)?vu(n,s,t,i):i}function Jm(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Nh(t){let e=t._keys;return e||(e=t._keys=$v(t._scopes)),e}function $v(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}function wu(){return typeof window<"u"&&typeof document<"u"}function bu(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Bo(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const ca=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Hv(t,e){return ca(t).getPropertyValue(e)}const Vv=["top","right","bottom","left"];function Gn(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=Vv[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const Uv=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Yv(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let o=!1,a,c;if(Uv(i,r,t.target))a=i,c=r;else{const u=e.getBoundingClientRect();a=s.clientX-u.left,c=s.clientY-u.top,o=!0}return{x:a,y:c,box:o}}function Hn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=ca(n),r=i.boxSizing==="border-box",o=Gn(i,"padding"),a=Gn(i,"border","width"),{x:c,y:u,box:d}=Yv(t,n),h=o.left+(d&&a.left),f=o.top+(d&&a.top);let{width:g,height:v}=e;return r&&(g-=o.width+a.width,v-=o.height+a.height),{x:Math.round((c-h)/g*n.width/s),y:Math.round((u-f)/v*n.height/s)}}function Xv(t,e,n){let s,i;if(e===void 0||n===void 0){const r=t&&bu(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=ca(r),c=Gn(a,"border","width"),u=Gn(a,"padding");e=o.width-u.width-c.width,n=o.height-u.height-c.height,s=Bo(a.maxWidth,r,"clientWidth"),i=Bo(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||Ro,maxHeight:i||Ro}}const mn=t=>Math.round(t*10)/10;function Kv(t,e,n,s){const i=ca(t),r=Gn(i,"margin"),o=Bo(i.maxWidth,t,"clientWidth")||Ro,a=Bo(i.maxHeight,t,"clientHeight")||Ro,c=Xv(t,e,n);let{width:u,height:d}=c;if(i.boxSizing==="content-box"){const f=Gn(i,"border","width"),g=Gn(i,"padding");u-=g.width+f.width,d-=g.height+f.height}return u=Math.max(0,u-r.width),d=Math.max(0,s?u/s:d-r.height),u=mn(Math.min(u,o,c.maxWidth)),d=mn(Math.min(d,a,c.maxHeight)),u&&!d&&(d=mn(u/2)),(e!==void 0||n!==void 0)&&s&&c.height&&d>c.height&&(d=c.height,u=mn(Math.floor(d*s))),{width:u,height:d}}function Ch(t,e,n){const s=e||1,i=mn(t.height*s),r=mn(t.width*s);t.height=mn(t.height),t.width=mn(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=s,o.height=i,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const Qv=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};wu()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Mh(t,e){const n=Hv(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const Gv=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},Zv=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ds(t,e,n){return t?Gv(e,n):Zv()}function qm(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function eg(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Br(t,e,n){return t.options.clip?t[n]:e[n]}function Jv(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Br(n,e,"left"),right:Br(n,e,"right"),top:Br(s,e,"top"),bottom:Br(s,e,"bottom")}:e}function qv(t,e){const n=e._clip;if(n.disabled)return!1;const s=Jv(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class e1{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=$m.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,c;for(;o>=0;--o)c=r[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Wt=new e1;const Lh="transparent",t1={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=wh(t||Lh),i=s.valid&&wh(e||Lh);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class n1{constructor(e,n,s,i){const r=n[s];i=Ir([e.to,i,r,e.from]);const o=Ir([e.from,r,i]);this._active=!0,this._fn=e.fn||t1[e.type||typeof o],this._easing=Mi[e.easing]||Mi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Ir([e.to,n,i,e.from]),this._from=Ir([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let c;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}c=n/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(r,a,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class tg{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!te(e))return;const n=Object.keys(_e.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!te(r))return;const o={};for(const a of n)o[a]=r[a];(Ee(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,i=i1(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&s1(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let c;for(c=o.length-1;c>=0;--c){const u=o[c];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,n));continue}const d=n[u];let h=r[u];const f=s.get(u);if(h)if(f&&h.active()){h.update(f,d,a);continue}else h.cancel();if(!f||!f.duration){e[u]=d;continue}r[u]=h=new n1(f,e,u,d),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Wt.add(this._chart,s),!0}}function s1(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function i1(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Eh(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function r1(t,e,n){if(n===!1)return!1;const s=Eh(t,n),i=Eh(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function o1(t){let e,n,s,i;return te(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function ng(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function Ph(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let o,a,c,u;if(e===null)return;let d=!1;for(o=0,a=i.length;o<a;++o){if(c=+i[o],c===n){if(d=!0,s.all)continue;break}u=t.values[c],vt(u)&&(r||e===0||Nn(e)===Nn(u))&&(e+=u)}return!d&&!s.all?0:e}function a1(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let c,u,d;for(c=0,u=o.length;c<u;++c)d=o[c],a[c]={[i]:d,[r]:t[d]};return a}function sl(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function l1(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function c1(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function u1(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function Dh(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function Th(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,c=r.axis,u=o.axis,d=l1(r,o,s),h=e.length;let f;for(let g=0;g<h;++g){const v=e[g],{[c]:y,[u]:w}=v,p=v._stacks||(v._stacks={});f=p[u]=u1(i,d,y),f[a]=w,f._top=Dh(f,o,!0,s.type),f._bottom=Dh(f,o,!1,s.type);const m=f._visualValues||(f._visualValues={});m[a]=w}}function il(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function d1(t,e){return Us(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function h1(t,e,n){return Us(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ri(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const rl=t=>t==="reset"||t==="none",Ah=(t,e)=>e?t:Object.assign({},t),f1=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:ng(n,!0),values:null};class Ts{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=sl(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ri(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(h,f,g,v)=>h==="x"?f:h==="r"?v:g,r=n.xAxisID=q(s.xAxisID,il(e,"x")),o=n.yAxisID=q(s.yAxisID,il(e,"y")),a=n.rAxisID=q(s.rAxisID,il(e,"r")),c=n.indexAxis,u=n.iAxisID=i(c,r,o,a),d=n.vAxisID=i(c,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&xh(this._data,this),e._stacked&&ri(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(te(n)){const i=this._cachedMeta;this._data=a1(n,i)}else if(s!==n){if(s){xh(s,this);const i=this._cachedMeta;ri(i),i._parsed=[]}n&&Object.isExtensible(n)&&fv(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=sl(n.vScale,n),n.stack!==s.stack&&(i=!0,ri(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&(Th(this,n._parsed),n._stacked=sl(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let c=e===0&&n===i.length?!0:s._sorted,u=e>0&&s._parsed[e-1],d,h,f;if(this._parsing===!1)s._parsed=i,s._sorted=!0,f=i;else{Ee(i[e])?f=this.parseArrayData(s,i,e,n):te(i[e])?f=this.parseObjectData(s,i,e,n):f=this.parsePrimitiveData(s,i,e,n);const g=()=>h[a]===null||u&&h[a]<u[a];for(d=0;d<n;++d)s._parsed[d+e]=h=f[d],c&&(g()&&(c=!1),u=h);s._sorted=c}o&&Th(this,f)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:o}=e,a=r.axis,c=o.axis,u=r.getLabels(),d=r===o,h=new Array(i);let f,g,v;for(f=0,g=i;f<g;++f)v=f+s,h[f]={[a]:d||r.parse(u[v],v),[c]:o.parse(n[v],v)};return h}parseArrayData(e,n,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let c,u,d,h;for(c=0,u=i;c<u;++c)d=c+s,h=n[d],a[c]={x:r.parse(h[0],d),y:o.parse(h[1],d)};return a}parseObjectData(e,n,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,u=new Array(i);let d,h,f,g;for(d=0,h=i;d<h;++d)f=d+s,g=n[f],u[d]={x:r.parse(ns(g,a),f),y:o.parse(ns(g,c),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:ng(i,!0),values:n._stacks[e.axis]._visualValues};return Ph(a,o,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=Ph(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),c=f1(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=c1(a);let f,g;function v(){g=i[f];const y=g[a.axis];return!vt(g[e.axis])||d>y||h<y}for(f=0;f<o&&!(!v()&&(this.updateRangeFromParsed(u,e,g,c),r));++f);if(r){for(f=o-1;f>=0;--f)if(!v()){this.updateRangeFromParsed(u,e,g,c);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][e.axis],vt(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=o1(q(this.options.clip,r1(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,c=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(e,r,a,c),d=a;d<a+c;++d){const h=i[d];h.hidden||(h.active&&u?o.push(h):h.draw(e,r))}for(d=0;d<o.length;++d)o[d].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=h1(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=d1(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],c=this.enableOptionSharing&&Gi(s);if(a)return Ah(a,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),d),g=Object.keys(_e.elements[e]),v=()=>this.getContext(s,i,n),y=u.resolveNamedOptions(f,g,v,h);return y.$shared&&(y.$shared=c,r[o]=Object.freeze(Ah(y,c))),y}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let c;if(i.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(e,s,n))}const u=new tg(i,c&&c.animations);return c&&c._cacheable&&(r[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||rl(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(e,n,s,i){rl(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!rl(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,c,u]of this._syncList)this[a](c,u);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,o=e+n;let a;const c=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(c(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&ri(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}V(Ts,"defaults",{}),V(Ts,"datasetElementType",null),V(Ts,"dataElementType",null);function p1(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=Wm(s.sort((i,r)=>i-r))}return t._cache.$bar}function m1(t){const e=t.iScale,n=p1(e,t.type);let s=e._length,i,r,o,a;const c=()=>{o===32767||o===-32768||(Gi(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=e.getPixelForValue(n[i]),c();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),c();return s}function g1(t,e,n,s){const i=n.barThickness;let r,o;return le(i)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[t]-r/2}}function x1(t,e,n,s){const i=e.pixels,r=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const c=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const u=r-(r-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/s,ratio:n.barPercentage,start:u}}function y1(t,e,n,s){const i=n.parse(t[0],s),r=n.parse(t[1],s),o=Math.min(i,r),a=Math.max(i,r);let c=o,u=a;Math.abs(o)>Math.abs(a)&&(c=a,u=o),e[n.axis]=u,e._custom={barStart:c,barEnd:u,start:i,end:r,min:o,max:a}}function sg(t,e,n,s){return Ee(t)?y1(t,e,n,s):e[n.axis]=n.parse(t,s),e}function Oh(t,e,n,s){const i=t.iScale,r=t.vScale,o=i.getLabels(),a=i===r,c=[];let u,d,h,f;for(u=n,d=n+s;u<d;++u)f=e[u],h={},h[i.axis]=a||i.parse(o[u],u),c.push(sg(f,h,r,u));return c}function ol(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function v1(t,e,n){return t!==0?Nn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function w1(t){let e,n,s,i,r;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:e,top:i,bottom:r}}function b1(t,e,n,s){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:c,top:u,bottom:d}=w1(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=u:(n._bottom||0)===s?i=d:(r[Rh(d,o,a,c)]=!0,i=u)),r[Rh(i,o,a,c)]=!0,t.borderSkipped=r}function Rh(t,e,n,s){return s?(t=k1(t,e,n),t=Fh(t,n,e)):t=Fh(t,e,n),t}function k1(t,e,n){return t===e?n:t===n?e:t}function Fh(t,e,n){return t==="start"?e:t==="end"?n:t}function j1(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class oo extends Ts{parsePrimitiveData(e,n,s,i){return Oh(e,n,s,i)}parseArrayData(e,n,s,i){return Oh(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,u=r.axis==="x"?a:c,d=o.axis==="x"?a:c,h=[];let f,g,v,y;for(f=s,g=s+i;f<g;++f)y=n[f],v={},v[r.axis]=r.parse(ns(y,u),f),h.push(sg(ns(y,d),v,o,f));return h}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(e),o=r._custom,a=ol(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,c=a.getBasePixel(),u=a.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,i);for(let g=n;g<n+s;g++){const v=this.getParsed(g),y=r||le(v[a.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),w=this._calculateBarIndexPixels(g,d),p=(v._stacks||{})[a.axis],m={horizontal:u,base:y.base,enableBorderRadius:!p||ol(v._custom)||o===p._top||o===p._bottom,x:u?y.head:w.center,y:u?w.center:y.head,height:u?w.size:Math.abs(y.size),width:u?Math.abs(y.size):w.size};f&&(m.options=h||this.resolveDataElementOptions(g,e[g].active?"active":i));const x=m.options||e[g].options;b1(m,x,p,o),j1(m,x,d.ratio),this.updateElement(e[g],g,m,i)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),c=a&&a[s.axis],u=d=>{const h=d._parsed.find(g=>g[s.axis]===c),f=h&&h[d.vScale.axis];if(le(f)||isNaN(f))return!0};for(const d of i)if(!(n!==void 0&&u(d))&&((r===!1||o.indexOf(d.stack)===-1||r===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[q(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const i=this._getStacks(e,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=e.barThickness;return{min:a||m1(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,c=this.getParsed(e),u=c._custom,d=ol(u);let h=c[n.axis],f=0,g=s?this.applyStack(n,c,s):h,v,y;g!==h&&(f=g-h,g=h),d&&(h=u.barStart,g=u.barEnd-u.barStart,h!==0&&Nn(h)!==Nn(u.barEnd)&&(f=0),f+=h);const w=!le(r)&&!d?r:f;let p=n.getPixelForValue(w);if(this.chart.getDataVisibility(e)?v=n.getPixelForValue(f+g):v=p,y=v-p,Math.abs(y)<o){y=v1(y,n,a)*o,h===a&&(p-=y/2);const m=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),k=Math.min(m,x),j=Math.max(m,x);p=Math.max(Math.min(p,j),k),v=p+y,s&&!d&&(c._stacks[n.axis]._visualValues[i]=n.getValueForPixel(v)-n.getValueForPixel(p))}if(p===n.getPixelForValue(a)){const m=Nn(y)*n.getLineWidthForValue(a)/2;p+=m,y-=m}return{size:y,base:p,head:v,center:v+y/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,r=i.skipNull,o=q(i.maxBarThickness,1/0);let a,c;const u=this._getAxisCount();if(n.grouped){const d=r?this._getStackCount(e):n.stackCount,h=i.barThickness==="flex"?x1(e,n,i,d*u):g1(e,n,i,d*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(q(f,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+g;a=h.start+h.chunk*v+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(o,n.min*n.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}V(oo,"id","bar"),V(oo,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),V(oo,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function _1(t,e,n){let s=1,i=1,r=0,o=0;if(e<Ce){const a=t,c=a+e,u=Math.cos(a),d=Math.sin(a),h=Math.cos(c),f=Math.sin(c),g=(x,k,j)=>zo(x,a,c,!0)?1:Math.max(k,k*n,j,j*n),v=(x,k,j)=>zo(x,a,c,!0)?-1:Math.min(k,k*n,j,j*n),y=g(0,u,h),w=g(De,d,f),p=v(ae,u,h),m=v(ae+De,d,f);s=(y-p)/2,i=(w-m)/2,r=-(y+p)/2,o=-(w+m)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class mi extends Ts{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=c=>+s[c];if(te(s[e])){const{key:c="value"}=this._parsing;r=u=>+ns(s[u],c)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return Kt(this.options.rotation-90)}_getCircumference(){return Kt(this.options.circumference)}_getRotationExtents(){let e=Ce,n=-Ce;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),c=Math.min(Zy(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:v,offsetY:y}=_1(h,d,c),w=(s.width-o)/f,p=(s.height-o)/g,m=Math.max(Math.min(w,p)/2,0),x=Rm(this.options.radius,m),k=Math.max(x*c,0),j=(x-k)/this._getVisibleDatasetWeightTotal();this.offsetX=v*x,this.offsetY=y*x,i.total=this.calculateTotal(),this.outerRadius=x-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/Ce)}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,d=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&u.animateScale,g=f?0:this.innerRadius,v=f?0:this.outerRadius,{sharedOptions:y,includeOptions:w}=this._getSharedOptions(n,i);let p=this._getRotation(),m;for(m=0;m<n;++m)p+=this._circumference(m,r);for(m=n;m<n+s;++m){const x=this._circumference(m,r),k=e[m],j={x:d+this.offsetX,y:h+this.offsetY,startAngle:p,endAngle:p+x,circumference:x,outerRadius:v,innerRadius:g};w&&(j.options=y||this.resolveDataElementOptions(m,k.active?"active":i)),p+=x,this.updateElement(k,m,j,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Ce*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=fu(n._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,r,o,a,c;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)c=a.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(q(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}V(mi,"id","doughnut"),V(mi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),V(mi,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),V(mi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((c,u)=>{const h=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:h.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:i,pointStyle:s,borderRadius:o&&(a||h.borderRadius),index:u}}):[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});function Bn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ku{constructor(e){V(this,"options");this.options=e||{}}static override(e){Object.assign(ku.prototype,e)}init(){}formats(){return Bn()}parse(){return Bn()}format(){return Bn()}add(){return Bn()}diff(){return Bn()}startOf(){return Bn()}endOf(){return Bn()}}var S1={_date:ku};function N1(t,e,n,s){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const u=a._reversePixels?dv:ac;if(s){if(i._sharedOptions){const d=r[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const f=u(r,e,n-h),g=u(r,e,n+h);return{lo:f.lo,hi:g.hi}}}}else{const d=u(r,e,n);if(c){const{vScale:h}=i._cachedMeta,{_parsed:f}=t,g=f.slice(0,d.lo+1).reverse().findIndex(y=>!le(y[h.axis]));d.lo-=Math.max(0,g);const v=f.slice(d.hi).findIndex(y=>!le(y[h.axis]));d.hi+=Math.max(0,v)}return d}}return{lo:0,hi:r.length-1}}function ua(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,c=r.length;a<c;++a){const{index:u,data:d}=r[a],{lo:h,hi:f}=N1(r[a],e,o,i);for(let g=h;g<=f;++g){const v=d[g];v.skip||s(v,u,g)}}}function C1(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function al(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||ua(t,n,e,function(a,c,u){!i&&!Xm(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:c,index:u})},!0),r}function M1(t,e,n,s){let i=[];function r(o,a,c){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],s),{angle:h}=Im(o,{x:e.x,y:e.y});zo(h,u,d)&&i.push({element:o,datasetIndex:a,index:c})}return ua(t,n,e,r),i}function L1(t,e,n,s,i,r){let o=[];const a=C1(n);let c=Number.POSITIVE_INFINITY;function u(d,h,f){const g=d.inRange(e.x,e.y,i);if(s&&!g)return;const v=d.getCenterPoint(i);if(!(!!r||t.isPointInArea(v))&&!g)return;const w=a(e,v);w<c?(o=[{element:d,datasetIndex:h,index:f}],c=w):w===c&&o.push({element:d,datasetIndex:h,index:f})}return ua(t,n,e,u),o}function ll(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?M1(t,e,n,i):L1(t,e,n,s,i,r)}function zh(t,e,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return ua(t,n,e,(c,u,d)=>{c[o]&&c[o](e[n],i)&&(r.push({element:c,datasetIndex:u,index:d}),a=a||c.inRange(e.x,e.y,i))}),s&&!a?[]:r}var E1={modes:{index(t,e,n,s){const i=Hn(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?al(t,i,r,s,o):ll(t,i,r,!1,s,o),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,h=u.data[d];h&&!h.skip&&c.push({element:h,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,n,s){const i=Hn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?al(t,i,r,s,o):ll(t,i,r,!1,s,o);if(a.length>0){const c=a[0].datasetIndex,u=t.getDatasetMeta(c).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:c,index:d})}return a},point(t,e,n,s){const i=Hn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return al(t,i,r,s,o)},nearest(t,e,n,s){const i=Hn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return ll(t,i,r,n.intersect,s,o)},x(t,e,n,s){const i=Hn(e,t);return zh(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=Hn(e,t);return zh(t,i,"y",n.intersect,s)}}};const ig=["left","top","right","bottom"];function oi(t,e){return t.filter(n=>n.pos===e)}function Ih(t,e){return t.filter(n=>ig.indexOf(n.pos)===-1&&n.box.axis===e)}function ai(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function P1(t){const e=[];let n,s,i,r,o,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function D1(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!ig.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function T1(t,e){const n=D1(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:c}=a.box,u=n[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*s:c&&e.availableWidth,a.height=i):(a.width=s,a.height=d?d*i:c&&e.availableHeight)}return n}function A1(t){const e=P1(t),n=ai(e.filter(u=>u.box.fullSize),!0),s=ai(oi(e,"left"),!0),i=ai(oi(e,"right")),r=ai(oi(e,"top"),!0),o=ai(oi(e,"bottom")),a=Ih(e,"x"),c=Ih(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(c).concat(o).concat(a),chartArea:oi(e,"chartArea"),vertical:s.concat(i).concat(c),horizontal:r.concat(o).concat(a)}}function Bh(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function rg(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function O1(t,e,n,s){const{pos:i,box:r}=n,o=t.maxPadding;if(!te(i)){n.size&&(t[i]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[i]+=n.size}r.getPadding&&rg(o,r.getPadding());const a=Math.max(0,e.outerWidth-Bh(o,t,"left","right")),c=Math.max(0,e.outerHeight-Bh(o,t,"top","bottom")),u=a!==t.w,d=c!==t.h;return t.w=a,t.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function R1(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function F1(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return s(t?["left","right"]:["top","bottom"])}function gi(t,e,n,s){const i=[];let r,o,a,c,u,d;for(r=0,o=t.length,u=0;r<o;++r){a=t[r],c=a.box,c.update(a.width||e.w,a.height||e.h,F1(a.horizontal,e));const{same:h,other:f}=O1(e,n,a,s);u|=h&&i.length,d=d||f,c.fullSize||i.push(a)}return u&&gi(i,e,n,s)||d}function Wr(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function Wh(t,e,n,s){const i=n.padding;let{x:r,y:o}=e;for(const a of t){const c=a.box,u=s[a.stack]||{placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const h=e.w*d,f=u.size||c.height;Gi(u.start)&&(o=u.start),c.fullSize?Wr(c,i.left,o,n.outerWidth-i.right-i.left,f):Wr(c,e.left+u.placed,o,h,f),u.start=o,u.placed+=h,o=c.bottom}else{const h=e.h*d,f=u.size||c.width;Gi(u.start)&&(r=u.start),c.fullSize?Wr(c,r,i.top,f,n.outerHeight-i.bottom-i.top):Wr(c,r,e.top+u.placed,f,h),u.start=r,u.placed+=h,r=c.right}}e.x=r,e.y=o}var mt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=wt(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=A1(t.boxes),c=a.vertical,u=a.horizontal;ie(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const d=c.reduce((y,w)=>w.box.options&&w.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},i);rg(f,wt(s));const g=Object.assign({maxPadding:f,w:r,h:o,x:i.left,y:i.top},i),v=T1(c.concat(u),h);gi(a.fullSize,g,h,v),gi(c,g,h,v),gi(u,g,h,v)&&gi(c,g,h,v),R1(g),Wh(a.leftAndTop,g,h,v),g.x+=g.w,g.y+=g.h,Wh(a.rightAndBottom,g,h,v),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},ie(a.chartArea,y=>{const w=y.box;Object.assign(w,t.chartArea),w.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class og{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class z1 extends og{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ao="$chartjs",I1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},$h=t=>t===null||t==="";function B1(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[ao]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",$h(i)){const r=Mh(t,"width");r!==void 0&&(t.width=r)}if($h(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=Mh(t,"height");r!==void 0&&(t.height=r)}return t}const ag=Qv?{passive:!0}:!1;function W1(t,e,n){t&&t.addEventListener(e,n,ag)}function $1(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,ag)}function H1(t,e){const n=I1[t.type]||t.type,{x:s,y:i}=Hn(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Wo(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function V1(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Wo(a.addedNodes,s),o=o&&!Wo(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function U1(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Wo(a.removedNodes,s),o=o&&!Wo(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Ji=new Map;let Hh=0;function lg(){const t=window.devicePixelRatio;t!==Hh&&(Hh=t,Ji.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Y1(t,e){Ji.size||window.addEventListener("resize",lg),Ji.set(t,e)}function X1(t){Ji.delete(t),Ji.size||window.removeEventListener("resize",lg)}function K1(t,e,n){const s=t.canvas,i=s&&bu(s);if(!i)return;const r=Hm((a,c)=>{const u=i.clientWidth;n(a,c),u<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const c=a[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||r(u,d)});return o.observe(i),Y1(t,r),o}function cl(t,e,n){n&&n.disconnect(),e==="resize"&&X1(t)}function Q1(t,e,n){const s=t.canvas,i=Hm(r=>{t.ctx!==null&&n(H1(r,t))},t);return W1(s,e,i),i}class G1 extends og{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(B1(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[ao])return!1;const s=n[ao].initial;["height","width"].forEach(r=>{const o=s[r];le(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[ao],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:V1,detach:U1,resize:K1}[n]||Q1;i[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:cl,detach:cl,resize:cl}[n]||$1)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return Kv(e,n,s,i)}isAttached(e){const n=e&&bu(e);return!!(n&&n.isConnected)}}function Z1(t){return!wu()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?z1:G1}class en{constructor(){V(this,"x");V(this,"y");V(this,"active",!1);V(this,"options");V(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Fo(this.x)&&Fo(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}}V(en,"defaults",{}),V(en,"defaultRoutes");function J1(t,e){const n=t.options.ticks,s=q1(t),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?t2(e):[],o=r.length,a=r[0],c=r[o-1],u=[];if(o>i)return n2(e,u,r,o/i),u;const d=e2(r,e,i);if(o>0){let h,f;const g=o>1?Math.round((c-a)/(o-1)):null;for($r(e,u,d,le(g)?0:a-g,a),h=0,f=o-1;h<f;h++)$r(e,u,d,r[h],r[h+1]);return $r(e,u,d,c,le(g)?e.length:c+g),u}return $r(e,u,d),u}function q1(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function e2(t,e,n){const s=s2(t),i=e.length/n;if(!s)return Math.max(i,1);const r=iv(s);for(let o=0,a=r.length-1;o<a;o++){const c=r[o];if(c>i)return c}return Math.max(i,1)}function t2(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function n2(t,e,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=n[i*s])}function $r(t,e,n,s,i){const r=q(s,0),o=Math.min(q(i,t.length),t.length);let a=0,c,u,d;for(n=Math.ceil(n),i&&(c=i-s,n=c/Math.floor(c/n)),d=r;d<0;)a++,d=Math.round(r+a*n);for(u=Math.max(r,0);u<o;u++)u===d&&(e.push(t[u]),a++,d=Math.round(r+a*n))}function s2(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const i2=t=>t==="left"?"right":t==="right"?"left":t,Vh=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Uh=(t,e)=>Math.min(e||t,t);function Yh(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function r2(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let c=t.getPixelForTick(i),u;if(!(n&&(s===1?u=Math.max(c-r,o-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(i-1))/2,c+=i<e?u:-u,c<r-a||c>o+a)))return c}function o2(t,e){ie(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function li(t){return t.drawTicks?t.tickLength:0}function Xh(t,e){if(!t.display)return 0;const n=Ve(t.font,e),s=wt(t.padding);return(Ee(t.text)?t.text.length:1)*n.lineHeight+s.height}function a2(t,e){return Us(t,{scale:e,type:"scale"})}function l2(t,e,n){return Us(t,{tick:n,index:e,type:"tick"})}function c2(t,e,n){let s=hu(t);return(n&&e!=="right"||!n&&e==="right")&&(s=i2(s)),s}function u2(t,e,n,s){const{top:i,left:r,bottom:o,right:a,chart:c}=t,{chartArea:u,scales:d}=c;let h=0,f,g,v;const y=o-i,w=a-r;if(t.isHorizontal()){if(g=$e(s,r,a),te(n)){const p=Object.keys(n)[0],m=n[p];v=d[p].getPixelForValue(m)+y-e}else n==="center"?v=(u.bottom+u.top)/2+y-e:v=Vh(t,n,e);f=a-r}else{if(te(n)){const p=Object.keys(n)[0],m=n[p];g=d[p].getPixelForValue(m)-w+e}else n==="center"?g=(u.left+u.right)/2-w+e:g=Vh(t,n,e);v=$e(s,o,i),h=n==="left"?-De:De}return{titleX:g,titleY:v,maxWidth:f,rotation:h}}class Ys extends en{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=Dt(e,Number.POSITIVE_INFINITY),n=Dt(n,Number.NEGATIVE_INFINITY),s=Dt(s,Number.POSITIVE_INFINITY),i=Dt(i,Number.NEGATIVE_INFINITY),{min:Dt(e,s),max:Dt(n,i),minDefined:vt(e),maxDefined:vt(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let c=0,u=a.length;c<u;++c)o=a[c].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:Dt(n,Dt(s,n)),max:Dt(s,Dt(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){de(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Tv(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?Yh(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=J1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){de(this.options.afterUpdate,[this])}beforeSetDimensions(){de(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){de(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),de(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){de(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=de(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){de(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){de(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=Uh(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,c,u;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,g=tt(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/s:g/(s-1),h+6>a&&(a=g/(s-(e.offset?.5:1)),c=this.maxHeight-li(e.grid)-n.padding-Xh(e.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),o=lv(Math.min(Math.asin(tt((d.highest.height+6)/a,-1,1)),Math.asin(tt(c/u,-1,1))-Math.asin(tt(f/u,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){de(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){de(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const c=Xh(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=li(r)+c):(e.height=this.maxHeight,e.width=li(r)+c),s.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),g=s.padding*2,v=Kt(this.labelRotation),y=Math.cos(v),w=Math.sin(v);if(a){const p=s.mirror?0:w*h.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+p+g)}else{const p=s.mirror?0:y*h.width+w*f.height;e.width=Math.min(this.maxWidth,e.width+p+g)}this._calculatePadding(u,d,w,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,c=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;c?u?(f=i*e.width,g=s*n.height):(f=s*e.height,g=i*n.width):r==="start"?g=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,g=n.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-h+o)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;r==="start"?(d=0,h=e.height):r==="end"&&(d=n.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){de(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)le(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=Yh(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],c=Math.floor(n/Uh(n,s));let u=0,d=0,h,f,g,v,y,w,p,m,x,k,j;for(h=0;h<n;h+=c){if(v=e[h].label,y=this._resolveTickFontOptions(h),i.font=w=y.string,p=r[w]=r[w]||{data:{},gc:[]},m=y.lineHeight,x=k=0,!le(v)&&!Ee(v))x=kh(i,p.data,p.gc,x,v),k=m;else if(Ee(v))for(f=0,g=v.length;f<g;++f)j=v[f],!le(j)&&!Ee(j)&&(x=kh(i,p.data,p.gc,x,j),k+=m);o.push(x),a.push(k),u=Math.max(x,u),d=Math.max(k,d)}o2(r,n);const N=o.indexOf(u),L=a.indexOf(d),_=S=>({width:o[S]||0,height:a[S]||0});return{first:_(0),last:_(n-1),widest:_(N),highest:_(L),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return uv(this._alignToPixels?In(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=l2(this.getContext(),e,s))}return this.$context||(this.$context=a2(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Kt(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,c=r?r.highest.height+o:0;return this.isHorizontal()?c*s>a*i?a/s:c/i:c*i<a*s?c/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,c=r.offset,u=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=li(r),g=[],v=a.setContext(this.getContext()),y=v.display?v.width:0,w=y/2,p=function(K){return In(s,K,y)};let m,x,k,j,N,L,_,S,M,P,C,B;if(o==="top")m=p(this.bottom),L=this.bottom-f,S=m-w,P=p(e.top)+w,B=e.bottom;else if(o==="bottom")m=p(this.top),P=e.top,B=p(e.bottom)-w,L=m+w,S=this.top+f;else if(o==="left")m=p(this.right),N=this.right-f,_=m-w,M=p(e.left)+w,C=e.right;else if(o==="right")m=p(this.left),M=e.left,C=p(e.right)-w,N=m+w,_=this.left+f;else if(n==="x"){if(o==="center")m=p((e.top+e.bottom)/2+.5);else if(te(o)){const K=Object.keys(o)[0],X=o[K];m=p(this.chart.scales[K].getPixelForValue(X))}P=e.top,B=e.bottom,L=m+w,S=L+f}else if(n==="y"){if(o==="center")m=p((e.left+e.right)/2);else if(te(o)){const K=Object.keys(o)[0],X=o[K];m=p(this.chart.scales[K].getPixelForValue(X))}N=m-w,_=N-f,M=e.left,C=e.right}const Q=q(i.ticks.maxTicksLimit,h),H=Math.max(1,Math.ceil(h/Q));for(x=0;x<h;x+=H){const K=this.getContext(x),X=r.setContext(K),A=a.setContext(K),F=X.lineWidth,W=X.color,Z=A.dash||[],ne=A.dashOffset,Te=X.tickWidth,ve=X.tickColor,O=X.tickBorderDash||[],$=X.tickBorderDashOffset;k=r2(this,x,c),k!==void 0&&(j=In(s,k,F),u?N=_=M=C=j:L=S=P=B=j,g.push({tx1:N,ty1:L,tx2:_,ty2:S,x1:M,y1:P,x2:C,y2:B,width:F,color:W,borderDash:Z,borderDashOffset:ne,tickWidth:Te,tickColor:ve,tickBorderDash:O,tickBorderDashOffset:$}))}return this._ticksLength=h,this._borderValue=m,g}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:u,padding:d,mirror:h}=r,f=li(s.grid),g=f+d,v=h?-d:g,y=-Kt(this.labelRotation),w=[];let p,m,x,k,j,N,L,_,S,M,P,C,B="middle";if(i==="top")N=this.bottom-v,L=this._getXAxisLabelAlignment();else if(i==="bottom")N=this.top+v,L=this._getXAxisLabelAlignment();else if(i==="left"){const H=this._getYAxisLabelAlignment(f);L=H.textAlign,j=H.x}else if(i==="right"){const H=this._getYAxisLabelAlignment(f);L=H.textAlign,j=H.x}else if(n==="x"){if(i==="center")N=(e.top+e.bottom)/2+g;else if(te(i)){const H=Object.keys(i)[0],K=i[H];N=this.chart.scales[H].getPixelForValue(K)+g}L=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")j=(e.left+e.right)/2-g;else if(te(i)){const H=Object.keys(i)[0],K=i[H];j=this.chart.scales[H].getPixelForValue(K)}L=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(c==="start"?B="top":c==="end"&&(B="bottom"));const Q=this._getLabelSizes();for(p=0,m=a.length;p<m;++p){x=a[p],k=x.label;const H=r.setContext(this.getContext(p));_=this.getPixelForTick(p)+r.labelOffset,S=this._resolveTickFontOptions(p),M=S.lineHeight,P=Ee(k)?k.length:1;const K=P/2,X=H.color,A=H.textStrokeColor,F=H.textStrokeWidth;let W=L;o?(j=_,L==="inner"&&(p===m-1?W=this.options.reverse?"left":"right":p===0?W=this.options.reverse?"right":"left":W="center"),i==="top"?u==="near"||y!==0?C=-P*M+M/2:u==="center"?C=-Q.highest.height/2-K*M+M:C=-Q.highest.height+M/2:u==="near"||y!==0?C=M/2:u==="center"?C=Q.highest.height/2-K*M:C=Q.highest.height-P*M,h&&(C*=-1),y!==0&&!H.showLabelBackdrop&&(j+=M/2*Math.sin(y))):(N=_,C=(1-P)*M/2);let Z;if(H.showLabelBackdrop){const ne=wt(H.backdropPadding),Te=Q.heights[p],ve=Q.widths[p];let O=C-ne.top,$=0-ne.left;switch(B){case"middle":O-=Te/2;break;case"bottom":O-=Te;break}switch(L){case"center":$-=ve/2;break;case"right":$-=ve;break;case"inner":p===m-1?$-=ve:p>0&&($-=ve/2);break}Z={left:$,top:O,width:ve+ne.width,height:Te+ne.height,color:H.backdropColor}}w.push({label:k,font:S,textOffset:C,options:{rotation:y,color:X,strokeColor:A,strokeWidth:F,textAlign:W,textBaseline:B,translation:[j,N],backdrop:Z}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Kt(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,c=o.widest.width;let u,d;return n==="left"?i?(d=this.right+r,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-a,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?i?(d=this.left+r,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+a,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(c,u,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const c=i[r];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,h,f;this.isHorizontal()?(u=In(e,this.left,o)-o/2,d=In(e,this.right,a)+a/2,h=f=c):(h=In(e,this.top,o)-o/2,f=In(e,this.bottom,a)+a/2,u=d=c),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(u,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&pu(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,c=o.font,u=o.label,d=o.textOffset;Zi(s,u,0,d,c,a)}i&&mu(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=Ve(s.font),o=wt(s.padding),a=s.align;let c=r.lineHeight/2;n==="bottom"||n==="center"||te(n)?(c+=o.bottom,Ee(s.text)&&(c+=r.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=u2(this,c,n,a);Zi(e,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:f,textAlign:c2(a,n,i),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=q(e.grid&&e.grid.z,-1),i=q(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ys.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ve(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Hr{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;f2(n)&&(s=this.register(n));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,d2(e,o,s),this.override&&_e.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in _e[i]&&(delete _e[i][s],this.override&&delete ss[s])}}function d2(t,e,n){const s=Qi(Object.create(null),[n?_e.get(n):{},_e.get(e),t.defaults]);_e.set(e,s),t.defaultRoutes&&h2(e,t.defaultRoutes),t.descriptors&&_e.describe(e,t.descriptors)}function h2(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),c=o.join(".");_e.route(r,i,c,a)})}function f2(t){return"id"in t&&"defaults"in t}class p2{constructor(){this.controllers=new Hr(Ts,"datasets",!0),this.elements=new Hr(en,"elements"),this.plugins=new Hr(Object,"plugins"),this.scales=new Hr(Ys,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):ie(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const i=uu(e);de(s["before"+i],[],s),n[e](s),de(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var Ot=new p2;class m2{constructor(){this._init=void 0}notify(e,n,s,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],c=[n,i,r.options];if(de(a,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){le(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=q(s.options&&s.options.plugins,{}),r=g2(s);return i===!1&&!n?[]:y2(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function g2(t){const e={},n=[],s=Object.keys(Ot.plugins.items);for(let r=0;r<s.length;r++)n.push(Ot.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function x2(t,e){return!e&&t===!1?null:t===!0?{}:t}function y2(t,{plugins:e,localIds:n},s,i){const r=[],o=t.getContext();for(const a of e){const c=a.id,u=x2(s[c],i);u!==null&&r.push({plugin:a,options:v2(t.config,{plugin:a,local:n[c]},u,o)})}return r}function v2(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(s,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function cc(t,e){const n=_e.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function w2(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function b2(t,e){return t===e?"_index_":"_value_"}function Kh(t){if(t==="x"||t==="y"||t==="r")return t}function k2(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function uc(t,...e){if(Kh(t))return t;for(const n of e){const s=n.axis||k2(n.position)||t.length>1&&Kh(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Qh(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function j2(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return Qh(t,"x",n[0])||Qh(t,"y",n[0])}return{}}function _2(t,e){const n=ss[t.type]||{scales:{}},s=e.scales||{},i=cc(t.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!te(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=uc(o,a,j2(o,t),_e.scales[a.type]),u=b2(c,i),d=n.scales||{};r[o]=Ci(Object.create(null),[{axis:c},a,d[c],d[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,c=o.indexAxis||cc(a,e),d=(ss[a]||{}).scales||{};Object.keys(d).forEach(h=>{const f=w2(h,c),g=o[f+"AxisID"]||f;r[g]=r[g]||Object.create(null),Ci(r[g],[{axis:f},s[g],d[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];Ci(a,[_e.scales[a.type],_e.scale])}),r}function cg(t){const e=t.options||(t.options={});e.plugins=q(e.plugins,{}),e.scales=_2(t,e)}function ug(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function S2(t){return t=t||{},t.data=ug(t.data),cg(t),t}const Gh=new Map,dg=new Set;function Vr(t,e){let n=Gh.get(t);return n||(n=e(),Gh.set(t,n),dg.add(n)),n}const ci=(t,e,n)=>{const s=ns(e,n);s!==void 0&&t.add(s)};class N2{constructor(e){this._config=S2(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ug(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),cg(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Vr(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Vr(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Vr(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Vr(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const c=new Set;n.forEach(d=>{e&&(c.add(e),d.forEach(h=>ci(c,e,h))),d.forEach(h=>ci(c,i,h)),d.forEach(h=>ci(c,ss[r]||{},h)),d.forEach(h=>ci(c,_e,h)),d.forEach(h=>ci(c,lc,h))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),dg.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,ss[n]||{},_e.datasets[n]||{},{type:n},_e,lc]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Zh(this._resolverCache,e,i);let c=o;if(M2(o,n)){r.$shared=!1,s=Ln(s)?s():s;const u=this.createResolver(e,s,a);c=Ws(o,s,u)}for(const u of n)r[u]=c[u];return r}createResolver(e,n,s=[""],i){const{resolver:r}=Zh(this._resolverCache,e,s);return te(n)?Ws(r,n,void 0,i):r}}function Zh(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:xu(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const C2=t=>te(t)&&Object.getOwnPropertyNames(t).some(e=>Ln(t[e]));function M2(t,e){const{isScriptable:n,isIndexable:s}=Qm(t);for(const i of e){const r=n(i),o=s(i),a=(o||r)&&t[i];if(r&&(Ln(a)||C2(a))||o&&Ee(a))return!0}return!1}var L2="4.5.1";const E2=["top","bottom","left","right","chartArea"];function Jh(t,e){return t==="top"||t==="bottom"||E2.indexOf(t)===-1&&e==="x"}function qh(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function ef(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),de(n&&n.onComplete,[t],e)}function P2(t){const e=t.chart,n=e.options.animation;de(n&&n.onProgress,[t],e)}function hg(t){return wu()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const lo={},tf=t=>{const e=hg(t);return Object.values(lo).filter(n=>n.canvas===e).pop()};function D2(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function T2(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var an;let or=(an=class{static register(...e){Ot.add(...e),nf()}static unregister(...e){Ot.remove(...e),nf()}constructor(e,n){const s=this.config=new N2(n),i=hg(e),r=tf(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Z1(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),c=a&&a.canvas,u=c&&c.height,d=c&&c.width;if(this.id=Gy(),this.ctx=a,this.canvas=c,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new m2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=pv(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],lo[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Wt.listen(this,"complete",ef),Wt.listen(this,"progress",P2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return le(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ot}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ch(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return jh(this.canvas,this.ctx),this}stop(){return Wt.stop(this),this}resize(e,n){Wt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ch(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),de(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ie(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],c=uc(o,a),u=c==="r",d=c==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),ie(r,o=>{const a=o.options,c=a.id,u=uc(c,a),d=q(a.type,o.dtype);(a.position===void 0||Jh(a.position,u)!==Jh(o.dposition))&&(a.position=o.dposition),i[c]=!0;let h=null;if(c in s&&s[c].type===d)h=s[c];else{const f=Ot.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,e)}),ie(i,(o,a)=>{o||delete s[a]}),ie(s,o=>{mt.configure(this,o,o.options),mt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(qh("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||cc(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=Ot.getController(a),{datasetElementType:u,dataElementType:d}=_e.datasets[a];Object.assign(c,{dataElementType:Ot.getElement(d),datasetElementType:u&&Ot.getElement(u)}),o.controller=new c(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ie(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||ie(r,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(qh("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ie(this.scales,e=>{mt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!fh(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;D2(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!fh(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mt.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],ie(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Ln(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Wt.has(this)?this.attached&&!Wt.running(this)&&Wt.start(this):(this.draw(),ef({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=qv(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&pu(n,i),e.controller.draw(),i&&mu(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return Xm(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=E1.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Us(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);Gi(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Wt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),jh(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete lo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};ie(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},i=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},r=(c,u)=>{this.canvas&&this.resize(c,u)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ie(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ie(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,o,a,c;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,c=e.length;a<c;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Ao(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),o=r(n,e),a=s?e:r(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(e,i,s,o),c=nv(e),u=T2(e,this._lastEvent,s,c);s&&(this._lastEvent=null,de(r.onHover,[e,a,this],this),c&&de(r.onClick,[e,a,this],this));const d=!Ao(a,i);return(d||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,d}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},V(an,"defaults",_e),V(an,"instances",lo),V(an,"overrides",ss),V(an,"registry",Ot),V(an,"version",L2),V(an,"getChart",tf),an);function nf(){return ie(or.instances,t=>t._plugins.invalidate())}function A2(t,e,n){const{startAngle:s,x:i,y:r,outerRadius:o,innerRadius:a,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,h=Math.min(u/o,Rt(s-n));if(t.beginPath(),t.arc(i,r,o-u/2,s+h/2,n-h/2),a>0){const f=Math.min(u/a,Rt(s-n));t.arc(i,r,a+u/2,n-f/2,s+f/2,!0)}else{const f=Math.min(u/2,o*Rt(s-n));if(d==="round")t.arc(i,r,f,n-ae/2,s+ae/2,!0);else if(d==="bevel"){const g=2*f*f,v=-g*Math.cos(n+ae/2)+i,y=-g*Math.sin(n+ae/2)+r,w=g*Math.cos(s+ae/2)+i,p=g*Math.sin(s+ae/2)+r;t.lineTo(v,y),t.lineTo(w,p)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function O2(t,e,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:c}=e;let u=i/a;t.beginPath(),t.arc(r,o,a,s-u,n+u),c>i?(u=i/c,t.arc(r,o,c,n+u,s-u,!0)):t.arc(r,o,i,n+De,s-De),t.closePath(),t.clip()}function R2(t){return gu(t,["outerStart","outerEnd","innerStart","innerEnd"])}function F2(t,e,n,s){const i=R2(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,s*e/2),a=c=>{const u=(n-Math.min(r,c))*s/2;return tt(c,0,Math.min(r,u))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:tt(i.innerStart,0,o),innerEnd:tt(i.innerEnd,0,o)}}function ds(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function $o(t,e,n,s,i,r){const{x:o,y:a,startAngle:c,pixelMargin:u,innerRadius:d}=e,h=Math.max(e.outerRadius+s+n-u,0),f=d>0?d+s+n+u:0;let g=0;const v=i-c;if(s){const H=d>0?d-s:0,K=h>0?h-s:0,X=(H+K)/2,A=X!==0?v*X/(X+s):v;g=(v-A)/2}const y=Math.max(.001,v*h-n/ae)/h,w=(v-y)/2,p=c+w+g,m=i-w-g,{outerStart:x,outerEnd:k,innerStart:j,innerEnd:N}=F2(e,f,h,m-p),L=h-x,_=h-k,S=p+x/L,M=m-k/_,P=f+j,C=f+N,B=p+j/P,Q=m-N/C;if(t.beginPath(),r){const H=(S+M)/2;if(t.arc(o,a,h,S,H),t.arc(o,a,h,H,M),k>0){const F=ds(_,M,o,a);t.arc(F.x,F.y,k,M,m+De)}const K=ds(C,m,o,a);if(t.lineTo(K.x,K.y),N>0){const F=ds(C,Q,o,a);t.arc(F.x,F.y,N,m+De,Q+Math.PI)}const X=(m-N/f+(p+j/f))/2;if(t.arc(o,a,f,m-N/f,X,!0),t.arc(o,a,f,X,p+j/f,!0),j>0){const F=ds(P,B,o,a);t.arc(F.x,F.y,j,B+Math.PI,p-De)}const A=ds(L,p,o,a);if(t.lineTo(A.x,A.y),x>0){const F=ds(L,S,o,a);t.arc(F.x,F.y,x,p-De,S)}}else{t.moveTo(o,a);const H=Math.cos(S)*h+o,K=Math.sin(S)*h+a;t.lineTo(H,K);const X=Math.cos(M)*h+o,A=Math.sin(M)*h+a;t.lineTo(X,A)}t.closePath()}function z2(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let c=e.endAngle;if(r){$o(t,e,n,s,c,i);for(let u=0;u<r;++u)t.fill();isNaN(a)||(c=o+(a%Ce||Ce))}return $o(t,e,n,s,c,i),t.fill(),c}function I2(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:h,borderDashOffset:f,borderRadius:g}=c,v=c.borderAlign==="inner";if(!u)return;t.setLineDash(h||[]),t.lineDashOffset=f,v?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let y=e.endAngle;if(r){$o(t,e,n,s,y,i);for(let w=0;w<r;++w)t.stroke();isNaN(a)||(y=o+(a%Ce||Ce))}v&&O2(t,e,y),c.selfJoin&&y-o>=ae&&g===0&&d!=="miter"&&A2(t,e,y),r||($o(t,e,n,s,y,i),t.stroke())}class _s extends en{constructor(n){super();V(this,"circumference");V(this,"endAngle");V(this,"fullCircles");V(this,"innerRadius");V(this,"outerRadius");V(this,"pixelMargin");V(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.getProps(["x","y"],i),{angle:o,distance:a}=Im(r,{x:n,y:s}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,v=q(f,u-c),y=zo(o,c,u)&&c!==u,w=v>=Ce||y,p=Xn(a,d+g,h+g);return w&&p}getCenterPoint(n){const{x:s,y:i,startAngle:r,endAngle:o,innerRadius:a,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:d}=this.options,h=(r+o)/2,f=(a+c+d+u)/2;return{x:s+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:i}=this,r=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>Ce?Math.floor(i/Ce):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const c=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(c)*r,Math.sin(c)*r);const u=1-Math.sin(Math.min(ae,i||0)),d=r*u;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,z2(n,this,d,o,a),I2(n,this,d,o,a),n.restore()}}V(_s,"id","arc"),V(_s,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),V(_s,"defaultRoutes",{backgroundColor:"backgroundColor"}),V(_s,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function fg(t,e){const{x:n,y:s,base:i,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,c,u,d,h;return t.horizontal?(h=o/2,a=Math.min(n,i),c=Math.max(n,i),u=s-h,d=s+h):(h=r/2,a=n-h,c=n+h,u=Math.min(s,i),d=Math.max(s,i)),{left:a,top:u,right:c,bottom:d}}function gn(t,e,n,s){return t?0:tt(e,n,s)}function B2(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,r=Km(s);return{t:gn(i.top,r.top,0,n),r:gn(i.right,r.right,0,e),b:gn(i.bottom,r.bottom,0,n),l:gn(i.left,r.left,0,e)}}function W2(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=Ps(i),o=Math.min(e,n),a=t.borderSkipped,c=s||te(i);return{topLeft:gn(!c||a.top||a.left,r.topLeft,0,o),topRight:gn(!c||a.top||a.right,r.topRight,0,o),bottomLeft:gn(!c||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:gn(!c||a.bottom||a.right,r.bottomRight,0,o)}}function $2(t){const e=fg(t),n=e.right-e.left,s=e.bottom-e.top,i=B2(t,n/2,s/2),r=W2(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function ul(t,e,n,s){const i=e===null,r=n===null,a=t&&!(i&&r)&&fg(t,s);return a&&(i||Xn(e,a.left,a.right))&&(r||Xn(n,a.top,a.bottom))}function H2(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function V2(t,e){t.rect(e.x,e.y,e.w,e.h)}function dl(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+r,h:t.h+o,radius:t.radius}}class Ei extends en{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=$2(this),a=H2(o.radius)?Io:V2;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,dl(o,n,r)),e.clip(),a(e,dl(r,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,dl(r,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return ul(this,e,n,s)}inXRange(e,n){return ul(this,e,null,n)}inYRange(e,n){return ul(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}V(Ei,"id","bar"),V(Ei,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),V(Ei,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const sf=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},U2=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class rf extends en{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=de(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=Ve(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=sf(s,r);let u,d;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,r,a,c)+10):(d=this.maxHeight,u=this._fitCols(o,i,a,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=i+a;let h=e;r.textAlign="left",r.textBaseline="middle";let f=-1,g=-d;return this.legendItems.forEach((v,y)=>{const w=s+n/2+r.measureText(v.text).width;(y===0||u[u.length-1]+w+2*a>o)&&(h+=d,u[u.length-(y>0?0:1)]=0,g+=d,f++),c[y]={left:0,top:g,row:f,width:w,height:i},u[u.length-1]+=w+a}),h}_fitCols(e,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-e;let h=a,f=0,g=0,v=0,y=0;return this.legendItems.forEach((w,p)=>{const{itemWidth:m,itemHeight:x}=Y2(s,n,r,w,i);p>0&&g+x+2*a>d&&(h+=f+a,u.push({width:f,height:g}),v+=f+a,y++,f=g=0),c[p]={left:v,top:g,col:y,width:m,height:x},f=Math.max(f,m),g+=x+a}),h+=f,u.push({width:f,height:g}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=Ds(r,this.left,this.width);if(this.isHorizontal()){let a=0,c=$e(s,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,c=$e(s,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(c),u.width),c+=u.width+i}else{let a=0,c=$e(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,c=$e(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),u.top=c,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),c+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;pu(e,this),this._draw(),mu(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=_e.color,c=Ds(e.rtl,this.left,this.width),u=Ve(o.font),{padding:d}=o,h=u.size,f=h/2;let g;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:v,boxHeight:y,itemHeight:w}=sf(o,h),p=function(N,L,_){if(isNaN(v)||v<=0||isNaN(y)||y<0)return;i.save();const S=q(_.lineWidth,1);if(i.fillStyle=q(_.fillStyle,a),i.lineCap=q(_.lineCap,"butt"),i.lineDashOffset=q(_.lineDashOffset,0),i.lineJoin=q(_.lineJoin,"miter"),i.lineWidth=S,i.strokeStyle=q(_.strokeStyle,a),i.setLineDash(q(_.lineDash,[])),o.usePointStyle){const M={radius:y*Math.SQRT2/2,pointStyle:_.pointStyle,rotation:_.rotation,borderWidth:S},P=c.xPlus(N,v/2),C=L+f;Ym(i,M,P,C,o.pointStyleWidth&&v)}else{const M=L+Math.max((h-y)/2,0),P=c.leftForLtr(N,v),C=Ps(_.borderRadius);i.beginPath(),Object.values(C).some(B=>B!==0)?Io(i,{x:P,y:M,w:v,h:y,radius:C}):i.rect(P,M,v,y),i.fill(),S!==0&&i.stroke()}i.restore()},m=function(N,L,_){Zi(i,_.text,N,L+w/2,u,{strikethrough:_.hidden,textAlign:c.textAlign(_.textAlign)})},x=this.isHorizontal(),k=this._computeTitleHeight();x?g={x:$e(r,this.left+d,this.right-s[0]),y:this.top+d+k,line:0}:g={x:this.left+d,y:$e(r,this.top+k+d,this.bottom-n[0].height),line:0},qm(this.ctx,e.textDirection);const j=w+d;this.legendItems.forEach((N,L)=>{i.strokeStyle=N.fontColor,i.fillStyle=N.fontColor;const _=i.measureText(N.text).width,S=c.textAlign(N.textAlign||(N.textAlign=o.textAlign)),M=v+f+_;let P=g.x,C=g.y;c.setWidth(this.width),x?L>0&&P+M+d>this.right&&(C=g.y+=j,g.line++,P=g.x=$e(r,this.left+d,this.right-s[g.line])):L>0&&C+j>this.bottom&&(P=g.x=P+n[g.line].width+d,g.line++,C=g.y=$e(r,this.top+k+d,this.bottom-n[g.line].height));const B=c.x(P);if(p(B,C,N),P=mv(S,P+v+f,x?P+M:this.right,e.rtl),m(c.x(P),C,N),x)g.x+=M+d;else if(typeof N.text!="string"){const Q=u.lineHeight;g.y+=pg(N,Q)+d}else g.y+=j}),eg(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Ve(n.font),i=wt(n.padding);if(!n.display)return;const r=Ds(e.rtl,this.left,this.width),o=this.ctx,a=n.position,c=s.size/2,u=i.top+c;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=$e(e.align,h,this.right-f);else{const v=this.columnSizes.reduce((y,w)=>Math.max(y,w.height),0);d=u+$e(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const g=$e(a,h,h+f);o.textAlign=r.textAlign(hu(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,Zi(o,n.text,g,d,s)}_computeTitleHeight(){const e=this.options.title,n=Ve(e.font),s=wt(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if(Xn(e,this.left,this.right)&&Xn(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],Xn(e,i.left,i.left+i.width)&&Xn(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!Q2(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=U2(i,s);i&&!r&&de(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&de(n.onHover,[e,s,this],this)}else s&&de(n.onClick,[e,s,this],this)}}function Y2(t,e,n,s,i){const r=X2(s,t,e,n),o=K2(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function X2(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+s.measureText(i).width}function K2(t,e,n){let s=t;return typeof e.text!="string"&&(s=pg(e,n)),s}function pg(t,e){const n=t.text?t.text.length:0;return e*n}function Q2(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var mg={id:"legend",_element:rf,start(t,e,n){const s=t.legend=new rf({ctx:t.ctx,options:n,chart:t});mt.configure(t,s,n),mt.addBox(t,s)},stop(t){mt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;mt.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=wt(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class gg extends en{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Ee(s.text)?s.text.length:1;this._padding=wt(s.padding);const r=i*Ve(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let c=0,u,d,h;return this.isHorizontal()?(d=$e(a,s,r),h=n+e,u=r-s):(o.position==="left"?(d=s+e,h=$e(a,i,n),c=ae*-.5):(d=r-e,h=$e(a,n,i),c=ae*.5),u=i-n),{titleX:d,titleY:h,maxWidth:u,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Ve(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:u}=this._drawArgs(r);Zi(e,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:u,textAlign:hu(n.align),textBaseline:"middle",translation:[o,a]})}}function G2(t,e){const n=new gg({ctx:t.ctx,options:e,chart:t});mt.configure(t,n,e),mt.addBox(t,n),t.titleBlock=n}var xg={id:"title",_element:gg,start(t,e,n){G2(t,n)},stop(t){const e=t.titleBlock;mt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;mt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xi={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const c=a.tooltipPosition();s.add(c.x),i+=c.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,c)=>a+c)/s.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const c=t[r].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=cv(e,u);d<i&&(i=d,a=c)}}if(a){const c=a.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function Tt(t,e){return e&&(Ee(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function $t(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Z2(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function of(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,c=Ve(e.bodyFont),u=Ve(e.titleFont),d=Ve(e.footerFont),h=r.length,f=i.length,g=s.length,v=wt(e.padding);let y=v.height,w=0,p=s.reduce((k,j)=>k+j.before.length+j.lines.length+j.after.length,0);if(p+=t.beforeBody.length+t.afterBody.length,h&&(y+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),p){const k=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;y+=g*k+(p-g)*c.lineHeight+(p-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let m=0;const x=function(k){w=Math.max(w,n.measureText(k).width+m)};return n.save(),n.font=u.string,ie(t.title,x),n.font=c.string,ie(t.beforeBody.concat(t.afterBody),x),m=e.displayColors?o+2+e.boxPadding:0,ie(s,k=>{ie(k.before,x),ie(k.lines,x),ie(k.after,x)}),m=0,n.font=d.string,ie(t.footer,x),n.restore(),w+=v.width,{width:w,height:y}}function J2(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function q2(t,e,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function ew(t,e,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:c}}=t;let u="center";return s==="center"?u=i<=(a+c)/2?"left":"right":i<=r/2?u="left":i>=o-r/2&&(u="right"),q2(u,t,e,n)&&(u="center"),u}function af(t,e,n){const s=n.yAlign||e.yAlign||J2(t,n);return{xAlign:n.xAlign||e.xAlign||ew(t,e,n,s),yAlign:s}}function tw(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function nw(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function lf(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:c}=n,u=i+r,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:g}=Ps(o);let v=tw(e,a);const y=nw(e,c,u);return c==="center"?a==="left"?v+=u:a==="right"&&(v-=u):a==="left"?v-=Math.max(d,f)+i:a==="right"&&(v+=Math.max(h,g)+i),{x:tt(v,0,s.width-e.width),y:tt(y,0,s.height-e.height)}}function Ur(t,e,n){const s=wt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function cf(t){return Tt([],$t(t))}function sw(t,e,n){return Us(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function uf(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const yg={beforeTitle:Bt,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Bt,beforeBody:Bt,beforeLabel:Bt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return le(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Bt,afterBody:Bt,beforeFooter:Bt,footer:Bt,afterFooter:Bt};function Ze(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?yg[e].call(n,s):i}class dc extends en{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new tg(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=sw(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=Ze(s,"beforeTitle",this,e),r=Ze(s,"title",this,e),o=Ze(s,"afterTitle",this,e);let a=[];return a=Tt(a,$t(i)),a=Tt(a,$t(r)),a=Tt(a,$t(o)),a}getBeforeBody(e,n){return cf(Ze(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return ie(e,r=>{const o={before:[],lines:[],after:[]},a=uf(s,r);Tt(o.before,$t(Ze(a,"beforeLabel",this,r))),Tt(o.lines,Ze(a,"label",this,r)),Tt(o.after,$t(Ze(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,n){return cf(Ze(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=Ze(s,"beforeFooter",this,e),r=Ze(s,"footer",this,e),o=Ze(s,"afterFooter",this,e);let a=[];return a=Tt(a,$t(i)),a=Tt(a,$t(r)),a=Tt(a,$t(o)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],c,u;for(c=0,u=n.length;c<u;++c)a.push(Z2(this.chart,n[c]));return e.filter&&(a=a.filter((d,h,f)=>e.filter(d,h,f,s))),e.itemSort&&(a=a.sort((d,h)=>e.itemSort(d,h,s))),ie(a,d=>{const h=uf(e.callbacks,d);i.push(Ze(h,"labelColor",this,d)),r.push(Ze(h,"labelPointStyle",this,d)),o.push(Ze(h,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=xi[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=of(this,s),u=Object.assign({},a,c),d=af(this.chart,s,u),h=lf(s,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,r={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=Ps(a),{x:f,y:g}=e,{width:v,height:y}=n;let w,p,m,x,k,j;return r==="center"?(k=g+y/2,i==="left"?(w=f,p=w-o,x=k+o,j=k-o):(w=f+v,p=w+o,x=k-o,j=k+o),m=w):(i==="left"?p=f+Math.max(c,d)+o:i==="right"?p=f+v-Math.max(u,h)-o:p=this.caretX,r==="top"?(x=g,k=x-o,w=p-o,m=p+o):(x=g+y,k=x+o,w=p+o,m=p-o),j=x),{x1:w,x2:p,x3:m,y1:x,y2:k,y3:j}}drawTitle(e,n,s){const i=this.title,r=i.length;let o,a,c;if(r){const u=Ds(s.rtl,this.x,this.width);for(e.x=Ur(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",o=Ve(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,c=0;c<r;++c)n.fillText(i[c],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,c+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:c,boxWidth:u}=r,d=Ve(r.bodyFont),h=Ur(this,"left",r),f=i.x(h),g=c<d.lineHeight?(d.lineHeight-c)/2:0,v=n.y+g;if(r.usePointStyle){const y={radius:Math.min(u,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},w=i.leftForLtr(f,u)+u/2,p=v+c/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,_h(e,y,w,p),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,_h(e,y,w,p)}else{e.lineWidth=te(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=i.leftForLtr(f,u),w=i.leftForLtr(i.xPlus(f,1),u-2),p=Ps(o.borderRadius);Object.values(p).some(m=>m!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Io(e,{x:y,y:v,w:u,h:c,radius:p}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Io(e,{x:w,y:v+1,w:u-2,h:c-2,radius:p}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(y,v,u,c),e.strokeRect(y,v,u,c),e.fillStyle=o.backgroundColor,e.fillRect(w,v+1,u-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:c,boxWidth:u,boxPadding:d}=s,h=Ve(s.bodyFont);let f=h.lineHeight,g=0;const v=Ds(s.rtl,this.x,this.width),y=function(_){n.fillText(_,v.x(e.x+g),e.y+f/2),e.y+=f+r},w=v.textAlign(o);let p,m,x,k,j,N,L;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Ur(this,w,s),n.fillStyle=s.bodyColor,ie(this.beforeBody,y),g=a&&w!=="right"?o==="center"?u/2+d:u+2+d:0,k=0,N=i.length;k<N;++k){for(p=i[k],m=this.labelTextColors[k],n.fillStyle=m,ie(p.before,y),x=p.lines,a&&x.length&&(this._drawColorBox(n,e,k,v,s),f=Math.max(h.lineHeight,c)),j=0,L=x.length;j<L;++j)y(x[j]),f=h.lineHeight;ie(p.after,y)}g=0,f=h.lineHeight,ie(this.afterBody,y),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let o,a;if(r){const c=Ds(s.rtl,this.x,this.width);for(e.x=Ur(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",o=Ve(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:c}=e,{width:u,height:d}=s,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:v}=Ps(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,c),o==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+u-f,c),n.quadraticCurveTo(a+u,c,a+u,c+f),o==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+u,c+d-v),n.quadraticCurveTo(a+u,c+d,a+u-v,c+d),o==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+g,c+d),n.quadraticCurveTo(a,c+d,a,c+d-g),o==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,c+h),n.quadraticCurveTo(a,c,a+h,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=xi[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=of(this,e),c=Object.assign({},o,this._size),u=af(n,e,c),d=lf(e,c,u,n);(i._to!==d.x||r._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=wt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),qm(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),eg(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:c})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[c],index:c}}),r=!Ao(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,s),a=this._positionChanged(o,e),c=n||!Ao(o,r)||a;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,o=xi[r.position].call(this,e,n);return o!==!1&&(s!==o.x||i!==o.y)}}V(dc,"positioners",xi);var vg={id:"tooltip",_element:dc,positioners:xi,afterInit(t,e,n){n&&(t.tooltip=new dc({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const iw=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function rw(t,e,n,s){const i=t.indexOf(e);if(i===-1)return iw(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const ow=(t,e)=>t===null?null:tt(Math.round(t),0,e);function df(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Ho extends Ys{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(le(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:rw(s,e,q(n,e),this._addedLabels),ow(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return df.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}V(Ho,"id","category"),V(Ho,"defaults",{ticks:{callback:df}});function aw(t,e){const n=[],{bounds:i,step:r,min:o,max:a,precision:c,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=t,g=r||1,v=d-1,{min:y,max:w}=e,p=!le(o),m=!le(a),x=!le(u),k=(w-y)/(h+1);let j=mh((w-y)/v/g)*g,N,L,_,S;if(j<1e-14&&!p&&!m)return[{value:y},{value:w}];S=Math.ceil(w/j)-Math.floor(y/j),S>v&&(j=mh(S*j/v/g)*g),le(c)||(N=Math.pow(10,c),j=Math.ceil(j*N)/N),i==="ticks"?(L=Math.floor(y/j)*j,_=Math.ceil(w/j)*j):(L=y,_=w),p&&m&&r&&ov((a-o)/r,j/1e3)?(S=Math.round(Math.min((a-o)/j,d)),j=(a-o)/S,L=o,_=a):x?(L=p?o:L,_=m?a:_,S=u-1,j=(_-L)/S):(S=(_-L)/j,ro(S,Math.round(S),j/1e3)?S=Math.round(S):S=Math.ceil(S));const M=Math.max(gh(j),gh(L));N=Math.pow(10,le(c)?M:c),L=Math.round(L*N)/N,_=Math.round(_*N)/N;let P=0;for(p&&(f&&L!==o?(n.push({value:o}),L<o&&P++,ro(Math.round((L+P*j)*N)/N,o,hf(o,k,t))&&P++):L<o&&P++);P<S;++P){const C=Math.round((L+P*j)*N)/N;if(m&&C>a)break;n.push({value:C})}return m&&f&&_!==a?n.length&&ro(n[n.length-1].value,a,hf(a,k,t))?n[n.length-1].value=a:n.push({value:a}):(!m||_===a)&&n.push({value:_}),n}function hf(t,e,{horizontal:n,minRotation:s}){const i=Kt(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class lw extends Ys{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return le(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=c=>i=n?i:c,a=c=>r=s?r:c;if(e){const c=Nn(i),u=Nn(r);c<0&&u<0?a(0):c>0&&u>0&&o(0)}if(i===r){let c=r===0?1:Math.abs(r*.05);a(r+c),e||o(i-c)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=aw(i,r);return e.bounds==="ticks"&&av(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return fu(e,this.chart.options.locale,this.options.ticks.format)}}class Vo extends lw{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=vt(e)?e:0,this.max=vt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Kt(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}V(Vo,"id","linear"),V(Vo,"defaults",{ticks:{callback:Um.formatters.numeric}});const da={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qe=Object.keys(da);function ff(t,e){return t-e}function pf(t,e){if(le(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),vt(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Fo(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function mf(t,e,n,s){const i=qe.length;for(let r=qe.indexOf(t);r<i-1;++r){const o=da[qe[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return qe[r]}return qe[i-1]}function cw(t,e,n,s,i){for(let r=qe.length-1;r>=qe.indexOf(n);r--){const o=qe[r];if(da[o].common&&t._adapter.diff(i,s,o)>=e-1)return o}return qe[n?qe.indexOf(n):0]}function uw(t){for(let e=qe.indexOf(t)+1,n=qe.length;e<n;++e)if(da[qe[e]].common)return qe[e]}function gf(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=du(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function dw(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,c;for(a=r;a<=o;a=+i.add(a,1,s))c=n[a],c>=0&&(e[c].major=!0);return e}function xf(t,e,n){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:dw(t,s,i,n)}class Uo extends Ys{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new S1._date(e.adapters.date);i.init(n),Ci(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:pf(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function c(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(r=Math.max(r,u.max))}(!o||!a)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=vt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=vt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=hv(i,r,o);return this._unit=n.unit||(s.autoSkip?mf(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):cw(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:uw(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),xf(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=tt(n,0,o),s=tt(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||mf(r.minUnit,n,s,this._getLabelCapacity(n)),a=q(i.ticks.stepSize,1),c=o==="week"?r.isoWeekday:!1,u=Fo(c)||c===!0,d={};let h=n,f,g;if(u&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,u?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const v=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,g=0;f<s;f=+e.add(f,a,o),g++)gf(d,f,v);return(f===s||i.bounds==="ticks"||g===1)&&gf(d,f,v),Object.keys(d).sort(ff).map(y=>+y)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return de(o,[e,n,s],this);const a=r.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&a[c],h=u&&a[u],f=s[n],g=u&&h&&f&&f.major;return this._adapter.format(e,i||(g?h:d))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=Kt(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,xf(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(pf(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Wm(e.sort(ff))}}V(Uo,"id","time"),V(Uo,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Yr(t,e,n){let s=0,i=t.length-1,r,o,a,c;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=ac(t,"pos",e)),{pos:r,time:a}=t[s],{pos:o,time:c}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=ac(t,"time",e)),{time:r,pos:a}=t[s],{time:o,pos:c}=t[i]);const u=o-r;return u?a+(c-a)*(e-r)/u:a}class yf extends Uo{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Yr(n,this.min),this._tableRange=Yr(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let o,a,c,u,d;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=s&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)d=i[o+1],c=i[o-1],u=i[o],Math.round((d+c)/2)!==u&&r.push({time:u,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Yr(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Yr(this._table,s*this._tableRange+this._minPos,!0)}}V(yf,"id","timeseries"),V(yf,"defaults",Uo.defaults);const wg="label";function vf(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function hw(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function bg(t,e){t.labels=e}function kg(t,e,n=wg){const s=[];t.datasets=e.map(i=>{const r=t.datasets.find(o=>o[n]===i[n]);return!r||!i.data||s.includes(r)?{...i}:(s.push(r),Object.assign(r,i),r)})}function fw(t,e=wg){const n={labels:[],datasets:[]};return bg(n,t.labels),kg(n,t.datasets,e),n}function pw(t,e){const{height:n=150,width:s=300,redraw:i=!1,datasetIdKey:r,type:o,data:a,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...f}=t,g=E.useRef(null),v=E.useRef(null),y=()=>{g.current&&(v.current=new or(g.current,{type:o,data:fw(a,r),options:c&&{...c},plugins:u}),vf(e,v.current))},w=()=>{vf(e,null),v.current&&(v.current.destroy(),v.current=null)};return E.useEffect(()=>{!i&&v.current&&c&&hw(v.current,c)},[i,c]),E.useEffect(()=>{!i&&v.current&&bg(v.current.config.data,a.labels)},[i,a.labels]),E.useEffect(()=>{!i&&v.current&&a.datasets&&kg(v.current.config.data,a.datasets,r)},[i,a.datasets]),E.useEffect(()=>{v.current&&(i?(w(),setTimeout(y)):v.current.update(h))},[i,c,a.labels,a.datasets,h]),E.useEffect(()=>{v.current&&(w(),setTimeout(y))},[o]),E.useEffect(()=>(y(),()=>w()),[]),l.jsx("canvas",{ref:g,role:"img",height:n,width:s,...f,children:d})}const mw=E.forwardRef(pw);function jg(t,e){return or.register(e),E.forwardRef((n,s)=>l.jsx(mw,{...n,ref:s,type:t}))}const hc=jg("bar",oo),_g=jg("doughnut",mi);or.register(_s,Ho,Vo,Ei,xg,vg,mg);function gw({summary:t,students:e}){const n={labels:["Complete","Active","Warning","Re-engage"],datasets:[{data:[t.completeCount||0,t.activeCount,t.warningCount,t.reengageCount],backgroundColor:["#3b82f6","#22c55e","#f97316","#ef4444"],borderColor:["#ffffff","#ffffff","#ffffff","#ffffff"],borderWidth:2}]},s={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,font:{size:12}}},tooltip:{callbacks:{label:d=>{const h=d.dataset.data.reduce((g,v)=>g+v,0),f=(d.raw/h*100).toFixed(1);return`${d.label}: ${d.raw} (${f}%)`}}}}},i=[{label:"0-25%",min:0,max:25,count:0,color:"#ef4444"},{label:"26-50%",min:26,max:50,count:0,color:"#f97316"},{label:"51-75%",min:51,max:75,count:0,color:"#3b82f6"},{label:"76-100%",min:76,max:100,count:0,color:"#22c55e"}];e.forEach(d=>{const h=d.progress.value;for(const f of i)if(h>=f.min&&h<=f.max){f.count++;break}});const r={labels:i.map(d=>d.label),datasets:[{label:"Students",data:i.map(d=>d.count),backgroundColor:i.map(d=>d.color),borderRadius:6}]},o={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:d=>`${d.raw} students`}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}},a=e.filter(d=>d.progress.value>=100).length,c=e.filter(d=>d.progress.value>0&&d.progress.value<100).length,u=e.filter(d=>d.progress.value===0).length;return l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Student Status"}),l.jsx("div",{className:"h-64",children:l.jsx(_g,{data:n,options:s})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Progress Distribution"}),l.jsx("div",{className:"h-64",children:l.jsx(hc,{data:r,options:o})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Course Status"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Completed"})]}),l.jsx("span",{className:"text-2xl font-bold text-green-600",children:a})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"In Progress"})]}),l.jsx("span",{className:"text-2xl font-bold text-blue-600",children:c})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Not Started"})]}),l.jsx("span",{className:"text-2xl font-bold text-gray-600",children:u})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm text-gray-500",children:"Average Progress"}),l.jsxs("span",{className:"font-bold text-gray-900",children:[t.averageProgress,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:"h-3 rounded-full transition-all duration-500",style:{width:`${t.averageProgress}%`,backgroundColor:t.averageProgress>=75?"#22c55e":t.averageProgress>=40?"#3b82f6":"#f97316"}})})]})]})]})]})}or.register(_s,Ho,Vo,Ei,xg,vg,mg);function xw({examSummary:t,students:e}){const n={labels:["Passed","Failed","Upcoming","Pending"],datasets:[{data:[t.passed,t.failed,t.upcoming,t.noResult],backgroundColor:["#22c55e","#ef4444","#3b82f6","#f97316"],borderColor:["#ffffff","#ffffff","#ffffff","#ffffff"],borderWidth:2}]},s={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,usePointStyle:!0,font:{size:12}}},tooltip:{callbacks:{label:p=>{const m=p.dataset.data.reduce((k,j)=>k+j,0),x=m>0?(p.raw/m*100).toFixed(1):0;return`${p.label}: ${p.raw} (${x}%)`}}}}},i=t.courseTypes||{},r=Object.keys(i).filter(p=>p!=="Unknown"&&p),o=r.map(p=>{const m=i[p],x=m.passed+m.failed;return x>0?Math.round(m.passed/x*100):0}),a=r.map(p=>{const m=i[p];return m.passed+m.failed}),c={labels:r,datasets:[{label:"Pass Rate %",data:o,backgroundColor:o.map(p=>p>=70?"#22c55e":p>=50?"#f97316":"#ef4444"),borderRadius:6}]},u={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:p=>{const m=p.dataIndex;return`Pass rate: ${p.raw}% (${a[m]} taken)`}}}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:p=>p+"%"}},x:{ticks:{font:{size:11}}}}},d={labels:["Passed","Failed","All Students"],datasets:[{label:"Avg Study Time (minutes)",data:[t.avgStudyPassed||0,t.avgStudyFailed||0,t.avgStudyTime||0],backgroundColor:["#22c55e","#ef4444","#6366f1"],borderRadius:6}]},h=p=>p>=60?`${Math.floor(p/60)}h ${p%60}m`:`${p}m`,f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:p=>`Avg: ${h(p.raw)}`}}},scales:{y:{beginAtZero:!0,ticks:{callback:p=>h(p)}}}},g=e.filter(p=>p.matched!==!1),v=e.filter(p=>(p.passFail||"").toUpperCase()==="PASS"),y=e.filter(p=>(p.passFail||"").toUpperCase()==="FAIL"),w=[{label:"0-25%",min:0,max:25,count:0,color:"#ef4444"},{label:"26-50%",min:26,max:50,count:0,color:"#f97316"},{label:"51-75%",min:51,max:75,count:0,color:"#3b82f6"},{label:"76-100%",min:76,max:100,count:0,color:"#22c55e"}];return g.forEach(p=>{var x;const m=((x=p.progress)==null?void 0:x.value)||0;for(const k of w)if(m>=k.min&&m<=k.max){k.count++;break}}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Exam Results"}),l.jsx("div",{className:"h-64",children:l.jsx(_g,{data:n,options:s})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pass Rate by Course"}),l.jsx("div",{className:"h-64",children:r.length>0?l.jsx(hc,{data:c,options:u}):l.jsx("div",{className:"h-full flex items-center justify-center text-gray-400",children:"No exam results yet"})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Avg Study Time"}),t.avgStudyPassed>0||t.avgStudyFailed>0?l.jsx("div",{className:"h-64",children:l.jsx(hc,{data:d,options:f})}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Passed"})]}),l.jsx("span",{className:"text-2xl font-bold text-green-600",children:v.length})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Failed"})]}),l.jsx("span",{className:"text-2xl font-bold text-red-600",children:y.length})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("span",{className:"font-medium text-gray-900",children:"Tracked"})]}),l.jsx("span",{className:"text-2xl font-bold text-blue-600",children:g.length})]}),l.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Study time data available for students in your department"})]})]})]})}const ke="/api";function yw({user:t,department:e,onLogout:n,initialData:s}){const[i,r]=E.useState((s==null?void 0:s.students)||[]),[o,a]=E.useState((s==null?void 0:s.summary)||null),[c,u]=E.useState(!s),[d,h]=E.useState(!1),[f,g]=E.useState((s==null?void 0:s.isQuick)||!1),[v,y]=E.useState(null),[w,p]=E.useState(s?new Date:null),[m,x]=E.useState(null),[k,j]=E.useState(!1),[N,L]=E.useState(!1),[_,S]=E.useState("students"),[M,P]=E.useState([]),[C,B]=E.useState(null),[Q,H]=E.useState(!1),[K,X]=E.useState(!1),[A,F]=E.useState(!1),[W,Z]=E.useState(""),[ne,Te]=E.useState(!1),[ve,O]=E.useState(""),[$,se]=E.useState(null),[Me,we]=E.useState(!1),[be,Lt]=E.useState([]),[Xs,ar]=E.useState(!1),[Ks,ju]=E.useState(!1),[ha,_u]=E.useState(""),[Su,Nu]=E.useState(""),[Cu,Qs]=E.useState(""),[fa,lr]=E.useState(!1),[Se,pa]=E.useState([]),Mu=E.useRef(!1),[cr,Sg]=E.useState(!1),[Lu,Eu]=E.useState(""),[Pu,nn]=E.useState(""),[Du,ma]=E.useState([]),[Tn,ga]=E.useState([]),[xa,Tu]=E.useState(!1),[An,ya]=E.useState(""),[va,Ng]=E.useState("all"),[ur,Au]=E.useState("no-result"),[dr,Ou]=E.useState("all"),[sn,wa]=E.useState([]),[ba,Ru]=E.useState(!1),[hr,Fu]=E.useState("all"),[fr,zu]=E.useState("all"),[ka,Iu]=E.useState("all");E.useEffect(()=>{s?(console.log("[DASHBOARD] Using pre-fetched data"),s.isQuick&&(console.log("[DASHBOARD] Loading full data in background..."),Cg())):(console.log("[DASHBOARD] Component mounted, fetching data..."),$u())},[]),E.useEffect(()=>{if(!(t!=null&&t.email))return;(async()=>{var D;try{const R=await fetch(`${ke}/dashboard/dept-prefs`,{credentials:"include"});if(R.ok){const I=await R.json();I.success&&((D=I.departmentIds)==null?void 0:D.length)>0&&pa(I.departmentIds)}}catch(R){console.error("[DEPT] Failed to load dept prefs:",R)}Mu.current=!0})()},[t==null?void 0:t.email]),E.useEffect(()=>{!(t!=null&&t.email)||!Mu.current||fetch(`${ke}/dashboard/dept-prefs`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({departmentIds:Se})}).catch(b=>console.error("[DEPT] Failed to save dept prefs:",b))},[Se]),E.useEffect(()=>{Se.length>0?Mg():(ma([]),ga([]),$u()),X(!1)},[Se.length]),E.useEffect(()=>{_==="exam"&&!K&&!Q&&Gs()},[_]);const Gs=async b=>{H(!0);try{const D=b||W,R=new URLSearchParams;D&&R.set("adminKey",D),Se.length>0&&R.set("departments",Se.join(","));const I=R.toString(),U=I?`${ke}/exam/students?${I}`:`${ke}/exam/students`;console.log("[EXAM] Fetching with URL:",U,"extraDepts:",Se);const Y=await fetch(U,{credentials:"include"});if(!Y.ok){if(Y.status===401){n();return}throw new Error("Failed to fetch exam data")}const Ye=await Y.json();Ye.success&&(P(Ye.students),B(Ye.examSummary),we(!1),X(!0),D&&fetch(`${ke}/exam/sync-scheduler/status`,{credentials:"include"}).then(J=>J.ok?J.json():null).then(J=>{J!=null&&J.success&&se(J.scheduler)}).catch(()=>{}))}catch(D){y("Failed to load exam data. Please try again."),console.error("[DASHBOARD] Exam data error:",D)}finally{H(!1)}},Cg=async()=>{try{const[b,D]=await Promise.all([fetch(`${ke}/dashboard/summary`,{credentials:"include"}),fetch(`${ke}/dashboard/students`,{credentials:"include"})]);if(b.ok&&D.ok){const[R,I]=await Promise.all([b.json(),D.json()]);R.success&&I.success&&(console.log("[DASHBOARD] Full data loaded, updating..."),a(R.summary),r(I.students),p(new Date))}}catch(b){console.error("[DASHBOARD] Background load failed:",b)}finally{g(!1)}},Mg=async()=>{u(!0),y(null);try{const b=Se.join(","),D=await fetch(`${ke}/dashboard/students/multi?departments=${encodeURIComponent(b)}`,{credentials:"include"});if(!D.ok){if(D.status===401){n();return}throw new Error("Failed to fetch multi-department data")}const R=await D.json();if(R.success){r(R.students),a(R.summary),ma(R.departments||[]),p(new Date);const I=(R.departments||[]).filter(U=>U.status==="error");I.length>0&&nn(`Could not load ${I.length} department(s): ${I.map(U=>U.error||U.id).join(", ")}`)}}catch(b){y("Failed to load multi-department data. Please try again."),console.error("[DASHBOARD] Multi-dept error:",b)}finally{u(!1)}},Bu=()=>{var R;const b=Lu.trim();if(!/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(b)){nn("Invalid Department ID format (must be a GUID like xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx)");return}if(b.toLowerCase()===((R=e==null?void 0:e.id)==null?void 0:R.toLowerCase())){nn("This is already your primary department");return}if(Se.some(I=>I.toLowerCase()===b.toLowerCase())){nn("Department already added");return}if(Se.length>=10){nn("Maximum 10 additional departments");return}nn(""),Eu(""),pa(I=>[...I,b])},Wu=b=>{pa(D=>D.filter(R=>R!==b))},$u=E.useCallback(async()=>{u(!0),y(null);try{const[b,D]=await Promise.all([fetch(`${ke}/dashboard/summary`,{credentials:"include"}),fetch(`${ke}/dashboard/students`,{credentials:"include"})]);if(!b.ok||!D.ok){if(b.status===401||D.status===401){n();return}throw new Error("Failed to fetch data")}const R=await b.json(),I=await D.json();R.success&&a(R.summary),I.success&&r(I.students),p(new Date)}catch(b){y("Failed to load dashboard data. Please try again."),console.error("Dashboard error:",b)}finally{u(!1)}},[n]),Lg=async()=>{h(!0),y(null);try{const b=Se.length>0?JSON.stringify({extraDepartments:Se}):void 0,D=await fetch(`${ke}/dashboard/sync`,{method:"POST",credentials:"include",headers:b?{"Content-Type":"application/json"}:{},body:b});if(!D.ok){if(D.status===401){n();return}const I=await D.json().catch(()=>null);throw new Error((I==null?void 0:I.error)||`Sync failed (${D.status})`)}const R=await D.json();R.success&&(a(R.summary),r(R.students),R.departments&&ma(R.departments),p(new Date),K&&(X(!1),_==="exam"&&Gs()))}catch(b){console.error("[SYNC] Error:",b),y(b.message||"Failed to sync data. Please try again.")}finally{h(!1)}},Eg=async()=>{try{const b=Se.length>0?`${ke}/dashboard/export?departments=${encodeURIComponent(Se.join(","))}`:`${ke}/dashboard/export`,D=await fetch(b,{credentials:"include"});if(!D.ok)throw new Error("Export failed");const R=await D.blob(),I=window.URL.createObjectURL(R),U=document.createElement("a");U.href=I,U.download=`students_export_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(U),U.click(),window.URL.revokeObjectURL(I),U.remove()}catch{y("Failed to export data. Please try again.")}},Pg=async b=>{try{(await(await fetch(`${ke}/exam/admin-verify`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({password:b})})).json()).success?(F(!0),Z(b),Te(!1),O(""),X(!1),Gs(b),Hu(b)):O("Invalid password")}catch{O("Failed to verify")}},Dg=()=>{F(!1),Z(""),Te(!1),O(""),Lt([]),lr(!1),ju(!1),X(!1),Gs("")},Hu=async b=>{ar(!0);try{const R=await(await fetch(`${ke}/exam/allowlist?adminKey=${encodeURIComponent(b||W)}`,{credentials:"include"})).json();R.success&&(Lt(R.users),lr(R.enforcing))}catch(D){console.error("Failed to fetch allowlist:",D)}finally{ar(!1)}},ja=async()=>{if(!ha.trim()){Qs("Email is required");return}Qs("");try{const D=await(await fetch(`${ke}/exam/allowlist/add`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:ha.trim(),name:Su.trim(),adminKey:W})})).json();D.success?(Lt(D.users),lr(!0),_u(""),Nu(""),D.autoAddedAdmin&&alert("Your admin account was automatically added to the allowlist to prevent lockout.")):Qs(D.error||"Failed to add user")}catch{Qs("Network error")}},Tg=async b=>{if(confirm(`Remove ${b} from allowed users? They will not be able to log in.`))try{const R=await(await fetch(`${ke}/exam/allowlist/remove`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:b,adminKey:W})})).json();R.success&&(Lt(R.users),lr(R.enforcing),R.warning&&alert(R.warning))}catch(D){console.error("Failed to remove from allowlist:",D)}},_a=b=>b>=60?`${Math.floor(b/60)}h ${b%60}m`:`${b}m`,pr=b=>{const D=b.length,R=b.filter(oe=>(oe.passFail||"").toUpperCase()==="PASS"),I=b.filter(oe=>(oe.passFail||"").toUpperCase()==="FAIL"),U=R.length,Y=I.length,Ye=Date.now();let J=0,bt=0;b.forEach(oe=>{var Gu;const Ae=Sa(oe.examDateRaw),Et=(oe.passFail||"").trim()!=="";Ae>Ye&&!Et&&(J++,oe.matched!==!1&&(((Gu=oe.progress)==null?void 0:Gu.value)||0)<80&&bt++)});const rn=U+Y,On=rn>0?Math.round(U/rn*1e3)/10:0,xe=b.filter(oe=>oe.matched!==!1),os=R.filter(oe=>oe.matched!==!1),as=I.filter(oe=>oe.matched!==!1),Rn=oe=>{var Ae,Et;return(((Ae=oe.timeSpent)==null?void 0:Ae.minutes)||0)+(((Et=oe.examPrepTime)==null?void 0:Et.minutes)||0)},Fn=xe.length>0?Math.round(xe.reduce((oe,Ae)=>oe+Rn(Ae),0)/xe.length):0,Ku=os.length>0?Math.round(os.reduce((oe,Ae)=>oe+Rn(Ae),0)/os.length):0,Qu=as.length>0?Math.round(as.reduce((oe,Ae)=>oe+Rn(Ae),0)/as.length):0,Wg=xe.length>0?Math.round(xe.reduce((oe,Ae)=>{var Et;return oe+(((Et=Ae.progress)==null?void 0:Et.value)||0)},0)/xe.length*10)/10:0,ls={};return b.forEach(oe=>{const Ae=(oe.examCourse||"Unknown").trim();ls[Ae]||(ls[Ae]={total:0,passed:0,failed:0}),ls[Ae].total++;const Et=(oe.passFail||"").toUpperCase();Et==="PASS"?ls[Ae].passed++:Et==="FAIL"&&ls[Ae].failed++}),{total:D,passed:U,failed:Y,upcoming:J,atRisk:bt,passRate:On,noResult:D-U-Y-J,avgStudyTime:Fn,avgStudyTimeFormatted:_a(Fn),avgStudyPassed:Ku,avgStudyPassedFormatted:_a(Ku),avgStudyFailed:Qu,avgStudyFailedFormatted:_a(Qu),averageProgress:Wg,courseTypes:ls}},Vu=async(b,D)=>{try{const I=await(await fetch(`${ke}/exam/update-result`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:b,result:D,adminKey:W})})).json();if(I.success){const U=M.map(Y=>Y.email===b?{...Y,passFail:D}:Y);P(U),B(pr(U)),x(Y=>Y&&Y.email===b?{...Y,passFail:D}:Y),I.sheetSaved||alert("Warning: Result saved locally but failed to save to Google Sheet. It may be lost after server restart. Check GOOGLE_SHEETS_CREDENTIALS_JSON env var.")}else alert("Failed to save result: "+(I.error||"Unknown error"))}catch(R){console.error("Failed to update result:",R),alert("Failed to save result. Check console for details.")}},Uu=async(b,D,R)=>{try{const U=await(await fetch(`${ke}/exam/update-date`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:b,date:D,time:R||"",adminKey:W})})).json();if(U.success){const[Y,Ye,J]=D.split("-").map(Number),rn=new Date(Y,Ye-1,J).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),On=M.map(xe=>xe.email===b?{...xe,examDateRaw:D,examDate:rn,examTime:R||xe.examTime}:xe);P(On),B(pr(On)),x(xe=>xe&&xe.email===b?{...xe,examDateRaw:D,examDate:rn,examTime:R||xe.examTime}:xe),U.sheetSaved||alert("Warning: Date saved locally but failed to save to Google Sheet. It may be lost after server restart.")}else alert("Failed to save date: "+(U.error||"Unknown error"))}catch(I){console.error("Failed to update exam date:",I),alert("Failed to save date. Check console for details.")}},Ag=async(b,D)=>{try{const I=await(await fetch(`${ke}/students/${b}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(D)})).json();if(I.success){const U=I.student;return r(Y=>Y.map(Ye=>Ye.id===b?{...Ye,firstName:U.firstName,lastName:U.lastName,fullName:`${U.firstName} ${U.lastName}`.trim(),email:U.emailAddress,phone:U.phone}:Ye)),{success:!0,student:U}}else return{success:!1,error:I.error||"Update failed"}}catch(R){return console.error("Failed to update student contact:",R),{success:!1,error:"Network error"}}},Og=async(b,D,R,I)=>{try{const Y=await(await fetch(`${ke}/exam/update-contact`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:b,name:D,newEmail:R,phone:I,adminKey:W})})).json();if(Y.success){const Ye=M.map(J=>{var bt;return J.email===b?{...J,fullName:D||J.fullName,email:R||J.email,phone:I||J.phone,sheetTracking:{...J.sheetTracking,phone:I||((bt=J.sheetTracking)==null?void 0:bt.phone)}}:J});P(Ye),x(J=>{var bt;return J&&J.email===b?{...J,fullName:D||J.fullName,email:R||J.email,phone:I||J.phone,sheetTracking:{...J.sheetTracking,phone:I||((bt=J.sheetTracking)==null?void 0:bt.phone)}}:J}),Y.sheetSaved||alert("Warning: Contact saved locally but failed to save to Google Sheet. Check GOOGLE_SHEETS_CREDENTIALS_JSON env var.")}else alert("Failed to save contact: "+(Y.error||"Unknown error"))}catch(U){console.error("Failed to update sheet contact:",U),alert("Failed to save contact. Check console for details.")}},Yu=[...new Set(i.map(b=>(b.departmentName||"").trim()).filter(Boolean))].sort(),Xu=i.filter(b=>{const D=An.toLowerCase(),R=!An||b.fullName.toLowerCase().includes(D)||b.email.toLowerCase().includes(D)||(b.departmentName||"").toLowerCase().includes(D),I=va==="all"||b.status.status.toLowerCase()===va.toLowerCase(),U=Tn.length===0||Tn.includes((b.departmentName||"").trim());return R&&I&&U}),Sa=b=>{if(!b)return 0;if(/^\d{4}-\d{2}-\d{2}$/.test(b))return new Date(b+"T00:00:00").getTime();const D=b.split("/");if(D.length===3)return new Date(D[2],D[0]-1,D[1]).getTime();const R=new Date(b);return isNaN(R.getTime())?0:R.getTime()},Rg=(b,D)=>{if(D==="all")return!0;const R=Sa(b.examDateRaw);if(!R)return D==="no-date";const I=new Date;I.setHours(0,0,0,0);const U=I.getTime(),Y=Math.ceil((R-U)/864e5);switch(D){case"overdue":return Y<0;case"today":return Y===0;case"tomorrow":return Y===1;case"2-days":return Y>=0&&Y<=2;case"3-days":return Y>=0&&Y<=3;case"this-week":return Y>=0&&Y<=7;case"next-week":return Y>7&&Y<=14;case"this-month":return Y>=0&&Y<=30;case"no-date":return!1;default:return!0}},mr=M.filter(b=>{var rn,On;if(!A&&b.matched===!1)return!1;const D=An.toLowerCase(),R=!An||(b.fullName||"").toLowerCase().includes(D)||(b.email||"").toLowerCase().includes(D)||(b.departmentName||"").toLowerCase().includes(D)||(b.agencyOwner||"").toLowerCase().includes(D);let I=!0;if(ur!=="all"){const xe=(b.passFail||"").toUpperCase(),os=Sa(b.examDateRaw),as=new Date;as.setHours(0,0,0,0);const Rn=os&&os<as.getTime(),Fn=xe==="PASS"||xe==="FAIL";switch(ur){case"passed":I=xe==="PASS";break;case"failed":I=xe==="FAIL";break;case"no-result":I=!Fn;break;case"upcoming":I=!Rn&&!Fn;break;case"pending":I=Rn&&!Fn;break;case"at-risk":I=!Rn&&!Fn&&b.matched!==!1&&(((rn=b.progress)==null?void 0:rn.value)||0)<80;break;default:I=!0}}const U=dr==="all"||(b.examCourse||"").toLowerCase()===dr.toLowerCase(),Y=sn.length===0||sn.includes((b.departmentName||"").trim()),Ye=hr==="all"||(b.examState||"").toLowerCase()===hr.toLowerCase(),J=fr==="all"||(((On=b.readiness)==null?void 0:On.status)||"GRAY")===fr,bt=Rg(b,ka);return R&&I&&U&&Y&&Ye&&J&&bt}),gr=A?M:M.filter(b=>b.matched!==!1),Fg=[...new Set(gr.map(b=>(b.examCourse||"").trim()).filter(Boolean))].sort(),zg=[...new Set(gr.map(b=>(b.departmentName||"").trim()).filter(Boolean))].sort(),Ig=[...new Set(gr.map(b=>(b.examState||"").trim()).filter(Boolean))].sort(),Bg=()=>{if(!w)return"Never";const D=Math.floor((new Date-w)/1e3);return D<60?"Just now":D<3600?`${Math.floor(D/60)} minutes ago`:D<86400?`${Math.floor(D/3600)} hours ago`:w.toLocaleDateString()};return c?l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx("header",{className:"header shadow-lg",children:l.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-10 w-32 bg-white/20 rounded animate-pulse"}),l.jsxs("div",{children:[l.jsx("div",{className:"h-5 w-40 bg-white/20 rounded animate-pulse mb-1"}),l.jsx("div",{className:"h-4 w-24 bg-white/10 rounded animate-pulse"})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-9 w-20 bg-white/10 rounded-lg animate-pulse"}),l.jsx("div",{className:"h-9 w-9 bg-white/10 rounded-lg animate-pulse"})]})]})})}),l.jsxs("main",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"spinner mx-auto mb-2"}),l.jsx("p",{className:"text-gray-600 text-sm",children:"Loading student data..."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(b=>l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 animate-pulse",children:[l.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded mb-3"}),l.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded"})]},b))}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b",children:l.jsx("div",{className:"h-10 w-64 bg-gray-200 rounded animate-pulse"})}),l.jsx("div",{className:"divide-y",children:[1,2,3,4,5].map(b=>l.jsx("div",{className:"p-4 animate-pulse",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),l.jsxs("div",{children:[l.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded mb-2"}),l.jsx("div",{className:"h-3 w-48 bg-gray-100 rounded"})]})]}),l.jsx("div",{className:"h-6 w-20 bg-gray-200 rounded-full"})]})},b))})]})]})]}):l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx("header",{className:"header shadow-lg",children:l.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("img",{src:"/logo.png",alt:"JustInsurance",className:"h-20 w-auto",onError:b=>{b.target.style.display="none"}}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white",children:"Student Dashboard"}),l.jsx("p",{className:"text-sm text-ji-blue-light",children:e==null?void 0:e.name})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{onClick:Lg,disabled:d,className:"flex items-center space-x-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",children:[l.jsx("svg",{className:`w-5 h-5 ${d?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),l.jsx("span",{children:d?"Syncing...":"Sync"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"text-right hidden sm:block",children:[l.jsx("p",{className:"text-white font-medium",children:t==null?void 0:t.name}),l.jsx("p",{className:"text-xs text-ji-blue-light",children:t==null?void 0:t.email})]}),l.jsx("button",{onClick:n,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors",title:"Logout",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})]})})}),l.jsxs("main",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[v&&l.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("span",{className:"text-red-700",children:v})]}),l.jsx("button",{onClick:()=>y(null),className:"text-red-500 hover:text-red-700",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"flex space-x-1 mb-6 bg-white rounded-lg shadow-md p-1 max-w-xs",children:[l.jsx("button",{className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${_==="students"?"bg-ji-blue-bright text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,onClick:()=>S("students"),children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),l.jsx("span",{children:"Students"})]})}),l.jsx("button",{className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${_==="exam"?"bg-ji-blue-bright text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,onClick:()=>S("exam"),children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.jsx("span",{children:"Exam"})]})})]}),_==="students"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("p",{className:"text-sm text-gray-500",children:["Last updated: ",Bg()]}),f&&l.jsxs("span",{className:"text-xs text-ji-blue-bright flex items-center gap-1",children:[l.jsxs("svg",{className:"animate-spin h-3 w-3",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading progress data..."]})]}),l.jsxs("button",{onClick:()=>j(!k),className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center space-x-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),l.jsx("span",{children:k?"Hide Charts":"Show Charts"})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("svg",{className:"w-5 h-5 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Departments (",1+Se.length,")"]}),l.jsx("span",{className:"px-2 py-0.5 bg-ji-blue-bright/10 text-ji-blue-bright text-xs rounded-full font-medium",children:(e==null?void 0:e.name)||"Primary"}),Du.filter(b=>b.status==="ok"&&b.id!==(e==null?void 0:e.id)).map(b=>l.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full flex items-center gap-1",children:[b.name," (",b.studentCount,")",l.jsx("button",{onClick:()=>Wu(b.id),className:"text-red-400 hover:text-red-600 ml-0.5",title:"Remove department",children:l.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},b.id)),Se.filter(b=>!Du.some(D=>D.id===b&&D.status==="ok")).map(b=>l.jsxs("span",{className:"px-2 py-0.5 bg-yellow-50 text-yellow-700 text-xs rounded-full flex items-center gap-1",children:[b.substring(0,8),"...",l.jsx("button",{onClick:()=>Wu(b),className:"text-red-400 hover:text-red-600 ml-0.5",title:"Remove department",children:l.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},b))]}),l.jsxs("button",{onClick:()=>{Sg(!cr),nn("")},className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:cr?"M5 15l7-7 7 7":"M12 4v16m8-8H4"})}),l.jsx("span",{children:cr?"Close":"Add Department"})]})]}),cr&&l.jsxs("div",{className:"mt-3 flex gap-2 items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("input",{type:"text",placeholder:"Paste Department ID (e.g. a1b2c3d4-e5f6-7890-abcd-ef1234567890)",value:Lu,onChange:b=>{Eu(b.target.value),nn("")},onKeyDown:b=>b.key==="Enter"&&Bu(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-ji-blue-bright"}),Pu&&l.jsx("p",{className:"text-red-500 text-xs mt-1",children:Pu})]}),l.jsx("button",{onClick:Bu,className:"btn btn-primary text-sm py-2 px-4 whitespace-nowrap",children:"Add"})]})]}),o&&l.jsx(yy,{summary:o}),k&&o&&l.jsx("div",{className:"mb-8 animate-fadeIn",children:l.jsx(gw,{summary:o,students:i})}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),l.jsx("input",{type:"text",placeholder:"Search by name, email, or department...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright",value:An,onChange:b=>ya(b.target.value)})]}),l.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[Se.length>0&&Yu.length>1&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>Tu(!xa),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright bg-white flex items-center gap-2 text-sm",children:[l.jsx("span",{children:Tn.length===0?"All Departments":`${Tn.length} dept${Tn.length>1?"s":""}`}),l.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:xa?"M5 15l7-7 7 7":"M19 9l-7 7-7-7"})})]}),xa&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>Tu(!1)}),l.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-20 min-w-[200px] py-1",children:[l.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-50 cursor-pointer text-sm border-b border-gray-100",children:[l.jsx("input",{type:"checkbox",checked:Tn.length===0,onChange:()=>ga([]),className:"rounded text-ji-blue-bright"}),l.jsx("span",{className:"font-medium",children:"All Departments"})]}),Yu.map(b=>l.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-50 cursor-pointer text-sm",children:[l.jsx("input",{type:"checkbox",checked:Tn.includes(b),onChange:()=>{ga(D=>D.includes(b)?D.filter(R=>R!==b):[...D,b])},className:"rounded text-ji-blue-bright"}),l.jsx("span",{className:"truncate",children:b})]},b))]})]})]}),l.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright",value:va,onChange:b=>Ng(b.target.value),children:[l.jsx("option",{value:"all",children:"All Status"}),l.jsx("option",{value:"complete",children:"Complete"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"warning",children:"Warning"}),l.jsx("option",{value:"re-engage",children:"Re-engage"}),l.jsx("option",{value:"abandoned",children:"Abandoned"}),l.jsx("option",{value:"course expired",children:"Course Expired"})]}),l.jsxs("button",{onClick:Eg,className:"btn btn-secondary flex items-center space-x-2",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),l.jsx("span",{children:"Export CSV"})]})]})]}),l.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:["Showing ",Xu.length," of ",i.length," students",Se.length>0&&` across ${1+Se.length} departments`]})]}),l.jsx(vy,{students:Xu,onViewStudent:x,showDepartment:Se.length>0})]}),_==="exam"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-6 flex items-center justify-between flex-wrap gap-3",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Exam scheduling, pass rates & study tracking"}),l.jsxs("button",{onClick:()=>Gs(),disabled:Q,className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center space-x-1",children:[l.jsx("svg",{className:`w-4 h-4 ${Q?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),l.jsx("span",{children:Q?"Refreshing...":"Refresh"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[A?l.jsxs("div",{className:"flex items-center gap-2",children:[$&&l.jsx("span",{className:`text-xs px-2 py-1 rounded-lg border ${$.enabled?"text-green-600 border-green-200 bg-green-50":"text-gray-500 border-gray-200 bg-gray-50"}`,title:$.lastSync?`Last: ${new Date($.lastSync).toLocaleString()}`:"No sync yet",children:$.enabled?`Auto-sync: every ${$.intervalHours}h${$.lastSync?` | Last: ${(()=>{const b=Math.round((Date.now()-new Date($.lastSync).getTime())/6e4);return b<1?"just now":b<60?`${b}m ago`:`${Math.round(b/60)}h ago`})()}`:""}`:"Auto-sync: not configured"}),l.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700",children:[l.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Admin Mode"]}),l.jsx("button",{onClick:Dg,className:"text-xs text-gray-500 hover:text-red-500",children:"Exit"})]}):l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>Te(!ne),className:"text-sm text-purple-500 hover:text-purple-700 flex items-center space-x-1 px-2.5 py-1 rounded-lg border border-purple-200 hover:border-purple-400 hover:bg-purple-50 transition-colors",title:"Admin Override",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),l.jsx("span",{children:"Admin"})]}),ne&&l.jsxs("div",{className:"absolute right-0 top-8 bg-white rounded-lg shadow-lg border p-3 z-50 w-64",children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Enter admin password to view all student data"}),l.jsxs("form",{onSubmit:b=>{b.preventDefault(),Pg(b.target.password.value)},children:[l.jsx("input",{name:"password",type:"password",placeholder:"Admin password",className:"w-full px-3 py-1.5 border rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",autoFocus:!0}),ve&&l.jsx("p",{className:"text-xs text-red-500 mt-1",children:ve}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("button",{type:"submit",className:"flex-1 px-3 py-1.5 bg-purple-600 text-white rounded text-xs font-medium hover:bg-purple-700",children:"Unlock"}),l.jsx("button",{type:"button",onClick:()=>{Te(!1),O("")},className:"px-3 py-1.5 bg-gray-100 rounded text-xs text-gray-600 hover:bg-gray-200",children:"Cancel"})]})]})]})]}),l.jsxs("button",{onClick:()=>L(!N),className:"text-sm text-ji-blue-bright hover:text-ji-blue-medium flex items-center space-x-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),l.jsx("span",{children:N?"Hide Charts":"Show Charts"})]})]})]}),A&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6 border-l-4 border-purple-500",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),l.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Allowed Users"}),l.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full font-medium ${fa?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:fa?`Active (${be.length} users)`:"Not enforcing"})]}),l.jsx("button",{onClick:()=>{ju(!Ks),!Ks&&be.length===0&&Hu()},className:"text-sm text-purple-600 hover:text-purple-800 font-medium",children:Ks?"Hide":"Manage"})]}),!fa&&!Ks&&l.jsx("p",{className:"text-xs text-gray-500",children:"No users in allowlist. All authenticated Absorb users can log in. Add a user to start restricting access."}),Ks&&l.jsxs("div",{className:"mt-3",children:[l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx("input",{type:"email",placeholder:"Email address",value:ha,onChange:b=>{_u(b.target.value),Qs("")},onKeyDown:b=>b.key==="Enter"&&ja(),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("input",{type:"text",placeholder:"Name (optional)",value:Su,onChange:b=>Nu(b.target.value),onKeyDown:b=>b.key==="Enter"&&ja(),className:"w-40 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),l.jsx("button",{onClick:ja,className:"px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700",children:"Add"})]}),Cu&&l.jsx("p",{className:"text-xs text-red-500 mb-2",children:Cu}),Xs?l.jsx("p",{className:"text-sm text-gray-400",children:"Loading..."}):be.length>0?l.jsx("div",{className:"divide-y divide-gray-100 max-h-64 overflow-y-auto",children:be.map(b=>l.jsxs("div",{className:"flex items-center justify-between py-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-800",children:b.name||b.email}),l.jsxs("p",{className:"text-xs text-gray-500",children:[b.email,"  Added ",new Date(b.added_at).toLocaleDateString()]})]}),l.jsx("button",{onClick:()=>Tg(b.email),className:"text-xs text-red-500 hover:text-red-700 px-2 py-1 rounded hover:bg-red-50",children:"Remove"})]},b.email))}):l.jsx("p",{className:"text-sm text-gray-400",children:"No users in allowlist yet."})]})]}),N&&C&&l.jsx("div",{className:"mb-8 animate-fadeIn",children:l.jsx(xw,{examSummary:C,students:M})}),C&&l.jsxs(l.Fragment,{children:[Me&&l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:[l.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"KPIs filtered (",C.total," students)"]})}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 mb-4",children:[l.jsxs("div",{className:"kpi-card bg-gray-50 border-l-4 border-gray-500 animate-fadeIn",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Students"}),l.jsx("p",{className:"kpi-value text-gray-800",children:C.total}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exam scheduled"})]}),l.jsxs("div",{className:"kpi-card bg-blue-50 border-l-4 border-blue-500 animate-fadeIn",style:{animationDelay:"50ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Upcoming"}),l.jsx("p",{className:"kpi-value text-blue-800",children:C.upcoming}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exams scheduled"})]}),l.jsxs("div",{className:"kpi-card bg-green-50 border-l-4 border-green-500 animate-fadeIn",style:{animationDelay:"100ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pass Rate"}),l.jsxs("p",{className:"kpi-value text-green-800",children:[C.passRate,"%"]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[C.passed," passed / ",C.passed+C.failed," taken"]})]}),l.jsxs("div",{className:"kpi-card bg-red-50 border-l-4 border-red-500 animate-fadeIn",style:{animationDelay:"150ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed"}),l.jsx("p",{className:"kpi-value text-red-800",children:C.failed}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Exam result"})]}),l.jsxs("div",{className:"kpi-card bg-amber-50 border-l-4 border-amber-500 animate-fadeIn",style:{animationDelay:"200ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"At Risk"}),l.jsx("p",{className:"kpi-value text-amber-800",children:C.atRisk}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upcoming + <80% progress"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[l.jsxs("div",{className:"kpi-card bg-purple-50 border-l-4 border-purple-500 animate-fadeIn",style:{animationDelay:"250ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Study Time"}),l.jsx("p",{className:"kpi-value text-purple-800",children:C.avgStudyTimeFormatted}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All tracked students"})]}),l.jsxs("div",{className:"kpi-card bg-green-50 border-l-4 border-green-400 animate-fadeIn",style:{animationDelay:"300ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Time (Passed)"}),l.jsx("p",{className:"kpi-value text-green-700",children:C.avgStudyPassedFormatted}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students who passed"})]}),l.jsxs("div",{className:"kpi-card bg-red-50 border-l-4 border-red-400 animate-fadeIn",style:{animationDelay:"350ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Time (Failed)"}),l.jsx("p",{className:"kpi-value text-red-700",children:C.avgStudyFailedFormatted}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students who failed"})]}),l.jsxs("div",{className:"kpi-card bg-indigo-50 border-l-4 border-indigo-500 animate-fadeIn",style:{animationDelay:"400ms"},children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Progress"}),l.jsxs("p",{className:"kpi-value text-indigo-800",children:[C.averageProgress,"%"]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Course completion"})]})]}),C.courseTypes&&Object.keys(C.courseTypes).length>0&&l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Pass Rate by Course Type"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:Object.entries(C.courseTypes).map(([b,D])=>{const R=D.passed||0,I=D.failed||0,U=R+I,Y=U>0?Math.round(R/U*100):null;return l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-900 text-sm",children:b}),l.jsxs("p",{className:"text-xs text-gray-500",children:[D.total," students"]})]}),l.jsx("div",{className:"text-right",children:Y!==null?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:`text-lg font-bold ${Y>=70?"text-green-600":Y>=50?"text-amber-600":"text-red-600"}`,children:[Y,"%"]}),l.jsxs("p",{className:"text-xs text-gray-500",children:[R,"P / ",I,"F"]})]}):l.jsx("p",{className:"text-sm text-gray-400",children:"No results"})})]},b)})})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),l.jsx("input",{type:"text",placeholder:"Search by name or email...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:An,onChange:b=>ya(b.target.value)})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:ur,onChange:b=>Au(b.target.value),children:[l.jsx("option",{value:"no-result",children:"No Result"}),l.jsx("option",{value:"all",children:"All Results"}),l.jsx("option",{value:"upcoming",children:"Upcoming"}),l.jsx("option",{value:"passed",children:"Passed"}),l.jsx("option",{value:"failed",children:"Failed"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"at-risk",children:"At Risk"})]})]}),l.jsxs("div",{className:"flex items-center gap-3 flex-wrap mt-3",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>Ru(!ba),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright bg-white flex items-center gap-2 text-sm",children:[l.jsx("span",{children:sn.length===0?"All Departments":`${sn.length} dept${sn.length>1?"s":""}`}),l.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:ba?"M5 15l7-7 7 7":"M19 9l-7 7-7-7"})})]}),ba&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>Ru(!1)}),l.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-20 min-w-[200px] py-1",children:[l.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-50 cursor-pointer text-sm border-b border-gray-100",children:[l.jsx("input",{type:"checkbox",checked:sn.length===0,onChange:()=>wa([]),className:"rounded text-ji-blue-bright"}),l.jsx("span",{className:"font-medium",children:"All Departments"})]}),zg.map(b=>l.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 hover:bg-gray-50 cursor-pointer text-sm",children:[l.jsx("input",{type:"checkbox",checked:sn.includes(b),onChange:()=>{wa(D=>D.includes(b)?D.filter(R=>R!==b):[...D,b])},className:"rounded text-ji-blue-bright"}),l.jsx("span",{className:"truncate",children:b})]},b))]})]})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:fr,onChange:b=>zu(b.target.value),children:[l.jsx("option",{value:"all",children:"All Readiness"}),l.jsx("option",{value:"GREEN",children:"Green - On Track"}),l.jsx("option",{value:"YELLOW",children:"Yellow - Needs Attention"}),l.jsx("option",{value:"RED",children:"Red - At Risk"})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:ka,onChange:b=>Iu(b.target.value),children:[l.jsx("option",{value:"all",children:"All Dates"}),l.jsx("option",{value:"overdue",children:"Overdue"}),l.jsx("option",{value:"today",children:"Today"}),l.jsx("option",{value:"tomorrow",children:"Tomorrow"}),l.jsx("option",{value:"2-days",children:"Within 2 Days"}),l.jsx("option",{value:"3-days",children:"Within 3 Days"}),l.jsx("option",{value:"this-week",children:"This Week"}),l.jsx("option",{value:"next-week",children:"Next 2 Weeks"}),l.jsx("option",{value:"this-month",children:"This Month"})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:hr,onChange:b=>Fu(b.target.value),children:[l.jsx("option",{value:"all",children:"All States"}),Ig.map(b=>l.jsx("option",{value:b,children:b},b))]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-ji-blue-bright text-sm",value:dr,onChange:b=>Ou(b.target.value),children:[l.jsx("option",{value:"all",children:"All Courses"}),Fg.map(b=>l.jsx("option",{value:b,children:b},b))]}),(sn.length>0||fr!=="all"||ka!=="all"||hr!=="all"||dr!=="all"||ur!=="all"||An)&&l.jsx("button",{onClick:()=>{wa([]),zu("all"),Iu("all"),Fu("all"),Ou("all"),Au("all"),ya("")},className:"px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors border border-red-200",children:"Clear All"})]}),l.jsxs("div",{className:"mt-3 flex items-center gap-3 text-sm text-gray-500",children:[l.jsxs("span",{children:["Showing ",mr.length," of ",gr.length," exam students"]}),mr.length!==M.length&&!Me&&l.jsx("button",{onClick:()=>{B(pr(mr)),we(!0)},className:"px-3 py-1 bg-ji-blue-bright text-white rounded-lg text-xs font-medium hover:bg-ji-blue-medium transition-colors",children:"Calculate KPIs by Filter"}),Me&&l.jsx("button",{onClick:()=>{B(pr(M)),we(!1)},className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-300 transition-colors",children:"Reset KPIs to All"})]})]}),Q&&!K?l.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[l.jsx("div",{className:"spinner mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"Loading exam schedule..."})]}):l.jsx(wy,{students:mr,onViewStudent:x,adminMode:A})]})]}),m&&m.id&&l.jsx(Ny,{studentId:m.id,examInfo:m.examDate?{examDate:m.examDate,examDateRaw:m.examDateRaw,examTime:m.examTime,examState:m.examState,examCourse:m.examCourse,agencyOwner:m.agencyOwner,passFail:m.passFail,finalOutcome:m.finalOutcome,departmentName:m.departmentName,sheetTracking:m.sheetTracking,email:m.email}:null,onClose:()=>x(null),onSessionExpired:n,onUpdateResult:_==="exam"?Vu:null,onUpdateExamDate:_==="exam"?Uu:null,onUpdateStudentContact:Ag}),m&&!m.id&&l.jsx(Cy,{student:m,adminMode:A,onClose:()=>x(null),onUpdateResult:Vu,onUpdateExamDate:Uu,onUpdateContact:Og})]})}const hl="/api";function vw(){const[t,e]=E.useState(!1),[n,s]=E.useState(null),[i,r]=E.useState(null),[o,a]=E.useState(!0),[c,u]=E.useState(null),[d,h]=E.useState(!1),[f,g]=E.useState(null);E.useEffect(()=>{v()},[]);const v=async()=>{try{const p=await fetch(`${hl}/auth/session`,{credentials:"include"});if(p.ok){const m=await p.json();m.success&&(s(m.user),r(m.department),e(!0))}}catch{console.log("No existing session")}finally{a(!1)}},y=async p=>{u(null);try{const m=await fetch(`${hl}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(p)}),x=await m.json();if(m.ok&&x.success)return console.log("[APP] Login successful, pre-fetching dashboard data..."),s(x.user),r(x.department),h(!0),console.log("[APP] Skipping pre-fetch, Dashboard will load data"),h(!1),e(!0),{success:!0};{const k=x.error||"Login failed";return u(k),{success:!1,error:k}}}catch{const x="Unable to connect to server. Please try again.";return u(x),{success:!1,error:x}}},w=async()=>{try{await fetch(`${hl}/auth/logout`,{method:"POST",credentials:"include"})}catch(p){console.error("Logout error:",p)}finally{s(null),r(null),e(!1)}};return o?l.jsx("div",{className:"min-h-screen flex items-center justify-center login-bg",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"spinner mx-auto mb-4",style:{borderTopColor:"#63b3ed"}}),l.jsx("p",{className:"text-white text-lg",children:"Loading..."})]})}):d?l.jsx("div",{className:"min-h-screen flex items-center justify-center login-bg",children:l.jsxs("div",{className:"text-center max-w-md px-6",children:[l.jsx("div",{className:"spinner mx-auto mb-4",style:{borderTopColor:"#63b3ed"}}),l.jsxs("p",{className:"text-white text-xl font-semibold mb-2",children:["Welcome, ",n==null?void 0:n.name,"!"]}),l.jsx("p",{className:"text-ji-blue-light",children:"Loading your dashboard..."}),l.jsx("p",{className:"text-ji-blue-light text-sm mt-2 opacity-75",children:"Fetching student data from Absorb LMS"})]})}):t?l.jsx(yw,{user:n,department:i,onLogout:w,initialData:f}):l.jsx(xy,{onLogin:y,error:c})}fl.createRoot(document.getElementById("root")).render(l.jsx(Ef.StrictMode,{children:l.jsx(vw,{})}));
//# sourceMappingURL=index-BJ_ErNsA.js.map
